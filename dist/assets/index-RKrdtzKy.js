var su=Object.defineProperty;var lu=($,E,_)=>E in $?su($,E,{enumerable:!0,configurable:!0,writable:!0,value:_}):$[E]=_;var Xa=($,E,_)=>lu($,typeof E!="symbol"?E+"":E,_);import{j as jsxRuntimeExports,P as Phone,X,M as Menu,a as Mail,b as MapPin,C as Clock,m as motion,c as ChevronLeft,d as ChevronRight,B as Brain,L as Lightbulb,e as BookOpen,A as ArrowRight,G as GraduationCap,f as Award,H as Heart,T as Target,S as Search,g as Tag,h as ArrowLeft,i as Calendar,F as Facebook,k as Twitter,l as Linkedin,n as Send}from"./ui-CjPXXkEo.js";import{a as reactDomExports,g as getDefaultExportFromCjs,R as React,r as reactExports,u as useLocation,L as Link,b as useParams,c as commonjsGlobal$2,B as BrowserRouter,d as Routes,e as Route}from"./vendor-LNmPhLd8.js";(function(){const E=document.createElement("link").relList;if(E&&E.supports&&E.supports("modulepreload"))return;for(const T of document.querySelectorAll('link[rel="modulepreload"]'))A(T);new MutationObserver(T=>{for(const O of T)if(O.type==="childList")for(const P of O.addedNodes)P.tagName==="LINK"&&P.rel==="modulepreload"&&A(P)}).observe(document,{childList:!0,subtree:!0});function _(T){const O={};return T.integrity&&(O.integrity=T.integrity),T.referrerPolicy&&(O.referrerPolicy=T.referrerPolicy),T.crossOrigin==="use-credentials"?O.credentials="include":T.crossOrigin==="anonymous"?O.credentials="omit":O.credentials="same-origin",O}function A(T){if(T.ep)return;T.ep=!0;const O=_(T);fetch(T.href,O)}})();var createRoot,m$1=reactDomExports;createRoot=m$1.createRoot,m$1.hydrateRoot;var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal($,E){if($===E)return!0;if($&&E&&typeof $=="object"&&typeof E=="object"){if($.constructor!==E.constructor)return!1;var _,A,T;if(Array.isArray($)){if(_=$.length,_!=E.length)return!1;for(A=_;A--!==0;)if(!equal($[A],E[A]))return!1;return!0}var O;if(hasMap&&$ instanceof Map&&E instanceof Map){if($.size!==E.size)return!1;for(O=$.entries();!(A=O.next()).done;)if(!E.has(A.value[0]))return!1;for(O=$.entries();!(A=O.next()).done;)if(!equal(A.value[1],E.get(A.value[0])))return!1;return!0}if(hasSet&&$ instanceof Set&&E instanceof Set){if($.size!==E.size)return!1;for(O=$.entries();!(A=O.next()).done;)if(!E.has(A.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView($)&&ArrayBuffer.isView(E)){if(_=$.length,_!=E.length)return!1;for(A=_;A--!==0;)if($[A]!==E[A])return!1;return!0}if($.constructor===RegExp)return $.source===E.source&&$.flags===E.flags;if($.valueOf!==Object.prototype.valueOf&&typeof $.valueOf=="function"&&typeof E.valueOf=="function")return $.valueOf()===E.valueOf();if($.toString!==Object.prototype.toString&&typeof $.toString=="function"&&typeof E.toString=="function")return $.toString()===E.toString();if(T=Object.keys($),_=T.length,_!==Object.keys(E).length)return!1;for(A=_;A--!==0;)if(!Object.prototype.hasOwnProperty.call(E,T[A]))return!1;if(hasElementType&&$ instanceof Element)return!1;for(A=_;A--!==0;)if(!((T[A]==="_owner"||T[A]==="__v"||T[A]==="__o")&&$.$$typeof)&&!equal($[T[A]],E[T[A]]))return!1;return!0}return $!==$&&E!==E}var reactFastCompare=function(E,_){try{return equal(E,_)}catch(A){if((A.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw A}};const fastCompare=getDefaultExportFromCjs(reactFastCompare);var invariant$1=function($,E,_,A,T,O,P,R){if(!$){var I;if(E===void 0)I=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var N=[_,A,T,O,P,R],j=0;I=new Error(E.replace(/%s/g,function(){return N[j++]})),I.name="Invariant Violation"}throw I.framesToPop=1,I}},browser$1=invariant$1;const invariant$2=getDefaultExportFromCjs(browser$1);var shallowequal=function(E,_,A,T){var O=A?A.call(T,E,_):void 0;if(O!==void 0)return!!O;if(E===_)return!0;if(typeof E!="object"||!E||typeof _!="object"||!_)return!1;var P=Object.keys(E),R=Object.keys(_);if(P.length!==R.length)return!1;for(var I=Object.prototype.hasOwnProperty.bind(_),N=0;N<P.length;N++){var j=P[N];if(!I(j))return!1;var U=E[j],z=_[j];if(O=A?A.call(T,U,z,j):void 0,O===!1||O===void 0&&U!==z)return!1}return!0};const shallowEqual=getDefaultExportFromCjs(shallowequal);var TAG_NAMES=($=>($.BASE="base",$.BODY="body",$.HEAD="head",$.HTML="html",$.LINK="link",$.META="meta",$.NOSCRIPT="noscript",$.SCRIPT="script",$.STYLE="style",$.TITLE="title",$.FRAGMENT="Symbol(react.fragment)",$))(TAG_NAMES||{}),SEO_PRIORITY_TAGS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},VALID_TAG_NAMES=Object.values(TAG_NAMES),REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HTML_TAG_MAP=Object.entries(REACT_TAG_MAP).reduce(($,[E,_])=>($[_]=E,$),{}),HELMET_ATTRIBUTE="data-rh",HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},getInnermostProperty=($,E)=>{for(let _=$.length-1;_>=0;_-=1){const A=$[_];if(Object.prototype.hasOwnProperty.call(A,E))return A[E]}return null},getTitleFromPropsList=$=>{let E=getInnermostProperty($,"title");const _=getInnermostProperty($,HELMET_PROPS.TITLE_TEMPLATE);if(Array.isArray(E)&&(E=E.join("")),_&&E)return _.replace(/%s/g,()=>E);const A=getInnermostProperty($,HELMET_PROPS.DEFAULT_TITLE);return E||A||void 0},getOnChangeClientState=$=>getInnermostProperty($,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||(()=>{}),getAttributesFromPropsList=($,E)=>E.filter(_=>typeof _[$]<"u").map(_=>_[$]).reduce((_,A)=>({..._,...A}),{}),getBaseTagFromPropsList=($,E)=>E.filter(_=>typeof _.base<"u").map(_=>_.base).reverse().reduce((_,A)=>{if(!_.length){const T=Object.keys(A);for(let O=0;O<T.length;O+=1){const R=T[O].toLowerCase();if($.indexOf(R)!==-1&&A[R])return _.concat(A)}}return _},[]),warn=$=>console&&typeof console.warn=="function"&&console.warn($),getTagsFromPropsList=($,E,_)=>{const A={};return _.filter(T=>Array.isArray(T[$])?!0:(typeof T[$]<"u"&&warn(`Helmet: ${$} should be of type "Array". Instead found type "${typeof T[$]}"`),!1)).map(T=>T[$]).reverse().reduce((T,O)=>{const P={};O.filter(I=>{let N;const j=Object.keys(I);for(let z=0;z<j.length;z+=1){const V=j[z],F=V.toLowerCase();E.indexOf(F)!==-1&&!(N==="rel"&&I[N].toLowerCase()==="canonical")&&!(F==="rel"&&I[F].toLowerCase()==="stylesheet")&&(N=F),E.indexOf(V)!==-1&&(V==="innerHTML"||V==="cssText"||V==="itemprop")&&(N=V)}if(!N||!I[N])return!1;const U=I[N].toLowerCase();return A[N]||(A[N]={}),P[N]||(P[N]={}),A[N][U]?!1:(P[N][U]=!0,!0)}).reverse().forEach(I=>T.push(I));const R=Object.keys(P);for(let I=0;I<R.length;I+=1){const N=R[I],j={...A[N],...P[N]};A[N]=j}return T},[]).reverse()},getAnyTrueFromPropsList=($,E)=>{if(Array.isArray($)&&$.length){for(let _=0;_<$.length;_+=1)if($[_][E])return!0}return!1},reducePropsToState=$=>({baseTag:getBaseTagFromPropsList(["href"],$),bodyAttributes:getAttributesFromPropsList("bodyAttributes",$),defer:getInnermostProperty($,HELMET_PROPS.DEFER),encode:getInnermostProperty($,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList("htmlAttributes",$),linkTags:getTagsFromPropsList("link",["rel","href"],$),metaTags:getTagsFromPropsList("meta",["name","charset","http-equiv","property","itemprop"],$),noscriptTags:getTagsFromPropsList("noscript",["innerHTML"],$),onChangeClientState:getOnChangeClientState($),scriptTags:getTagsFromPropsList("script",["src","innerHTML"],$),styleTags:getTagsFromPropsList("style",["cssText"],$),title:getTitleFromPropsList($),titleAttributes:getAttributesFromPropsList("titleAttributes",$),prioritizeSeoTags:getAnyTrueFromPropsList($,HELMET_PROPS.PRIORITIZE_SEO_TAGS)}),flattenArray=$=>Array.isArray($)?$.join(""):$,checkIfPropsMatch=($,E)=>{const _=Object.keys($);for(let A=0;A<_.length;A+=1)if(E[_[A]]&&E[_[A]].includes($[_[A]]))return!0;return!1},prioritizer=($,E)=>Array.isArray($)?$.reduce((_,A)=>(checkIfPropsMatch(A,E)?_.priority.push(A):_.default.push(A),_),{priority:[],default:[]}):{default:$,priority:[]},without=($,E)=>({...$,[E]:void 0}),SELF_CLOSING_TAGS=["noscript","script","style"],encodeSpecialCharacters=($,E=!0)=>E===!1?String($):String($).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),generateElementAttributesAsString=$=>Object.keys($).reduce((E,_)=>{const A=typeof $[_]<"u"?`${_}="${$[_]}"`:`${_}`;return E?`${E} ${A}`:A},""),generateTitleAsString=($,E,_,A)=>{const T=generateElementAttributesAsString(_),O=flattenArray(E);return T?`<${$} ${HELMET_ATTRIBUTE}="true" ${T}>${encodeSpecialCharacters(O,A)}</${$}>`:`<${$} ${HELMET_ATTRIBUTE}="true">${encodeSpecialCharacters(O,A)}</${$}>`},generateTagsAsString=($,E,_=!0)=>E.reduce((A,T)=>{const O=T,P=Object.keys(O).filter(N=>!(N==="innerHTML"||N==="cssText")).reduce((N,j)=>{const U=typeof O[j]>"u"?j:`${j}="${encodeSpecialCharacters(O[j],_)}"`;return N?`${N} ${U}`:U},""),R=O.innerHTML||O.cssText||"",I=SELF_CLOSING_TAGS.indexOf($)===-1;return`${A}<${$} ${HELMET_ATTRIBUTE}="true" ${P}${I?"/>":`>${R}</${$}>`}`},""),convertElementAttributesToReactProps=($,E={})=>Object.keys($).reduce((_,A)=>{const T=REACT_TAG_MAP[A];return _[T||A]=$[A],_},E),generateTitleAsReactComponent=($,E,_)=>{const A={key:E,[HELMET_ATTRIBUTE]:!0},T=convertElementAttributesToReactProps(_,A);return[React.createElement("title",T,E)]},generateTagsAsReactComponent=($,E)=>E.map((_,A)=>{const T={key:A,[HELMET_ATTRIBUTE]:!0};return Object.keys(_).forEach(O=>{const R=REACT_TAG_MAP[O]||O;if(R==="innerHTML"||R==="cssText"){const I=_.innerHTML||_.cssText;T.dangerouslySetInnerHTML={__html:I}}else T[R]=_[O]}),React.createElement($,T)}),getMethodsForTag=($,E,_=!0)=>{switch($){case"title":return{toComponent:()=>generateTitleAsReactComponent($,E.title,E.titleAttributes),toString:()=>generateTitleAsString($,E.title,E.titleAttributes,_)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>convertElementAttributesToReactProps(E),toString:()=>generateElementAttributesAsString(E)};default:return{toComponent:()=>generateTagsAsReactComponent($,E),toString:()=>generateTagsAsString($,E,_)}}},getPriorityMethods=({metaTags:$,linkTags:E,scriptTags:_,encode:A})=>{const T=prioritizer($,SEO_PRIORITY_TAGS.meta),O=prioritizer(E,SEO_PRIORITY_TAGS.link),P=prioritizer(_,SEO_PRIORITY_TAGS.script);return{priorityMethods:{toComponent:()=>[...generateTagsAsReactComponent("meta",T.priority),...generateTagsAsReactComponent("link",O.priority),...generateTagsAsReactComponent("script",P.priority)],toString:()=>`${getMethodsForTag("meta",T.priority,A)} ${getMethodsForTag("link",O.priority,A)} ${getMethodsForTag("script",P.priority,A)}`},metaTags:T.default,linkTags:O.default,scriptTags:P.default}},mapStateOnServer=$=>{const{baseTag:E,bodyAttributes:_,encode:A=!0,htmlAttributes:T,noscriptTags:O,styleTags:P,title:R="",titleAttributes:I,prioritizeSeoTags:N}=$;let{linkTags:j,metaTags:U,scriptTags:z}=$,V={toComponent:()=>{},toString:()=>""};return N&&({priorityMethods:V,linkTags:j,metaTags:U,scriptTags:z}=getPriorityMethods($)),{priority:V,base:getMethodsForTag("base",E,A),bodyAttributes:getMethodsForTag("bodyAttributes",_,A),htmlAttributes:getMethodsForTag("htmlAttributes",T,A),link:getMethodsForTag("link",j,A),meta:getMethodsForTag("meta",U,A),noscript:getMethodsForTag("noscript",O,A),script:getMethodsForTag("script",z,A),style:getMethodsForTag("style",P,A),title:getMethodsForTag("title",{title:R,titleAttributes:I},A)}},server_default=mapStateOnServer,instances=[],isDocument=!!(typeof window<"u"&&window.document&&window.document.createElement),HelmetData=class{constructor($,E){Xa(this,"instances",[]);Xa(this,"canUseDOM",isDocument);Xa(this,"context");Xa(this,"value",{setHelmet:$=>{this.context.helmet=$},helmetInstances:{get:()=>this.canUseDOM?instances:this.instances,add:$=>{(this.canUseDOM?instances:this.instances).push($)},remove:$=>{const E=(this.canUseDOM?instances:this.instances).indexOf($);(this.canUseDOM?instances:this.instances).splice(E,1)}}});this.context=$,this.canUseDOM=E||!1,E||($.helmet=server_default({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},defaultValue={},Context=React.createContext(defaultValue),Es,HelmetProvider=(Es=class extends reactExports.Component{constructor(_){super(_);Xa(this,"helmetData");this.helmetData=new HelmetData(this.props.context||{},Es.canUseDOM)}render(){return React.createElement(Context.Provider,{value:this.helmetData.value},this.props.children)}},Xa(Es,"canUseDOM",isDocument),Es),updateTags=($,E)=>{const _=document.head||document.querySelector("head"),A=_.querySelectorAll(`${$}[${HELMET_ATTRIBUTE}]`),T=[].slice.call(A),O=[];let P;return E&&E.length&&E.forEach(R=>{const I=document.createElement($);for(const N in R)if(Object.prototype.hasOwnProperty.call(R,N))if(N==="innerHTML")I.innerHTML=R.innerHTML;else if(N==="cssText")I.styleSheet?I.styleSheet.cssText=R.cssText:I.appendChild(document.createTextNode(R.cssText));else{const j=N,U=typeof R[j]>"u"?"":R[j];I.setAttribute(N,U)}I.setAttribute(HELMET_ATTRIBUTE,"true"),T.some((N,j)=>(P=j,I.isEqualNode(N)))?T.splice(P,1):O.push(I)}),T.forEach(R=>{var I;return(I=R.parentNode)==null?void 0:I.removeChild(R)}),O.forEach(R=>_.appendChild(R)),{oldTags:T,newTags:O}},updateAttributes=($,E)=>{const _=document.getElementsByTagName($)[0];if(!_)return;const A=_.getAttribute(HELMET_ATTRIBUTE),T=A?A.split(","):[],O=[...T],P=Object.keys(E);for(const R of P){const I=E[R]||"";_.getAttribute(R)!==I&&_.setAttribute(R,I),T.indexOf(R)===-1&&T.push(R);const N=O.indexOf(R);N!==-1&&O.splice(N,1)}for(let R=O.length-1;R>=0;R-=1)_.removeAttribute(O[R]);T.length===O.length?_.removeAttribute(HELMET_ATTRIBUTE):_.getAttribute(HELMET_ATTRIBUTE)!==P.join(",")&&_.setAttribute(HELMET_ATTRIBUTE,P.join(","))},updateTitle=($,E)=>{typeof $<"u"&&document.title!==$&&(document.title=flattenArray($)),updateAttributes("title",E)},commitTagChanges=($,E)=>{const{baseTag:_,bodyAttributes:A,htmlAttributes:T,linkTags:O,metaTags:P,noscriptTags:R,onChangeClientState:I,scriptTags:N,styleTags:j,title:U,titleAttributes:z}=$;updateAttributes("body",A),updateAttributes("html",T),updateTitle(U,z);const V={baseTag:updateTags("base",_),linkTags:updateTags("link",O),metaTags:updateTags("meta",P),noscriptTags:updateTags("noscript",R),scriptTags:updateTags("script",N),styleTags:updateTags("style",j)},F={},q={};Object.keys(V).forEach(B=>{const{newTags:W,oldTags:H}=V[B];W.length&&(F[B]=W),H.length&&(q[B]=V[B].oldTags)}),E&&E(),I($,F,q)},_helmetCallback=null,handleStateChangeOnClient=$=>{_helmetCallback&&cancelAnimationFrame(_helmetCallback),$.defer?_helmetCallback=requestAnimationFrame(()=>{commitTagChanges($,()=>{_helmetCallback=null})}):(commitTagChanges($),_helmetCallback=null)},client_default=handleStateChangeOnClient,HelmetDispatcher=class extends reactExports.Component{constructor(){super(...arguments);Xa(this,"rendered",!1)}shouldComponentUpdate(E){return!shallowEqual(E,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:E}=this.props.context;E.remove(this),this.emitChange()}emitChange(){const{helmetInstances:E,setHelmet:_}=this.props.context;let A=null;const T=reducePropsToState(E.get().map(O=>{const P={...O.props};return delete P.context,P}));HelmetProvider.canUseDOM?client_default(T):server_default&&(A=server_default(T)),_(A)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:E}=this.props.context;E.add(this),this.emitChange()}render(){return this.init(),null}},eu,Helmet=(eu=class extends reactExports.Component{shouldComponentUpdate($){return!fastCompare(without(this.props,"helmetData"),without($,"helmetData"))}mapNestedChildrenToProps($,E){if(!E)return null;switch($.type){case"script":case"noscript":return{innerHTML:E};case"style":return{cssText:E};default:throw new Error(`<${$.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren($,E,_,A){return{...E,[$.type]:[...E[$.type]||[],{..._,...this.mapNestedChildrenToProps($,A)}]}}mapObjectTypeChildren($,E,_,A){switch($.type){case"title":return{...E,[$.type]:A,titleAttributes:{..._}};case"body":return{...E,bodyAttributes:{..._}};case"html":return{...E,htmlAttributes:{..._}};default:return{...E,[$.type]:{..._}}}}mapArrayTypeChildrenToProps($,E){let _={...E};return Object.keys($).forEach(A=>{_={..._,[A]:$[A]}}),_}warnOnInvalidChildren($,E){return invariant$2(VALID_TAG_NAMES.some(_=>$.type===_),typeof $.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${VALID_TAG_NAMES.join(", ")} are allowed. Helmet does not support rendering <${$.type}> elements. Refer to our API for more information.`),invariant$2(!E||typeof E=="string"||Array.isArray(E)&&!E.some(_=>typeof _!="string"),`Helmet expects a string as a child of <${$.type}>. Did you forget to wrap your children in braces? ( <${$.type}>{\`\`}</${$.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps($,E){let _={};return React.Children.forEach($,A=>{if(!A||!A.props)return;const{children:T,...O}=A.props,P=Object.keys(O).reduce((I,N)=>(I[HTML_TAG_MAP[N]||N]=O[N],I),{});let{type:R}=A;switch(typeof R=="symbol"?R=R.toString():this.warnOnInvalidChildren(A,T),R){case"Symbol(react.fragment)":E=this.mapChildrenToProps(T,E);break;case"link":case"meta":case"noscript":case"script":case"style":_=this.flattenArrayTypeChildren(A,_,P,T);break;default:E=this.mapObjectTypeChildren(A,E,P,T);break}}),this.mapArrayTypeChildrenToProps(_,E)}render(){const{children:$,...E}=this.props;let _={...E},{helmetData:A}=E;if($&&(_=this.mapChildrenToProps($,_)),A&&!(A instanceof HelmetData)){const T=A;A=new HelmetData(T.context,!0),delete _.helmetData}return A?React.createElement(HelmetDispatcher,{..._,context:A.value}):React.createElement(Context.Consumer,null,T=>React.createElement(HelmetDispatcher,{..._,context:T}))}},Xa(eu,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),eu);const navigation=[{name:"Accueil",href:"/"},{name:"À propos",href:"/about"},{name:"Services",href:"/services"},{name:"Blog",href:"/blog"},{name:"Contact",href:"/contact"}];function Navbar(){const[$,E]=reactExports.useState(!1),_=useLocation();return jsxRuntimeExports.jsx("nav",{className:"bg-white shadow-sm sticky top-0 z-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-500 text-white py-2 px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end items-center text-sm",children:jsxRuntimeExports.jsxs("a",{href:"tel:+33123456789",className:"flex items-center hover:text-white/90 transition-colors",children:[jsxRuntimeExports.jsx(Phone,{className:"h-4 w-4 mr-2"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"01 23 45 67 89"})]})})}),jsxRuntimeExports.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between h-20",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl font-lora font-bold text-primary-500 tracking-tight",children:"Laetitia Knoerr"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:block text-sm text-dark-500 font-medium",children:"Neuropsychologue"})]})}),jsxRuntimeExports.jsx("div",{className:"hidden md:flex items-center space-x-6",children:navigation.map(A=>jsxRuntimeExports.jsx(Link,{to:A.href,className:`nav-link font-medium ${_.pathname===A.href?"nav-link-active":""}`,children:A.name},A.name))}),jsxRuntimeExports.jsx("div",{className:"md:hidden flex items-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>E(!$),className:"text-dark-500 hover:text-dark-700",children:$?jsxRuntimeExports.jsx(X,{className:"h-6 w-6"}):jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})})})]})}),$&&jsxRuntimeExports.jsx("div",{className:"md:hidden border-t border-gray-200",children:jsxRuntimeExports.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:navigation.map(A=>jsxRuntimeExports.jsx(Link,{to:A.href,className:`block px-3 py-2 text-base font-medium rounded-md ${_.pathname===A.href?"bg-primary-50 text-primary-500":"text-dark-500 hover:bg-gray-50 hover:text-primary-500"}`,onClick:()=>E(!1),children:A.name},A.name))})})]})})}function Footer(){return jsxRuntimeExports.jsx("footer",{className:"bg-dark-800 text-white",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-lora font-semibold mb-4",children:"Contact"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("a",{href:"tel:+33123456789",className:"flex items-center space-x-2 hover:text-primary-500 transition-colors",children:[jsxRuntimeExports.jsx(Phone,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"01 23 45 67 89"})]}),jsxRuntimeExports.jsxs("a",{href:"mailto:contact@laetitiaknoerr.fr",className:"flex items-center space-x-2 hover:text-primary-500 transition-colors",children:[jsxRuntimeExports.jsx(Mail,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"contact@laetitiaknoerr.fr"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"123 Rue des Consultations, Colmar"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-lora font-semibold mb-4",children:"Horaires"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-2",children:[jsxRuntimeExports.jsx(Clock,{className:"h-5 w-5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{children:"Lundi - Vendredi : 9h - 19h"}),jsxRuntimeExports.jsx("p",{children:"Samedi : Sur rendez-vous"}),jsxRuntimeExports.jsx("p",{children:"Dimanche : Fermé"})]})]})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-lora font-semibold mb-4",children:"Informations"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/privacy",className:"hover:text-primary-500 transition-colors",children:"Politique de confidentialité"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/legal",className:"hover:text-primary-500 transition-colors",children:"Mentions légales"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/contact",className:"hover:text-primary-500 transition-colors",children:"Contact"})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-12 pt-8 border-t border-gray-700 text-center",children:jsxRuntimeExports.jsxs("p",{children:["© ",new Date().getFullYear()," Laetitia Knoerr. Tous droits réservés."]})})]})})}function CookieConsent(){const[$,E]=reactExports.useState(!1);reactExports.useEffect(()=>{localStorage.getItem("cookieConsent")||E(!0)},[]);const _=()=>{localStorage.setItem("cookieConsent","accepted"),E(!1)};return $?jsxRuntimeExports.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t border-gray-200 p-4 z-50",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Ce site utilise des cookies techniques nécessaires à son bon fonctionnement. Pour en savoir plus, consultez notre"," ",jsxRuntimeExports.jsx("a",{href:"/privacy",className:"text-primary hover:underline",children:"politique de confidentialité"}),"."]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:_,className:"btn-primary whitespace-nowrap",children:"Accepter"}),jsxRuntimeExports.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-500","aria-label":"Fermer",children:jsxRuntimeExports.jsx(X,{className:"h-6 w-6"})})]})]})})}):null}var react={};Object.defineProperty(react,"__esModule",{value:!0});var n=reactExports;function t($){return Array.prototype.slice.call($)}function e($,E){var _=Math.floor($);return _===E||_+1===E?$:E}function i(){return Date.now()}function r($,E,_){if(E="data-keen-slider-"+E,_===null)return $.removeAttribute(E);$.setAttribute(E,_||"")}function a($,E){return E=E||document,typeof $=="function"&&($=$(E)),Array.isArray($)?$:typeof $=="string"?t(E.querySelectorAll($)):$ instanceof HTMLElement?[$]:$ instanceof NodeList?t($):[]}function o($){$.raw&&($=$.raw),$.cancelable&&!$.defaultPrevented&&$.preventDefault()}function u($){$.raw&&($=$.raw),$.stopPropagation&&$.stopPropagation()}function c(){var $=[];return{add:function(E,_,A,T){E.addListener?E.addListener(A):E.addEventListener(_,A,T),$.push([E,_,A,T])},input:function(E,_,A,T){this.add(E,_,function(O){return function(P){P.nativeEvent&&(P=P.nativeEvent);var R=P.changedTouches||[],I=P.targetTouches||[],N=P.detail&&P.detail.x?P.detail:null;return O({id:N?N.identifier?N.identifier:"i":I[0]?I[0]?I[0].identifier:"e":"d",idChanged:N?N.identifier?N.identifier:"i":R[0]?R[0]?R[0].identifier:"e":"d",raw:P,x:N&&N.x?N.x:I[0]?I[0].screenX:N?N.x:P.pageX,y:N&&N.y?N.y:I[0]?I[0].screenY:N?N.y:P.pageY})}}(A),T)},purge:function(){$.forEach(function(E){E[0].removeListener?E[0].removeListener(E[2]):E[0].removeEventListener(E[1],E[2],E[3])}),$=[]}}}function s($,E,_){return Math.min(Math.max($,E),_)}function d($){return($>0?1:0)-($<0?1:0)||+$}function l($){var E=$.getBoundingClientRect();return{height:e(E.height,$.offsetHeight),width:e(E.width,$.offsetWidth)}}function f($,E,_,A){var T=$&&$[E];return T==null?_:A&&typeof T=="function"?T():T}function p($){return Math.round(1e6*$)/1e6}function v$1($,E){if($===E)return!0;var _=typeof $;if(_!==typeof E)return!1;if(_!=="object"||$===null||E===null)return _==="function"&&$.toString()===E.toString();if($.length!==E.length||Object.getOwnPropertyNames($).length!==Object.getOwnPropertyNames(E).length)return!1;for(var A in $)if(!v$1($[A],E[A]))return!1;return!0}var h=function(){return h=Object.assign||function($){for(var E,_=1,A=arguments.length;_<A;_++)for(var T in E=arguments[_])Object.prototype.hasOwnProperty.call(E,T)&&($[T]=E[T]);return $},h.apply(this,arguments)};function m($,E,_){for(var A,T=0,O=E.length;T<O;T++)!A&&T in E||(A||(A=Array.prototype.slice.call(E,0,T)),A[T]=E[T]);return $.concat(A||Array.prototype.slice.call(E))}function g($){var E,_,A,T,O,P;function R(z){P||(P=z),I(!0);var V=z-P;V>A&&(V=A);var F=T[_];if(F[3]<V)return _++,R(z);var q=F[2],B=F[4],W=F[0],H=F[1]*(0,F[5])(B===0?1:(V-q)/B);if(H&&$.track.to(W+H),V<A)return j();P=null,I(!1),N(null),$.emit("animationEnded")}function I(z){E.active=z}function N(z){E.targetIdx=z}function j(){var z;z=R,O=window.requestAnimationFrame(z)}function U(){var z;z=O,window.cancelAnimationFrame(z),I(!1),N(null),P&&$.emit("animationStopped"),P=null}return E={active:!1,start:function(z){if(U(),$.track.details){var V=0,F=$.track.details.position;_=0,A=0,T=z.map(function(q){var B,W=Number(F),H=(B=q.earlyExit)!==null&&B!==void 0?B:q.duration,G=q.easing,Z=q.distance*G(H/q.duration)||0;F+=Z;var Y=A;return A+=H,V+=Z,[W,q.distance,Y,A,q.duration,G]}),N($.track.distToIdx(V)),j(),$.emit("animationStarted")}},stop:U,targetIdx:null}}function b$1($){var E,_,A,T,O,P,R,I,N,j,U,z,V,F,q=1/0,B=[],W=null,H=0;function G(xe){ie(H+xe)}function Z(xe){var ke=Y(H+xe).abs;return Q(ke)?ke:null}function Y(xe){var ke=Math.floor(Math.abs(p(xe/_))),Ce=p((xe%_+_)%_);Ce===_&&(Ce=0);var Oe=d(xe),Ae=R.indexOf(m([],R).reduce(function(Ee,Te){return Math.abs(Te-Ce)<Math.abs(Ee-Ce)?Te:Ee})),Pe=Ae;return Oe<0&&ke++,Ae===P&&(Pe=0,ke+=Oe>0?1:-1),{abs:Pe+ke*P*Oe,origin:Ae,rel:Pe}}function ee(xe,ke,Ce){var Oe;if(ke||!se())return J(xe,Ce);if(!Q(xe))return null;var Ae=Y(Ce??H),Pe=Ae.abs,Ee=xe-Ae.rel,Te=Pe+Ee;Oe=J(Te);var Re=J(Te-P*d(Ee));return(Re!==null&&Math.abs(Re)<Math.abs(Oe)||Oe===null)&&(Oe=Re),p(Oe)}function J(xe,ke){if(ke==null&&(ke=p(H)),!Q(xe)||xe===null)return null;xe=Math.round(xe);var Ce=Y(ke),Oe=Ce.abs,Ae=Ce.rel,Pe=Ce.origin,Ee=de(xe),Te=(ke%_+_)%_,Re=R[Pe],Me=Math.floor((xe-(Oe-Ae))/P)*_;return p(Re-Te-Re+R[Ee]+Me+(Pe===P?_:0))}function Q(xe){return te(xe)===xe}function te(xe){return s(xe,N,j)}function se(){return T.loop}function de(xe){return(xe%P+P)%P}function ie(xe){var ke;ke=xe-H,B.push({distance:ke,timestamp:i()}),B.length>6&&(B=B.slice(-6)),H=p(xe);var Ce=ve().abs;if(Ce!==W){var Oe=W!==null;W=Ce,Oe&&$.emit("slideChanged")}}function ve(xe){var ke=xe?null:function(){if(P){var Ce=se(),Oe=Ce?(H%_+_)%_:H,Ae=(Ce?H%_:H)-O[0][2],Pe=0-(Ae<0&&Ce?_-Math.abs(Ae):Ae),Ee=0,Te=Y(H),Re=Te.abs,Me=Te.rel,ze=O[Me][2],Le=O.map(function(je,Ne){var qe=Pe+Ee;(qe<0-je[0]||qe>1)&&(qe+=(Math.abs(qe)>_-1&&Ce?_:0)*d(-qe));var Ye=Ne-Me,Ve=d(Ye),tt=Ye+Re;Ce&&(Ve===-1&&qe>ze&&(tt+=P),Ve===1&&qe<ze&&(tt-=P),U!==null&&tt<U&&(qe+=_),z!==null&&tt>z&&(qe-=_));var it=qe+je[0]+je[1],Ze=Math.max(qe>=0&&it<=1?1:it<0||qe>1?0:qe<0?Math.min(1,(je[0]+qe)/je[0]):(1-qe)/je[0],0);return Ee+=je[0]+je[1],{abs:tt,distance:T.rtl?-1*qe+1-je[0]:qe,portion:Ze,size:je[0]}});return Re=te(Re),Me=de(Re),{abs:te(Re),length:A,max:F,maxIdx:j,min:V,minIdx:N,position:H,progress:Ce?Oe/_:H/A,rel:Me,slides:Le,slidesLength:_}}}();return E.details=ke,$.emit("detailsChanged"),ke}return E={absToRel:de,add:G,details:null,distToIdx:Z,idxToDist:ee,init:function(xe){if(function(){if(T=$.options,O=(T.trackConfig||[]).map(function(Ae){return[f(Ae,"size",1),f(Ae,"spacing",0),f(Ae,"origin",0)]}),P=O.length){_=p(O.reduce(function(Ae,Pe){return Ae+Pe[0]+Pe[1]},0));var Ce,Oe=P-1;A=p(_+O[0][2]-O[Oe][0]-O[Oe][2]-O[Oe][1]),R=O.reduce(function(Ae,Pe){if(!Ae)return[0];var Ee=O[Ae.length-1],Te=Ae[Ae.length-1]+(Ee[0]+Ee[2])+Ee[1];return Te-=Pe[2],Ae[Ae.length-1]>Te&&(Te=Ae[Ae.length-1]),Te=p(Te),Ae.push(Te),(!Ce||Ce<Te)&&(I=Ae.length-1),Ce=Te,Ae},null),A===0&&(I=0),R.push(p(_))}}(),!P)return ve(!0);var ke;(function(){var Ce=$.options.range,Oe=$.options.loop;U=N=Oe?f(Oe,"min",-1/0):0,z=j=Oe?f(Oe,"max",q):I;var Ae=f(Ce,"min",null),Pe=f(Ce,"max",null);Ae!==null&&(N=Ae),Pe!==null&&(j=Pe),V=N===-1/0?N:$.track.idxToDist(N||0,!0,0),F=j===q?j:ee(j,!0,0),Pe===null&&(z=j),f(Ce,"align",!1)&&j!==q&&O[de(j)][2]===0&&(F-=1-O[de(j)][0],j=Z(F-H)),V=p(V),F=p(F)})(),ke=xe,Number(ke)===ke?G(J(te(xe))):ve()},to:ie,velocity:function(){var xe=i(),ke=B.reduce(function(Ce,Oe){var Ae=Oe.distance,Pe=Oe.timestamp;return xe-Pe>200||(d(Ae)!==d(Ce.distance)&&Ce.distance&&(Ce={distance:0,lastTimestamp:0,time:0}),Ce.time&&(Ce.distance+=Ae),Ce.lastTimestamp&&(Ce.time+=Pe-Ce.lastTimestamp),Ce.lastTimestamp=Pe),Ce},{distance:0,lastTimestamp:0,time:0});return ke.distance/ke.time||0}}}function y($){var E,_,A,T,O,P,R,I;function N(W){return 2*W}function j(W){return s(W,R,I)}function U(W){return 1-Math.pow(1-W,3)}function z(){return A?$.track.velocity():0}function V(){B();var W=$.options.mode==="free-snap",H=$.track,G=z();T=d(G);var Z=$.track.details,Y=[];if(G||!W){var ee=F(G),J=ee.dist,Q=ee.dur;if(Q=N(Q),J*=T,W){var te=H.idxToDist(H.distToIdx(J),!0);te&&(J=te)}Y.push({distance:J,duration:Q,easing:U});var se=Z.position,de=se+J;if(de<O||de>P){var ie=de<O?O-se:P-se,ve=0,xe=G;if(d(ie)===T){var ke=Math.min(Math.abs(ie)/Math.abs(J),1),Ce=function(Pe){return 1-Math.pow(1-Pe,1/3)}(ke)*Q;Y[0].earlyExit=Ce,xe=G*(1-ke)}else Y[0].earlyExit=0,ve+=ie;var Oe=F(xe,100),Ae=Oe.dist*T;$.options.rubberband&&(Y.push({distance:Ae,duration:N(Oe.dur),easing:U}),Y.push({distance:-Ae+ve,duration:500,easing:U}))}$.animator.start(Y)}else $.moveToIdx(j(Z.abs),!0,{duration:500,easing:function(Pe){return 1+--Pe*Pe*Pe*Pe*Pe}})}function F(W,H){H===void 0&&(H=1e3);var G=147e-9+(W=Math.abs(W))/H;return{dist:Math.pow(W,2)/G,dur:W/G}}function q(){var W=$.track.details;W&&(O=W.min,P=W.max,R=W.minIdx,I=W.maxIdx)}function B(){$.animator.stop()}$.on("updated",q),$.on("optionsChanged",q),$.on("created",q),$.on("dragStarted",function(){A=!1,B(),E=_=$.track.details.abs}),$.on("dragChecked",function(){A=!0}),$.on("dragEnded",function(){var W=$.options.mode;W==="snap"&&function(){var H=$.track,G=$.track.details,Z=G.position,Y=d(z());(Z>P||Z<O)&&(Y=0);var ee=E+Y;G.slides[H.absToRel(ee)].portion===0&&(ee-=Y),E!==_&&(ee=_),d(H.idxToDist(ee,!0))!==Y&&(ee+=Y),ee=j(ee);var J=H.idxToDist(ee,!0);$.animator.start([{distance:J,duration:500,easing:function(Q){return 1+--Q*Q*Q*Q*Q}}])}(),W!=="free"&&W!=="free-snap"||V()}),$.on("dragged",function(){_=$.track.details.abs})}function x($){var E,_,A,T,O,P,R,I,N,j,U,z,V,F,q,B,W,H,G=c();function Z(ve){if(P&&I===ve.id){var xe=Q(ve);if(N){if(!J(ve))return ee(ve);j=xe,N=!1,$.emit("dragChecked")}if(B)return j=xe;o(ve);var ke=function(Oe){if(W===-1/0&&H===1/0)return Oe;var Ae=$.track.details,Pe=Ae.length,Ee=Ae.position,Te=s(Oe,W-Ee,H-Ee);if(Pe===0)return 0;if(!$.options.rubberband)return Te;if(Ee<=H&&Ee>=W||Ee<W&&_>0||Ee>H&&_<0)return Oe;var Re=(Ee<W?Ee-W:Ee-H)/Pe,Me=T*Pe,ze=Math.abs(Re*Me),Le=Math.max(0,1-ze/O*2);return Le*Le*Oe}(R(j-xe)/T*A);_=d(ke);var Ce=$.track.details.position;(Ce>W&&Ce<H||Ce===W&&_>0||Ce===H&&_<0)&&u(ve),U+=ke,!z&&Math.abs(U*T)>5&&(z=!0),$.track.add(ke),j=xe,$.emit("dragged")}}function Y(ve){!P&&$.track.details&&$.track.details.length&&(U=0,P=!0,z=!1,N=!0,I=ve.id,J(ve),j=Q(ve),$.emit("dragStarted"))}function ee(ve){P&&I===ve.idChanged&&(P=!1,$.emit("dragEnded"))}function J(ve){var xe=te(),ke=xe?ve.y:ve.x,Ce=xe?ve.x:ve.y,Oe=V!==void 0&&F!==void 0&&Math.abs(F-Ce)<=Math.abs(V-ke);return V=ke,F=Ce,Oe}function Q(ve){return te()?ve.y:ve.x}function te(){return $.options.vertical}function se(){T=$.size,O=te()?window.innerHeight:window.innerWidth;var ve=$.track.details;ve&&(W=ve.min,H=ve.max)}function de(ve){z&&(u(ve),o(ve))}function ie(){if(G.purge(),$.options.drag&&!$.options.disabled){var ve;ve=$.options.dragSpeed||1,R=typeof ve=="function"?ve:function(ke){return ke*ve},A=$.options.rtl?-1:1,se(),E=$.container,function(){var ke="data-keen-slider-clickable";a("[".concat(ke,"]:not([").concat(ke,"=false])"),E).map(function(Ce){G.add(Ce,"dragstart",u),G.add(Ce,"mousedown",u),G.add(Ce,"touchstart",u)})}(),G.add(E,"dragstart",function(ke){o(ke)}),G.add(E,"click",de,{capture:!0}),G.input(E,"ksDragStart",Y),G.input(E,"ksDrag",Z),G.input(E,"ksDragEnd",ee),G.input(E,"mousedown",Y),G.input(E,"mousemove",Z),G.input(E,"mouseleave",ee),G.input(E,"mouseup",ee),G.input(E,"touchstart",Y,{passive:!0}),G.input(E,"touchmove",Z,{passive:!1}),G.input(E,"touchend",ee),G.input(E,"touchcancel",ee),G.add(window,"wheel",function(ke){P&&o(ke)});var xe="data-keen-slider-scrollable";a("[".concat(xe,"]:not([").concat(xe,"=false])"),$.container).map(function(ke){return function(Ce){var Oe;G.input(Ce,"touchstart",function(Ae){Oe=Q(Ae),B=!0,q=!0},{passive:!0}),G.input(Ce,"touchmove",function(Ae){var Pe=te(),Ee=Pe?Ce.scrollHeight-Ce.clientHeight:Ce.scrollWidth-Ce.clientWidth,Te=Oe-Q(Ae),Re=Pe?Ce.scrollTop:Ce.scrollLeft,Me=Pe&&Ce.style.overflowY==="scroll"||!Pe&&Ce.style.overflowX==="scroll";if(Oe=Q(Ae),(Te<0&&Re>0||Te>0&&Re<Ee)&&q&&Me)return B=!0;q=!1,o(Ae),B=!1}),G.input(Ce,"touchend",function(){B=!1})}(ke)})}}$.on("updated",se),$.on("optionsChanged",ie),$.on("created",ie),$.on("destroyed",G.purge)}function k($){var E,_,A=null;function T(V,F,q){$.animator.active?P(V,F,q):requestAnimationFrame(function(){return P(V,F,q)})}function O(){T(!1,!1,_)}function P(V,F,q){var B=0,W=$.size,H=$.track.details;if(H&&E){var G=H.slides;E.forEach(function(Z,Y){if(V)!A&&F&&I(Z,null,q),N(Z,null,q);else{if(!G[Y])return;var ee=G[Y].size*W;!A&&F&&I(Z,ee,q),N(Z,G[Y].distance*W-B,q),B+=ee}})}}function R(V){return $.options.renderMode==="performance"?Math.round(V):V}function I(V,F,q){var B=q?"height":"width";F!==null&&(F=R(F)+"px"),V.style["min-"+B]=F,V.style["max-"+B]=F}function N(V,F,q){if(F!==null){F=R(F);var B=q?F:0;F="translate3d(".concat(q?0:F,"px, ").concat(B,"px, 0)")}V.style.transform=F,V.style["-webkit-transform"]=F}function j(){E&&(P(!0,!0,_),E=null),$.on("detailsChanged",O,!0)}function U(){T(!1,!0,_)}function z(){j(),_=$.options.vertical,$.options.disabled||$.options.renderMode==="custom"||(A=f($.options.slides,"perView",null)==="auto",$.on("detailsChanged",O),(E=$.slides).length&&U())}$.on("created",z),$.on("optionsChanged",z),$.on("beforeOptionsChanged",function(){j()}),$.on("updated",U),$.on("destroyed",j)}function w$1($,E){return function(_){var A,T,O,P,R,I=c();function N(J){var Q;r(_.container,"reverse",(Q=_.container,window.getComputedStyle(Q,null).getPropertyValue("direction")!=="rtl"||J?null:"")),r(_.container,"v",_.options.vertical&&!J?"":null),r(_.container,"disabled",_.options.disabled&&!J?"":null)}function j(){U()&&B()}function U(){var J=null;if(P.forEach(function(te){te.matches&&(J=te.__media)}),J===A)return!1;A||_.emit("beforeOptionsChanged"),A=J;var Q=J?O.breakpoints[J]:O;return _.options=h(h({},O),Q),N(),Y(),ee(),H(),!0}function z(J){var Q=l(J);return(_.options.vertical?Q.height:Q.width)/_.size||1}function V(){return _.options.trackConfig.length}function F(J){for(var Q in A=!1,O=h(h({},E),J),I.purge(),T=_.size,P=[],O.breakpoints||[]){var te=window.matchMedia(Q);te.__media=Q,P.push(te),I.add(te,"change",j)}I.add(window,"orientationchange",Z),I.add(window,"resize",G),U()}function q(J){_.animator.stop();var Q=_.track.details;_.track.init(J??(Q?Q.abs:0))}function B(J){q(J),_.emit("optionsChanged")}function W(J,Q){if(J)return F(J),void B(Q);Y(),ee();var te=V();H(),V()!==te?B(Q):q(Q),_.emit("updated")}function H(){var J=_.options.slides;if(typeof J=="function")return _.options.trackConfig=J(_.size,_.slides);for(var Q=_.slides,te=Q.length,se=typeof J=="number"?J:f(J,"number",te,!0),de=[],ie=f(J,"perView",1,!0),ve=f(J,"spacing",0,!0)/_.size||0,xe=ie==="auto"?ve:ve/ie,ke=f(J,"origin","auto"),Ce=0,Oe=0;Oe<se;Oe++){var Ae=ie==="auto"?z(Q[Oe]):1/ie-ve+xe,Pe=ke==="center"?.5-Ae/2:ke==="auto"?0:ke;de.push({origin:Pe,size:Ae,spacing:ve}),Ce+=Ae}if(Ce+=ve*(se-1),ke==="auto"&&!_.options.loop&&ie!==1){var Ee=0;de.map(function(Te){var Re=Ce-Ee;return Ee+=Te.size+ve,Re>=1||(Te.origin=1-Re-(Ce>1?0:1-Ce)),Te})}_.options.trackConfig=de}function G(){Y();var J=_.size;_.options.disabled||J===T||(T=J,W())}function Z(){G(),setTimeout(G,500),setTimeout(G,2e3)}function Y(){var J=l(_.container);_.size=(_.options.vertical?J.height:J.width)||1}function ee(){_.slides=a(_.options.selector,_.container)}_.container=(R=a($,document)).length?R[0]:null,_.destroy=function(){I.purge(),_.emit("destroyed"),N(!0)},_.prev=function(){_.moveToIdx(_.track.details.abs-1,!0)},_.next=function(){_.moveToIdx(_.track.details.abs+1,!0)},_.update=W,F(_.options)}}var M=function($,E,_){try{return function(A,T){var O,P={};return O={emit:function(R){P[R]&&P[R].forEach(function(N){N(O)});var I=O.options&&O.options[R];I&&I(O)},moveToIdx:function(R,I,N){var j=O.track.idxToDist(R,I);if(j){var U=O.options.defaultAnimation;O.animator.start([{distance:j,duration:f(N||U,"duration",500),easing:f(N||U,"easing",function(z){return 1+--z*z*z*z*z})}])}},on:function(R,I,N){N===void 0&&(N=!1),P[R]||(P[R]=[]);var j=P[R].indexOf(I);j>-1?N&&delete P[R][j]:N||P[R].push(I)},options:A},function(){if(O.track=b$1(O),O.animator=g(O),T)for(var R=0,I=T;R<I.length;R++)(0,I[R])(O);O.track.init(O.options.initial||0),O.emit("created")}(),O}(E,m([w$1($,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),k,x,y],_||[],!0))}catch(A){console.error(A)}},useKeenSlider=react.useKeenSlider=function($,E){var _=n.useRef(null),A=n.useRef(!1),T=n.useRef($),O=n.useCallback(function(P){P?(T.current=$,_.current=new M(P,$,E),A.current=!1):(_.current&&_.current.destroy&&_.current.destroy(),_.current=null)},[]);return n.useEffect(function(){v$1(T.current,$)||(T.current=$,_.current&&_.current.update(T.current))},[$]),[O,_]};const slides=[{image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?auto=format&fit=crop&q=80",title:"Expertise en bilans neuropsychologiques",subtitle:"Pour enfants et adultes"},{image:"https://images.unsplash.com/photo-1543269865-cbf427effbad?auto=format&fit=crop&q=80",title:"Accompagnement des enfants HPI",subtitle:"Et gestion du TDAH"},{image:"https://images.unsplash.com/photo-1516534775068-ba3e7458af70?auto=format&fit=crop&q=80",title:"Une approche bienveillante",subtitle:"Et professionnelle à Colmar"}];function HeroSlider(){const[$,E]=reactExports.useState(0),[_,A]=reactExports.useState(!1),[T,O]=useKeenSlider({initial:0,slideChanged(P){E(P.track.details.rel)},created(){A(!0)},loop:!0,drag:!0,slides:{perView:1,spacing:0}});return reactExports.useEffect(()=>{const P=setInterval(()=>{O.current&&O.current.next()},5e3);return()=>clearInterval(P)},[O]),jsxRuntimeExports.jsxs("div",{className:"relative h-[600px] md:h-[700px] overflow-hidden",children:[jsxRuntimeExports.jsx("div",{ref:T,className:"keen-slider h-full",children:slides.map((P,R)=>jsxRuntimeExports.jsxs("div",{className:"keen-slider__slide relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${P.image})`},children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/40"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center text-white px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold font-lora mb-4",children:P.title}),jsxRuntimeExports.jsx("p",{className:"text-xl md:text-2xl font-light",children:P.subtitle})]})})]},R))}),_&&O.current&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>{var P;return(P=O.current)==null?void 0:P.prev()},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-2 rounded-full transition-colors duration-200",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("button",{onClick:()=>{var P;return(P=O.current)==null?void 0:P.next()},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-2 rounded-full transition-colors duration-200",children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:slides.map((P,R)=>jsxRuntimeExports.jsx("button",{onClick:()=>{var I;return(I=O.current)==null?void 0:I.moveToIdx(R)},className:`w-2 h-2 rounded-full transition-all duration-200 ${$===R?"bg-white w-6":"bg-white/50"}`},R))})]})]})}const specialties=[{title:"TDAH et troubles attentionnels",description:"Évaluation et accompagnement des troubles de l'attention avec ou sans hyperactivité, pour enfants et adultes.",icon:Brain},{title:"Bilan HPI",description:"Identification et accompagnement des personnes à haut potentiel intellectuel pour une meilleure compréhension de leur fonctionnement.",icon:Lightbulb},{title:"Suivi des troubles de l'apprentissage",description:"Diagnostic et prise en charge des difficultés d'apprentissage pour favoriser la réussite scolaire et professionnelle.",icon:BookOpen}];function Specialties(){return jsxRuntimeExports.jsx("div",{className:"py-12 bg-background",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold font-lora text-dark sm:text-4xl",children:"Mes Spécialités"}),jsxRuntimeExports.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-600",children:"Une approche personnalisée pour répondre à vos besoins spécifiques"})]}),jsxRuntimeExports.jsx("div",{className:"mt-12 grid gap-8 grid-cols-1 md:grid-cols-3",children:specialties.map($=>{const E=$.icon;return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 transition-transform hover:-translate-y-1",children:[jsxRuntimeExports.jsx("div",{className:"text-primary mb-4",children:jsxRuntimeExports.jsx(E,{className:"h-10 w-10"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold font-lora text-dark mb-4",children:$.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:$.description})]},$.title)})})]})})}var observerMap=new Map,RootIds=new WeakMap,rootId=0,unsupportedValue=void 0;function getRootId($){return $?(RootIds.has($)||(rootId+=1,RootIds.set($,rootId.toString())),RootIds.get($)):"0"}function optionsToId($){return Object.keys($).sort().filter(E=>$[E]!==void 0).map(E=>`${E}_${E==="root"?getRootId($.root):$[E]}`).toString()}function createObserver($){const E=optionsToId($);let _=observerMap.get(E);if(!_){const A=new Map;let T;const O=new IntersectionObserver(P=>{P.forEach(R=>{var I;const N=R.isIntersecting&&T.some(j=>R.intersectionRatio>=j);$.trackVisibility&&typeof R.isVisible>"u"&&(R.isVisible=N),(I=A.get(R.target))==null||I.forEach(j=>{j(N,R)})})},$);T=O.thresholds||(Array.isArray($.threshold)?$.threshold:[$.threshold||0]),_={id:E,observer:O,elements:A},observerMap.set(E,_)}return _}function observe($,E,_={},A=unsupportedValue){if(typeof window.IntersectionObserver>"u"&&A!==void 0){const I=$.getBoundingClientRect();return E(A,{isIntersecting:A,target:$,intersectionRatio:typeof _.threshold=="number"?_.threshold:0,time:0,boundingClientRect:I,intersectionRect:I,rootBounds:I}),()=>{}}const{id:T,observer:O,elements:P}=createObserver(_),R=P.get($)||[];return P.has($)||P.set($,R),R.push(E),O.observe($),function(){R.splice(R.indexOf(E),1),R.length===0&&(P.delete($),O.unobserve($)),P.size===0&&(O.disconnect(),observerMap.delete(T))}}function useInView({threshold:$,delay:E,trackVisibility:_,rootMargin:A,root:T,triggerOnce:O,skip:P,initialInView:R,fallbackInView:I,onChange:N}={}){var j;const[U,z]=reactExports.useState(null),V=reactExports.useRef(),[F,q]=reactExports.useState({inView:!!R,entry:void 0});V.current=N,reactExports.useEffect(()=>{if(P||!U)return;let G;return G=observe(U,(Z,Y)=>{q({inView:Z,entry:Y}),V.current&&V.current(Z,Y),Y.isIntersecting&&O&&G&&(G(),G=void 0)},{root:T,rootMargin:A,threshold:$,trackVisibility:_,delay:E},I),()=>{G&&G()}},[Array.isArray($)?$.toString():$,U,T,A,O,P,_,I,E]);const B=(j=F.entry)==null?void 0:j.target,W=reactExports.useRef();!U&&B&&!O&&!P&&W.current!==B&&(W.current=B,q({inView:!!R,entry:void 0}));const H=[z,F.inView,F.entry];return H.ref=H[0],H.inView=H[1],H.entry=H[2],H}const bands=[{bgColor:"bg-[#4A90E2]",textColor:"text-white",content:"Prenez rendez-vous dès aujourd'hui pour un accompagnement personnalisé",buttonText:"Contactez-moi",buttonLink:"/contact",buttonStyle:"bg-white text-[#4A90E2] hover:bg-white/90"},{bgColor:"bg-[#A1D6C2]",textColor:"text-[#2D2D2D]",content:"Spécialiste en TDAH, HPI et troubles de l'apprentissage",buttonText:"En savoir plus",buttonLink:"/services",buttonStyle:"bg-[#2D2D2D] text-white hover:bg-[#2D2D2D]/90"},{bgColor:"bg-[#F5F5F5]",textColor:"text-[#2D2D2D]",content:"Localisée à Colmar, au cœur du Haut-Rhin",buttonText:"Nous trouver",buttonLink:"/contact",buttonStyle:"bg-[#4A90E2] text-white hover:bg-[#4A90E2]/90"}];function ColorBands(){return jsxRuntimeExports.jsx("div",{className:"space-y-0",children:bands.map(($,E)=>{const[_,A]=useInView({triggerOnce:!0,threshold:.2});return jsxRuntimeExports.jsx(motion.div,{ref:_,initial:{opacity:0,y:20},animate:A?{opacity:1,y:0}:{},transition:{duration:.6,delay:E*.2},className:`${$.bgColor} py-16`,children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[jsxRuntimeExports.jsx("h2",{className:`text-2xl md:text-3xl font-bold font-lora ${$.textColor} text-center md:text-left`,children:$.content}),jsxRuntimeExports.jsxs(Link,{to:$.buttonLink,className:`${$.buttonStyle} px-8 py-3 rounded-lg transition-all duration-200 font-semibold flex items-center gap-2 hover:scale-105 shadow-lg hover:shadow-xl`,children:[jsxRuntimeExports.jsx("span",{children:$.buttonText}),jsxRuntimeExports.jsx(ArrowRight,{className:"h-5 w-5"})]})]})})},E)})})}function Home(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:"Neuropsychologue à Colmar | Bilan TDAH, HPI et apprentissage - Laetitia Knoerr"}),jsxRuntimeExports.jsx("meta",{name:"description",content:"Laetitia Knoerr, neuropsychologue à Colmar, spécialisée dans le TDAH, HPI et les troubles de l'apprentissage. Bilans neuropsychologiques et accompagnement personnalisé."}),jsxRuntimeExports.jsx("link",{rel:"canonical",href:window.location.origin})]}),jsxRuntimeExports.jsx(HeroSlider,{}),jsxRuntimeExports.jsx(Specialties,{}),jsxRuntimeExports.jsx(ColorBands,{})]})}function AboutHero(){return jsxRuntimeExports.jsx("div",{className:"bg-white py-16 sm:py-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold font-lora text-dark sm:text-5xl",children:"À propos de Laetitia Knoerr"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600 max-w-3xl mx-auto",children:"Neuropsychologue passionnée, je m'engage à accompagner chaque patient dans son parcours avec bienveillance et professionnalisme."})]}),jsxRuntimeExports.jsx("div",{className:"mt-16 grid gap-8 grid-cols-1 md:grid-cols-3",children:[{icon:GraduationCap,title:"Formation",description:"Master en Neuropsychologie et Diplôme d'État"},{icon:Award,title:"Expertise",description:"Plus de 10 ans d'expérience en neuropsychologie"},{icon:Heart,title:"Approche",description:"Accompagnement personnalisé et bienveillant"}].map($=>jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-primary/10 text-primary",children:jsxRuntimeExports.jsx($.icon,{className:"h-8 w-8"})}),jsxRuntimeExports.jsx("h3",{className:"mt-4 text-xl font-semibold font-lora text-dark",children:$.title}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600",children:$.description})]},$.title))})]})})}function Biography(){return jsxRuntimeExports.jsx("div",{className:"bg-background py-16",children:jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"prose prose-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold font-lora text-dark mb-8",children:"Mon Parcours Professionnel"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Titulaire d'un Master en Neuropsychologie de l'Université de Strasbourg, j'ai développé une expertise approfondie dans l'évaluation et l'accompagnement des troubles neurodéveloppementaux. Ma formation continue inclut des certifications spécialisées en TDAH et HPI, me permettant d'offrir une prise en charge adaptée aux besoins spécifiques de chaque patient."}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Mon parcours m'a amenée à travailler dans divers contextes cliniques, enrichissant ma pratique et ma compréhension des différents troubles cognitifs et comportementaux. Cette expérience variée me permet aujourd'hui d'proposer une approche globale et personnalisée à mes patients."}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold font-lora text-dark my-8",children:"Ma Philosophie de Travail"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Je crois profondément en une approche centrée sur la personne, où chaque patient est considéré dans sa globalité et sa singularité. Mon objectif est de créer un environnement sécurisant et bienveillant, propice à l'épanouissement et au progrès."}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Ma pratique repose sur trois piliers fondamentaux :"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-6 text-gray-600 mb-6",children:[jsxRuntimeExports.jsx("li",{className:"mb-2",children:"L'écoute active et la compréhension des besoins spécifiques de chaque patient"}),jsxRuntimeExports.jsx("li",{className:"mb-2",children:"L'utilisation d'outils et de méthodes d'évaluation validés scientifiquement"}),jsxRuntimeExports.jsx("li",{children:"L'accompagnement personnalisé pour développer des stratégies adaptées à chaque situation"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Je m'engage à maintenir une pratique professionnelle à jour, en suivant régulièrement des formations continues et en restant informée des dernières avancées dans le domaine de la neuropsychologie."})]})})})}function About(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:"À propos | Neuropsychologue Laetitia Knoerr à Colmar"}),jsxRuntimeExports.jsx("meta",{name:"description",content:"Découvrez le parcours de Laetitia Knoerr, neuropsychologue à Colmar. Expertise en TDAH, HPI et troubles de l'apprentissage. Formation et approche professionnelle."}),jsxRuntimeExports.jsx("link",{rel:"canonical",href:`${window.location.origin}/about`})]}),jsxRuntimeExports.jsx(AboutHero,{}),jsxRuntimeExports.jsx(Biography,{})]})}function ServiceHero(){return jsxRuntimeExports.jsx("div",{className:"bg-white py-16 sm:py-24",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold font-lora text-dark sm:text-5xl",children:"Services proposés"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600 max-w-3xl mx-auto",children:"Une approche personnalisée et scientifiquement validée pour répondre à vos besoins spécifiques"})]})})})}const services=[{title:"Bilan neuropsychologique",icon:Brain,description:"Évaluation complète des fonctions cognitives pour enfants, adolescents et adultes.",details:["Évaluation des capacités intellectuelles","Analyse des fonctions attentionnelles et exécutives","Évaluation de la mémoire et des apprentissages","Rapport détaillé avec recommandations personnalisées"]},{title:"Suivi et remédiation cognitive",icon:Target,description:"Accompagnement personnalisé pour les troubles de l'apprentissage.",details:["Programmes d'entraînement cognitif sur mesure","Stratégies d'apprentissage adaptées","Suivi régulier des progrès","Coordination avec les autres professionnels"]},{title:"Accompagnement HPI",icon:Lightbulb,description:"Support spécialisé pour les enfants et adolescents à haut potentiel.",details:["Identification du profil cognitif","Gestion des particularités émotionnelles","Adaptation scolaire et sociale","Soutien à la parentalité"]},{title:"Gestion du TDAH",icon:BookOpen,description:"Prise en charge des troubles attentionnels et de l'hyperactivité.",details:["Évaluation approfondie des symptômes","Stratégies de compensation","Techniques de gestion du quotidien","Accompagnement familial et scolaire"]}];function ServicesList(){return jsxRuntimeExports.jsx("div",{className:"bg-background py-16",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsx("div",{className:"space-y-16",children:services.map(($,E)=>jsxRuntimeExports.jsxs("div",{className:`flex flex-col lg:flex-row gap-8 ${E%2===1?"lg:flex-row-reverse":""}`,children:[jsxRuntimeExports.jsx("div",{className:"lg:w-1/3",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg h-full",children:[jsxRuntimeExports.jsx("div",{className:"text-primary mb-4",children:jsxRuntimeExports.jsx($.icon,{className:"h-12 w-12"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold font-lora text-dark mb-4",children:$.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:$.description})]})}),jsxRuntimeExports.jsx("div",{className:"lg:w-2/3",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg h-full",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold font-lora text-dark mb-6",children:"Ce service comprend :"}),jsxRuntimeExports.jsx("ul",{className:"space-y-4",children:$.details.map((_,A)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 h-6 w-6 text-primary",children:jsxRuntimeExports.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-gray-600",children:_})]},A))})]})})]},$.title))})})})}function ServiceCTA(){return jsxRuntimeExports.jsx("div",{className:"bg-primary py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold font-lora text-white mb-8",children:"Contactez-moi pour plus d'informations ou pour planifier un rendez-vous"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-6",children:[jsxRuntimeExports.jsxs("a",{href:"/contact",className:"bg-white text-primary px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors duration-200 font-semibold flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{children:"Prendre rendez-vous"}),jsxRuntimeExports.jsx(ArrowRight,{className:"h-5 w-5"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-6",children:[jsxRuntimeExports.jsxs("a",{href:"tel:+33123456789",className:"text-white hover:text-gray-200 transition-colors duration-200 flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Phone,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"01 23 45 67 89"})]}),jsxRuntimeExports.jsxs("a",{href:"mailto:contact@laetitiaknoerr.fr",className:"text-white hover:text-gray-200 transition-colors duration-200 flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Mail,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"contact@laetitiaknoerr.fr"})]})]})]})]})})}function Services(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:"TDAH, HPI, Neuropsychologie à Colmar | Bilans et remédiation cognitive"}),jsxRuntimeExports.jsx("meta",{name:"description",content:"Services de neuropsychologie à Colmar : bilans TDAH, tests HPI, accompagnement des troubles de l'apprentissage. Remédiation cognitive personnalisée."}),jsxRuntimeExports.jsx("link",{rel:"canonical",href:`${window.location.origin}/services`})]}),jsxRuntimeExports.jsx(ServiceHero,{}),jsxRuntimeExports.jsx(ServicesList,{}),jsxRuntimeExports.jsx(ServiceCTA,{})]})}function toDate($){const E=Object.prototype.toString.call($);return $ instanceof Date||typeof $=="object"&&E==="[object Date]"?new $.constructor(+$):typeof $=="number"||E==="[object Number]"||typeof $=="string"||E==="[object String]"?new Date($):new Date(NaN)}function constructFrom($,E){return $ instanceof Date?new $.constructor(E):new Date(E)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5;let defaultOptions$1={};function getDefaultOptions(){return defaultOptions$1}function startOfWeek($,E){var R,I,N,j;const _=getDefaultOptions(),A=(E==null?void 0:E.weekStartsOn)??((I=(R=E==null?void 0:E.locale)==null?void 0:R.options)==null?void 0:I.weekStartsOn)??_.weekStartsOn??((j=(N=_.locale)==null?void 0:N.options)==null?void 0:j.weekStartsOn)??0,T=toDate($),O=T.getDay(),P=(O<A?7:0)+O-A;return T.setDate(T.getDate()-P),T.setHours(0,0,0,0),T}function startOfISOWeek($){return startOfWeek($,{weekStartsOn:1})}function getISOWeekYear($){const E=toDate($),_=E.getFullYear(),A=constructFrom($,0);A.setFullYear(_+1,0,4),A.setHours(0,0,0,0);const T=startOfISOWeek(A),O=constructFrom($,0);O.setFullYear(_,0,4),O.setHours(0,0,0,0);const P=startOfISOWeek(O);return E.getTime()>=T.getTime()?_+1:E.getTime()>=P.getTime()?_:_-1}function startOfDay($){const E=toDate($);return E.setHours(0,0,0,0),E}function getTimezoneOffsetInMilliseconds($){const E=toDate($),_=new Date(Date.UTC(E.getFullYear(),E.getMonth(),E.getDate(),E.getHours(),E.getMinutes(),E.getSeconds(),E.getMilliseconds()));return _.setUTCFullYear(E.getFullYear()),+$-+_}function differenceInCalendarDays($,E){const _=startOfDay($),A=startOfDay(E),T=+_-getTimezoneOffsetInMilliseconds(_),O=+A-getTimezoneOffsetInMilliseconds(A);return Math.round((T-O)/millisecondsInDay)}function startOfISOWeekYear($){const E=getISOWeekYear($),_=constructFrom($,0);return _.setFullYear(E,0,4),_.setHours(0,0,0,0),startOfISOWeek(_)}function isDate($){return $ instanceof Date||typeof $=="object"&&Object.prototype.toString.call($)==="[object Date]"}function isValid($){if(!isDate($)&&typeof $!="number")return!1;const E=toDate($);return!isNaN(Number(E))}function startOfYear($){const E=toDate($),_=constructFrom($,0);return _.setFullYear(E.getFullYear(),0,1),_.setHours(0,0,0,0),_}const formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=($,E,_)=>{let A;const T=formatDistanceLocale$1[$];return typeof T=="string"?A=T:E===1?A=T.one:A=T.other.replace("{{count}}",E.toString()),_!=null&&_.addSuffix?_.comparison&&_.comparison>0?"in "+A:A+" ago":A};function buildFormatLongFn($){return(E={})=>{const _=E.width?String(E.width):$.defaultWidth;return $.formats[_]||$.formats[$.defaultWidth]}}const dateFormats$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$1={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=($,E,_,A)=>formatRelativeLocale$1[$];function buildLocalizeFn($){return(E,_)=>{const A=_!=null&&_.context?String(_.context):"standalone";let T;if(A==="formatting"&&$.formattingValues){const P=$.defaultFormattingWidth||$.defaultWidth,R=_!=null&&_.width?String(_.width):P;T=$.formattingValues[R]||$.formattingValues[P]}else{const P=$.defaultWidth,R=_!=null&&_.width?String(_.width):$.defaultWidth;T=$.values[R]||$.values[P]}const O=$.argumentCallback?$.argumentCallback(E):E;return T[O]}}const eraValues$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber$1=($,E)=>{const _=Number($),A=_%100;if(A>20||A<10)switch(A%10){case 1:return _+"st";case 2:return _+"nd";case 3:return _+"rd"}return _+"th"},localize$1={ordinalNumber:ordinalNumber$1,era:buildLocalizeFn({values:eraValues$1,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues$1,defaultWidth:"wide",argumentCallback:$=>$-1}),month:buildLocalizeFn({values:monthValues$1,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues$1,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues$1,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn($){return(E,_={})=>{const A=_.width,T=A&&$.matchPatterns[A]||$.matchPatterns[$.defaultMatchWidth],O=E.match(T);if(!O)return null;const P=O[0],R=A&&$.parsePatterns[A]||$.parsePatterns[$.defaultParseWidth],I=Array.isArray(R)?findIndex(R,U=>U.test(P)):findKey(R,U=>U.test(P));let N;N=$.valueCallback?$.valueCallback(I):I,N=_.valueCallback?_.valueCallback(N):N;const j=E.slice(P.length);return{value:N,rest:j}}}function findKey($,E){for(const _ in $)if(Object.prototype.hasOwnProperty.call($,_)&&E($[_]))return _}function findIndex($,E){for(let _=0;_<$.length;_++)if(E($[_]))return _}function buildMatchPatternFn($){return(E,_={})=>{const A=E.match($.matchPattern);if(!A)return null;const T=A[0],O=E.match($.parsePattern);if(!O)return null;let P=$.valueCallback?$.valueCallback(O[0]):O[0];P=_.valueCallback?_.valueCallback(P):P;const R=E.slice(T.length);return{value:P,rest:R}}}const matchOrdinalNumberPattern$1=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern$1=/\d+/i,matchEraPatterns$1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns$1={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns$1={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns$1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns$1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern$1,parsePattern:parseOrdinalNumberPattern$1,valueCallback:$=>parseInt($,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns$1,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns$1,defaultParseWidth:"any",valueCallback:$=>$+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns$1,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns$1,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns$1,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns$1,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear($){const E=toDate($);return differenceInCalendarDays(E,startOfYear(E))+1}function getISOWeek($){const E=toDate($),_=+startOfISOWeek(E)-+startOfISOWeekYear(E);return Math.round(_/millisecondsInWeek)+1}function getWeekYear($,E){var j,U,z,V;const _=toDate($),A=_.getFullYear(),T=getDefaultOptions(),O=(E==null?void 0:E.firstWeekContainsDate)??((U=(j=E==null?void 0:E.locale)==null?void 0:j.options)==null?void 0:U.firstWeekContainsDate)??T.firstWeekContainsDate??((V=(z=T.locale)==null?void 0:z.options)==null?void 0:V.firstWeekContainsDate)??1,P=constructFrom($,0);P.setFullYear(A+1,0,O),P.setHours(0,0,0,0);const R=startOfWeek(P,E),I=constructFrom($,0);I.setFullYear(A,0,O),I.setHours(0,0,0,0);const N=startOfWeek(I,E);return _.getTime()>=R.getTime()?A+1:_.getTime()>=N.getTime()?A:A-1}function startOfWeekYear($,E){var R,I,N,j;const _=getDefaultOptions(),A=(E==null?void 0:E.firstWeekContainsDate)??((I=(R=E==null?void 0:E.locale)==null?void 0:R.options)==null?void 0:I.firstWeekContainsDate)??_.firstWeekContainsDate??((j=(N=_.locale)==null?void 0:N.options)==null?void 0:j.firstWeekContainsDate)??1,T=getWeekYear($,E),O=constructFrom($,0);return O.setFullYear(T,0,A),O.setHours(0,0,0,0),startOfWeek(O,E)}function getWeek($,E){const _=toDate($),A=+startOfWeek(_,E)-+startOfWeekYear(_,E);return Math.round(A/millisecondsInWeek)+1}function addLeadingZeros($,E){const _=$<0?"-":"",A=Math.abs($).toString().padStart(E,"0");return _+A}const lightFormatters={y($,E){const _=$.getFullYear(),A=_>0?_:1-_;return addLeadingZeros(E==="yy"?A%100:A,E.length)},M($,E){const _=$.getMonth();return E==="M"?String(_+1):addLeadingZeros(_+1,2)},d($,E){return addLeadingZeros($.getDate(),E.length)},a($,E){const _=$.getHours()/12>=1?"pm":"am";switch(E){case"a":case"aa":return _.toUpperCase();case"aaa":return _;case"aaaaa":return _[0];case"aaaa":default:return _==="am"?"a.m.":"p.m."}},h($,E){return addLeadingZeros($.getHours()%12||12,E.length)},H($,E){return addLeadingZeros($.getHours(),E.length)},m($,E){return addLeadingZeros($.getMinutes(),E.length)},s($,E){return addLeadingZeros($.getSeconds(),E.length)},S($,E){const _=E.length,A=$.getMilliseconds(),T=Math.trunc(A*Math.pow(10,_-3));return addLeadingZeros(T,E.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function($,E,_){const A=$.getFullYear()>0?1:0;switch(E){case"G":case"GG":case"GGG":return _.era(A,{width:"abbreviated"});case"GGGGG":return _.era(A,{width:"narrow"});case"GGGG":default:return _.era(A,{width:"wide"})}},y:function($,E,_){if(E==="yo"){const A=$.getFullYear(),T=A>0?A:1-A;return _.ordinalNumber(T,{unit:"year"})}return lightFormatters.y($,E)},Y:function($,E,_,A){const T=getWeekYear($,A),O=T>0?T:1-T;if(E==="YY"){const P=O%100;return addLeadingZeros(P,2)}return E==="Yo"?_.ordinalNumber(O,{unit:"year"}):addLeadingZeros(O,E.length)},R:function($,E){const _=getISOWeekYear($);return addLeadingZeros(_,E.length)},u:function($,E){const _=$.getFullYear();return addLeadingZeros(_,E.length)},Q:function($,E,_){const A=Math.ceil(($.getMonth()+1)/3);switch(E){case"Q":return String(A);case"QQ":return addLeadingZeros(A,2);case"Qo":return _.ordinalNumber(A,{unit:"quarter"});case"QQQ":return _.quarter(A,{width:"abbreviated",context:"formatting"});case"QQQQQ":return _.quarter(A,{width:"narrow",context:"formatting"});case"QQQQ":default:return _.quarter(A,{width:"wide",context:"formatting"})}},q:function($,E,_){const A=Math.ceil(($.getMonth()+1)/3);switch(E){case"q":return String(A);case"qq":return addLeadingZeros(A,2);case"qo":return _.ordinalNumber(A,{unit:"quarter"});case"qqq":return _.quarter(A,{width:"abbreviated",context:"standalone"});case"qqqqq":return _.quarter(A,{width:"narrow",context:"standalone"});case"qqqq":default:return _.quarter(A,{width:"wide",context:"standalone"})}},M:function($,E,_){const A=$.getMonth();switch(E){case"M":case"MM":return lightFormatters.M($,E);case"Mo":return _.ordinalNumber(A+1,{unit:"month"});case"MMM":return _.month(A,{width:"abbreviated",context:"formatting"});case"MMMMM":return _.month(A,{width:"narrow",context:"formatting"});case"MMMM":default:return _.month(A,{width:"wide",context:"formatting"})}},L:function($,E,_){const A=$.getMonth();switch(E){case"L":return String(A+1);case"LL":return addLeadingZeros(A+1,2);case"Lo":return _.ordinalNumber(A+1,{unit:"month"});case"LLL":return _.month(A,{width:"abbreviated",context:"standalone"});case"LLLLL":return _.month(A,{width:"narrow",context:"standalone"});case"LLLL":default:return _.month(A,{width:"wide",context:"standalone"})}},w:function($,E,_,A){const T=getWeek($,A);return E==="wo"?_.ordinalNumber(T,{unit:"week"}):addLeadingZeros(T,E.length)},I:function($,E,_){const A=getISOWeek($);return E==="Io"?_.ordinalNumber(A,{unit:"week"}):addLeadingZeros(A,E.length)},d:function($,E,_){return E==="do"?_.ordinalNumber($.getDate(),{unit:"date"}):lightFormatters.d($,E)},D:function($,E,_){const A=getDayOfYear($);return E==="Do"?_.ordinalNumber(A,{unit:"dayOfYear"}):addLeadingZeros(A,E.length)},E:function($,E,_){const A=$.getDay();switch(E){case"E":case"EE":case"EEE":return _.day(A,{width:"abbreviated",context:"formatting"});case"EEEEE":return _.day(A,{width:"narrow",context:"formatting"});case"EEEEEE":return _.day(A,{width:"short",context:"formatting"});case"EEEE":default:return _.day(A,{width:"wide",context:"formatting"})}},e:function($,E,_,A){const T=$.getDay(),O=(T-A.weekStartsOn+8)%7||7;switch(E){case"e":return String(O);case"ee":return addLeadingZeros(O,2);case"eo":return _.ordinalNumber(O,{unit:"day"});case"eee":return _.day(T,{width:"abbreviated",context:"formatting"});case"eeeee":return _.day(T,{width:"narrow",context:"formatting"});case"eeeeee":return _.day(T,{width:"short",context:"formatting"});case"eeee":default:return _.day(T,{width:"wide",context:"formatting"})}},c:function($,E,_,A){const T=$.getDay(),O=(T-A.weekStartsOn+8)%7||7;switch(E){case"c":return String(O);case"cc":return addLeadingZeros(O,E.length);case"co":return _.ordinalNumber(O,{unit:"day"});case"ccc":return _.day(T,{width:"abbreviated",context:"standalone"});case"ccccc":return _.day(T,{width:"narrow",context:"standalone"});case"cccccc":return _.day(T,{width:"short",context:"standalone"});case"cccc":default:return _.day(T,{width:"wide",context:"standalone"})}},i:function($,E,_){const A=$.getDay(),T=A===0?7:A;switch(E){case"i":return String(T);case"ii":return addLeadingZeros(T,E.length);case"io":return _.ordinalNumber(T,{unit:"day"});case"iii":return _.day(A,{width:"abbreviated",context:"formatting"});case"iiiii":return _.day(A,{width:"narrow",context:"formatting"});case"iiiiii":return _.day(A,{width:"short",context:"formatting"});case"iiii":default:return _.day(A,{width:"wide",context:"formatting"})}},a:function($,E,_){const T=$.getHours()/12>=1?"pm":"am";switch(E){case"a":case"aa":return _.dayPeriod(T,{width:"abbreviated",context:"formatting"});case"aaa":return _.dayPeriod(T,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return _.dayPeriod(T,{width:"narrow",context:"formatting"});case"aaaa":default:return _.dayPeriod(T,{width:"wide",context:"formatting"})}},b:function($,E,_){const A=$.getHours();let T;switch(A===12?T=dayPeriodEnum.noon:A===0?T=dayPeriodEnum.midnight:T=A/12>=1?"pm":"am",E){case"b":case"bb":return _.dayPeriod(T,{width:"abbreviated",context:"formatting"});case"bbb":return _.dayPeriod(T,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return _.dayPeriod(T,{width:"narrow",context:"formatting"});case"bbbb":default:return _.dayPeriod(T,{width:"wide",context:"formatting"})}},B:function($,E,_){const A=$.getHours();let T;switch(A>=17?T=dayPeriodEnum.evening:A>=12?T=dayPeriodEnum.afternoon:A>=4?T=dayPeriodEnum.morning:T=dayPeriodEnum.night,E){case"B":case"BB":case"BBB":return _.dayPeriod(T,{width:"abbreviated",context:"formatting"});case"BBBBB":return _.dayPeriod(T,{width:"narrow",context:"formatting"});case"BBBB":default:return _.dayPeriod(T,{width:"wide",context:"formatting"})}},h:function($,E,_){if(E==="ho"){let A=$.getHours()%12;return A===0&&(A=12),_.ordinalNumber(A,{unit:"hour"})}return lightFormatters.h($,E)},H:function($,E,_){return E==="Ho"?_.ordinalNumber($.getHours(),{unit:"hour"}):lightFormatters.H($,E)},K:function($,E,_){const A=$.getHours()%12;return E==="Ko"?_.ordinalNumber(A,{unit:"hour"}):addLeadingZeros(A,E.length)},k:function($,E,_){let A=$.getHours();return A===0&&(A=24),E==="ko"?_.ordinalNumber(A,{unit:"hour"}):addLeadingZeros(A,E.length)},m:function($,E,_){return E==="mo"?_.ordinalNumber($.getMinutes(),{unit:"minute"}):lightFormatters.m($,E)},s:function($,E,_){return E==="so"?_.ordinalNumber($.getSeconds(),{unit:"second"}):lightFormatters.s($,E)},S:function($,E){return lightFormatters.S($,E)},X:function($,E,_){const A=$.getTimezoneOffset();if(A===0)return"Z";switch(E){case"X":return formatTimezoneWithOptionalMinutes(A);case"XXXX":case"XX":return formatTimezone(A);case"XXXXX":case"XXX":default:return formatTimezone(A,":")}},x:function($,E,_){const A=$.getTimezoneOffset();switch(E){case"x":return formatTimezoneWithOptionalMinutes(A);case"xxxx":case"xx":return formatTimezone(A);case"xxxxx":case"xxx":default:return formatTimezone(A,":")}},O:function($,E,_){const A=$.getTimezoneOffset();switch(E){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(A,":");case"OOOO":default:return"GMT"+formatTimezone(A,":")}},z:function($,E,_){const A=$.getTimezoneOffset();switch(E){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(A,":");case"zzzz":default:return"GMT"+formatTimezone(A,":")}},t:function($,E,_){const A=Math.trunc($.getTime()/1e3);return addLeadingZeros(A,E.length)},T:function($,E,_){const A=$.getTime();return addLeadingZeros(A,E.length)}};function formatTimezoneShort($,E=""){const _=$>0?"-":"+",A=Math.abs($),T=Math.trunc(A/60),O=A%60;return O===0?_+String(T):_+String(T)+E+addLeadingZeros(O,2)}function formatTimezoneWithOptionalMinutes($,E){return $%60===0?($>0?"-":"+")+addLeadingZeros(Math.abs($)/60,2):formatTimezone($,E)}function formatTimezone($,E=""){const _=$>0?"-":"+",A=Math.abs($),T=addLeadingZeros(Math.trunc(A/60),2),O=addLeadingZeros(A%60,2);return _+T+E+O}const dateLongFormatter=($,E)=>{switch($){case"P":return E.date({width:"short"});case"PP":return E.date({width:"medium"});case"PPP":return E.date({width:"long"});case"PPPP":default:return E.date({width:"full"})}},timeLongFormatter=($,E)=>{switch($){case"p":return E.time({width:"short"});case"pp":return E.time({width:"medium"});case"ppp":return E.time({width:"long"});case"pppp":default:return E.time({width:"full"})}},dateTimeLongFormatter=($,E)=>{const _=$.match(/(P+)(p+)?/)||[],A=_[1],T=_[2];if(!T)return dateLongFormatter($,E);let O;switch(A){case"P":O=E.dateTime({width:"short"});break;case"PP":O=E.dateTime({width:"medium"});break;case"PPP":O=E.dateTime({width:"long"});break;case"PPPP":default:O=E.dateTime({width:"full"});break}return O.replace("{{date}}",dateLongFormatter(A,E)).replace("{{time}}",timeLongFormatter(T,E))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken($){return dayOfYearTokenRE.test($)}function isProtectedWeekYearToken($){return weekYearTokenRE.test($)}function warnOrThrowProtectedError($,E,_){const A=message($,E,_);if(console.warn(A),throwTokens.includes($))throw new RangeError(A)}function message($,E,_){const A=$[0]==="Y"?"years":"days of the month";return`Use \`${$.toLowerCase()}\` instead of \`${$}\` (in \`${E}\`) for formatting ${A} to the input \`${_}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format($,E,_){var j,U,z,V,F,q,B,W;const A=getDefaultOptions(),T=(_==null?void 0:_.locale)??A.locale??enUS,O=(_==null?void 0:_.firstWeekContainsDate)??((U=(j=_==null?void 0:_.locale)==null?void 0:j.options)==null?void 0:U.firstWeekContainsDate)??A.firstWeekContainsDate??((V=(z=A.locale)==null?void 0:z.options)==null?void 0:V.firstWeekContainsDate)??1,P=(_==null?void 0:_.weekStartsOn)??((q=(F=_==null?void 0:_.locale)==null?void 0:F.options)==null?void 0:q.weekStartsOn)??A.weekStartsOn??((W=(B=A.locale)==null?void 0:B.options)==null?void 0:W.weekStartsOn)??0,R=toDate($);if(!isValid(R))throw new RangeError("Invalid time value");let I=E.match(longFormattingTokensRegExp).map(H=>{const G=H[0];if(G==="p"||G==="P"){const Z=longFormatters[G];return Z(H,T.formatLong)}return H}).join("").match(formattingTokensRegExp).map(H=>{if(H==="''")return{isToken:!1,value:"'"};const G=H[0];if(G==="'")return{isToken:!1,value:cleanEscapedString(H)};if(formatters[G])return{isToken:!0,value:H};if(G.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");return{isToken:!1,value:H}});T.localize.preprocessor&&(I=T.localize.preprocessor(R,I));const N={firstWeekContainsDate:O,weekStartsOn:P,locale:T};return I.map(H=>{if(!H.isToken)return H.value;const G=H.value;(!(_!=null&&_.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(G)||!(_!=null&&_.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(G))&&warnOrThrowProtectedError(G,E,String($));const Z=formatters[G[0]];return Z(R,G,T.localize,N)}).join("")}function cleanEscapedString($){const E=$.match(escapedStringRegExp);return E?E[1].replace(doubleQuoteRegExp,"'"):$}const formatDistanceLocale={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},formatDistance=($,E,_)=>{let A;const T=formatDistanceLocale[$];return typeof T=="string"?A=T:E===1?A=T.one:A=T.other.replace("{{count}}",String(E)),_!=null&&_.addSuffix?_.comparison&&_.comparison>0?"dans "+A:"il y a "+A:A},dateFormats={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},timeFormats={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dateTimeFormats={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},formatRelative=($,E,_,A)=>formatRelativeLocale[$],eraValues={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},quarterValues={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},dayValues={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},dayPeriodValues={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},ordinalNumber=($,E)=>{const _=Number($),A=E==null?void 0:E.unit;if(_===0)return"0";const T=["year","week","hour","minute","second"];let O;return _===1?O=A&&T.includes(A)?"ère":"er":O="ème",_+O},LONG_MONTHS_TOKENS=["MMM","MMMM"],localize={preprocessor:($,E)=>$.getDate()===1||!E.some(A=>A.isToken&&LONG_MONTHS_TOKENS.includes(A.value))?E:E.map(A=>A.isToken&&A.value==="do"?{isToken:!0,value:"d"}:A),ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:$=>$-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide"})},matchOrdinalNumberPattern=/^(\d+)(ième|ère|ème|er|e)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},parseEraPatterns={any:[/^av/i,/^ap/i]},matchQuarterPatterns={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},parseDayPatterns={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:$=>parseInt($)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:$=>$+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},fr={code:"fr",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:1,firstWeekContainsDate:4}},blogPosts=[{id:"1",title:"Comment détecter un HPI chez un enfant ?",slug:"comment-detecter-hpi-enfant",excerpt:"Les signes caractéristiques du haut potentiel intellectuel chez l'enfant et les étapes pour réaliser un diagnostic fiable.",content:`
# Comment détecter un HPI chez un enfant ?

Le haut potentiel intellectuel (HPI) chez l'enfant se manifeste de différentes manières et peut parfois être difficile à identifier. Voici un guide complet pour vous aider à reconnaître les signes et comprendre les étapes du diagnostic.

## Les signes caractéristiques du HPI

### Développement précoce
- Acquisition rapide du langage
- Curiosité intellectuelle intense
- Questions existentielles précoces
- Apprentissage rapide de la lecture

### Particularités comportementales
- Hypersensibilité émotionnelle
- Grande créativité
- Sens aigu de la justice
- Difficultés relationnelles possibles avec les pairs

### Fonctionnement cognitif
- Excellente mémoire
- Capacité d'abstraction précoce
- Raisonnement complexe
- Centres d'intérêt atypiques pour l'âge

## L'importance d'un diagnostic professionnel

Le diagnostic du HPI nécessite une évaluation complète par un professionnel qualifié. Cette évaluation comprend :

1. Un bilan psychométrique complet
2. Une analyse du développement
3. Un entretien avec les parents
4. Une observation en situation

## Impact sur la scolarité

Les enfants HPI peuvent présenter :
- D'excellents résultats scolaires
- Ou paradoxalement, des difficultés d'apprentissage
- Un ennui en classe
- Des problèmes de motivation

## Accompagnement adapté

Une fois le HPI identifié, il est essentiel de mettre en place un accompagnement approprié :
- Adaptation du parcours scolaire
- Soutien émotionnel
- Développement des compétences sociales
- Stimulation intellectuelle adaptée

## Conclusion

La détection précoce du HPI permet une meilleure prise en charge et un accompagnement adapté, favorisant l'épanouissement de l'enfant tant sur le plan intellectuel qu'émotionnel.
    `,category:"HPI",tags:["HPI","Enfant","Diagnostic","Développement","Scolarité"],author:"Laetitia Knoerr",date:"2024-03-15",imageUrl:"https://images.unsplash.com/photo-1503454537195-1dcabb73ffb9?auto=format&fit=crop&q=80",readTime:8}],categories=["TDAH","HPI","Apprentissage"];function BlogList(){const[$,E]=reactExports.useState(""),[_,A]=reactExports.useState("all"),T=blogPosts.filter(O=>{const P=O.title.toLowerCase().includes($.toLowerCase())||O.tags.some(I=>I.toLowerCase().includes($.toLowerCase())),R=_==="all"||O.category===_;return P&&R});return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1 max-w-lg",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Rechercher des articles...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:$,onChange:O=>E(O.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-lg ${_==="all"?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>A("all"),children:"Tous"}),categories.map(O=>jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-lg ${_===O?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>A(O),children:O},O))]})]})}),jsxRuntimeExports.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:T.map(O=>jsxRuntimeExports.jsxs("article",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:O.imageUrl,alt:O.title,className:"w-full h-48 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm",children:O.category}),jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm",children:format(new Date(O.date),"dd MMMM yyyy",{locale:fr})})]}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold font-lora text-dark mb-2",children:jsxRuntimeExports.jsx(Link,{to:`/blog/${O.slug}`,className:"hover:text-primary",children:O.title})}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:O.excerpt}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Tag,{className:"h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:O.tags.map(P=>jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500 hover:text-primary cursor-pointer",children:["#",P]},P))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:[O.readTime," min de lecture"]}),jsxRuntimeExports.jsx(Link,{to:`/blog/${O.slug}`,className:"text-primary hover:text-primary/80 font-semibold",children:"Lire la suite"})]})]})]},O.id))})]})}function Blog(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background",children:[jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:"Blog Neuropsychologie | TDAH, HPI et apprentissage - Laetitia Knoerr"}),jsxRuntimeExports.jsx("meta",{name:"description",content:"Articles et ressources sur la neuropsychologie, le TDAH, le HPI et les troubles de l'apprentissage. Conseils et informations par Laetitia Knoerr, neuropsychologue à Colmar."}),jsxRuntimeExports.jsx("link",{rel:"canonical",href:`${window.location.origin}/blog`})]}),jsxRuntimeExports.jsx("div",{className:"bg-white py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold font-lora text-dark mb-4",children:"Blog Neuropsychologie"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Découvrez nos articles sur la neuropsychologie, le TDAH, le HPI et les troubles de l'apprentissage"})]})}),jsxRuntimeExports.jsx(BlogList,{})]})}function BlogPost(){const{slug:$}=useParams(),E=blogPosts.find(A=>A.slug===$);if(!E)return jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[jsxRuntimeExports.jsx("p",{children:"Article non trouvé"}),jsxRuntimeExports.jsx(Link,{to:"/blog",className:"text-primary-500 hover:underline",children:"Retour au blog"})]});const _=window.location.href;return jsxRuntimeExports.jsx("div",{className:"bg-white min-h-screen",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[jsxRuntimeExports.jsxs(Link,{to:"/blog",className:"inline-flex items-center text-primary-500 hover:text-primary-600 mb-8 font-medium",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"}),"Retour au blog"]}),jsxRuntimeExports.jsxs("article",{className:"bg-white rounded-xl shadow-card overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:E.imageUrl,alt:E.title,className:"w-full h-[400px] object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-dark-500 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 mr-2"}),format(new Date(E.date),"dd MMMM yyyy",{locale:fr})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 mr-2"}),E.readTime," min de lecture"]})]}),jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold font-lora text-dark-800 mb-6 leading-tight",children:E.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[jsxRuntimeExports.jsx(Tag,{className:"h-4 w-4 text-dark-400"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:E.tags.map(A=>jsxRuntimeExports.jsxs("span",{className:"bg-primary-50 text-primary-700 px-3 py-1 rounded-full text-sm font-medium",children:["#",A]},A))})]}),jsxRuntimeExports.jsx("div",{className:"prose prose-lg max-w-none",children:jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:E.content}})}),jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 mt-12 pt-8",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-dark-800 mb-4",children:"Partager cet article"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${_}`,target:"_blank",rel:"noopener noreferrer",className:"text-dark-400 hover:text-[#1877F2] transition-colors","aria-label":"Partager sur Facebook",children:jsxRuntimeExports.jsx(Facebook,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("a",{href:`https://twitter.com/intent/tweet?url=${_}&text=${E.title}`,target:"_blank",rel:"noopener noreferrer",className:"text-dark-400 hover:text-[#1DA1F2] transition-colors","aria-label":"Partager sur Twitter",children:jsxRuntimeExports.jsx(Twitter,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("a",{href:`https://www.linkedin.com/shareArticle?mini=true&url=${_}&title=${E.title}`,target:"_blank",rel:"noopener noreferrer",className:"text-dark-400 hover:text-[#0A66C2] transition-colors","aria-label":"Partager sur LinkedIn",children:jsxRuntimeExports.jsx(Linkedin,{className:"h-6 w-6"})})]})]})]})]})]})})}var isCheckBoxInput=$=>$.type==="checkbox",isDateObject=$=>$ instanceof Date,isNullOrUndefined=$=>$==null;const isObjectType=$=>typeof $=="object";var isObject$1=$=>!isNullOrUndefined($)&&!Array.isArray($)&&isObjectType($)&&!isDateObject($),getEventValue=$=>isObject$1($)&&$.target?isCheckBoxInput($.target)?$.target.checked:$.target.value:$,getNodeParentName=$=>$.substring(0,$.search(/\.\d+(\.|$)/))||$,isNameInFieldArray=($,E)=>$.has(getNodeParentName(E)),isPlainObject=$=>{const E=$.constructor&&$.constructor.prototype;return isObject$1(E)&&E.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject($){let E;const _=Array.isArray($);if($ instanceof Date)E=new Date($);else if($ instanceof Set)E=new Set($);else if(!(isWeb&&($ instanceof Blob||$ instanceof FileList))&&(_||isObject$1($)))if(E=_?[]:{},!_&&!isPlainObject($))E=$;else for(const A in $)$.hasOwnProperty(A)&&(E[A]=cloneObject($[A]));else return $;return E}var compact=$=>Array.isArray($)?$.filter(Boolean):[],isUndefined=$=>$===void 0,get=($,E,_)=>{if(!E||!isObject$1($))return _;const A=compact(E.split(/[,[\].]+?/)).reduce((T,O)=>isNullOrUndefined(T)?T:T[O],$);return isUndefined(A)||A===$?isUndefined($[E])?_:$[E]:A},isBoolean=$=>typeof $=="boolean",isKey=$=>/^\w*$/.test($),stringToPath=$=>compact($.replace(/["|']|\]/g,"").split(/\.|\[/)),set$1=($,E,_)=>{let A=-1;const T=isKey(E)?[E]:stringToPath(E),O=T.length,P=O-1;for(;++A<O;){const R=T[A];let I=_;if(A!==P){const N=$[R];I=isObject$1(N)||Array.isArray(N)?N:isNaN(+T[A+1])?{}:[]}if(R==="__proto__")return;$[R]=I,$=$[R]}return $};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};React.createContext(null);var getProxyFormState=($,E,_,A=!0)=>{const T={defaultValues:E._defaultValues};for(const O in $)Object.defineProperty(T,O,{get:()=>{const P=O;return E._proxyFormState[P]!==VALIDATION_MODE.all&&(E._proxyFormState[P]=!A||VALIDATION_MODE.all),$[P]}});return T},isEmptyObject=$=>isObject$1($)&&!Object.keys($).length,shouldRenderFormState=($,E,_,A)=>{_($);const{name:T,...O}=$;return isEmptyObject(O)||Object.keys(O).length>=Object.keys(E).length||Object.keys(O).find(P=>E[P]===VALIDATION_MODE.all)},convertToArrayPayload=$=>Array.isArray($)?$:[$];function useSubscribe($){const E=React.useRef($);E.current=$,React.useEffect(()=>{const _=!$.disabled&&E.current.subject&&E.current.subject.subscribe({next:E.current.next});return()=>{_&&_.unsubscribe()}},[$.disabled])}var isString=$=>typeof $=="string",generateWatchOutput=($,E,_,A,T)=>isString($)?(A&&E.watch.add($),get(_,$,T)):Array.isArray($)?$.map(O=>(A&&E.watch.add(O),get(_,O))):(A&&(E.watchAll=!0),_),appendErrors=($,E,_,A,T)=>E?{..._[$],types:{..._[$]&&_[$].types?_[$].types:{},[A]:T||!0}}:{},getValidationModes=$=>({isOnSubmit:!$||$===VALIDATION_MODE.onSubmit,isOnBlur:$===VALIDATION_MODE.onBlur,isOnChange:$===VALIDATION_MODE.onChange,isOnAll:$===VALIDATION_MODE.all,isOnTouch:$===VALIDATION_MODE.onTouched}),isWatched=($,E,_)=>!_&&(E.watchAll||E.watch.has($)||[...E.watch].some(A=>$.startsWith(A)&&/^\.\w+/.test($.slice(A.length))));const iterateFieldsByAction=($,E,_,A)=>{for(const T of _||Object.keys($)){const O=get($,T);if(O){const{_f:P,...R}=O;if(P){if(P.refs&&P.refs[0]&&E(P.refs[0],T)&&!A)return!0;if(P.ref&&E(P.ref,P.name)&&!A)return!0;if(iterateFieldsByAction(R,E))break}else if(isObject$1(R)&&iterateFieldsByAction(R,E))break}}};var updateFieldArrayRootError=($,E,_)=>{const A=convertToArrayPayload(get($,_));return set$1(A,"root",E[_]),set$1($,_,A),$},isFileInput=$=>$.type==="file",isFunction=$=>typeof $=="function",isHTMLElement=$=>{if(!isWeb)return!1;const E=$?$.ownerDocument:0;return $ instanceof(E&&E.defaultView?E.defaultView.HTMLElement:HTMLElement)},isMessage=$=>isString($),isRadioInput=$=>$.type==="radio",isRegex=$=>$ instanceof RegExp;const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=$=>{if(Array.isArray($)){if($.length>1){const E=$.filter(_=>_&&_.checked&&!_.disabled).map(_=>_.value);return{value:E,isValid:!!E.length}}return $[0].checked&&!$[0].disabled?$[0].attributes&&!isUndefined($[0].attributes.value)?isUndefined($[0].value)||$[0].value===""?validResult:{value:$[0].value,isValid:!0}:validResult:defaultResult}return defaultResult};const defaultReturn={isValid:!1,value:null};var getRadioValue=$=>Array.isArray($)?$.reduce((E,_)=>_&&_.checked&&!_.disabled?{isValid:!0,value:_.value}:E,defaultReturn):defaultReturn;function getValidateError($,E,_="validate"){if(isMessage($)||Array.isArray($)&&$.every(isMessage)||isBoolean($)&&!$)return{type:_,message:isMessage($)?$:"",ref:E}}var getValueAndMessage=$=>isObject$1($)&&!isRegex($)?$:{value:$,message:""},validateField=async($,E,_,A,T)=>{const{ref:O,refs:P,required:R,maxLength:I,minLength:N,min:j,max:U,pattern:z,validate:V,name:F,valueAsNumber:q,mount:B,disabled:W}=$._f,H=get(E,F);if(!B||W)return{};const G=P?P[0]:O,Z=ie=>{A&&G.reportValidity&&(G.setCustomValidity(isBoolean(ie)?"":ie||""),G.reportValidity())},Y={},ee=isRadioInput(O),J=isCheckBoxInput(O),Q=ee||J,te=(q||isFileInput(O))&&isUndefined(O.value)&&isUndefined(H)||isHTMLElement(O)&&O.value===""||H===""||Array.isArray(H)&&!H.length,se=appendErrors.bind(null,F,_,Y),de=(ie,ve,xe,ke=INPUT_VALIDATION_RULES.maxLength,Ce=INPUT_VALIDATION_RULES.minLength)=>{const Oe=ie?ve:xe;Y[F]={type:ie?ke:Ce,message:Oe,ref:O,...se(ie?ke:Ce,Oe)}};if(T?!Array.isArray(H)||!H.length:R&&(!Q&&(te||isNullOrUndefined(H))||isBoolean(H)&&!H||J&&!getCheckboxValue(P).isValid||ee&&!getRadioValue(P).isValid)){const{value:ie,message:ve}=isMessage(R)?{value:!!R,message:R}:getValueAndMessage(R);if(ie&&(Y[F]={type:INPUT_VALIDATION_RULES.required,message:ve,ref:G,...se(INPUT_VALIDATION_RULES.required,ve)},!_))return Z(ve),Y}if(!te&&(!isNullOrUndefined(j)||!isNullOrUndefined(U))){let ie,ve;const xe=getValueAndMessage(U),ke=getValueAndMessage(j);if(!isNullOrUndefined(H)&&!isNaN(H)){const Ce=O.valueAsNumber||H&&+H;isNullOrUndefined(xe.value)||(ie=Ce>xe.value),isNullOrUndefined(ke.value)||(ve=Ce<ke.value)}else{const Ce=O.valueAsDate||new Date(H),Oe=Ee=>new Date(new Date().toDateString()+" "+Ee),Ae=O.type=="time",Pe=O.type=="week";isString(xe.value)&&H&&(ie=Ae?Oe(H)>Oe(xe.value):Pe?H>xe.value:Ce>new Date(xe.value)),isString(ke.value)&&H&&(ve=Ae?Oe(H)<Oe(ke.value):Pe?H<ke.value:Ce<new Date(ke.value))}if((ie||ve)&&(de(!!ie,xe.message,ke.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!_))return Z(Y[F].message),Y}if((I||N)&&!te&&(isString(H)||T&&Array.isArray(H))){const ie=getValueAndMessage(I),ve=getValueAndMessage(N),xe=!isNullOrUndefined(ie.value)&&H.length>+ie.value,ke=!isNullOrUndefined(ve.value)&&H.length<+ve.value;if((xe||ke)&&(de(xe,ie.message,ve.message),!_))return Z(Y[F].message),Y}if(z&&!te&&isString(H)){const{value:ie,message:ve}=getValueAndMessage(z);if(isRegex(ie)&&!H.match(ie)&&(Y[F]={type:INPUT_VALIDATION_RULES.pattern,message:ve,ref:O,...se(INPUT_VALIDATION_RULES.pattern,ve)},!_))return Z(ve),Y}if(V){if(isFunction(V)){const ie=await V(H,E),ve=getValidateError(ie,G);if(ve&&(Y[F]={...ve,...se(INPUT_VALIDATION_RULES.validate,ve.message)},!_))return Z(ve.message),Y}else if(isObject$1(V)){let ie={};for(const ve in V){if(!isEmptyObject(ie)&&!_)break;const xe=getValidateError(await V[ve](H,E),G,ve);xe&&(ie={...xe,...se(ve,xe.message)},Z(xe.message),_&&(Y[F]=ie))}if(!isEmptyObject(ie)&&(Y[F]={ref:G,...ie},!_))return Y}}return Z(!0),Y};function baseGet($,E){const _=E.slice(0,-1).length;let A=0;for(;A<_;)$=isUndefined($)?A++:$[E[A++]];return $}function isEmptyArray($){for(const E in $)if($.hasOwnProperty(E)&&!isUndefined($[E]))return!1;return!0}function unset($,E){const _=Array.isArray(E)?E:isKey(E)?[E]:stringToPath(E),A=_.length===1?$:baseGet($,_),T=_.length-1,O=_[T];return A&&delete A[O],T!==0&&(isObject$1(A)&&isEmptyObject(A)||Array.isArray(A)&&isEmptyArray(A))&&unset($,_.slice(0,-1)),$}var createSubject=()=>{let $=[];return{get observers(){return $},next:T=>{for(const O of $)O.next&&O.next(T)},subscribe:T=>($.push(T),{unsubscribe:()=>{$=$.filter(O=>O!==T)}}),unsubscribe:()=>{$=[]}}},isPrimitive=$=>isNullOrUndefined($)||!isObjectType($);function deepEqual$1($,E){if(isPrimitive($)||isPrimitive(E))return $===E;if(isDateObject($)&&isDateObject(E))return $.getTime()===E.getTime();const _=Object.keys($),A=Object.keys(E);if(_.length!==A.length)return!1;for(const T of _){const O=$[T];if(!A.includes(T))return!1;if(T!=="ref"){const P=E[T];if(isDateObject(O)&&isDateObject(P)||isObject$1(O)&&isObject$1(P)||Array.isArray(O)&&Array.isArray(P)?!deepEqual$1(O,P):O!==P)return!1}}return!0}var isMultipleSelect=$=>$.type==="select-multiple",isRadioOrCheckbox=$=>isRadioInput($)||isCheckBoxInput($),live=$=>isHTMLElement($)&&$.isConnected,objectHasFunction=$=>{for(const E in $)if(isFunction($[E]))return!0;return!1};function markFieldsDirty($,E={}){const _=Array.isArray($);if(isObject$1($)||_)for(const A in $)Array.isArray($[A])||isObject$1($[A])&&!objectHasFunction($[A])?(E[A]=Array.isArray($[A])?[]:{},markFieldsDirty($[A],E[A])):isNullOrUndefined($[A])||(E[A]=!0);return E}function getDirtyFieldsFromDefaultValues($,E,_){const A=Array.isArray($);if(isObject$1($)||A)for(const T in $)Array.isArray($[T])||isObject$1($[T])&&!objectHasFunction($[T])?isUndefined(E)||isPrimitive(_[T])?_[T]=Array.isArray($[T])?markFieldsDirty($[T],[]):{...markFieldsDirty($[T])}:getDirtyFieldsFromDefaultValues($[T],isNullOrUndefined(E)?{}:E[T],_[T]):_[T]=!deepEqual$1($[T],E[T]);return _}var getDirtyFields=($,E)=>getDirtyFieldsFromDefaultValues($,E,markFieldsDirty(E)),getFieldValueAs=($,{valueAsNumber:E,valueAsDate:_,setValueAs:A})=>isUndefined($)?$:E?$===""?NaN:$&&+$:_&&isString($)?new Date($):A?A($):$;function getFieldValue($){const E=$.ref;if(!($.refs?$.refs.every(_=>_.disabled):E.disabled))return isFileInput(E)?E.files:isRadioInput(E)?getRadioValue($.refs).value:isMultipleSelect(E)?[...E.selectedOptions].map(({value:_})=>_):isCheckBoxInput(E)?getCheckboxValue($.refs).value:getFieldValueAs(isUndefined(E.value)?$.ref.value:E.value,$)}var getResolverOptions=($,E,_,A)=>{const T={};for(const O of $){const P=get(E,O);P&&set$1(T,O,P._f)}return{criteriaMode:_,names:[...$],fields:T,shouldUseNativeValidation:A}},getRuleValue=$=>isUndefined($)?$:isRegex($)?$.source:isObject$1($)?isRegex($.value)?$.value.source:$.value:$;const ASYNC_FUNCTION="AsyncFunction";var hasPromiseValidation=$=>(!$||!$.validate)&&!!(isFunction($.validate)&&$.validate.constructor.name===ASYNC_FUNCTION||isObject$1($.validate)&&Object.values($.validate).find(E=>E.constructor.name===ASYNC_FUNCTION)),hasValidation=$=>$.mount&&($.required||$.min||$.max||$.maxLength||$.minLength||$.pattern||$.validate);function schemaErrorLookup($,E,_){const A=get($,_);if(A||isKey(_))return{error:A,name:_};const T=_.split(".");for(;T.length;){const O=T.join("."),P=get(E,O),R=get($,O);if(P&&!Array.isArray(P)&&_!==O)return{name:_};if(R&&R.type)return{name:O,error:R};T.pop()}return{name:_}}var skipValidation=($,E,_,A,T)=>T.isOnAll?!1:!_&&T.isOnTouch?!(E||$):(_?A.isOnBlur:T.isOnBlur)?!$:(_?A.isOnChange:T.isOnChange)?$:!0,unsetEmptyArray=($,E)=>!compact(get($,E)).length&&unset($,E);const defaultOptions={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl($={}){let E={...defaultOptions,...$},_={submitCount:0,isDirty:!1,isLoading:isFunction(E.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:E.errors||{},disabled:E.disabled||!1},A={},T=isObject$1(E.defaultValues)||isObject$1(E.values)?cloneObject(E.defaultValues||E.values)||{}:{},O=E.shouldUnregister?{}:cloneObject(T),P={action:!1,mount:!1,watch:!1},R={mount:new Set,unMount:new Set,array:new Set,watch:new Set},I,N=0;const j={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},U={values:createSubject(),array:createSubject(),state:createSubject()},z=getValidationModes(E.mode),V=getValidationModes(E.reValidateMode),F=E.criteriaMode===VALIDATION_MODE.all,q=Be=>$e=>{clearTimeout(N),N=setTimeout(Be,$e)},B=async Be=>{if(!E.disabled&&(j.isValid||Be)){const $e=E.resolver?isEmptyObject((await Q()).errors):await se(A,!0);$e!==_.isValid&&U.state.next({isValid:$e})}},W=(Be,$e)=>{!E.disabled&&(j.isValidating||j.validatingFields)&&((Be||Array.from(R.mount)).forEach(Xe=>{Xe&&($e?set$1(_.validatingFields,Xe,$e):unset(_.validatingFields,Xe))}),U.state.next({validatingFields:_.validatingFields,isValidating:!isEmptyObject(_.validatingFields)}))},H=(Be,$e=[],Xe,lt,dt=!0,ft=!0)=>{if(lt&&Xe&&!E.disabled){if(P.action=!0,ft&&Array.isArray(get(A,Be))){const St=Xe(get(A,Be),lt.argA,lt.argB);dt&&set$1(A,Be,St)}if(ft&&Array.isArray(get(_.errors,Be))){const St=Xe(get(_.errors,Be),lt.argA,lt.argB);dt&&set$1(_.errors,Be,St),unsetEmptyArray(_.errors,Be)}if(j.touchedFields&&ft&&Array.isArray(get(_.touchedFields,Be))){const St=Xe(get(_.touchedFields,Be),lt.argA,lt.argB);dt&&set$1(_.touchedFields,Be,St)}j.dirtyFields&&(_.dirtyFields=getDirtyFields(T,O)),U.state.next({name:Be,isDirty:ie(Be,$e),dirtyFields:_.dirtyFields,errors:_.errors,isValid:_.isValid})}else set$1(O,Be,$e)},G=(Be,$e)=>{set$1(_.errors,Be,$e),U.state.next({errors:_.errors})},Z=Be=>{_.errors=Be,U.state.next({errors:_.errors,isValid:!1})},Y=(Be,$e,Xe,lt)=>{const dt=get(A,Be);if(dt){const ft=get(O,Be,isUndefined(Xe)?get(T,Be):Xe);isUndefined(ft)||lt&&lt.defaultChecked||$e?set$1(O,Be,$e?ft:getFieldValue(dt._f)):ke(Be,ft),P.mount&&B()}},ee=(Be,$e,Xe,lt,dt)=>{let ft=!1,St=!1;const Mt={name:Be};if(!E.disabled){const ht=!!(get(A,Be)&&get(A,Be)._f&&get(A,Be)._f.disabled);if(!Xe||lt){j.isDirty&&(St=_.isDirty,_.isDirty=Mt.isDirty=ie(),ft=St!==Mt.isDirty);const ct=ht||deepEqual$1(get(T,Be),$e);St=!!(!ht&&get(_.dirtyFields,Be)),ct||ht?unset(_.dirtyFields,Be):set$1(_.dirtyFields,Be,!0),Mt.dirtyFields=_.dirtyFields,ft=ft||j.dirtyFields&&St!==!ct}if(Xe){const ct=get(_.touchedFields,Be);ct||(set$1(_.touchedFields,Be,Xe),Mt.touchedFields=_.touchedFields,ft=ft||j.touchedFields&&ct!==Xe)}ft&&dt&&U.state.next(Mt)}return ft?Mt:{}},J=(Be,$e,Xe,lt)=>{const dt=get(_.errors,Be),ft=j.isValid&&isBoolean($e)&&_.isValid!==$e;if($.delayError&&Xe?(I=q(()=>G(Be,Xe)),I($.delayError)):(clearTimeout(N),I=null,Xe?set$1(_.errors,Be,Xe):unset(_.errors,Be)),(Xe?!deepEqual$1(dt,Xe):dt)||!isEmptyObject(lt)||ft){const St={...lt,...ft&&isBoolean($e)?{isValid:$e}:{},errors:_.errors,name:Be};_={..._,...St},U.state.next(St)}},Q=async Be=>{W(Be,!0);const $e=await E.resolver(O,E.context,getResolverOptions(Be||R.mount,A,E.criteriaMode,E.shouldUseNativeValidation));return W(Be),$e},te=async Be=>{const{errors:$e}=await Q(Be);if(Be)for(const Xe of Be){const lt=get($e,Xe);lt?set$1(_.errors,Xe,lt):unset(_.errors,Xe)}else _.errors=$e;return $e},se=async(Be,$e,Xe={valid:!0})=>{for(const lt in Be){const dt=Be[lt];if(dt){const{_f:ft,...St}=dt;if(ft){const Mt=R.array.has(ft.name),ht=dt._f&&hasPromiseValidation(dt._f);ht&&j.validatingFields&&W([lt],!0);const ct=await validateField(dt,O,F,E.shouldUseNativeValidation&&!$e,Mt);if(ht&&j.validatingFields&&W([lt]),ct[ft.name]&&(Xe.valid=!1,$e))break;!$e&&(get(ct,ft.name)?Mt?updateFieldArrayRootError(_.errors,ct,ft.name):set$1(_.errors,ft.name,ct[ft.name]):unset(_.errors,ft.name))}!isEmptyObject(St)&&await se(St,$e,Xe)}}return Xe.valid},de=()=>{for(const Be of R.unMount){const $e=get(A,Be);$e&&($e._f.refs?$e._f.refs.every(Xe=>!live(Xe)):!live($e._f.ref))&&je(Be)}R.unMount=new Set},ie=(Be,$e)=>!E.disabled&&(Be&&$e&&set$1(O,Be,$e),!deepEqual$1(Te(),T)),ve=(Be,$e,Xe)=>generateWatchOutput(Be,R,{...P.mount?O:isUndefined($e)?T:isString(Be)?{[Be]:$e}:$e},Xe,$e),xe=Be=>compact(get(P.mount?O:T,Be,$.shouldUnregister?get(T,Be,[]):[])),ke=(Be,$e,Xe={})=>{const lt=get(A,Be);let dt=$e;if(lt){const ft=lt._f;ft&&(!ft.disabled&&set$1(O,Be,getFieldValueAs($e,ft)),dt=isHTMLElement(ft.ref)&&isNullOrUndefined($e)?"":$e,isMultipleSelect(ft.ref)?[...ft.ref.options].forEach(St=>St.selected=dt.includes(St.value)):ft.refs?isCheckBoxInput(ft.ref)?ft.refs.length>1?ft.refs.forEach(St=>(!St.defaultChecked||!St.disabled)&&(St.checked=Array.isArray(dt)?!!dt.find(Mt=>Mt===St.value):dt===St.value)):ft.refs[0]&&(ft.refs[0].checked=!!dt):ft.refs.forEach(St=>St.checked=St.value===dt):isFileInput(ft.ref)?ft.ref.value="":(ft.ref.value=dt,ft.ref.type||U.values.next({name:Be,values:{...O}})))}(Xe.shouldDirty||Xe.shouldTouch)&&ee(Be,dt,Xe.shouldTouch,Xe.shouldDirty,!0),Xe.shouldValidate&&Ee(Be)},Ce=(Be,$e,Xe)=>{for(const lt in $e){const dt=$e[lt],ft=`${Be}.${lt}`,St=get(A,ft);(R.array.has(Be)||isObject$1(dt)||St&&!St._f)&&!isDateObject(dt)?Ce(ft,dt,Xe):ke(ft,dt,Xe)}},Oe=(Be,$e,Xe={})=>{const lt=get(A,Be),dt=R.array.has(Be),ft=cloneObject($e);set$1(O,Be,ft),dt?(U.array.next({name:Be,values:{...O}}),(j.isDirty||j.dirtyFields)&&Xe.shouldDirty&&U.state.next({name:Be,dirtyFields:getDirtyFields(T,O),isDirty:ie(Be,ft)})):lt&&!lt._f&&!isNullOrUndefined(ft)?Ce(Be,ft,Xe):ke(Be,ft,Xe),isWatched(Be,R)&&U.state.next({..._}),U.values.next({name:P.mount?Be:void 0,values:{...O}})},Ae=async Be=>{P.mount=!0;const $e=Be.target;let Xe=$e.name,lt=!0;const dt=get(A,Xe),ft=()=>$e.type?getFieldValue(dt._f):getEventValue(Be),St=Mt=>{lt=Number.isNaN(Mt)||isDateObject(Mt)&&isNaN(Mt.getTime())||deepEqual$1(Mt,get(O,Xe,Mt))};if(dt){let Mt,ht;const ct=ft(),vt=Be.type===EVENTS.BLUR||Be.type===EVENTS.FOCUS_OUT,Et=!hasValidation(dt._f)&&!E.resolver&&!get(_.errors,Xe)&&!dt._f.deps||skipValidation(vt,get(_.touchedFields,Xe),_.isSubmitted,V,z),gt=isWatched(Xe,R,vt);set$1(O,Xe,ct),vt?(dt._f.onBlur&&dt._f.onBlur(Be),I&&I(0)):dt._f.onChange&&dt._f.onChange(Be);const xt=ee(Xe,ct,vt,!1),at=!isEmptyObject(xt)||gt;if(!vt&&U.values.next({name:Xe,type:Be.type,values:{...O}}),Et)return j.isValid&&($.mode==="onBlur"?vt&&B():B()),at&&U.state.next({name:Xe,...gt?{}:xt});if(!vt&&gt&&U.state.next({..._}),E.resolver){const{errors:$t}=await Q([Xe]);if(St(ct),lt){const Qt=schemaErrorLookup(_.errors,A,Xe),Vt=schemaErrorLookup($t,A,Qt.name||Xe);Mt=Vt.error,Xe=Vt.name,ht=isEmptyObject($t)}}else W([Xe],!0),Mt=(await validateField(dt,O,F,E.shouldUseNativeValidation))[Xe],W([Xe]),St(ct),lt&&(Mt?ht=!1:j.isValid&&(ht=await se(A,!0)));lt&&(dt._f.deps&&Ee(dt._f.deps),J(Xe,ht,Mt,xt))}},Pe=(Be,$e)=>{if(get(_.errors,$e)&&Be.focus)return Be.focus(),1},Ee=async(Be,$e={})=>{let Xe,lt;const dt=convertToArrayPayload(Be);if(E.resolver){const ft=await te(isUndefined(Be)?Be:dt);Xe=isEmptyObject(ft),lt=Be?!dt.some(St=>get(ft,St)):Xe}else Be?(lt=(await Promise.all(dt.map(async ft=>{const St=get(A,ft);return await se(St&&St._f?{[ft]:St}:St)}))).every(Boolean),!(!lt&&!_.isValid)&&B()):lt=Xe=await se(A);return U.state.next({...!isString(Be)||j.isValid&&Xe!==_.isValid?{}:{name:Be},...E.resolver||!Be?{isValid:Xe}:{},errors:_.errors}),$e.shouldFocus&&!lt&&iterateFieldsByAction(A,Pe,Be?dt:R.mount),lt},Te=Be=>{const $e={...P.mount?O:T};return isUndefined(Be)?$e:isString(Be)?get($e,Be):Be.map(Xe=>get($e,Xe))},Re=(Be,$e)=>({invalid:!!get(($e||_).errors,Be),isDirty:!!get(($e||_).dirtyFields,Be),error:get(($e||_).errors,Be),isValidating:!!get(_.validatingFields,Be),isTouched:!!get(($e||_).touchedFields,Be)}),Me=Be=>{Be&&convertToArrayPayload(Be).forEach($e=>unset(_.errors,$e)),U.state.next({errors:Be?_.errors:{}})},ze=(Be,$e,Xe)=>{const lt=(get(A,Be,{_f:{}})._f||{}).ref,dt=get(_.errors,Be)||{},{ref:ft,message:St,type:Mt,...ht}=dt;set$1(_.errors,Be,{...ht,...$e,ref:lt}),U.state.next({name:Be,errors:_.errors,isValid:!1}),Xe&&Xe.shouldFocus&&lt&&lt.focus&&lt.focus()},Le=(Be,$e)=>isFunction(Be)?U.values.subscribe({next:Xe=>Be(ve(void 0,$e),Xe)}):ve(Be,$e,!0),je=(Be,$e={})=>{for(const Xe of Be?convertToArrayPayload(Be):R.mount)R.mount.delete(Xe),R.array.delete(Xe),$e.keepValue||(unset(A,Xe),unset(O,Xe)),!$e.keepError&&unset(_.errors,Xe),!$e.keepDirty&&unset(_.dirtyFields,Xe),!$e.keepTouched&&unset(_.touchedFields,Xe),!$e.keepIsValidating&&unset(_.validatingFields,Xe),!E.shouldUnregister&&!$e.keepDefaultValue&&unset(T,Xe);U.values.next({values:{...O}}),U.state.next({..._,...$e.keepDirty?{isDirty:ie()}:{}}),!$e.keepIsValid&&B()},Ne=({disabled:Be,name:$e,field:Xe,fields:lt,value:dt})=>{if(isBoolean(Be)&&P.mount||Be){const ft=Be?void 0:isUndefined(dt)?getFieldValue(Xe?Xe._f:get(lt,$e)._f):dt;set$1(O,$e,ft),ee($e,ft,!1,!1,!0)}},qe=(Be,$e={})=>{let Xe=get(A,Be);const lt=isBoolean($e.disabled)||isBoolean(E.disabled);return set$1(A,Be,{...Xe||{},_f:{...Xe&&Xe._f?Xe._f:{ref:{name:Be}},name:Be,mount:!0,...$e}}),R.mount.add(Be),Xe?Ne({field:Xe,disabled:isBoolean($e.disabled)?$e.disabled:E.disabled,name:Be,value:$e.value}):Y(Be,!0,$e.value),{...lt?{disabled:$e.disabled||E.disabled}:{},...E.progressive?{required:!!$e.required,min:getRuleValue($e.min),max:getRuleValue($e.max),minLength:getRuleValue($e.minLength),maxLength:getRuleValue($e.maxLength),pattern:getRuleValue($e.pattern)}:{},name:Be,onChange:Ae,onBlur:Ae,ref:dt=>{if(dt){qe(Be,$e),Xe=get(A,Be);const ft=isUndefined(dt.value)&&dt.querySelectorAll&&dt.querySelectorAll("input,select,textarea")[0]||dt,St=isRadioOrCheckbox(ft),Mt=Xe._f.refs||[];if(St?Mt.find(ht=>ht===ft):ft===Xe._f.ref)return;set$1(A,Be,{_f:{...Xe._f,...St?{refs:[...Mt.filter(live),ft,...Array.isArray(get(T,Be))?[{}]:[]],ref:{type:ft.type,name:Be}}:{ref:ft}}}),Y(Be,!1,void 0,ft)}else Xe=get(A,Be,{}),Xe._f&&(Xe._f.mount=!1),(E.shouldUnregister||$e.shouldUnregister)&&!(isNameInFieldArray(R.array,Be)&&P.action)&&R.unMount.add(Be)}}},Ye=()=>E.shouldFocusError&&iterateFieldsByAction(A,Pe,R.mount),Ve=Be=>{isBoolean(Be)&&(U.state.next({disabled:Be}),iterateFieldsByAction(A,($e,Xe)=>{const lt=get(A,Xe);lt&&($e.disabled=lt._f.disabled||Be,Array.isArray(lt._f.refs)&&lt._f.refs.forEach(dt=>{dt.disabled=lt._f.disabled||Be}))},0,!1))},tt=(Be,$e)=>async Xe=>{let lt;if(Xe&&(Xe.preventDefault&&Xe.preventDefault(),Xe.persist&&Xe.persist()),E.disabled){$e&&await $e({..._.errors},Xe);return}let dt=cloneObject(O);if(U.state.next({isSubmitting:!0}),E.resolver){const{errors:ft,values:St}=await Q();_.errors=ft,dt=St}else await se(A);if(unset(_.errors,"root"),isEmptyObject(_.errors)){U.state.next({errors:{}});try{await Be(dt,Xe)}catch(ft){lt=ft}}else $e&&await $e({..._.errors},Xe),Ye(),setTimeout(Ye);if(U.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(_.errors)&&!lt,submitCount:_.submitCount+1,errors:_.errors}),lt)throw lt},it=(Be,$e={})=>{get(A,Be)&&(isUndefined($e.defaultValue)?Oe(Be,cloneObject(get(T,Be))):(Oe(Be,$e.defaultValue),set$1(T,Be,cloneObject($e.defaultValue))),$e.keepTouched||unset(_.touchedFields,Be),$e.keepDirty||(unset(_.dirtyFields,Be),_.isDirty=$e.defaultValue?ie(Be,cloneObject(get(T,Be))):ie()),$e.keepError||(unset(_.errors,Be),j.isValid&&B()),U.state.next({..._}))},Ze=(Be,$e={})=>{const Xe=Be?cloneObject(Be):T,lt=cloneObject(Xe),dt=isEmptyObject(Be),ft=dt?T:lt;if($e.keepDefaultValues||(T=Xe),!$e.keepValues){if($e.keepDirtyValues){const St=new Set([...R.mount,...Object.keys(getDirtyFields(T,O))]);for(const Mt of Array.from(St))get(_.dirtyFields,Mt)?set$1(ft,Mt,get(O,Mt)):Oe(Mt,get(ft,Mt))}else{if(isWeb&&isUndefined(Be))for(const St of R.mount){const Mt=get(A,St);if(Mt&&Mt._f){const ht=Array.isArray(Mt._f.refs)?Mt._f.refs[0]:Mt._f.ref;if(isHTMLElement(ht)){const ct=ht.closest("form");if(ct){ct.reset();break}}}}A={}}O=$.shouldUnregister?$e.keepDefaultValues?cloneObject(T):{}:cloneObject(ft),U.array.next({values:{...ft}}),U.values.next({values:{...ft}})}R={mount:$e.keepDirtyValues?R.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},P.mount=!j.isValid||!!$e.keepIsValid||!!$e.keepDirtyValues,P.watch=!!$.shouldUnregister,U.state.next({submitCount:$e.keepSubmitCount?_.submitCount:0,isDirty:dt?!1:$e.keepDirty?_.isDirty:!!($e.keepDefaultValues&&!deepEqual$1(Be,T)),isSubmitted:$e.keepIsSubmitted?_.isSubmitted:!1,dirtyFields:dt?{}:$e.keepDirtyValues?$e.keepDefaultValues&&O?getDirtyFields(T,O):_.dirtyFields:$e.keepDefaultValues&&Be?getDirtyFields(T,Be):$e.keepDirty?_.dirtyFields:{},touchedFields:$e.keepTouched?_.touchedFields:{},errors:$e.keepErrors?_.errors:{},isSubmitSuccessful:$e.keepIsSubmitSuccessful?_.isSubmitSuccessful:!1,isSubmitting:!1})},We=(Be,$e)=>Ze(isFunction(Be)?Be(O):Be,$e);return{control:{register:qe,unregister:je,getFieldState:Re,handleSubmit:tt,setError:ze,_executeSchema:Q,_getWatch:ve,_getDirty:ie,_updateValid:B,_removeUnmounted:de,_updateFieldArray:H,_updateDisabledField:Ne,_getFieldArray:xe,_reset:Ze,_resetDefaultValues:()=>isFunction(E.defaultValues)&&E.defaultValues().then(Be=>{We(Be,E.resetOptions),U.state.next({isLoading:!1})}),_updateFormState:Be=>{_={..._,...Be}},_disableForm:Ve,_subjects:U,_proxyFormState:j,_setErrors:Z,get _fields(){return A},get _formValues(){return O},get _state(){return P},set _state(Be){P=Be},get _defaultValues(){return T},get _names(){return R},set _names(Be){R=Be},get _formState(){return _},set _formState(Be){_=Be},get _options(){return E},set _options(Be){E={...E,...Be}}},trigger:Ee,register:qe,handleSubmit:tt,watch:Le,setValue:Oe,getValues:Te,reset:We,resetField:it,clearErrors:Me,unregister:je,setError:ze,setFocus:(Be,$e={})=>{const Xe=get(A,Be),lt=Xe&&Xe._f;if(lt){const dt=lt.refs?lt.refs[0]:lt.ref;dt.focus&&(dt.focus(),$e.shouldSelect&&isFunction(dt.select)&&dt.select())}},getFieldState:Re}}function useForm($={}){const E=React.useRef(),_=React.useRef(),[A,T]=React.useState({isDirty:!1,isValidating:!1,isLoading:isFunction($.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:$.errors||{},disabled:$.disabled||!1,defaultValues:isFunction($.defaultValues)?void 0:$.defaultValues});E.current||(E.current={...createFormControl($),formState:A});const O=E.current.control;return O._options=$,useSubscribe({subject:O._subjects.state,next:P=>{shouldRenderFormState(P,O._proxyFormState,O._updateFormState)&&T({...O._formState})}}),React.useEffect(()=>O._disableForm($.disabled),[O,$.disabled]),React.useEffect(()=>{if(O._proxyFormState.isDirty){const P=O._getDirty();P!==A.isDirty&&O._subjects.state.next({isDirty:P})}},[O,A.isDirty]),React.useEffect(()=>{$.values&&!deepEqual$1($.values,_.current)?(O._reset($.values,O._options.resetOptions),_.current=$.values,T(P=>({...P}))):O._resetDefaultValues()},[$.values,O]),React.useEffect(()=>{$.errors&&O._setErrors($.errors)},[$.errors,O]),React.useEffect(()=>{O._state.mount||(O._updateValid(),O._state.mount=!0),O._state.watch&&(O._state.watch=!1,O._subjects.state.next({...O._formState})),O._removeUnmounted()}),React.useEffect(()=>{$.shouldUnregister&&O._subjects.values.next({values:O._getWatch()})},[$.shouldUnregister,O]),E.current.formState=getProxyFormState(A,O),E.current}var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function($){const E=[];let _=0;for(let A=0;A<$.length;A++){let T=$.charCodeAt(A);T<128?E[_++]=T:T<2048?(E[_++]=T>>6|192,E[_++]=T&63|128):(T&64512)===55296&&A+1<$.length&&($.charCodeAt(A+1)&64512)===56320?(T=65536+((T&1023)<<10)+($.charCodeAt(++A)&1023),E[_++]=T>>18|240,E[_++]=T>>12&63|128,E[_++]=T>>6&63|128,E[_++]=T&63|128):(E[_++]=T>>12|224,E[_++]=T>>6&63|128,E[_++]=T&63|128)}return E},byteArrayToString=function($){const E=[];let _=0,A=0;for(;_<$.length;){const T=$[_++];if(T<128)E[A++]=String.fromCharCode(T);else if(T>191&&T<224){const O=$[_++];E[A++]=String.fromCharCode((T&31)<<6|O&63)}else if(T>239&&T<365){const O=$[_++],P=$[_++],R=$[_++],I=((T&7)<<18|(O&63)<<12|(P&63)<<6|R&63)-65536;E[A++]=String.fromCharCode(55296+(I>>10)),E[A++]=String.fromCharCode(56320+(I&1023))}else{const O=$[_++],P=$[_++];E[A++]=String.fromCharCode((T&15)<<12|(O&63)<<6|P&63)}}return E.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray($,E){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const _=E?this.byteToCharMapWebSafe_:this.byteToCharMap_,A=[];for(let T=0;T<$.length;T+=3){const O=$[T],P=T+1<$.length,R=P?$[T+1]:0,I=T+2<$.length,N=I?$[T+2]:0,j=O>>2,U=(O&3)<<4|R>>4;let z=(R&15)<<2|N>>6,V=N&63;I||(V=64,P||(z=64)),A.push(_[j],_[U],_[z],_[V])}return A.join("")},encodeString($,E){return this.HAS_NATIVE_SUPPORT&&!E?btoa($):this.encodeByteArray(stringToByteArray$1($),E)},decodeString($,E){return this.HAS_NATIVE_SUPPORT&&!E?atob($):byteArrayToString(this.decodeStringToByteArray($,E))},decodeStringToByteArray($,E){this.init_();const _=E?this.charToByteMapWebSafe_:this.charToByteMap_,A=[];for(let T=0;T<$.length;){const O=_[$.charAt(T++)],R=T<$.length?_[$.charAt(T)]:0;++T;const N=T<$.length?_[$.charAt(T)]:64;++T;const U=T<$.length?_[$.charAt(T)]:64;if(++T,O==null||R==null||N==null||U==null)throw new DecodeBase64StringError;const z=O<<2|R>>4;if(A.push(z),N!==64){const V=R<<4&240|N>>2;if(A.push(V),U!==64){const F=N<<6&192|U;A.push(F)}}}return A},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function($){const E=stringToByteArray$1($);return base64.encodeByteArray(E,!0)},base64urlEncodeWithoutPadding=function($){return base64Encode($).replace(/\./g,"")},base64Decode=function($){try{return base64.decodeString($,!0)}catch(E){console.error("base64Decode failed: ",E)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const $=define_process_env_default.__FIREBASE_DEFAULTS__;if($)return JSON.parse($)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const E=$&&base64Decode($[1]);return E&&JSON.parse(E)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch($){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`);return}},getDefaultEmulatorHost=$=>{var E,_;return(_=(E=getDefaults())===null||E===void 0?void 0:E.emulatorHosts)===null||_===void 0?void 0:_[$]},getDefaultEmulatorHostnameAndPort=$=>{const E=getDefaultEmulatorHost($);if(!E)return;const _=E.lastIndexOf(":");if(_<=0||_+1===E.length)throw new Error(`Invalid host ${E} with no separate hostname and port!`);const A=parseInt(E.substring(_+1),10);return E[0]==="["?[E.substring(1,_-1),A]:[E.substring(0,_),A]},getDefaultAppConfig=()=>{var $;return($=getDefaults())===null||$===void 0?void 0:$.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((E,_)=>{this.resolve=E,this.reject=_})}wrapCallback(E){return(_,A)=>{_?this.reject(_):this.resolve(A),typeof E=="function"&&(this.promise.catch(()=>{}),E.length===1?E(_):E(_,A))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken($,E){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _={alg:"none",type:"JWT"},A=E||"demo-project",T=$.iat||0,O=$.sub||$.user_id;if(!O)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const P=Object.assign({iss:`https://securetoken.google.com/${A}`,aud:A,iat:T,exp:T+3600,auth_time:T,sub:O,user_id:O,firebase:{sign_in_provider:"custom",identities:{}}},$);return[base64urlEncodeWithoutPadding(JSON.stringify(_)),base64urlEncodeWithoutPadding(JSON.stringify(P)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isNode(){var $;const E=($=getDefaults())===null||$===void 0?void 0:$.forceEnvironment;if(E==="node")return!0;if(E==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isBrowserExtension(){const $=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof $=="object"&&$.id!==void 0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise(($,E)=>{try{let _=!0;const A="validate-browser-context-for-indexeddb-analytics-module",T=self.indexedDB.open(A);T.onsuccess=()=>{T.result.close(),_||self.indexedDB.deleteDatabase(A),$(!0)},T.onupgradeneeded=()=>{_=!1},T.onerror=()=>{var O;E(((O=T.error)===null||O===void 0?void 0:O.message)||"")}}catch(_){E(_)}})}function areCookiesEnabled(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(E,_,A){super(_),this.code=E,this.customData=A,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(E,_,A){this.service=E,this.serviceName=_,this.errors=A}create(E,..._){const A=_[0]||{},T=`${this.service}/${E}`,O=this.errors[E],P=O?replaceTemplate(O,A):"Error",R=`${this.serviceName}: ${P} (${T}).`;return new FirebaseError(T,R,A)}}function replaceTemplate($,E){return $.replace(PATTERN,(_,A)=>{const T=E[A];return T!=null?String(T):`<${A}?>`})}const PATTERN=/\{\$([^}]+)}/g;function deepEqual($,E){if($===E)return!0;const _=Object.keys($),A=Object.keys(E);for(const T of _){if(!A.includes(T))return!1;const O=$[T],P=E[T];if(isObject(O)&&isObject(P)){if(!deepEqual(O,P))return!1}else if(O!==P)return!1}for(const T of A)if(!_.includes(T))return!1;return!0}function isObject($){return $!==null&&typeof $=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=4*60*60*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis($,E=DEFAULT_INTERVAL_MILLIS,_=DEFAULT_BACKOFF_FACTOR){const A=E*Math.pow(_,$),T=Math.round(RANDOM_FACTOR*A*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,A+T)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance($){return $&&$._delegate?$._delegate:$}class Component{constructor(E,_,A){this.name=E,this.instanceFactory=_,this.type=A,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(E){return this.instantiationMode=E,this}setMultipleInstances(E){return this.multipleInstances=E,this}setServiceProps(E){return this.serviceProps=E,this}setInstanceCreatedCallback(E){return this.onInstanceCreated=E,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(E,_){this.name=E,this.container=_,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(E){const _=this.normalizeInstanceIdentifier(E);if(!this.instancesDeferred.has(_)){const A=new Deferred;if(this.instancesDeferred.set(_,A),this.isInitialized(_)||this.shouldAutoInitialize())try{const T=this.getOrInitializeService({instanceIdentifier:_});T&&A.resolve(T)}catch{}}return this.instancesDeferred.get(_).promise}getImmediate(E){var _;const A=this.normalizeInstanceIdentifier(E==null?void 0:E.identifier),T=(_=E==null?void 0:E.optional)!==null&&_!==void 0?_:!1;if(this.isInitialized(A)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:A})}catch(O){if(T)return null;throw O}else{if(T)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(E){if(E.name!==this.name)throw Error(`Mismatching Component ${E.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=E,!!this.shouldAutoInitialize()){if(isComponentEager(E))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[_,A]of this.instancesDeferred.entries()){const T=this.normalizeInstanceIdentifier(_);try{const O=this.getOrInitializeService({instanceIdentifier:T});A.resolve(O)}catch{}}}}clearInstance(E=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(E),this.instancesOptions.delete(E),this.instances.delete(E)}async delete(){const E=Array.from(this.instances.values());await Promise.all([...E.filter(_=>"INTERNAL"in _).map(_=>_.INTERNAL.delete()),...E.filter(_=>"_delete"in _).map(_=>_._delete())])}isComponentSet(){return this.component!=null}isInitialized(E=DEFAULT_ENTRY_NAME$1){return this.instances.has(E)}getOptions(E=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(E)||{}}initialize(E={}){const{options:_={}}=E,A=this.normalizeInstanceIdentifier(E.instanceIdentifier);if(this.isInitialized(A))throw Error(`${this.name}(${A}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const T=this.getOrInitializeService({instanceIdentifier:A,options:_});for(const[O,P]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(O);A===R&&P.resolve(T)}return T}onInit(E,_){var A;const T=this.normalizeInstanceIdentifier(_),O=(A=this.onInitCallbacks.get(T))!==null&&A!==void 0?A:new Set;O.add(E),this.onInitCallbacks.set(T,O);const P=this.instances.get(T);return P&&E(P,T),()=>{O.delete(E)}}invokeOnInitCallbacks(E,_){const A=this.onInitCallbacks.get(_);if(A)for(const T of A)try{T(E,_)}catch{}}getOrInitializeService({instanceIdentifier:E,options:_={}}){let A=this.instances.get(E);if(!A&&this.component&&(A=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(E),options:_}),this.instances.set(E,A),this.instancesOptions.set(E,_),this.invokeOnInitCallbacks(A,E),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,E,A)}catch{}return A||null}normalizeInstanceIdentifier(E=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?E:DEFAULT_ENTRY_NAME$1:E}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory($){return $===DEFAULT_ENTRY_NAME$1?void 0:$}function isComponentEager($){return $.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(E){this.name=E,this.providers=new Map}addComponent(E){const _=this.getProvider(E.name);if(_.isComponentSet())throw new Error(`Component ${E.name} has already been registered with ${this.name}`);_.setComponent(E)}addOrOverwriteComponent(E){this.getProvider(E.name).isComponentSet()&&this.providers.delete(E.name),this.addComponent(E)}getProvider(E){if(this.providers.has(E))return this.providers.get(E);const _=new Provider(E,this);return this.providers.set(E,_),_}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function($){$[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=($,E,..._)=>{if(E<$.logLevel)return;const A=new Date().toISOString(),T=ConsoleMethod[E];if(T)console[T](`[${A}]  ${$.name}:`,..._);else throw new Error(`Attempted to log a message with an invalid logType (value: ${E})`)};class Logger{constructor(E){this.name=E,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(E){if(!(E in LogLevel))throw new TypeError(`Invalid value "${E}" assigned to \`logLevel\``);this._logLevel=E}setLogLevel(E){this._logLevel=typeof E=="string"?levelStringToEnum[E]:E}get logHandler(){return this._logHandler}set logHandler(E){if(typeof E!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=E}get userLogHandler(){return this._userLogHandler}set userLogHandler(E){this._userLogHandler=E}debug(...E){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...E),this._logHandler(this,LogLevel.DEBUG,...E)}log(...E){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...E),this._logHandler(this,LogLevel.VERBOSE,...E)}info(...E){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...E),this._logHandler(this,LogLevel.INFO,...E)}warn(...E){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...E),this._logHandler(this,LogLevel.WARN,...E)}error(...E){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...E),this._logHandler(this,LogLevel.ERROR,...E)}}const instanceOfAny=($,E)=>E.some(_=>$ instanceof _);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest($){const E=new Promise((_,A)=>{const T=()=>{$.removeEventListener("success",O),$.removeEventListener("error",P)},O=()=>{_(wrap($.result)),T()},P=()=>{A($.error),T()};$.addEventListener("success",O),$.addEventListener("error",P)});return E.then(_=>{_ instanceof IDBCursor&&cursorRequestMap.set(_,$)}).catch(()=>{}),reverseTransformCache.set(E,$),E}function cacheDonePromiseForTransaction($){if(transactionDoneMap.has($))return;const E=new Promise((_,A)=>{const T=()=>{$.removeEventListener("complete",O),$.removeEventListener("error",P),$.removeEventListener("abort",P)},O=()=>{_(),T()},P=()=>{A($.error||new DOMException("AbortError","AbortError")),T()};$.addEventListener("complete",O),$.addEventListener("error",P),$.addEventListener("abort",P)});transactionDoneMap.set($,E)}let idbProxyTraps={get($,E,_){if($ instanceof IDBTransaction){if(E==="done")return transactionDoneMap.get($);if(E==="objectStoreNames")return $.objectStoreNames||transactionStoreNamesMap.get($);if(E==="store")return _.objectStoreNames[1]?void 0:_.objectStore(_.objectStoreNames[0])}return wrap($[E])},set($,E,_){return $[E]=_,!0},has($,E){return $ instanceof IDBTransaction&&(E==="done"||E==="store")?!0:E in $}};function replaceTraps($){idbProxyTraps=$(idbProxyTraps)}function wrapFunction($){return $===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(E,..._){const A=$.call(unwrap(this),E,..._);return transactionStoreNamesMap.set(A,E.sort?E.sort():[E]),wrap(A)}:getCursorAdvanceMethods().includes($)?function(...E){return $.apply(unwrap(this),E),wrap(cursorRequestMap.get(this))}:function(...E){return wrap($.apply(unwrap(this),E))}}function transformCachableValue($){return typeof $=="function"?wrapFunction($):($ instanceof IDBTransaction&&cacheDonePromiseForTransaction($),instanceOfAny($,getIdbProxyableTypes())?new Proxy($,idbProxyTraps):$)}function wrap($){if($ instanceof IDBRequest)return promisifyRequest($);if(transformCache.has($))return transformCache.get($);const E=transformCachableValue($);return E!==$&&(transformCache.set($,E),reverseTransformCache.set(E,$)),E}const unwrap=$=>reverseTransformCache.get($);function openDB($,E,{blocked:_,upgrade:A,blocking:T,terminated:O}={}){const P=indexedDB.open($,E),R=wrap(P);return A&&P.addEventListener("upgradeneeded",I=>{A(wrap(P.result),I.oldVersion,I.newVersion,wrap(P.transaction),I)}),_&&P.addEventListener("blocked",I=>_(I.oldVersion,I.newVersion,I)),R.then(I=>{O&&I.addEventListener("close",()=>O()),T&&I.addEventListener("versionchange",N=>T(N.oldVersion,N.newVersion,N))}).catch(()=>{}),R}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod($,E){if(!($ instanceof IDBDatabase&&!(E in $)&&typeof E=="string"))return;if(cachedMethods.get(E))return cachedMethods.get(E);const _=E.replace(/FromIndex$/,""),A=E!==_,T=writeMethods.includes(_);if(!(_ in(A?IDBIndex:IDBObjectStore).prototype)||!(T||readMethods.includes(_)))return;const O=async function(P,...R){const I=this.transaction(P,T?"readwrite":"readonly");let N=I.store;return A&&(N=N.index(R.shift())),(await Promise.all([N[_](...R),T&&I.done]))[0]};return cachedMethods.set(E,O),O}replaceTraps($=>({...$,get:(E,_,A)=>getMethod(E,_)||$.get(E,_,A),has:(E,_)=>!!getMethod(E,_)||$.has(E,_)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(E){this.container=E}getPlatformInfoString(){return this.container.getProviders().map(_=>{if(isVersionServiceProvider(_)){const A=_.getImmediate();return`${A.library}/${A.version}`}else return null}).filter(_=>_).join(" ")}}function isVersionServiceProvider($){const E=$.getComponent();return(E==null?void 0:E.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$r="firebase",version$3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent($,E){try{$.container.addComponent(E)}catch(_){logger$1.debug(`Component ${E.name} failed to register with FirebaseApp ${$.name}`,_)}}function _registerComponent($){const E=$.name;if(_components.has(E))return logger$1.debug(`There were multiple attempts to register component ${E}.`),!1;_components.set(E,$);for(const _ of _apps.values())_addComponent(_,$);for(const _ of _serverApps.values())_addComponent(_,$);return!0}function _getProvider($,E){const _=$.container.getProvider("heartbeat").getImmediate({optional:!0});return _&&_.triggerHeartbeat(),$.container.getProvider(E)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$2=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(E,_,A){this._isDeleted=!1,this._options=Object.assign({},E),this._config=Object.assign({},_),this._name=_.name,this._automaticDataCollectionEnabled=_.automaticDataCollectionEnabled,this._container=A,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(E){this.checkDestroyed(),this._automaticDataCollectionEnabled=E}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(E){this._isDeleted=E}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$2.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp($,E={}){let _=$;typeof E!="object"&&(E={name:E});const A=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},E),T=A.name;if(typeof T!="string"||!T)throw ERROR_FACTORY$2.create("bad-app-name",{appName:String(T)});if(_||(_=getDefaultAppConfig()),!_)throw ERROR_FACTORY$2.create("no-options");const O=_apps.get(T);if(O){if(deepEqual(_,O.options)&&deepEqual(A,O.config))return O;throw ERROR_FACTORY$2.create("duplicate-app",{appName:T})}const P=new ComponentContainer(T);for(const I of _components.values())P.addComponent(I);const R=new FirebaseAppImpl(_,A,P);return _apps.set(T,R),R}function getApp($=DEFAULT_ENTRY_NAME){const E=_apps.get($);if(!E&&$===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!E)throw ERROR_FACTORY$2.create("no-app",{appName:$});return E}function registerVersion($,E,_){var A;let T=(A=PLATFORM_LOG_STRING[$])!==null&&A!==void 0?A:$;_&&(T+=`-${_}`);const O=T.match(/\s|\//),P=E.match(/\s|\//);if(O||P){const R=[`Unable to register library "${T}" with version "${E}":`];O&&R.push(`library name "${T}" contains illegal characters (whitespace or "/")`),O&&P&&R.push("and"),P&&R.push(`version name "${E}" contains illegal characters (whitespace or "/")`),logger$1.warn(R.join(" "));return}_registerComponent(new Component(`${T}-version`,()=>({library:T,version:E}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DB_NAME,DB_VERSION,{upgrade:($,E)=>{switch(E){case 0:try{$.createObjectStore(STORE_NAME)}catch(_){console.warn(_)}}}}).catch($=>{throw ERROR_FACTORY$2.create("idb-open",{originalErrorMessage:$.message})})),dbPromise$1}async function readHeartbeatsFromIndexedDB($){try{const _=(await getDbPromise$1()).transaction(STORE_NAME),A=await _.objectStore(STORE_NAME).get(computeKey($));return await _.done,A}catch(E){if(E instanceof FirebaseError)logger$1.warn(E.message);else{const _=ERROR_FACTORY$2.create("idb-get",{originalErrorMessage:E==null?void 0:E.message});logger$1.warn(_.message)}}}async function writeHeartbeatsToIndexedDB($,E){try{const A=(await getDbPromise$1()).transaction(STORE_NAME,"readwrite");await A.objectStore(STORE_NAME).put(E,computeKey($)),await A.done}catch(_){if(_ instanceof FirebaseError)logger$1.warn(_.message);else{const A=ERROR_FACTORY$2.create("idb-set",{originalErrorMessage:_==null?void 0:_.message});logger$1.warn(A.message)}}}function computeKey($){return`${$.name}!${$.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(E){this.container=E,this._heartbeatsCache=null;const _=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(_),this._heartbeatsCachePromise=this._storage.read().then(A=>(this._heartbeatsCache=A,A))}async triggerHeartbeat(){var E,_;try{const T=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),O=getUTCDateString();return((E=this._heartbeatsCache)===null||E===void 0?void 0:E.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((_=this._heartbeatsCache)===null||_===void 0?void 0:_.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===O||this._heartbeatsCache.heartbeats.some(P=>P.date===O)?void 0:(this._heartbeatsCache.heartbeats.push({date:O,agent:T}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(P=>{const R=new Date(P.date).valueOf();return Date.now()-R<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache))}catch(A){logger$1.warn(A)}}async getHeartbeatsHeader(){var E;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((E=this._heartbeatsCache)===null||E===void 0?void 0:E.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const _=getUTCDateString(),{heartbeatsToSend:A,unsentEntries:T}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),O=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:A}));return this._heartbeatsCache.lastSentHeartbeatDate=_,T.length>0?(this._heartbeatsCache.heartbeats=T,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),O}catch(_){return logger$1.warn(_),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader($,E=MAX_HEADER_BYTES){const _=[];let A=$.slice();for(const T of $){const O=_.find(P=>P.agent===T.agent);if(O){if(O.dates.push(T.date),countBytes(_)>E){O.dates.pop();break}}else if(_.push({agent:T.agent,dates:[T.date]}),countBytes(_)>E){_.pop();break}A=A.slice(1)}return{heartbeatsToSend:_,unsentEntries:A}}class HeartbeatStorageImpl{constructor(E){this.app=E,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const _=await readHeartbeatsFromIndexedDB(this.app);return _!=null&&_.heartbeats?_:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(E){var _;if(await this._canUseIndexedDBPromise){const T=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(_=E.lastSentHeartbeatDate)!==null&&_!==void 0?_:T.lastSentHeartbeatDate,heartbeats:E.heartbeats})}else return}async add(E){var _;if(await this._canUseIndexedDBPromise){const T=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(_=E.lastSentHeartbeatDate)!==null&&_!==void 0?_:T.lastSentHeartbeatDate,heartbeats:[...T.heartbeats,...E.heartbeats]})}else return}}function countBytes($){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:$})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents($){_registerComponent(new Component("platform-logger",E=>new PlatformLoggerServiceImpl(E),"PRIVATE")),_registerComponent(new Component("heartbeat",E=>new HeartbeatServiceImpl(E),"PRIVATE")),registerVersion(name$q,version$1$1,$),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer;(function(){var $;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function E(J,Q){function te(){}te.prototype=Q.prototype,J.D=Q.prototype,J.prototype=new te,J.prototype.constructor=J,J.C=function(se,de,ie){for(var ve=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ve[xe-2]=arguments[xe];return Q.prototype[de].apply(se,ve)}}function _(){this.blockSize=-1}function A(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}E(A,_),A.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function T(J,Q,te){te||(te=0);var se=Array(16);if(typeof Q=="string")for(var de=0;16>de;++de)se[de]=Q.charCodeAt(te++)|Q.charCodeAt(te++)<<8|Q.charCodeAt(te++)<<16|Q.charCodeAt(te++)<<24;else for(de=0;16>de;++de)se[de]=Q[te++]|Q[te++]<<8|Q[te++]<<16|Q[te++]<<24;Q=J.g[0],te=J.g[1],de=J.g[2];var ie=J.g[3],ve=Q+(ie^te&(de^ie))+se[0]+3614090360&4294967295;Q=te+(ve<<7&4294967295|ve>>>25),ve=ie+(de^Q&(te^de))+se[1]+3905402710&4294967295,ie=Q+(ve<<12&4294967295|ve>>>20),ve=de+(te^ie&(Q^te))+se[2]+606105819&4294967295,de=ie+(ve<<17&4294967295|ve>>>15),ve=te+(Q^de&(ie^Q))+se[3]+3250441966&4294967295,te=de+(ve<<22&4294967295|ve>>>10),ve=Q+(ie^te&(de^ie))+se[4]+4118548399&4294967295,Q=te+(ve<<7&4294967295|ve>>>25),ve=ie+(de^Q&(te^de))+se[5]+1200080426&4294967295,ie=Q+(ve<<12&4294967295|ve>>>20),ve=de+(te^ie&(Q^te))+se[6]+2821735955&4294967295,de=ie+(ve<<17&4294967295|ve>>>15),ve=te+(Q^de&(ie^Q))+se[7]+4249261313&4294967295,te=de+(ve<<22&4294967295|ve>>>10),ve=Q+(ie^te&(de^ie))+se[8]+1770035416&4294967295,Q=te+(ve<<7&4294967295|ve>>>25),ve=ie+(de^Q&(te^de))+se[9]+2336552879&4294967295,ie=Q+(ve<<12&4294967295|ve>>>20),ve=de+(te^ie&(Q^te))+se[10]+4294925233&4294967295,de=ie+(ve<<17&4294967295|ve>>>15),ve=te+(Q^de&(ie^Q))+se[11]+2304563134&4294967295,te=de+(ve<<22&4294967295|ve>>>10),ve=Q+(ie^te&(de^ie))+se[12]+1804603682&4294967295,Q=te+(ve<<7&4294967295|ve>>>25),ve=ie+(de^Q&(te^de))+se[13]+4254626195&4294967295,ie=Q+(ve<<12&4294967295|ve>>>20),ve=de+(te^ie&(Q^te))+se[14]+2792965006&4294967295,de=ie+(ve<<17&4294967295|ve>>>15),ve=te+(Q^de&(ie^Q))+se[15]+1236535329&4294967295,te=de+(ve<<22&4294967295|ve>>>10),ve=Q+(de^ie&(te^de))+se[1]+4129170786&4294967295,Q=te+(ve<<5&4294967295|ve>>>27),ve=ie+(te^de&(Q^te))+se[6]+3225465664&4294967295,ie=Q+(ve<<9&4294967295|ve>>>23),ve=de+(Q^te&(ie^Q))+se[11]+643717713&4294967295,de=ie+(ve<<14&4294967295|ve>>>18),ve=te+(ie^Q&(de^ie))+se[0]+3921069994&4294967295,te=de+(ve<<20&4294967295|ve>>>12),ve=Q+(de^ie&(te^de))+se[5]+3593408605&4294967295,Q=te+(ve<<5&4294967295|ve>>>27),ve=ie+(te^de&(Q^te))+se[10]+38016083&4294967295,ie=Q+(ve<<9&4294967295|ve>>>23),ve=de+(Q^te&(ie^Q))+se[15]+3634488961&4294967295,de=ie+(ve<<14&4294967295|ve>>>18),ve=te+(ie^Q&(de^ie))+se[4]+3889429448&4294967295,te=de+(ve<<20&4294967295|ve>>>12),ve=Q+(de^ie&(te^de))+se[9]+568446438&4294967295,Q=te+(ve<<5&4294967295|ve>>>27),ve=ie+(te^de&(Q^te))+se[14]+3275163606&4294967295,ie=Q+(ve<<9&4294967295|ve>>>23),ve=de+(Q^te&(ie^Q))+se[3]+4107603335&4294967295,de=ie+(ve<<14&4294967295|ve>>>18),ve=te+(ie^Q&(de^ie))+se[8]+1163531501&4294967295,te=de+(ve<<20&4294967295|ve>>>12),ve=Q+(de^ie&(te^de))+se[13]+2850285829&4294967295,Q=te+(ve<<5&4294967295|ve>>>27),ve=ie+(te^de&(Q^te))+se[2]+4243563512&4294967295,ie=Q+(ve<<9&4294967295|ve>>>23),ve=de+(Q^te&(ie^Q))+se[7]+1735328473&4294967295,de=ie+(ve<<14&4294967295|ve>>>18),ve=te+(ie^Q&(de^ie))+se[12]+2368359562&4294967295,te=de+(ve<<20&4294967295|ve>>>12),ve=Q+(te^de^ie)+se[5]+4294588738&4294967295,Q=te+(ve<<4&4294967295|ve>>>28),ve=ie+(Q^te^de)+se[8]+2272392833&4294967295,ie=Q+(ve<<11&4294967295|ve>>>21),ve=de+(ie^Q^te)+se[11]+1839030562&4294967295,de=ie+(ve<<16&4294967295|ve>>>16),ve=te+(de^ie^Q)+se[14]+4259657740&4294967295,te=de+(ve<<23&4294967295|ve>>>9),ve=Q+(te^de^ie)+se[1]+2763975236&4294967295,Q=te+(ve<<4&4294967295|ve>>>28),ve=ie+(Q^te^de)+se[4]+1272893353&4294967295,ie=Q+(ve<<11&4294967295|ve>>>21),ve=de+(ie^Q^te)+se[7]+4139469664&4294967295,de=ie+(ve<<16&4294967295|ve>>>16),ve=te+(de^ie^Q)+se[10]+3200236656&4294967295,te=de+(ve<<23&4294967295|ve>>>9),ve=Q+(te^de^ie)+se[13]+681279174&4294967295,Q=te+(ve<<4&4294967295|ve>>>28),ve=ie+(Q^te^de)+se[0]+3936430074&4294967295,ie=Q+(ve<<11&4294967295|ve>>>21),ve=de+(ie^Q^te)+se[3]+3572445317&4294967295,de=ie+(ve<<16&4294967295|ve>>>16),ve=te+(de^ie^Q)+se[6]+76029189&4294967295,te=de+(ve<<23&4294967295|ve>>>9),ve=Q+(te^de^ie)+se[9]+3654602809&4294967295,Q=te+(ve<<4&4294967295|ve>>>28),ve=ie+(Q^te^de)+se[12]+3873151461&4294967295,ie=Q+(ve<<11&4294967295|ve>>>21),ve=de+(ie^Q^te)+se[15]+530742520&4294967295,de=ie+(ve<<16&4294967295|ve>>>16),ve=te+(de^ie^Q)+se[2]+3299628645&4294967295,te=de+(ve<<23&4294967295|ve>>>9),ve=Q+(de^(te|~ie))+se[0]+4096336452&4294967295,Q=te+(ve<<6&4294967295|ve>>>26),ve=ie+(te^(Q|~de))+se[7]+1126891415&4294967295,ie=Q+(ve<<10&4294967295|ve>>>22),ve=de+(Q^(ie|~te))+se[14]+2878612391&4294967295,de=ie+(ve<<15&4294967295|ve>>>17),ve=te+(ie^(de|~Q))+se[5]+4237533241&4294967295,te=de+(ve<<21&4294967295|ve>>>11),ve=Q+(de^(te|~ie))+se[12]+1700485571&4294967295,Q=te+(ve<<6&4294967295|ve>>>26),ve=ie+(te^(Q|~de))+se[3]+2399980690&4294967295,ie=Q+(ve<<10&4294967295|ve>>>22),ve=de+(Q^(ie|~te))+se[10]+4293915773&4294967295,de=ie+(ve<<15&4294967295|ve>>>17),ve=te+(ie^(de|~Q))+se[1]+2240044497&4294967295,te=de+(ve<<21&4294967295|ve>>>11),ve=Q+(de^(te|~ie))+se[8]+1873313359&4294967295,Q=te+(ve<<6&4294967295|ve>>>26),ve=ie+(te^(Q|~de))+se[15]+4264355552&4294967295,ie=Q+(ve<<10&4294967295|ve>>>22),ve=de+(Q^(ie|~te))+se[6]+2734768916&4294967295,de=ie+(ve<<15&4294967295|ve>>>17),ve=te+(ie^(de|~Q))+se[13]+1309151649&4294967295,te=de+(ve<<21&4294967295|ve>>>11),ve=Q+(de^(te|~ie))+se[4]+4149444226&4294967295,Q=te+(ve<<6&4294967295|ve>>>26),ve=ie+(te^(Q|~de))+se[11]+3174756917&4294967295,ie=Q+(ve<<10&4294967295|ve>>>22),ve=de+(Q^(ie|~te))+se[2]+718787259&4294967295,de=ie+(ve<<15&4294967295|ve>>>17),ve=te+(ie^(de|~Q))+se[9]+3951481745&4294967295,J.g[0]=J.g[0]+Q&4294967295,J.g[1]=J.g[1]+(de+(ve<<21&4294967295|ve>>>11))&4294967295,J.g[2]=J.g[2]+de&4294967295,J.g[3]=J.g[3]+ie&4294967295}A.prototype.u=function(J,Q){Q===void 0&&(Q=J.length);for(var te=Q-this.blockSize,se=this.B,de=this.h,ie=0;ie<Q;){if(de==0)for(;ie<=te;)T(this,J,ie),ie+=this.blockSize;if(typeof J=="string"){for(;ie<Q;)if(se[de++]=J.charCodeAt(ie++),de==this.blockSize){T(this,se),de=0;break}}else for(;ie<Q;)if(se[de++]=J[ie++],de==this.blockSize){T(this,se),de=0;break}}this.h=de,this.o+=Q},A.prototype.v=function(){var J=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);J[0]=128;for(var Q=1;Q<J.length-8;++Q)J[Q]=0;var te=8*this.o;for(Q=J.length-8;Q<J.length;++Q)J[Q]=te&255,te/=256;for(this.u(J),J=Array(16),Q=te=0;4>Q;++Q)for(var se=0;32>se;se+=8)J[te++]=this.g[Q]>>>se&255;return J};function O(J,Q){var te=R;return Object.prototype.hasOwnProperty.call(te,J)?te[J]:te[J]=Q(J)}function P(J,Q){this.h=Q;for(var te=[],se=!0,de=J.length-1;0<=de;de--){var ie=J[de]|0;se&&ie==Q||(te[de]=ie,se=!1)}this.g=te}var R={};function I(J){return-128<=J&&128>J?O(J,function(Q){return new P([Q|0],0>Q?-1:0)}):new P([J|0],0>J?-1:0)}function N(J){if(isNaN(J)||!isFinite(J))return U;if(0>J)return B(N(-J));for(var Q=[],te=1,se=0;J>=te;se++)Q[se]=J/te|0,te*=4294967296;return new P(Q,0)}function j(J,Q){if(J.length==0)throw Error("number format error: empty string");if(Q=Q||10,2>Q||36<Q)throw Error("radix out of range: "+Q);if(J.charAt(0)=="-")return B(j(J.substring(1),Q));if(0<=J.indexOf("-"))throw Error('number format error: interior "-" character');for(var te=N(Math.pow(Q,8)),se=U,de=0;de<J.length;de+=8){var ie=Math.min(8,J.length-de),ve=parseInt(J.substring(de,de+ie),Q);8>ie?(ie=N(Math.pow(Q,ie)),se=se.j(ie).add(N(ve))):(se=se.j(te),se=se.add(N(ve)))}return se}var U=I(0),z=I(1),V=I(16777216);$=P.prototype,$.m=function(){if(q(this))return-B(this).m();for(var J=0,Q=1,te=0;te<this.g.length;te++){var se=this.i(te);J+=(0<=se?se:4294967296+se)*Q,Q*=4294967296}return J},$.toString=function(J){if(J=J||10,2>J||36<J)throw Error("radix out of range: "+J);if(F(this))return"0";if(q(this))return"-"+B(this).toString(J);for(var Q=N(Math.pow(J,6)),te=this,se="";;){var de=Z(te,Q).g;te=W(te,de.j(Q));var ie=((0<te.g.length?te.g[0]:te.h)>>>0).toString(J);if(te=de,F(te))return ie+se;for(;6>ie.length;)ie="0"+ie;se=ie+se}},$.i=function(J){return 0>J?0:J<this.g.length?this.g[J]:this.h};function F(J){if(J.h!=0)return!1;for(var Q=0;Q<J.g.length;Q++)if(J.g[Q]!=0)return!1;return!0}function q(J){return J.h==-1}$.l=function(J){return J=W(this,J),q(J)?-1:F(J)?0:1};function B(J){for(var Q=J.g.length,te=[],se=0;se<Q;se++)te[se]=~J.g[se];return new P(te,~J.h).add(z)}$.abs=function(){return q(this)?B(this):this},$.add=function(J){for(var Q=Math.max(this.g.length,J.g.length),te=[],se=0,de=0;de<=Q;de++){var ie=se+(this.i(de)&65535)+(J.i(de)&65535),ve=(ie>>>16)+(this.i(de)>>>16)+(J.i(de)>>>16);se=ve>>>16,ie&=65535,ve&=65535,te[de]=ve<<16|ie}return new P(te,te[te.length-1]&-2147483648?-1:0)};function W(J,Q){return J.add(B(Q))}$.j=function(J){if(F(this)||F(J))return U;if(q(this))return q(J)?B(this).j(B(J)):B(B(this).j(J));if(q(J))return B(this.j(B(J)));if(0>this.l(V)&&0>J.l(V))return N(this.m()*J.m());for(var Q=this.g.length+J.g.length,te=[],se=0;se<2*Q;se++)te[se]=0;for(se=0;se<this.g.length;se++)for(var de=0;de<J.g.length;de++){var ie=this.i(se)>>>16,ve=this.i(se)&65535,xe=J.i(de)>>>16,ke=J.i(de)&65535;te[2*se+2*de]+=ve*ke,H(te,2*se+2*de),te[2*se+2*de+1]+=ie*ke,H(te,2*se+2*de+1),te[2*se+2*de+1]+=ve*xe,H(te,2*se+2*de+1),te[2*se+2*de+2]+=ie*xe,H(te,2*se+2*de+2)}for(se=0;se<Q;se++)te[se]=te[2*se+1]<<16|te[2*se];for(se=Q;se<2*Q;se++)te[se]=0;return new P(te,0)};function H(J,Q){for(;(J[Q]&65535)!=J[Q];)J[Q+1]+=J[Q]>>>16,J[Q]&=65535,Q++}function G(J,Q){this.g=J,this.h=Q}function Z(J,Q){if(F(Q))throw Error("division by zero");if(F(J))return new G(U,U);if(q(J))return Q=Z(B(J),Q),new G(B(Q.g),B(Q.h));if(q(Q))return Q=Z(J,B(Q)),new G(B(Q.g),Q.h);if(30<J.g.length){if(q(J)||q(Q))throw Error("slowDivide_ only works with positive integers.");for(var te=z,se=Q;0>=se.l(J);)te=Y(te),se=Y(se);var de=ee(te,1),ie=ee(se,1);for(se=ee(se,2),te=ee(te,2);!F(se);){var ve=ie.add(se);0>=ve.l(J)&&(de=de.add(te),ie=ve),se=ee(se,1),te=ee(te,1)}return Q=W(J,de.j(Q)),new G(de,Q)}for(de=U;0<=J.l(Q);){for(te=Math.max(1,Math.floor(J.m()/Q.m())),se=Math.ceil(Math.log(te)/Math.LN2),se=48>=se?1:Math.pow(2,se-48),ie=N(te),ve=ie.j(Q);q(ve)||0<ve.l(J);)te-=se,ie=N(te),ve=ie.j(Q);F(ie)&&(ie=z),de=de.add(ie),J=W(J,ve)}return new G(de,J)}$.A=function(J){return Z(this,J).h},$.and=function(J){for(var Q=Math.max(this.g.length,J.g.length),te=[],se=0;se<Q;se++)te[se]=this.i(se)&J.i(se);return new P(te,this.h&J.h)},$.or=function(J){for(var Q=Math.max(this.g.length,J.g.length),te=[],se=0;se<Q;se++)te[se]=this.i(se)|J.i(se);return new P(te,this.h|J.h)},$.xor=function(J){for(var Q=Math.max(this.g.length,J.g.length),te=[],se=0;se<Q;se++)te[se]=this.i(se)^J.i(se);return new P(te,this.h^J.h)};function Y(J){for(var Q=J.g.length+1,te=[],se=0;se<Q;se++)te[se]=J.i(se)<<1|J.i(se-1)>>>31;return new P(te,J.h)}function ee(J,Q){var te=Q>>5;Q%=32;for(var se=J.g.length-te,de=[],ie=0;ie<se;ie++)de[ie]=0<Q?J.i(ie+te)>>>Q|J.i(ie+te+1)<<32-Q:J.i(ie+te);return new P(de,J.h)}A.prototype.digest=A.prototype.v,A.prototype.reset=A.prototype.s,A.prototype.update=A.prototype.u,P.prototype.add=P.prototype.add,P.prototype.multiply=P.prototype.j,P.prototype.modulo=P.prototype.A,P.prototype.compare=P.prototype.l,P.prototype.toNumber=P.prototype.m,P.prototype.toString=P.prototype.toString,P.prototype.getBits=P.prototype.i,P.fromNumber=N,P.fromString=j,Integer=P}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var $,E=typeof Object.defineProperties=="function"?Object.defineProperty:function(rt,jt,mr){return rt==Array.prototype||rt==Object.prototype||(rt[jt]=mr.value),rt};function _(rt){rt=[typeof globalThis=="object"&&globalThis,rt,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var jt=0;jt<rt.length;++jt){var mr=rt[jt];if(mr&&mr.Math==Math)return mr}throw Error("Cannot find global object")}var A=_(this);function T(rt,jt){if(jt)e:{var mr=A;rt=rt.split(".");for(var ur=0;ur<rt.length-1;ur++){var dn=rt[ur];if(!(dn in mr))break e;mr=mr[dn]}rt=rt[rt.length-1],ur=mr[rt],jt=jt(ur),jt!=ur&&jt!=null&&E(mr,rt,{configurable:!0,writable:!0,value:jt})}}function O(rt,jt){rt instanceof String&&(rt+="");var mr=0,ur=!1,dn={next:function(){if(!ur&&mr<rt.length){var tn=mr++;return{value:jt(tn,rt[tn]),done:!1}}return ur=!0,{done:!0,value:void 0}}};return dn[Symbol.iterator]=function(){return dn},dn}T("Array.prototype.values",function(rt){return rt||function(){return O(this,function(jt,mr){return mr})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var P=P||{},R=this||self;function I(rt){var jt=typeof rt;return jt=jt!="object"?jt:rt?Array.isArray(rt)?"array":jt:"null",jt=="array"||jt=="object"&&typeof rt.length=="number"}function N(rt){var jt=typeof rt;return jt=="object"&&rt!=null||jt=="function"}function j(rt,jt,mr){return rt.call.apply(rt.bind,arguments)}function U(rt,jt,mr){if(!rt)throw Error();if(2<arguments.length){var ur=Array.prototype.slice.call(arguments,2);return function(){var dn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(dn,ur),rt.apply(jt,dn)}}return function(){return rt.apply(jt,arguments)}}function z(rt,jt,mr){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?j:U,z.apply(null,arguments)}function V(rt,jt){var mr=Array.prototype.slice.call(arguments,1);return function(){var ur=mr.slice();return ur.push.apply(ur,arguments),rt.apply(this,ur)}}function F(rt,jt){function mr(){}mr.prototype=jt.prototype,rt.aa=jt.prototype,rt.prototype=new mr,rt.prototype.constructor=rt,rt.Qb=function(ur,dn,tn){for(var Bn=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)Bn[Vn-2]=arguments[Vn];return jt.prototype[dn].apply(ur,Bn)}}function q(rt){const jt=rt.length;if(0<jt){const mr=Array(jt);for(let ur=0;ur<jt;ur++)mr[ur]=rt[ur];return mr}return[]}function B(rt,jt){for(let mr=1;mr<arguments.length;mr++){const ur=arguments[mr];if(I(ur)){const dn=rt.length||0,tn=ur.length||0;rt.length=dn+tn;for(let Bn=0;Bn<tn;Bn++)rt[dn+Bn]=ur[Bn]}else rt.push(ur)}}class W{constructor(jt,mr){this.i=jt,this.j=mr,this.h=0,this.g=null}get(){let jt;return 0<this.h?(this.h--,jt=this.g,this.g=jt.next,jt.next=null):jt=this.i(),jt}}function H(rt){return/^[\s\xa0]*$/.test(rt)}function G(){var rt=R.navigator;return rt&&(rt=rt.userAgent)?rt:""}function Z(rt){return Z[" "](rt),rt}Z[" "]=function(){};var Y=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ee(rt,jt,mr){for(const ur in rt)jt.call(mr,rt[ur],ur,rt)}function J(rt,jt){for(const mr in rt)jt.call(void 0,rt[mr],mr,rt)}function Q(rt){const jt={};for(const mr in rt)jt[mr]=rt[mr];return jt}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(rt,jt){let mr,ur;for(let dn=1;dn<arguments.length;dn++){ur=arguments[dn];for(mr in ur)rt[mr]=ur[mr];for(let tn=0;tn<te.length;tn++)mr=te[tn],Object.prototype.hasOwnProperty.call(ur,mr)&&(rt[mr]=ur[mr])}}function de(rt){var jt=1;rt=rt.split(":");const mr=[];for(;0<jt&&rt.length;)mr.push(rt.shift()),jt--;return rt.length&&mr.push(rt.join(":")),mr}function ie(rt){R.setTimeout(()=>{throw rt},0)}function ve(){var rt=Pe;let jt=null;return rt.g&&(jt=rt.g,rt.g=rt.g.next,rt.g||(rt.h=null),jt.next=null),jt}class xe{constructor(){this.h=this.g=null}add(jt,mr){const ur=ke.get();ur.set(jt,mr),this.h?this.h.next=ur:this.g=ur,this.h=ur}}var ke=new W(()=>new Ce,rt=>rt.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(jt,mr){this.h=jt,this.g=mr,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,Ae=!1,Pe=new xe,Ee=()=>{const rt=R.Promise.resolve(void 0);Oe=()=>{rt.then(Te)}};var Te=()=>{for(var rt;rt=ve();){try{rt.h.call(rt.g)}catch(mr){ie(mr)}var jt=ke;jt.j(rt),100>jt.h&&(jt.h++,rt.next=jt.g,jt.g=rt)}Ae=!1};function Re(){this.s=this.s,this.C=this.C}Re.prototype.s=!1,Re.prototype.ma=function(){this.s||(this.s=!0,this.N())},Re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Me(rt,jt){this.type=rt,this.g=this.target=jt,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var ze=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var rt=!1,jt=Object.defineProperty({},"passive",{get:function(){rt=!0}});try{const mr=()=>{};R.addEventListener("test",mr,jt),R.removeEventListener("test",mr,jt)}catch{}return rt}();function Le(rt,jt){if(Me.call(this,rt?rt.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,rt){var mr=this.type=rt.type,ur=rt.changedTouches&&rt.changedTouches.length?rt.changedTouches[0]:null;if(this.target=rt.target||rt.srcElement,this.g=jt,jt=rt.relatedTarget){if(Y){e:{try{Z(jt.nodeName);var dn=!0;break e}catch{}dn=!1}dn||(jt=null)}}else mr=="mouseover"?jt=rt.fromElement:mr=="mouseout"&&(jt=rt.toElement);this.relatedTarget=jt,ur?(this.clientX=ur.clientX!==void 0?ur.clientX:ur.pageX,this.clientY=ur.clientY!==void 0?ur.clientY:ur.pageY,this.screenX=ur.screenX||0,this.screenY=ur.screenY||0):(this.clientX=rt.clientX!==void 0?rt.clientX:rt.pageX,this.clientY=rt.clientY!==void 0?rt.clientY:rt.pageY,this.screenX=rt.screenX||0,this.screenY=rt.screenY||0),this.button=rt.button,this.key=rt.key||"",this.ctrlKey=rt.ctrlKey,this.altKey=rt.altKey,this.shiftKey=rt.shiftKey,this.metaKey=rt.metaKey,this.pointerId=rt.pointerId||0,this.pointerType=typeof rt.pointerType=="string"?rt.pointerType:je[rt.pointerType]||"",this.state=rt.state,this.i=rt,rt.defaultPrevented&&Le.aa.h.call(this)}}F(Le,Me);var je={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var rt=this.i;rt.preventDefault?rt.preventDefault():rt.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Ye(rt,jt,mr,ur,dn){this.listener=rt,this.proxy=null,this.src=jt,this.type=mr,this.capture=!!ur,this.ha=dn,this.key=++qe,this.da=this.fa=!1}function Ve(rt){rt.da=!0,rt.listener=null,rt.proxy=null,rt.src=null,rt.ha=null}function tt(rt){this.src=rt,this.g={},this.h=0}tt.prototype.add=function(rt,jt,mr,ur,dn){var tn=rt.toString();rt=this.g[tn],rt||(rt=this.g[tn]=[],this.h++);var Bn=Ze(rt,jt,ur,dn);return-1<Bn?(jt=rt[Bn],mr||(jt.fa=!1)):(jt=new Ye(jt,this.src,tn,!!ur,dn),jt.fa=mr,rt.push(jt)),jt};function it(rt,jt){var mr=jt.type;if(mr in rt.g){var ur=rt.g[mr],dn=Array.prototype.indexOf.call(ur,jt,void 0),tn;(tn=0<=dn)&&Array.prototype.splice.call(ur,dn,1),tn&&(Ve(jt),rt.g[mr].length==0&&(delete rt.g[mr],rt.h--))}}function Ze(rt,jt,mr,ur){for(var dn=0;dn<rt.length;++dn){var tn=rt[dn];if(!tn.da&&tn.listener==jt&&tn.capture==!!mr&&tn.ha==ur)return dn}return-1}var We="closure_lm_"+(1e6*Math.random()|0),He={};function Ue(rt,jt,mr,ur,dn){if(Array.isArray(jt)){for(var tn=0;tn<jt.length;tn++)Ue(rt,jt[tn],mr,ur,dn);return null}return mr=Mt(mr),rt&&rt[Ne]?rt.K(jt,mr,N(ur)?!!ur.capture:!!ur,dn):Qe(rt,jt,mr,!1,ur,dn)}function Qe(rt,jt,mr,ur,dn,tn){if(!jt)throw Error("Invalid event type");var Bn=N(dn)?!!dn.capture:!!dn,Vn=ft(rt);if(Vn||(rt[We]=Vn=new tt(rt)),mr=Vn.add(jt,mr,ur,Bn,tn),mr.proxy)return mr;if(ur=Be(),mr.proxy=ur,ur.src=rt,ur.listener=mr,rt.addEventListener)ze||(dn=Bn),dn===void 0&&(dn=!1),rt.addEventListener(jt.toString(),ur,dn);else if(rt.attachEvent)rt.attachEvent(lt(jt.toString()),ur);else if(rt.addListener&&rt.removeListener)rt.addListener(ur);else throw Error("addEventListener and attachEvent are unavailable.");return mr}function Be(){function rt(mr){return jt.call(rt.src,rt.listener,mr)}const jt=dt;return rt}function $e(rt,jt,mr,ur,dn){if(Array.isArray(jt))for(var tn=0;tn<jt.length;tn++)$e(rt,jt[tn],mr,ur,dn);else ur=N(ur)?!!ur.capture:!!ur,mr=Mt(mr),rt&&rt[Ne]?(rt=rt.i,jt=String(jt).toString(),jt in rt.g&&(tn=rt.g[jt],mr=Ze(tn,mr,ur,dn),-1<mr&&(Ve(tn[mr]),Array.prototype.splice.call(tn,mr,1),tn.length==0&&(delete rt.g[jt],rt.h--)))):rt&&(rt=ft(rt))&&(jt=rt.g[jt.toString()],rt=-1,jt&&(rt=Ze(jt,mr,ur,dn)),(mr=-1<rt?jt[rt]:null)&&Xe(mr))}function Xe(rt){if(typeof rt!="number"&&rt&&!rt.da){var jt=rt.src;if(jt&&jt[Ne])it(jt.i,rt);else{var mr=rt.type,ur=rt.proxy;jt.removeEventListener?jt.removeEventListener(mr,ur,rt.capture):jt.detachEvent?jt.detachEvent(lt(mr),ur):jt.addListener&&jt.removeListener&&jt.removeListener(ur),(mr=ft(jt))?(it(mr,rt),mr.h==0&&(mr.src=null,jt[We]=null)):Ve(rt)}}}function lt(rt){return rt in He?He[rt]:He[rt]="on"+rt}function dt(rt,jt){if(rt.da)rt=!0;else{jt=new Le(jt,this);var mr=rt.listener,ur=rt.ha||rt.src;rt.fa&&Xe(rt),rt=mr.call(ur,jt)}return rt}function ft(rt){return rt=rt[We],rt instanceof tt?rt:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(rt){return typeof rt=="function"?rt:(rt[St]||(rt[St]=function(jt){return rt.handleEvent(jt)}),rt[St])}function ht(){Re.call(this),this.i=new tt(this),this.M=this,this.F=null}F(ht,Re),ht.prototype[Ne]=!0,ht.prototype.removeEventListener=function(rt,jt,mr,ur){$e(this,rt,jt,mr,ur)};function ct(rt,jt){var mr,ur=rt.F;if(ur)for(mr=[];ur;ur=ur.F)mr.push(ur);if(rt=rt.M,ur=jt.type||jt,typeof jt=="string")jt=new Me(jt,rt);else if(jt instanceof Me)jt.target=jt.target||rt;else{var dn=jt;jt=new Me(ur,rt),se(jt,dn)}if(dn=!0,mr)for(var tn=mr.length-1;0<=tn;tn--){var Bn=jt.g=mr[tn];dn=vt(Bn,ur,!0,jt)&&dn}if(Bn=jt.g=rt,dn=vt(Bn,ur,!0,jt)&&dn,dn=vt(Bn,ur,!1,jt)&&dn,mr)for(tn=0;tn<mr.length;tn++)Bn=jt.g=mr[tn],dn=vt(Bn,ur,!1,jt)&&dn}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var rt=this.i,jt;for(jt in rt.g){for(var mr=rt.g[jt],ur=0;ur<mr.length;ur++)Ve(mr[ur]);delete rt.g[jt],rt.h--}}this.F=null},ht.prototype.K=function(rt,jt,mr,ur){return this.i.add(String(rt),jt,!1,mr,ur)},ht.prototype.L=function(rt,jt,mr,ur){return this.i.add(String(rt),jt,!0,mr,ur)};function vt(rt,jt,mr,ur){if(jt=rt.i.g[String(jt)],!jt)return!0;jt=jt.concat();for(var dn=!0,tn=0;tn<jt.length;++tn){var Bn=jt[tn];if(Bn&&!Bn.da&&Bn.capture==mr){var Vn=Bn.listener,nt=Bn.ha||Bn.src;Bn.fa&&it(rt.i,Bn),dn=Vn.call(nt,ur)!==!1&&dn}}return dn&&!ur.defaultPrevented}function Et(rt,jt,mr){if(typeof rt=="function")mr&&(rt=z(rt,mr));else if(rt&&typeof rt.handleEvent=="function")rt=z(rt.handleEvent,rt);else throw Error("Invalid listener argument");return 2147483647<Number(jt)?-1:R.setTimeout(rt,jt||0)}function gt(rt){rt.g=Et(()=>{rt.g=null,rt.i&&(rt.i=!1,gt(rt))},rt.l);const jt=rt.h;rt.h=null,rt.m.apply(null,jt)}class xt extends Re{constructor(jt,mr){super(),this.m=jt,this.l=mr,this.h=null,this.i=!1,this.g=null}j(jt){this.h=arguments,this.g?this.i=!0:gt(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function at(rt){Re.call(this),this.h=rt,this.g={}}F(at,Re);var $t=[];function Qt(rt){ee(rt.g,function(jt,mr){this.g.hasOwnProperty(mr)&&Xe(jt)},rt),rt.g={}}at.prototype.N=function(){at.aa.N.call(this),Qt(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=R.JSON.stringify,bt=R.JSON.parse,wt=class{stringify(rt){return R.JSON.stringify(rt,void 0)}parse(rt){return R.JSON.parse(rt,void 0)}};function At(){}At.prototype.h=null;function Kt(rt){return rt.h||(rt.h=rt.i())}function Yt(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){Me.call(this,"d")}F(Cr,Me);function Mr(){Me.call(this,"c")}F(Mr,Me);var $r={},qr=null;function gn(){return qr=qr||new ht}$r.La="serverreachability";function or(rt){Me.call(this,$r.La,rt)}F(or,Me);function Zr(rt){const jt=gn();ct(jt,new or(jt))}$r.STAT_EVENT="statevent";function bn(rt,jt){Me.call(this,$r.STAT_EVENT,rt),this.stat=jt}F(bn,Me);function mn(rt){const jt=gn();ct(jt,new bn(jt,rt))}$r.Ma="timingevent";function jn(rt,jt){Me.call(this,$r.Ma,rt),this.size=jt}F(jn,Me);function ln(rt,jt){if(typeof rt!="function")throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){rt()},jt)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function qn(rt,jt,mr,ur,dn,tn){rt.info(function(){if(rt.g)if(tn)for(var Bn="",Vn=tn.split("&"),nt=0;nt<Vn.length;nt++){var Nt=Vn[nt].split("=");if(1<Nt.length){var Xt=Nt[0];Nt=Nt[1];var hr=Xt.split("_");Bn=2<=hr.length&&hr[1]=="type"?Bn+(Xt+"="+Nt+"&"):Bn+(Xt+"=redacted&")}}else Bn=null;else Bn=tn;return"XMLHTTP REQ ("+ur+") [attempt "+dn+"]: "+jt+`
`+mr+`
`+Bn})}function Ln(rt,jt,mr,ur,dn,tn,Bn){rt.info(function(){return"XMLHTTP RESP ("+ur+") [ attempt "+dn+"]: "+jt+`
`+mr+`
`+tn+" "+Bn})}function gi(rt,jt,mr,ur){rt.info(function(){return"XMLHTTP TEXT ("+jt+"): "+Ci(rt,mr)+(ur?" "+ur:"")})}function Ai(rt,jt){rt.info(function(){return"TIMEOUT: "+jt})}Cn.prototype.info=function(){};function Ci(rt,jt){if(!rt.g)return jt;if(!jt)return null;try{var mr=JSON.parse(jt);if(mr){for(rt=0;rt<mr.length;rt++)if(Array.isArray(mr[rt])){var ur=mr[rt];if(!(2>ur.length)){var dn=ur[1];if(Array.isArray(dn)&&!(1>dn.length)){var tn=dn[0];if(tn!="noop"&&tn!="stop"&&tn!="close")for(var Bn=1;Bn<dn.length;Bn++)dn[Bn]=""}}}}return Vt(mr)}catch{return jt}}var _i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ri;function Ti(){}F(Ti,At),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},Ri=new Ti;function Pt(rt,jt,mr,ur){this.j=rt,this.i=jt,this.l=mr,this.R=ur||1,this.U=new at(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Er}function Er(){this.i=null,this.g="",this.h=!1}var zt={},ut={};function Tt(rt,jt,mr){rt.L=1,rt.v=yr(Wt(jt)),rt.m=mr,rt.P=!0,_t(rt,null)}function _t(rt,jt){rt.F=Date.now(),Wr(rt),rt.A=Wt(rt.v);var mr=rt.A,ur=rt.R;Array.isArray(ur)||(ur=[String(ur)]),wi(mr.i,"t",ur),rt.C=0,mr=rt.j.J,rt.h=new Er,rt.g=Wi(rt.j,mr?jt:null,!rt.m),0<rt.O&&(rt.M=new xt(z(rt.Y,rt,rt.g),rt.O)),jt=rt.U,mr=rt.g,ur=rt.ca;var dn="readystatechange";Array.isArray(dn)||(dn&&($t[0]=dn.toString()),dn=$t);for(var tn=0;tn<dn.length;tn++){var Bn=Ue(mr,dn[tn],ur||jt.handleEvent,!1,jt.h||jt);if(!Bn)break;jt.g[Bn.key]=Bn}jt=rt.H?Q(rt.H):{},rt.m?(rt.u||(rt.u="POST"),jt["Content-Type"]="application/x-www-form-urlencoded",rt.g.ea(rt.A,rt.u,rt.m,jt)):(rt.u="GET",rt.g.ea(rt.A,rt.u,null,jt)),Zr(),qn(rt.i,rt.u,rt.A,rt.l,rt.R,rt.m)}Pt.prototype.ca=function(rt){rt=rt.target;const jt=this.M;jt&&on(rt)==3?jt.j():this.Y(rt)},Pt.prototype.Y=function(rt){try{if(rt==this.g)e:{const hr=on(this.g);var jt=this.g.Ba();const Zt=this.g.Z();if(!(3>hr)&&(hr!=3||this.g&&(this.h.h||this.g.oa()||yn(this.g)))){this.J||hr!=4||jt==7||(jt==8||0>=Zt?Zr(3):Zr(2)),On(this);var mr=this.g.Z();this.X=mr;t:if(cr(this)){var ur=yn(this.g);rt="";var dn=ur.length,tn=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),Fr(this);var Bn="";break t}this.h.i=new R.TextDecoder}for(jt=0;jt<dn;jt++)this.h.h=!0,rt+=this.h.i.decode(ur[jt],{stream:!(tn&&jt==dn-1)});ur.length=0,this.h.g+=rt,this.C=0,Bn=this.h.g}else Bn=this.g.oa();if(this.o=mr==200,Ln(this.i,this.u,this.A,this.l,this.R,hr,mr),this.o){if(this.T&&!this.K){t:{if(this.g){var Vn,nt=this.g;if((Vn=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Vn)){var Nt=Vn;break t}}Nt=null}if(mr=Nt)gi(this.i,this.l,mr,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,mr);else{this.o=!1,this.s=3,mn(12),_r(this),Fr(this);break e}}if(this.P){mr=!0;let rn;for(;!this.J&&this.C<Bn.length;)if(rn=Xr(this,Bn),rn==ut){hr==4&&(this.s=4,mn(14),mr=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==zt){this.s=4,mn(15),gi(this.i,this.l,Bn,"[Invalid Chunk]"),mr=!1;break}else gi(this.i,this.l,rn,null),Ge(this,rn);if(cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hr!=4||Bn.length!=0||this.h.h||(this.s=1,mn(16),mr=!1),this.o=this.o&&mr,!mr)gi(this.i,this.l,Bn,"[Invalid Chunked Response]"),_r(this),Fr(this);else if(0<Bn.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+Bn.length),Un(Xt),Xt.M=!0,mn(11))}}else gi(this.i,this.l,Bn,null),Ge(this,Bn);hr==4&&_r(this),this.o&&!this.J&&(hr==4?ri(this.j,this):(this.o=!1,Wr(this)))}else fn(this.g),mr==400&&0<Bn.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),_r(this),Fr(this)}}}catch{}finally{}};function cr(rt){return rt.g?rt.u=="GET"&&rt.L!=2&&rt.j.Ca:!1}function Xr(rt,jt){var mr=rt.C,ur=jt.indexOf(`
`,mr);return ur==-1?ut:(mr=Number(jt.substring(mr,ur)),isNaN(mr)?zt:(ur+=1,ur+mr>jt.length?ut:(jt=jt.slice(ur,ur+mr),rt.C=ur+mr,jt)))}Pt.prototype.cancel=function(){this.J=!0,_r(this)};function Wr(rt){rt.S=Date.now()+rt.I,an(rt,rt.I)}function an(rt,jt){if(rt.B!=null)throw Error("WatchDog timer not null");rt.B=ln(z(rt.ba,rt),jt)}function On(rt){rt.B&&(R.clearTimeout(rt.B),rt.B=null)}Pt.prototype.ba=function(){this.B=null;const rt=Date.now();0<=rt-this.S?(Ai(this.i,this.A),this.L!=2&&(Zr(),mn(17)),_r(this),this.s=2,Fr(this)):an(this,this.S-rt)};function Fr(rt){rt.j.G==0||rt.J||ri(rt.j,rt)}function _r(rt){On(rt);var jt=rt.M;jt&&typeof jt.ma=="function"&&jt.ma(),rt.M=null,Qt(rt.U),rt.g&&(jt=rt.g,rt.g=null,jt.abort(),jt.ma())}function Ge(rt,jt){try{var mr=rt.j;if(mr.G!=0&&(mr.g==rt||_n(mr.h,rt))){if(!rt.K&&_n(mr.h,rt)&&mr.G==3){try{var ur=mr.Da.g.parse(jt)}catch{ur=null}if(Array.isArray(ur)&&ur.length==3){var dn=ur;if(dn[0]==0){e:if(!mr.u){if(mr.g)if(mr.g.F+3e3<rt.F)ti(mr),Zn(mr);else break e;Tn(mr),mn(18)}}else mr.za=dn[1],0<mr.za-mr.T&&37500>dn[2]&&mr.F&&mr.v==0&&!mr.C&&(mr.C=ln(z(mr.Za,mr),6e3));if(1>=nn(mr.h)&&mr.ca){try{mr.ca()}catch{}mr.ca=void 0}}else fi(mr,11)}else if((rt.K||mr.g==rt)&&ti(mr),!H(jt))for(dn=mr.Da.g.parse(jt),jt=0;jt<dn.length;jt++){let Nt=dn[jt];if(mr.T=Nt[0],Nt=Nt[1],mr.G==2)if(Nt[0]=="c"){mr.K=Nt[1],mr.ia=Nt[2];const Xt=Nt[3];Xt!=null&&(mr.la=Xt,mr.j.info("VER="+mr.la));const hr=Nt[4];hr!=null&&(mr.Aa=hr,mr.j.info("SVER="+mr.Aa));const Zt=Nt[5];Zt!=null&&typeof Zt=="number"&&0<Zt&&(ur=1.5*Zt,mr.L=ur,mr.j.info("backChannelRequestTimeoutMs_="+ur)),ur=mr;const rn=rt.g;if(rn){const xn=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xn){var tn=ur.h;tn.g||xn.indexOf("spdy")==-1&&xn.indexOf("quic")==-1&&xn.indexOf("h2")==-1||(tn.j=tn.l,tn.g=new Set,tn.h&&(Nn(tn,tn.h),tn.h=null))}if(ur.D){const In=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;In&&(ur.ya=In,Br(ur.I,ur.D,In))}}mr.G=3,mr.l&&mr.l.ua(),mr.ba&&(mr.R=Date.now()-rt.F,mr.j.info("Handshake RTT: "+mr.R+"ms")),ur=mr;var Bn=rt;if(ur.qa=Li(ur,ur.J?ur.ia:null,ur.W),Bn.K){tr(ur.h,Bn);var Vn=Bn,nt=ur.L;nt&&(Vn.I=nt),Vn.B&&(On(Vn),Wr(Vn)),ur.g=Bn}else kn(ur);0<mr.i.length&&gr(mr)}else Nt[0]!="stop"&&Nt[0]!="close"||fi(mr,7);else mr.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?fi(mr,7):Xn(mr):Nt[0]!="noop"&&mr.l&&mr.l.ta(Nt),mr.v=0)}}Zr(4)}catch{}}var mt=class{constructor(rt,jt){this.g=rt,this.map=jt}};function Ft(rt){this.l=rt||10,R.PerformanceNavigationTiming?(rt=R.performance.getEntriesByType("navigation"),rt=0<rt.length&&(rt[0].nextHopProtocol=="hq"||rt[0].nextHopProtocol=="h2")):rt=!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=rt?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dr(rt){return rt.h?!0:rt.g?rt.g.size>=rt.j:!1}function nn(rt){return rt.h?1:rt.g?rt.g.size:0}function _n(rt,jt){return rt.h?rt.h==jt:rt.g?rt.g.has(jt):!1}function Nn(rt,jt){rt.g?rt.g.add(jt):rt.h=jt}function tr(rt,jt){rt.h&&rt.h==jt?rt.h=null:rt.g&&rt.g.has(jt)&&rt.g.delete(jt)}Ft.prototype.cancel=function(){if(this.i=nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const rt of this.g.values())rt.cancel();this.g.clear()}};function nr(rt){if(rt.h!=null)return rt.i.concat(rt.h.D);if(rt.g!=null&&rt.g.size!==0){let jt=rt.i;for(const mr of rt.g.values())jt=jt.concat(mr.D);return jt}return q(rt.i)}function en(rt){if(rt.V&&typeof rt.V=="function")return rt.V();if(typeof Map<"u"&&rt instanceof Map||typeof Set<"u"&&rt instanceof Set)return Array.from(rt.values());if(typeof rt=="string")return rt.split("");if(I(rt)){for(var jt=[],mr=rt.length,ur=0;ur<mr;ur++)jt.push(rt[ur]);return jt}jt=[],mr=0;for(ur in rt)jt[mr++]=rt[ur];return jt}function cn(rt){if(rt.na&&typeof rt.na=="function")return rt.na();if(!rt.V||typeof rt.V!="function"){if(typeof Map<"u"&&rt instanceof Map)return Array.from(rt.keys());if(!(typeof Set<"u"&&rt instanceof Set)){if(I(rt)||typeof rt=="string"){var jt=[];rt=rt.length;for(var mr=0;mr<rt;mr++)jt.push(mr);return jt}jt=[],mr=0;for(const ur in rt)jt[mr++]=ur;return jt}}}function Je(rt,jt){if(rt.forEach&&typeof rt.forEach=="function")rt.forEach(jt,void 0);else if(I(rt)||typeof rt=="string")Array.prototype.forEach.call(rt,jt,void 0);else for(var mr=cn(rt),ur=en(rt),dn=ur.length,tn=0;tn<dn;tn++)jt.call(void 0,ur[tn],mr&&mr[tn],rt)}var Rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yt(rt,jt){if(rt){rt=rt.split("&");for(var mr=0;mr<rt.length;mr++){var ur=rt[mr].indexOf("="),dn=null;if(0<=ur){var tn=rt[mr].substring(0,ur);dn=rt[mr].substring(ur+1)}else tn=rt[mr];jt(tn,dn?decodeURIComponent(dn.replace(/\+/g," ")):"")}}}function Ot(rt){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,rt instanceof Ot){this.h=rt.h,br(this,rt.j),this.o=rt.o,this.g=rt.g,Sr(this,rt.s),this.l=rt.l;var jt=rt.i,mr=new Wn;mr.i=jt.i,jt.g&&(mr.g=new Map(jt.g),mr.h=jt.h),jr(this,mr),this.m=rt.m}else rt&&(jt=String(rt).match(Rt))?(this.h=!1,br(this,jt[1]||"",!0),this.o=Nr(jt[2]||""),this.g=Nr(jt[3]||"",!0),Sr(this,jt[4]),this.l=Nr(jt[5]||"",!0),jr(this,jt[6]||"",!0),this.m=Nr(jt[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}Ot.prototype.toString=function(){var rt=[],jt=this.j;jt&&rt.push(Hr(jt,Yr,!0),":");var mr=this.g;return(mr||jt=="file")&&(rt.push("//"),(jt=this.o)&&rt.push(Hr(jt,Yr,!0),"@"),rt.push(encodeURIComponent(String(mr)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),mr=this.s,mr!=null&&rt.push(":",String(mr))),(mr=this.l)&&(this.g&&mr.charAt(0)!="/"&&rt.push("/"),rt.push(Hr(mr,mr.charAt(0)=="/"?Pn:Sn,!0))),(mr=this.i.toString())&&rt.push("?",mr),(mr=this.m)&&rt.push("#",Hr(mr,Mn)),rt.join("")};function Wt(rt){return new Ot(rt)}function br(rt,jt,mr){rt.j=mr?Nr(jt,!0):jt,rt.j&&(rt.j=rt.j.replace(/:$/,""))}function Sr(rt,jt){if(jt){if(jt=Number(jt),isNaN(jt)||0>jt)throw Error("Bad port number "+jt);rt.s=jt}else rt.s=null}function jr(rt,jt,mr){jt instanceof Wn?(rt.i=jt,li(rt.i,rt.h)):(mr||(jt=Hr(jt,vn)),rt.i=new Wn(jt,rt.h))}function Br(rt,jt,mr){rt.i.set(jt,mr)}function yr(rt){return Br(rt,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),rt}function Nr(rt,jt){return rt?jt?decodeURI(rt.replace(/%25/g,"%2525")):decodeURIComponent(rt):""}function Hr(rt,jt,mr){return typeof rt=="string"?(rt=encodeURI(rt).replace(jt,Gr),mr&&(rt=rt.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),rt):null}function Gr(rt){return rt=rt.charCodeAt(0),"%"+(rt>>4&15).toString(16)+(rt&15).toString(16)}var Yr=/[#\/\?@]/g,Sn=/[#\?:]/g,Pn=/[#\?]/g,vn=/[#\?@]/g,Mn=/#/g;function Wn(rt,jt){this.h=this.g=null,this.i=rt||null,this.j=!!jt}function pi(rt){rt.g||(rt.g=new Map,rt.h=0,rt.i&&yt(rt.i,function(jt,mr){rt.add(decodeURIComponent(jt.replace(/\+/g," ")),mr)}))}$=Wn.prototype,$.add=function(rt,jt){pi(this),this.i=null,rt=oi(this,rt);var mr=this.g.get(rt);return mr||this.g.set(rt,mr=[]),mr.push(jt),this.h+=1,this};function yi(rt,jt){pi(rt),jt=oi(rt,jt),rt.g.has(jt)&&(rt.i=null,rt.h-=rt.g.get(jt).length,rt.g.delete(jt))}function Si(rt,jt){return pi(rt),jt=oi(rt,jt),rt.g.has(jt)}$.forEach=function(rt,jt){pi(this),this.g.forEach(function(mr,ur){mr.forEach(function(dn){rt.call(jt,dn,ur,this)},this)},this)},$.na=function(){pi(this);const rt=Array.from(this.g.values()),jt=Array.from(this.g.keys()),mr=[];for(let ur=0;ur<jt.length;ur++){const dn=rt[ur];for(let tn=0;tn<dn.length;tn++)mr.push(jt[ur])}return mr},$.V=function(rt){pi(this);let jt=[];if(typeof rt=="string")Si(this,rt)&&(jt=jt.concat(this.g.get(oi(this,rt))));else{rt=Array.from(this.g.values());for(let mr=0;mr<rt.length;mr++)jt=jt.concat(rt[mr])}return jt},$.set=function(rt,jt){return pi(this),this.i=null,rt=oi(this,rt),Si(this,rt)&&(this.h-=this.g.get(rt).length),this.g.set(rt,[jt]),this.h+=1,this},$.get=function(rt,jt){return rt?(rt=this.V(rt),0<rt.length?String(rt[0]):jt):jt};function wi(rt,jt,mr){yi(rt,jt),0<mr.length&&(rt.i=null,rt.g.set(oi(rt,jt),q(mr)),rt.h+=mr.length)}$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const rt=[],jt=Array.from(this.g.keys());for(var mr=0;mr<jt.length;mr++){var ur=jt[mr];const tn=encodeURIComponent(String(ur)),Bn=this.V(ur);for(ur=0;ur<Bn.length;ur++){var dn=tn;Bn[ur]!==""&&(dn+="="+encodeURIComponent(String(Bn[ur]))),rt.push(dn)}}return this.i=rt.join("&")};function oi(rt,jt){return jt=String(jt),rt.j&&(jt=jt.toLowerCase()),jt}function li(rt,jt){jt&&!rt.j&&(pi(rt),rt.i=null,rt.g.forEach(function(mr,ur){var dn=ur.toLowerCase();ur!=dn&&(yi(this,ur),wi(this,dn,mr))},rt)),rt.j=jt}function ot(rt,jt){const mr=new Cn;if(R.Image){const ur=new Image;ur.onload=V(sr,mr,"TestLoadImage: loaded",!0,jt,ur),ur.onerror=V(sr,mr,"TestLoadImage: error",!1,jt,ur),ur.onabort=V(sr,mr,"TestLoadImage: abort",!1,jt,ur),ur.ontimeout=V(sr,mr,"TestLoadImage: timeout",!1,jt,ur),R.setTimeout(function(){ur.ontimeout&&ur.ontimeout()},1e4),ur.src=rt}else jt(!1)}function Lt(rt,jt){const mr=new Cn,ur=new AbortController,dn=setTimeout(()=>{ur.abort(),sr(mr,"TestPingServer: timeout",!1,jt)},1e4);fetch(rt,{signal:ur.signal}).then(tn=>{clearTimeout(dn),tn.ok?sr(mr,"TestPingServer: ok",!0,jt):sr(mr,"TestPingServer: server error",!1,jt)}).catch(()=>{clearTimeout(dn),sr(mr,"TestPingServer: error",!1,jt)})}function sr(rt,jt,mr,ur,dn){try{dn&&(dn.onload=null,dn.onerror=null,dn.onabort=null,dn.ontimeout=null),ur(mr)}catch{}}function wr(){this.g=new wt}function pr(rt,jt,mr){const ur=mr||"";try{Je(rt,function(dn,tn){let Bn=dn;N(dn)&&(Bn=Vt(dn)),jt.push(ur+tn+"="+encodeURIComponent(Bn))})}catch(dn){throw jt.push(ur+"type="+encodeURIComponent("_badmap")),dn}}function Ur(rt){this.l=rt.Ub||null,this.j=rt.eb||!1}F(Ur,At),Ur.prototype.g=function(){return new sn(this.l,this.j)},Ur.prototype.i=function(rt){return function(){return rt}}({});function sn(rt,jt){ht.call(this),this.D=rt,this.o=jt,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(sn,ht),$=sn.prototype,$.open=function(rt,jt){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=rt,this.A=jt,this.readyState=1,Fn(this)},$.send=function(rt){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const jt={headers:this.u,method:this.B,credentials:this.m,cache:void 0};rt&&(jt.body=rt),(this.D||R).fetch(new Request(this.A,jt)).then(this.Sa.bind(this),this.ga.bind(this))},$.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dn(this)),this.readyState=0},$.Sa=function(rt){if(this.g&&(this.l=rt,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=rt.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")rt.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in rt){if(this.j=rt.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;un(this)}else rt.text().then(this.Ra.bind(this),this.ga.bind(this))};function un(rt){rt.j.read().then(rt.Pa.bind(rt)).catch(rt.ga.bind(rt))}$.Pa=function(rt){if(this.g){if(this.o&&rt.value)this.response.push(rt.value);else if(!this.o){var jt=rt.value?rt.value:new Uint8Array(0);(jt=this.v.decode(jt,{stream:!rt.done}))&&(this.response=this.responseText+=jt)}rt.done?Dn(this):Fn(this),this.readyState==3&&un(this)}},$.Ra=function(rt){this.g&&(this.response=this.responseText=rt,Dn(this))},$.Qa=function(rt){this.g&&(this.response=rt,Dn(this))},$.ga=function(){this.g&&Dn(this)};function Dn(rt){rt.readyState=4,rt.l=null,rt.j=null,rt.v=null,Fn(rt)}$.setRequestHeader=function(rt,jt){this.u.append(rt,jt)},$.getResponseHeader=function(rt){return this.h&&this.h.get(rt.toLowerCase())||""},$.getAllResponseHeaders=function(){if(!this.h)return"";const rt=[],jt=this.h.entries();for(var mr=jt.next();!mr.done;)mr=mr.value,rt.push(mr[0]+": "+mr[1]),mr=jt.next();return rt.join(`\r
`)};function Fn(rt){rt.onreadystatechange&&rt.onreadystatechange.call(rt)}Object.defineProperty(sn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(rt){this.m=rt?"include":"same-origin"}});function ai(rt){let jt="";return ee(rt,function(mr,ur){jt+=ur,jt+=":",jt+=mr,jt+=`\r
`}),jt}function ui(rt,jt,mr){e:{for(ur in mr){var ur=!1;break e}ur=!0}ur||(mr=ai(mr),typeof rt=="string"?mr!=null&&encodeURIComponent(String(mr)):Br(rt,jt,mr))}function Gt(rt){ht.call(this),this.headers=new Map,this.o=rt||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Gt,ht);var Bt=/^https?$/i,Ht=["POST","PUT"];$=Gt.prototype,$.Ha=function(rt){this.J=rt},$.ea=function(rt,jt,mr,ur){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+rt);jt=jt?jt.toUpperCase():"GET",this.D=rt,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ri.g(),this.v=this.o?Kt(this.o):Kt(Ri),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(jt,String(rt),!0),this.B=!1}catch(tn){qt(this,tn);return}if(rt=mr||"",mr=new Map(this.headers),ur)if(Object.getPrototypeOf(ur)===Object.prototype)for(var dn in ur)mr.set(dn,ur[dn]);else if(typeof ur.keys=="function"&&typeof ur.get=="function")for(const tn of ur.keys())mr.set(tn,ur.get(tn));else throw Error("Unknown input type for opt_headers: "+String(ur));ur=Array.from(mr.keys()).find(tn=>tn.toLowerCase()=="content-type"),dn=R.FormData&&rt instanceof R.FormData,!(0<=Array.prototype.indexOf.call(Ht,jt,void 0))||ur||dn||mr.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tn,Bn]of mr)this.g.setRequestHeader(tn,Bn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kr(this),this.u=!0,this.g.send(rt),this.u=!1}catch(tn){qt(this,tn)}};function qt(rt,jt){rt.h=!1,rt.g&&(rt.j=!0,rt.g.abort(),rt.j=!1),rt.l=jt,rt.m=5,Jt(rt),Rr(rt)}function Jt(rt){rt.A||(rt.A=!0,ct(rt,"complete"),ct(rt,"error"))}$.abort=function(rt){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=rt||7,ct(this,"complete"),ct(this,"abort"),Rr(this))},$.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),Gt.aa.N.call(this)},$.Ea=function(){this.s||(this.B||this.u||this.j?Tr(this):this.bb())},$.bb=function(){Tr(this)};function Tr(rt){if(rt.h&&typeof P<"u"&&(!rt.v[1]||on(rt)!=4||rt.Z()!=2)){if(rt.u&&on(rt)==4)Et(rt.Ea,0,rt);else if(ct(rt,"readystatechange"),on(rt)==4){rt.h=!1;try{const Bn=rt.Z();e:switch(Bn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var jt=!0;break e;default:jt=!1}var mr;if(!(mr=jt)){var ur;if(ur=Bn===0){var dn=String(rt.D).match(Rt)[1]||null;!dn&&R.self&&R.self.location&&(dn=R.self.location.protocol.slice(0,-1)),ur=!Bt.test(dn?dn.toLowerCase():"")}mr=ur}if(mr)ct(rt,"complete"),ct(rt,"success");else{rt.m=6;try{var tn=2<on(rt)?rt.g.statusText:""}catch{tn=""}rt.l=tn+" ["+rt.Z()+"]",Jt(rt)}}finally{Rr(rt)}}}}function Rr(rt,jt){if(rt.g){Kr(rt);const mr=rt.g,ur=rt.v[0]?()=>{}:null;rt.g=null,rt.v=null,jt||ct(rt,"ready");try{mr.onreadystatechange=ur}catch{}}}function Kr(rt){rt.I&&(R.clearTimeout(rt.I),rt.I=null)}$.isActive=function(){return!!this.g};function on(rt){return rt.g?rt.g.readyState:0}$.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},$.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},$.Oa=function(rt){if(this.g){var jt=this.g.responseText;return rt&&jt.indexOf(rt)==0&&(jt=jt.substring(rt.length)),bt(jt)}};function yn(rt){try{if(!rt.g)return null;if("response"in rt.g)return rt.g.response;switch(rt.H){case"":case"text":return rt.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in rt.g)return rt.g.mozResponseArrayBuffer}return null}catch{return null}}function fn(rt){const jt={};rt=(rt.g&&2<=on(rt)&&rt.g.getAllResponseHeaders()||"").split(`\r
`);for(let ur=0;ur<rt.length;ur++){if(H(rt[ur]))continue;var mr=de(rt[ur]);const dn=mr[0];if(mr=mr[1],typeof mr!="string")continue;mr=mr.trim();const tn=jt[dn]||[];jt[dn]=tn,tn.push(mr)}J(jt,function(ur){return ur.join(", ")})}$.Ba=function(){return this.m},$.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rn(rt,jt,mr){return mr&&mr.internalChannelParams&&mr.internalChannelParams[rt]||jt}function Hn(rt){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rn("failFast",!1,rt),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rn("baseRetryDelayMs",5e3,rt),this.cb=Rn("retryDelaySeedMs",1e4,rt),this.Wa=Rn("forwardChannelMaxRetries",2,rt),this.wa=Rn("forwardChannelRequestTimeoutMs",2e4,rt),this.pa=rt&&rt.xmlHttpFactory||void 0,this.Xa=rt&&rt.Tb||void 0,this.Ca=rt&&rt.useFetchStreams||!1,this.L=void 0,this.J=rt&&rt.supportsCrossDomainXhr||!1,this.K="",this.h=new Ft(rt&&rt.concurrentRequestLimit),this.Da=new wr,this.P=rt&&rt.fastHandshake||!1,this.O=rt&&rt.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=rt&&rt.Rb||!1,rt&&rt.xa&&this.j.xa(),rt&&rt.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&rt&&rt.detectBufferingProxy||!1,this.ja=void 0,rt&&rt.longPollingTimeout&&0<rt.longPollingTimeout&&(this.ja=rt.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}$=Hn.prototype,$.la=8,$.G=1,$.connect=function(rt,jt,mr,ur){mn(0),this.W=rt,this.H=jt||{},mr&&ur!==void 0&&(this.H.OSID=mr,this.H.OAID=ur),this.F=this.X,this.I=Li(this,null,this.W),gr(this)};function Xn(rt){if(ar(rt),rt.G==3){var jt=rt.U++,mr=Wt(rt.I);if(Br(mr,"SID",rt.K),Br(mr,"RID",jt),Br(mr,"TYPE","terminate"),Qr(rt,mr),jt=new Pt(rt,rt.j,jt),jt.L=2,jt.v=yr(Wt(mr)),mr=!1,R.navigator&&R.navigator.sendBeacon)try{mr=R.navigator.sendBeacon(jt.v.toString(),"")}catch{}!mr&&R.Image&&(new Image().src=jt.v,mr=!0),mr||(jt.g=Wi(jt.j,null),jt.g.ea(jt.v)),jt.F=Date.now(),Wr(jt)}qi(rt)}function Zn(rt){rt.g&&(Un(rt),rt.g.cancel(),rt.g=null)}function ar(rt){Zn(rt),rt.u&&(R.clearTimeout(rt.u),rt.u=null),ti(rt),rt.h.cancel(),rt.s&&(typeof rt.s=="number"&&R.clearTimeout(rt.s),rt.s=null)}function gr(rt){if(!Dr(rt.h)&&!rt.s){rt.s=!0;var jt=rt.Ga;Oe||Ee(),Ae||(Oe(),Ae=!0),Pe.add(jt,rt),rt.B=0}}function Pr(rt,jt){return nn(rt.h)>=rt.h.j-(rt.s?1:0)?!1:rt.s?(rt.i=jt.D.concat(rt.i),!0):rt.G==1||rt.G==2||rt.B>=(rt.Va?0:rt.Wa)?!1:(rt.s=ln(z(rt.Ga,rt,jt),Oi(rt,rt.B)),rt.B++,!0)}$.Ga=function(rt){if(this.s)if(this.s=null,this.G==1){if(!rt){this.U=Math.floor(1e5*Math.random()),rt=this.U++;const dn=new Pt(this,this.j,rt);let tn=this.o;if(this.S&&(tn?(tn=Q(tn),se(tn,this.S)):tn=this.S),this.m!==null||this.O||(dn.H=tn,tn=null),this.P)e:{for(var jt=0,mr=0;mr<this.i.length;mr++){t:{var ur=this.i[mr];if("__data__"in ur.map&&(ur=ur.map.__data__,typeof ur=="string")){ur=ur.length;break t}ur=void 0}if(ur===void 0)break;if(jt+=ur,4096<jt){jt=mr;break e}if(jt===4096||mr===this.i.length-1){jt=mr+1;break e}}jt=1e3}else jt=1e3;jt=An(this,dn,jt),mr=Wt(this.I),Br(mr,"RID",rt),Br(mr,"CVER",22),this.D&&Br(mr,"X-HTTP-Session-Id",this.D),Qr(this,mr),tn&&(this.O?jt="headers="+encodeURIComponent(String(ai(tn)))+"&"+jt:this.m&&ui(mr,this.m,tn)),Nn(this.h,dn),this.Ua&&Br(mr,"TYPE","init"),this.P?(Br(mr,"$req",jt),Br(mr,"SID","null"),dn.T=!0,Tt(dn,mr,null)):Tt(dn,mr,jt),this.G=2}}else this.G==3&&(rt?dr(this,rt):this.i.length==0||Dr(this.h)||dr(this))};function dr(rt,jt){var mr;jt?mr=jt.l:mr=rt.U++;const ur=Wt(rt.I);Br(ur,"SID",rt.K),Br(ur,"RID",mr),Br(ur,"AID",rt.T),Qr(rt,ur),rt.m&&rt.o&&ui(ur,rt.m,rt.o),mr=new Pt(rt,rt.j,mr,rt.B+1),rt.m===null&&(mr.H=rt.o),jt&&(rt.i=jt.D.concat(rt.i)),jt=An(rt,mr,1e3),mr.I=Math.round(.5*rt.wa)+Math.round(.5*rt.wa*Math.random()),Nn(rt.h,mr),Tt(mr,ur,jt)}function Qr(rt,jt){rt.H&&ee(rt.H,function(mr,ur){Br(jt,ur,mr)}),rt.l&&Je({},function(mr,ur){Br(jt,ur,mr)})}function An(rt,jt,mr){mr=Math.min(rt.i.length,mr);var ur=rt.l?z(rt.l.Na,rt.l,rt):null;e:{var dn=rt.i;let tn=-1;for(;;){const Bn=["count="+mr];tn==-1?0<mr?(tn=dn[0].g,Bn.push("ofs="+tn)):tn=0:Bn.push("ofs="+tn);let Vn=!0;for(let nt=0;nt<mr;nt++){let Nt=dn[nt].g;const Xt=dn[nt].map;if(Nt-=tn,0>Nt)tn=Math.max(0,dn[nt].g-100),Vn=!1;else try{pr(Xt,Bn,"req"+Nt+"_")}catch{ur&&ur(Xt)}}if(Vn){ur=Bn.join("&");break e}}}return rt=rt.i.splice(0,mr),jt.D=rt,ur}function kn(rt){if(!rt.g&&!rt.u){rt.Y=1;var jt=rt.Fa;Oe||Ee(),Ae||(Oe(),Ae=!0),Pe.add(jt,rt),rt.v=0}}function Tn(rt){return rt.g||rt.u||3<=rt.v?!1:(rt.Y++,rt.u=ln(z(rt.Fa,rt),Oi(rt,rt.v)),rt.v++,!0)}$.Fa=function(){if(this.u=null,Jn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var rt=2*this.R;this.j.info("BP detection timer enabled: "+rt),this.A=ln(z(this.ab,this),rt)}},$.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),Zn(this),Jn(this))};function Un(rt){rt.A!=null&&(R.clearTimeout(rt.A),rt.A=null)}function Jn(rt){rt.g=new Pt(rt,rt.j,"rpc",rt.Y),rt.m===null&&(rt.g.H=rt.o),rt.g.O=0;var jt=Wt(rt.qa);Br(jt,"RID","rpc"),Br(jt,"SID",rt.K),Br(jt,"AID",rt.T),Br(jt,"CI",rt.F?"0":"1"),!rt.F&&rt.ja&&Br(jt,"TO",rt.ja),Br(jt,"TYPE","xmlhttp"),Qr(rt,jt),rt.m&&rt.o&&ui(jt,rt.m,rt.o),rt.L&&(rt.g.I=rt.L);var mr=rt.g;rt=rt.ia,mr.L=1,mr.v=yr(Wt(jt)),mr.m=null,mr.P=!0,_t(mr,rt)}$.Za=function(){this.C!=null&&(this.C=null,Zn(this),Tn(this),mn(19))};function ti(rt){rt.C!=null&&(R.clearTimeout(rt.C),rt.C=null)}function ri(rt,jt){var mr=null;if(rt.g==jt){ti(rt),Un(rt),rt.g=null;var ur=2}else if(_n(rt.h,jt))mr=jt.D,tr(rt.h,jt),ur=1;else return;if(rt.G!=0){if(jt.o)if(ur==1){mr=jt.m?jt.m.length:0,jt=Date.now()-jt.F;var dn=rt.B;ur=gn(),ct(ur,new jn(ur,mr)),gr(rt)}else kn(rt);else if(dn=jt.s,dn==3||dn==0&&0<jt.X||!(ur==1&&Pr(rt,jt)||ur==2&&Tn(rt)))switch(mr&&0<mr.length&&(jt=rt.h,jt.i=jt.i.concat(mr)),dn){case 1:fi(rt,5);break;case 4:fi(rt,10);break;case 3:fi(rt,6);break;default:fi(rt,2)}}}function Oi(rt,jt){let mr=rt.Ta+Math.floor(Math.random()*rt.cb);return rt.isActive()||(mr*=2),mr*jt}function fi(rt,jt){if(rt.j.info("Error code "+jt),jt==2){var mr=z(rt.fb,rt),ur=rt.Xa;const dn=!ur;ur=new Ot(ur||"//www.google.com/images/cleardot.gif"),R.location&&R.location.protocol=="http"||br(ur,"https"),yr(ur),dn?ot(ur.toString(),mr):Lt(ur.toString(),mr)}else mn(2);rt.G=0,rt.l&&rt.l.sa(jt),qi(rt),ar(rt)}$.fb=function(rt){rt?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function qi(rt){if(rt.G=0,rt.ka=[],rt.l){const jt=nr(rt.h);(jt.length!=0||rt.i.length!=0)&&(B(rt.ka,jt),B(rt.ka,rt.i),rt.h.i.length=0,q(rt.i),rt.i.length=0),rt.l.ra()}}function Li(rt,jt,mr){var ur=mr instanceof Ot?Wt(mr):new Ot(mr);if(ur.g!="")jt&&(ur.g=jt+"."+ur.g),Sr(ur,ur.s);else{var dn=R.location;ur=dn.protocol,jt=jt?jt+"."+dn.hostname:dn.hostname,dn=+dn.port;var tn=new Ot(null);ur&&br(tn,ur),jt&&(tn.g=jt),dn&&Sr(tn,dn),mr&&(tn.l=mr),ur=tn}return mr=rt.D,jt=rt.ya,mr&&jt&&Br(ur,mr,jt),Br(ur,"VER",rt.la),Qr(rt,ur),ur}function Wi(rt,jt,mr){if(jt&&!rt.J)throw Error("Can't create secondary domain capable XhrIo object.");return jt=rt.Ca&&!rt.pa?new Gt(new Ur({eb:mr})):new Gt(rt.pa),jt.Ha(rt.J),jt}$.isActive=function(){return!!this.l&&this.l.isActive(this)};function zi(){}$=zi.prototype,$.ua=function(){},$.ta=function(){},$.sa=function(){},$.ra=function(){},$.isActive=function(){return!0},$.Na=function(){};function Ct(){}Ct.prototype.g=function(rt,jt){return new It(rt,jt)};function It(rt,jt){ht.call(this),this.g=new Hn(jt),this.l=rt,this.h=jt&&jt.messageUrlParams||null,rt=jt&&jt.messageHeaders||null,jt&&jt.clientProtocolHeaderRequired&&(rt?rt["X-Client-Protocol"]="webchannel":rt={"X-Client-Protocol":"webchannel"}),this.g.o=rt,rt=jt&&jt.initMessageHeaders||null,jt&&jt.messageContentType&&(rt?rt["X-WebChannel-Content-Type"]=jt.messageContentType:rt={"X-WebChannel-Content-Type":jt.messageContentType}),jt&&jt.va&&(rt?rt["X-WebChannel-Client-Profile"]=jt.va:rt={"X-WebChannel-Client-Profile":jt.va}),this.g.S=rt,(rt=jt&&jt.Sb)&&!H(rt)&&(this.g.m=rt),this.v=jt&&jt.supportsCrossDomainXhr||!1,this.u=jt&&jt.sendRawJson||!1,(jt=jt&&jt.httpSessionIdParam)&&!H(jt)&&(this.g.D=jt,rt=this.h,rt!==null&&jt in rt&&(rt=this.h,jt in rt&&delete rt[jt])),this.j=new Jr(this)}F(It,ht),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){Xn(this.g)},It.prototype.o=function(rt){var jt=this.g;if(typeof rt=="string"){var mr={};mr.__data__=rt,rt=mr}else this.u&&(mr={},mr.__data__=Vt(rt),rt=mr);jt.i.push(new mt(jt.Ya++,rt)),jt.G==3&&gr(jt)},It.prototype.N=function(){this.g.l=null,delete this.j,Xn(this.g),delete this.g,It.aa.N.call(this)};function er(rt){Cr.call(this),rt.__headers__&&(this.headers=rt.__headers__,this.statusCode=rt.__status__,delete rt.__headers__,delete rt.__status__);var jt=rt.__sm__;if(jt){e:{for(const mr in jt){rt=mr;break e}rt=void 0}(this.i=rt)&&(rt=this.i,jt=jt!==null&&rt in jt?jt[rt]:void 0),this.data=jt}else this.data=rt}F(er,Cr);function Or(){Mr.call(this),this.status=1}F(Or,Mr);function Jr(rt){this.g=rt}F(Jr,zi),Jr.prototype.ua=function(){ct(this.g,"a")},Jr.prototype.ta=function(rt){ct(this.g,new er(rt))},Jr.prototype.sa=function(rt){ct(this.g,new Or)},Jr.prototype.ra=function(){ct(this.g,"b")},Ct.prototype.createWebChannel=Ct.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,createWebChannelTransport=function(){return new Ct},getStatEventTarget=function(){return gn()},Event$1=$r,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,ErrorCode=_i,ei.COMPLETE="complete",EventType=ei,Yt.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",ht.prototype.listen=ht.prototype.K,WebChannel=Yt,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,XhrIo=Gt}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const w="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(E){this.uid=E}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(E){return E.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b.logLevel}function __PRIVATE_logDebug($,...E){if(b.logLevel<=LogLevel.DEBUG){const _=E.map(__PRIVATE_argToString);b.debug(`Firestore (${S}): ${$}`,..._)}}function __PRIVATE_logError($,...E){if(b.logLevel<=LogLevel.ERROR){const _=E.map(__PRIVATE_argToString);b.error(`Firestore (${S}): ${$}`,..._)}}function __PRIVATE_logWarn($,...E){if(b.logLevel<=LogLevel.WARN){const _=E.map(__PRIVATE_argToString);b.warn(`Firestore (${S}): ${$}`,..._)}}function __PRIVATE_argToString($){if(typeof $=="string")return $;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(_){return JSON.stringify(_)}($)}catch{return $}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail($="Unexpected state"){const E=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: `+$;throw __PRIVATE_logError(E),new Error(E)}function __PRIVATE_hardAssert($,E){$||fail()}function __PRIVATE_debugCast($,E){return $}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(E,_){super(E,_),this.code=E,this.message=_,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((E,_)=>{this.resolve=E,this.reject=_})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(E,_){this.user=_,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${E}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(E,_){E.enqueueRetryable(()=>_(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(E){this.token=E,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(E,_){this.changeListener=_,E.enqueueRetryable(()=>_(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(E){this.t=E,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(E,_){__PRIVATE_hardAssert(this.o===void 0);let A=this.i;const T=I=>this.i!==A?(A=this.i,_(I)):Promise.resolve();let O=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),O.resolve(),O=new __PRIVATE_Deferred,E.enqueueRetryable(()=>T(this.currentUser))};const P=()=>{const I=O;E.enqueueRetryable(async()=>{await I.promise,await T(this.currentUser)})},R=I=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.o&&(this.auth.addAuthTokenListener(this.o),P())};this.t.onInit(I=>R(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?R(I):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),O.resolve(),O=new __PRIVATE_Deferred)}},0),P()}getToken(){const E=this.i,_=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(_).then(A=>this.i!==E?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):A?(__PRIVATE_hardAssert(typeof A.accessToken=="string"),new __PRIVATE_OAuthToken(A.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const E=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(E===null||typeof E=="string"),new User(E)}}class __PRIVATE_FirstPartyToken{constructor(E,_,A){this.l=E,this.h=_,this.P=A,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const E=this.T();return E&&this.I.set("Authorization",E),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(E,_,A){this.l=E,this.h=_,this.P=A}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(E,_){E.enqueueRetryable(()=>_(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(E){this.value=E,this.type="AppCheck",this.headers=new Map,E&&E.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(E){this.A=E,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(E,_){__PRIVATE_hardAssert(this.o===void 0);const A=O=>{O.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${O.error.message}`);const P=O.token!==this.R;return this.R=O.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${P?"new":"existing"} token.`),P?_(O.token):Promise.resolve()};this.o=O=>{E.enqueueRetryable(()=>A(O))};const T=O=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=O,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(O=>T(O)),setTimeout(()=>{if(!this.appCheck){const O=this.A.getImmediate({optional:!0});O?T(O):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const E=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(E).then(_=>_?(__PRIVATE_hardAssert(typeof _.token=="string"),this.R=_.token,new AppCheckToken(_.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes($){const E=typeof self<"u"&&(self.crypto||self.msCrypto),_=new Uint8Array($);if(E&&typeof E.getRandomValues=="function")E.getRandomValues(_);else for(let A=0;A<$;A++)_[A]=Math.floor(256*Math.random());return _}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",_=Math.floor(256/E.length)*E.length;let A="";for(;A.length<20;){const T=__PRIVATE_randomBytes(40);for(let O=0;O<T.length;++O)A.length<20&&T[O]<_&&(A+=E.charAt(T[O]%E.length))}return A}}function __PRIVATE_primitiveComparator($,E){return $<E?-1:$>E?1:0}function __PRIVATE_arrayEquals($,E,_){return $.length===E.length&&$.every((A,T)=>_(A,E[T]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(E,_){if(this.seconds=E,this.nanoseconds=_,_<0)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+_);if(_>=1e9)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+_);if(E<-62135596800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+E);if(E>=253402300800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+E)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(E){return Timestamp.fromMillis(E.getTime())}static fromMillis(E){const _=Math.floor(E/1e3),A=Math.floor(1e6*(E-1e3*_));return new Timestamp(_,A)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(E){return this.seconds===E.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,E.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,E.seconds)}isEqual(E){return E.seconds===this.seconds&&E.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const E=this.seconds- -62135596800;return String(E).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(E){this.timestamp=E}static fromTimestamp(E){return new SnapshotVersion(E)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(E){return this.timestamp._compareTo(E.timestamp)}isEqual(E){return this.timestamp.isEqual(E.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(E,_,A){_===void 0?_=0:_>E.length&&fail(),A===void 0?A=E.length-_:A>E.length-_&&fail(),this.segments=E,this.offset=_,this.len=A}get length(){return this.len}isEqual(E){return BasePath.comparator(this,E)===0}child(E){const _=this.segments.slice(this.offset,this.limit());return E instanceof BasePath?E.forEach(A=>{_.push(A)}):_.push(E),this.construct(_)}limit(){return this.offset+this.length}popFirst(E){return E=E===void 0?1:E,this.construct(this.segments,this.offset+E,this.length-E)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(E){return this.segments[this.offset+E]}isEmpty(){return this.length===0}isPrefixOf(E){if(E.length<this.length)return!1;for(let _=0;_<this.length;_++)if(this.get(_)!==E.get(_))return!1;return!0}isImmediateParentOf(E){if(this.length+1!==E.length)return!1;for(let _=0;_<this.length;_++)if(this.get(_)!==E.get(_))return!1;return!0}forEach(E){for(let _=this.offset,A=this.limit();_<A;_++)E(this.segments[_])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(E,_){const A=Math.min(E.length,_.length);for(let T=0;T<A;T++){const O=E.get(T),P=_.get(T);if(O<P)return-1;if(O>P)return 1}return E.length<_.length?-1:E.length>_.length?1:0}}class ResourcePath extends BasePath{construct(E,_,A){return new ResourcePath(E,_,A)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...E){const _=[];for(const A of E){if(A.indexOf("//")>=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid segment (${A}). Paths must not contain // in them.`);_.push(...A.split("/").filter(T=>T.length>0))}return new ResourcePath(_)}static emptyPath(){return new ResourcePath([])}}const v=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(E,_,A){return new FieldPath$1(E,_,A)}static isValidIdentifier(E){return v.test(E)}canonicalString(){return this.toArray().map(E=>(E=E.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(E)||(E="`"+E+"`"),E)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(E){const _=[];let A="",T=0;const O=()=>{if(A.length===0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid field path (${E}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);_.push(A),A=""};let P=!1;for(;T<E.length;){const R=E[T];if(R==="\\"){if(T+1===E.length)throw new FirestoreError(D.INVALID_ARGUMENT,"Path has trailing escape character: "+E);const I=E[T+1];if(I!=="\\"&&I!=="."&&I!=="`")throw new FirestoreError(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+E);A+=I,T+=2}else R==="`"?(P=!P,T++):R!=="."||P?(A+=R,T++):(O(),T++)}if(O(),P)throw new FirestoreError(D.INVALID_ARGUMENT,"Unterminated ` in path: "+E);return new FieldPath$1(_)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(E){this.path=E}static fromPath(E){return new DocumentKey(ResourcePath.fromString(E))}static fromName(E){return new DocumentKey(ResourcePath.fromString(E).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(E){return this.path.length>=2&&this.path.get(this.path.length-2)===E}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(E){return E!==null&&ResourcePath.comparator(this.path,E.path)===0}toString(){return this.path.toString()}static comparator(E,_){return ResourcePath.comparator(E.path,_.path)}static isDocumentKey(E){return E.length%2==0}static fromSegments(E){return new DocumentKey(new ResourcePath(E.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime($,E){const _=$.toTimestamp().seconds,A=$.toTimestamp().nanoseconds+1,T=SnapshotVersion.fromTimestamp(A===1e9?new Timestamp(_+1,0):new Timestamp(_,A));return new IndexOffset(T,DocumentKey.empty(),E)}function __PRIVATE_newIndexOffsetFromDocument($){return new IndexOffset($.readTime,$.key,-1)}class IndexOffset{constructor(E,_,A){this.readTime=E,this.documentKey=_,this.largestBatchId=A}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator($,E){let _=$.readTime.compareTo(E.readTime);return _!==0?_:(_=DocumentKey.comparator($.documentKey,E.documentKey),_!==0?_:__PRIVATE_primitiveComparator($.largestBatchId,E.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(E){this.onCommittedListeners.push(E)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(E=>E())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss($){if($.code!==D.FAILED_PRECONDITION||$.message!==C)throw $;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(E){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,E(_=>{this.isDone=!0,this.result=_,this.nextCallback&&this.nextCallback(_)},_=>{this.isDone=!0,this.error=_,this.catchCallback&&this.catchCallback(_)})}catch(E){return this.next(void 0,E)}next(E,_){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(_,this.error):this.wrapSuccess(E,this.result):new PersistencePromise((A,T)=>{this.nextCallback=O=>{this.wrapSuccess(E,O).next(A,T)},this.catchCallback=O=>{this.wrapFailure(_,O).next(A,T)}})}toPromise(){return new Promise((E,_)=>{this.next(E,_)})}wrapUserFunction(E){try{const _=E();return _ instanceof PersistencePromise?_:PersistencePromise.resolve(_)}catch(_){return PersistencePromise.reject(_)}}wrapSuccess(E,_){return E?this.wrapUserFunction(()=>E(_)):PersistencePromise.resolve(_)}wrapFailure(E,_){return E?this.wrapUserFunction(()=>E(_)):PersistencePromise.reject(_)}static resolve(E){return new PersistencePromise((_,A)=>{_(E)})}static reject(E){return new PersistencePromise((_,A)=>{A(E)})}static waitFor(E){return new PersistencePromise((_,A)=>{let T=0,O=0,P=!1;E.forEach(R=>{++T,R.next(()=>{++O,P&&O===T&&_()},I=>A(I))}),P=!0,O===T&&_()})}static or(E){let _=PersistencePromise.resolve(!1);for(const A of E)_=_.next(T=>T?PersistencePromise.resolve(T):A());return _}static forEach(E,_){const A=[];return E.forEach((T,O)=>{A.push(_.call(this,T,O))}),this.waitFor(A)}static mapArray(E,_){return new PersistencePromise((A,T)=>{const O=E.length,P=new Array(O);let R=0;for(let I=0;I<O;I++){const N=I;_(E[N]).next(j=>{P[N]=j,++R,R===O&&A(P)},j=>T(j))}})}static doWhile(E,_){return new PersistencePromise((A,T)=>{const O=()=>{E()===!0?_().next(()=>{O()},T):A()};O()})}}function __PRIVATE_getAndroidVersion($){const E=$.match(/Android ([\d.]+)/i),_=E?E[1].split(".").slice(0,2).join("."):"-1";return Number(_)}function __PRIVATE_isIndexedDbTransactionError($){return $.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(E,_){this.previousValue=E,_&&(_.sequenceNumberHandler=A=>this.ie(A),this.se=A=>_.writeSequenceNumber(A))}ie(E){return this.previousValue=Math.max(E,this.previousValue),this.previousValue}next(){const E=++this.previousValue;return this.se&&this.se(E),E}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined($){return $==null}function __PRIVATE_isNegativeZero($){return $===0&&1/$==-1/0}function isSafeInteger($){return typeof $=="number"&&Number.isInteger($)&&!__PRIVATE_isNegativeZero($)&&$<=Number.MAX_SAFE_INTEGER&&$>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize($){let E=0;for(const _ in $)Object.prototype.hasOwnProperty.call($,_)&&E++;return E}function forEach($,E){for(const _ in $)Object.prototype.hasOwnProperty.call($,_)&&E(_,$[_])}function isEmpty($){for(const E in $)if(Object.prototype.hasOwnProperty.call($,E))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(E,_){this.comparator=E,this.root=_||LLRBNode.EMPTY}insert(E,_){return new SortedMap(this.comparator,this.root.insert(E,_,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(E){return new SortedMap(this.comparator,this.root.remove(E,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(E){let _=this.root;for(;!_.isEmpty();){const A=this.comparator(E,_.key);if(A===0)return _.value;A<0?_=_.left:A>0&&(_=_.right)}return null}indexOf(E){let _=0,A=this.root;for(;!A.isEmpty();){const T=this.comparator(E,A.key);if(T===0)return _+A.left.size;T<0?A=A.left:(_+=A.left.size+1,A=A.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(E){return this.root.inorderTraversal(E)}forEach(E){this.inorderTraversal((_,A)=>(E(_,A),!1))}toString(){const E=[];return this.inorderTraversal((_,A)=>(E.push(`${_}:${A}`),!1)),`{${E.join(", ")}}`}reverseTraversal(E){return this.root.reverseTraversal(E)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(E){return new SortedMapIterator(this.root,E,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(E){return new SortedMapIterator(this.root,E,this.comparator,!0)}}class SortedMapIterator{constructor(E,_,A,T){this.isReverse=T,this.nodeStack=[];let O=1;for(;!E.isEmpty();)if(O=_?A(E.key,_):1,_&&T&&(O*=-1),O<0)E=this.isReverse?E.left:E.right;else{if(O===0){this.nodeStack.push(E);break}this.nodeStack.push(E),E=this.isReverse?E.right:E.left}}getNext(){let E=this.nodeStack.pop();const _={key:E.key,value:E.value};if(this.isReverse)for(E=E.left;!E.isEmpty();)this.nodeStack.push(E),E=E.right;else for(E=E.right;!E.isEmpty();)this.nodeStack.push(E),E=E.left;return _}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const E=this.nodeStack[this.nodeStack.length-1];return{key:E.key,value:E.value}}}class LLRBNode{constructor(E,_,A,T,O){this.key=E,this.value=_,this.color=A??LLRBNode.RED,this.left=T??LLRBNode.EMPTY,this.right=O??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(E,_,A,T,O){return new LLRBNode(E??this.key,_??this.value,A??this.color,T??this.left,O??this.right)}isEmpty(){return!1}inorderTraversal(E){return this.left.inorderTraversal(E)||E(this.key,this.value)||this.right.inorderTraversal(E)}reverseTraversal(E){return this.right.reverseTraversal(E)||E(this.key,this.value)||this.left.reverseTraversal(E)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(E,_,A){let T=this;const O=A(E,T.key);return T=O<0?T.copy(null,null,null,T.left.insert(E,_,A),null):O===0?T.copy(null,_,null,null,null):T.copy(null,null,null,null,T.right.insert(E,_,A)),T.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let E=this;return E.left.isRed()||E.left.left.isRed()||(E=E.moveRedLeft()),E=E.copy(null,null,null,E.left.removeMin(),null),E.fixUp()}remove(E,_){let A,T=this;if(_(E,T.key)<0)T.left.isEmpty()||T.left.isRed()||T.left.left.isRed()||(T=T.moveRedLeft()),T=T.copy(null,null,null,T.left.remove(E,_),null);else{if(T.left.isRed()&&(T=T.rotateRight()),T.right.isEmpty()||T.right.isRed()||T.right.left.isRed()||(T=T.moveRedRight()),_(E,T.key)===0){if(T.right.isEmpty())return LLRBNode.EMPTY;A=T.right.min(),T=T.copy(A.key,A.value,null,null,T.right.removeMin())}T=T.copy(null,null,null,null,T.right.remove(E,_))}return T.fixUp()}isRed(){return this.color}fixUp(){let E=this;return E.right.isRed()&&!E.left.isRed()&&(E=E.rotateLeft()),E.left.isRed()&&E.left.left.isRed()&&(E=E.rotateRight()),E.left.isRed()&&E.right.isRed()&&(E=E.colorFlip()),E}moveRedLeft(){let E=this.colorFlip();return E.right.left.isRed()&&(E=E.copy(null,null,null,null,E.right.rotateRight()),E=E.rotateLeft(),E=E.colorFlip()),E}moveRedRight(){let E=this.colorFlip();return E.left.left.isRed()&&(E=E.rotateRight(),E=E.colorFlip()),E}rotateLeft(){const E=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,E,null)}rotateRight(){const E=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,E)}colorFlip(){const E=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,E,_)}checkMaxDepth(){const E=this.check();return Math.pow(2,E)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const E=this.left.check();if(E!==this.right.check())throw fail();return E+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(E,_,A,T,O){return this}insert(E,_,A){return new LLRBNode(E,_)}remove(E,_){return this}isEmpty(){return!0}inorderTraversal(E){return!1}reverseTraversal(E){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(E){this.comparator=E,this.data=new SortedMap(this.comparator)}has(E){return this.data.get(E)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(E){return this.data.indexOf(E)}forEach(E){this.data.inorderTraversal((_,A)=>(E(_),!1))}forEachInRange(E,_){const A=this.data.getIteratorFrom(E[0]);for(;A.hasNext();){const T=A.getNext();if(this.comparator(T.key,E[1])>=0)return;_(T.key)}}forEachWhile(E,_){let A;for(A=_!==void 0?this.data.getIteratorFrom(_):this.data.getIterator();A.hasNext();)if(!E(A.getNext().key))return}firstAfterOrEqual(E){const _=this.data.getIteratorFrom(E);return _.hasNext()?_.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(E){return new SortedSetIterator(this.data.getIteratorFrom(E))}add(E){return this.copy(this.data.remove(E).insert(E,!0))}delete(E){return this.has(E)?this.copy(this.data.remove(E)):this}isEmpty(){return this.data.isEmpty()}unionWith(E){let _=this;return _.size<E.size&&(_=E,E=this),E.forEach(A=>{_=_.add(A)}),_}isEqual(E){if(!(E instanceof SortedSet)||this.size!==E.size)return!1;const _=this.data.getIterator(),A=E.data.getIterator();for(;_.hasNext();){const T=_.getNext().key,O=A.getNext().key;if(this.comparator(T,O)!==0)return!1}return!0}toArray(){const E=[];return this.forEach(_=>{E.push(_)}),E}toString(){const E=[];return this.forEach(_=>E.push(_)),"SortedSet("+E.toString()+")"}copy(E){const _=new SortedSet(this.comparator);return _.data=E,_}}class SortedSetIterator{constructor(E){this.iter=E}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(E){this.fields=E,E.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(E){let _=new SortedSet(FieldPath$1.comparator);for(const A of this.fields)_=_.add(A);for(const A of E)_=_.add(A);return new FieldMask(_.toArray())}covers(E){for(const _ of this.fields)if(_.isPrefixOf(E))return!0;return!1}isEqual(E){return __PRIVATE_arrayEquals(this.fields,E.fields,(_,A)=>_.isEqual(A))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(E){this.binaryString=E}static fromBase64String(E){const _=function(T){try{return atob(T)}catch(O){throw typeof DOMException<"u"&&O instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+O):O}}(E);return new ByteString(_)}static fromUint8Array(E){const _=function(T){let O="";for(let P=0;P<T.length;++P)O+=String.fromCharCode(T[P]);return O}(E);return new ByteString(_)}[Symbol.iterator](){let E=0;return{next:()=>E<this.binaryString.length?{value:this.binaryString.charCodeAt(E++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(_){return btoa(_)}(this.binaryString)}toUint8Array(){return function(_){const A=new Uint8Array(_.length);for(let T=0;T<_.length;T++)A[T]=_.charCodeAt(T);return A}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(E){return __PRIVATE_primitiveComparator(this.binaryString,E.binaryString)}isEqual(E){return this.binaryString===E.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp($){if(__PRIVATE_hardAssert(!!$),typeof $=="string"){let E=0;const _=ne.exec($);if(__PRIVATE_hardAssert(!!_),_[1]){let T=_[1];T=(T+"000000000").substr(0,9),E=Number(T)}const A=new Date($);return{seconds:Math.floor(A.getTime()/1e3),nanos:E}}return{seconds:__PRIVATE_normalizeNumber($.seconds),nanos:__PRIVATE_normalizeNumber($.nanos)}}function __PRIVATE_normalizeNumber($){return typeof $=="number"?$:typeof $=="string"?Number($):0}function __PRIVATE_normalizeByteString($){return typeof $=="string"?ByteString.fromBase64String($):ByteString.fromUint8Array($)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp($){var E,_;return((_=(((E=$==null?void 0:$.mapValue)===null||E===void 0?void 0:E.fields)||{}).__type__)===null||_===void 0?void 0:_.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue($){const E=$.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(E)?__PRIVATE_getPreviousValue(E):E}function __PRIVATE_getLocalWriteTime($){const E=__PRIVATE_normalizeTimestamp($.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(E.seconds,E.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(E,_,A,T,O,P,R,I,N){this.databaseId=E,this.appId=_,this.persistenceKey=A,this.host=T,this.ssl=O,this.forceLongPolling=P,this.autoDetectLongPolling=R,this.longPollingOptions=I,this.useFetchStreams=N}}class DatabaseId{constructor(E,_){this.projectId=E,this.database=_||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(E){return E instanceof DatabaseId&&E.projectId===this.projectId&&E.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function __PRIVATE_typeOrder($){return"nullValue"in $?0:"booleanValue"in $?1:"integerValue"in $||"doubleValue"in $?2:"timestampValue"in $?3:"stringValue"in $?5:"bytesValue"in $?6:"referenceValue"in $?7:"geoPointValue"in $?8:"arrayValue"in $?9:"mapValue"in $?__PRIVATE_isServerTimestamp($)?4:__PRIVATE_isMaxValue($)?9007199254740991:__PRIVATE_isVectorValue($)?10:11:fail()}function __PRIVATE_valueEquals($,E){if($===E)return!0;const _=__PRIVATE_typeOrder($);if(_!==__PRIVATE_typeOrder(E))return!1;switch(_){case 0:case 9007199254740991:return!0;case 1:return $.booleanValue===E.booleanValue;case 4:return __PRIVATE_getLocalWriteTime($).isEqual(__PRIVATE_getLocalWriteTime(E));case 3:return function(T,O){if(typeof T.timestampValue=="string"&&typeof O.timestampValue=="string"&&T.timestampValue.length===O.timestampValue.length)return T.timestampValue===O.timestampValue;const P=__PRIVATE_normalizeTimestamp(T.timestampValue),R=__PRIVATE_normalizeTimestamp(O.timestampValue);return P.seconds===R.seconds&&P.nanos===R.nanos}($,E);case 5:return $.stringValue===E.stringValue;case 6:return function(T,O){return __PRIVATE_normalizeByteString(T.bytesValue).isEqual(__PRIVATE_normalizeByteString(O.bytesValue))}($,E);case 7:return $.referenceValue===E.referenceValue;case 8:return function(T,O){return __PRIVATE_normalizeNumber(T.geoPointValue.latitude)===__PRIVATE_normalizeNumber(O.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(T.geoPointValue.longitude)===__PRIVATE_normalizeNumber(O.geoPointValue.longitude)}($,E);case 2:return function(T,O){if("integerValue"in T&&"integerValue"in O)return __PRIVATE_normalizeNumber(T.integerValue)===__PRIVATE_normalizeNumber(O.integerValue);if("doubleValue"in T&&"doubleValue"in O){const P=__PRIVATE_normalizeNumber(T.doubleValue),R=__PRIVATE_normalizeNumber(O.doubleValue);return P===R?__PRIVATE_isNegativeZero(P)===__PRIVATE_isNegativeZero(R):isNaN(P)&&isNaN(R)}return!1}($,E);case 9:return __PRIVATE_arrayEquals($.arrayValue.values||[],E.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(T,O){const P=T.mapValue.fields||{},R=O.mapValue.fields||{};if(__PRIVATE_objectSize(P)!==__PRIVATE_objectSize(R))return!1;for(const I in P)if(P.hasOwnProperty(I)&&(R[I]===void 0||!__PRIVATE_valueEquals(P[I],R[I])))return!1;return!0}($,E);default:return fail()}}function __PRIVATE_arrayValueContains($,E){return($.values||[]).find(_=>__PRIVATE_valueEquals(_,E))!==void 0}function __PRIVATE_valueCompare($,E){if($===E)return 0;const _=__PRIVATE_typeOrder($),A=__PRIVATE_typeOrder(E);if(_!==A)return __PRIVATE_primitiveComparator(_,A);switch(_){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator($.booleanValue,E.booleanValue);case 2:return function(O,P){const R=__PRIVATE_normalizeNumber(O.integerValue||O.doubleValue),I=__PRIVATE_normalizeNumber(P.integerValue||P.doubleValue);return R<I?-1:R>I?1:R===I?0:isNaN(R)?isNaN(I)?0:-1:1}($,E);case 3:return __PRIVATE_compareTimestamps($.timestampValue,E.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime($),__PRIVATE_getLocalWriteTime(E));case 5:return __PRIVATE_primitiveComparator($.stringValue,E.stringValue);case 6:return function(O,P){const R=__PRIVATE_normalizeByteString(O),I=__PRIVATE_normalizeByteString(P);return R.compareTo(I)}($.bytesValue,E.bytesValue);case 7:return function(O,P){const R=O.split("/"),I=P.split("/");for(let N=0;N<R.length&&N<I.length;N++){const j=__PRIVATE_primitiveComparator(R[N],I[N]);if(j!==0)return j}return __PRIVATE_primitiveComparator(R.length,I.length)}($.referenceValue,E.referenceValue);case 8:return function(O,P){const R=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(O.latitude),__PRIVATE_normalizeNumber(P.latitude));return R!==0?R:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(O.longitude),__PRIVATE_normalizeNumber(P.longitude))}($.geoPointValue,E.geoPointValue);case 9:return __PRIVATE_compareArrays($.arrayValue,E.arrayValue);case 10:return function(O,P){var R,I,N,j;const U=O.fields||{},z=P.fields||{},V=(R=U.value)===null||R===void 0?void 0:R.arrayValue,F=(I=z.value)===null||I===void 0?void 0:I.arrayValue,q=__PRIVATE_primitiveComparator(((N=V==null?void 0:V.values)===null||N===void 0?void 0:N.length)||0,((j=F==null?void 0:F.values)===null||j===void 0?void 0:j.length)||0);return q!==0?q:__PRIVATE_compareArrays(V,F)}($.mapValue,E.mapValue);case 11:return function(O,P){if(O===re.mapValue&&P===re.mapValue)return 0;if(O===re.mapValue)return 1;if(P===re.mapValue)return-1;const R=O.fields||{},I=Object.keys(R),N=P.fields||{},j=Object.keys(N);I.sort(),j.sort();for(let U=0;U<I.length&&U<j.length;++U){const z=__PRIVATE_primitiveComparator(I[U],j[U]);if(z!==0)return z;const V=__PRIVATE_valueCompare(R[I[U]],N[j[U]]);if(V!==0)return V}return __PRIVATE_primitiveComparator(I.length,j.length)}($.mapValue,E.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps($,E){if(typeof $=="string"&&typeof E=="string"&&$.length===E.length)return __PRIVATE_primitiveComparator($,E);const _=__PRIVATE_normalizeTimestamp($),A=__PRIVATE_normalizeTimestamp(E),T=__PRIVATE_primitiveComparator(_.seconds,A.seconds);return T!==0?T:__PRIVATE_primitiveComparator(_.nanos,A.nanos)}function __PRIVATE_compareArrays($,E){const _=$.values||[],A=E.values||[];for(let T=0;T<_.length&&T<A.length;++T){const O=__PRIVATE_valueCompare(_[T],A[T]);if(O)return O}return __PRIVATE_primitiveComparator(_.length,A.length)}function canonicalId($){return __PRIVATE_canonifyValue($)}function __PRIVATE_canonifyValue($){return"nullValue"in $?"null":"booleanValue"in $?""+$.booleanValue:"integerValue"in $?""+$.integerValue:"doubleValue"in $?""+$.doubleValue:"timestampValue"in $?function(_){const A=__PRIVATE_normalizeTimestamp(_);return`time(${A.seconds},${A.nanos})`}($.timestampValue):"stringValue"in $?$.stringValue:"bytesValue"in $?function(_){return __PRIVATE_normalizeByteString(_).toBase64()}($.bytesValue):"referenceValue"in $?function(_){return DocumentKey.fromName(_).toString()}($.referenceValue):"geoPointValue"in $?function(_){return`geo(${_.latitude},${_.longitude})`}($.geoPointValue):"arrayValue"in $?function(_){let A="[",T=!0;for(const O of _.values||[])T?T=!1:A+=",",A+=__PRIVATE_canonifyValue(O);return A+"]"}($.arrayValue):"mapValue"in $?function(_){const A=Object.keys(_.fields||{}).sort();let T="{",O=!0;for(const P of A)O?O=!1:T+=",",T+=`${P}:${__PRIVATE_canonifyValue(_.fields[P])}`;return T+"}"}($.mapValue):fail()}function isInteger($){return!!$&&"integerValue"in $}function isArray($){return!!$&&"arrayValue"in $}function __PRIVATE_isMapValue($){return!!$&&"mapValue"in $}function __PRIVATE_isVectorValue($){var E,_;return((_=(((E=$==null?void 0:$.mapValue)===null||E===void 0?void 0:E.fields)||{}).__type__)===null||_===void 0?void 0:_.stringValue)==="__vector__"}function __PRIVATE_deepClone($){if($.geoPointValue)return{geoPointValue:Object.assign({},$.geoPointValue)};if($.timestampValue&&typeof $.timestampValue=="object")return{timestampValue:Object.assign({},$.timestampValue)};if($.mapValue){const E={mapValue:{fields:{}}};return forEach($.mapValue.fields,(_,A)=>E.mapValue.fields[_]=__PRIVATE_deepClone(A)),E}if($.arrayValue){const E={arrayValue:{values:[]}};for(let _=0;_<($.arrayValue.values||[]).length;++_)E.arrayValue.values[_]=__PRIVATE_deepClone($.arrayValue.values[_]);return E}return Object.assign({},$)}function __PRIVATE_isMaxValue($){return((($.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(E){this.value=E}static empty(){return new ObjectValue({mapValue:{}})}field(E){if(E.isEmpty())return this.value;{let _=this.value;for(let A=0;A<E.length-1;++A)if(_=(_.mapValue.fields||{})[E.get(A)],!__PRIVATE_isMapValue(_))return null;return _=(_.mapValue.fields||{})[E.lastSegment()],_||null}}set(E,_){this.getFieldsMap(E.popLast())[E.lastSegment()]=__PRIVATE_deepClone(_)}setAll(E){let _=FieldPath$1.emptyPath(),A={},T=[];E.forEach((P,R)=>{if(!_.isImmediateParentOf(R)){const I=this.getFieldsMap(_);this.applyChanges(I,A,T),A={},T=[],_=R.popLast()}P?A[R.lastSegment()]=__PRIVATE_deepClone(P):T.push(R.lastSegment())});const O=this.getFieldsMap(_);this.applyChanges(O,A,T)}delete(E){const _=this.field(E.popLast());__PRIVATE_isMapValue(_)&&_.mapValue.fields&&delete _.mapValue.fields[E.lastSegment()]}isEqual(E){return __PRIVATE_valueEquals(this.value,E.value)}getFieldsMap(E){let _=this.value;_.mapValue.fields||(_.mapValue={fields:{}});for(let A=0;A<E.length;++A){let T=_.mapValue.fields[E.get(A)];__PRIVATE_isMapValue(T)&&T.mapValue.fields||(T={mapValue:{fields:{}}},_.mapValue.fields[E.get(A)]=T),_=T}return _.mapValue.fields}applyChanges(E,_,A){forEach(_,(T,O)=>E[T]=O);for(const T of A)delete E[T]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask($){const E=[];return forEach($.fields,(_,A)=>{const T=new FieldPath$1([_]);if(__PRIVATE_isMapValue(A)){const O=__PRIVATE_extractFieldMask(A.mapValue).fields;if(O.length===0)E.push(T);else for(const P of O)E.push(T.child(P))}else E.push(T)}),new FieldMask(E)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(E,_,A,T,O,P,R){this.key=E,this.documentType=_,this.version=A,this.readTime=T,this.createTime=O,this.data=P,this.documentState=R}static newInvalidDocument(E){return new MutableDocument(E,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(E,_,A,T){return new MutableDocument(E,1,_,SnapshotVersion.min(),A,T,0)}static newNoDocument(E,_){return new MutableDocument(E,2,_,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(E,_){return new MutableDocument(E,3,_,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(E,_){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=E),this.version=E,this.documentType=1,this.data=_,this.documentState=0,this}convertToNoDocument(E){return this.version=E,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(E){return this.version=E,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(E){return this.readTime=E,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(E){return E instanceof MutableDocument&&this.key.isEqual(E.key)&&this.version.isEqual(E.version)&&this.documentType===E.documentType&&this.documentState===E.documentState&&this.data.isEqual(E.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(E,_){this.position=E,this.inclusive=_}}function __PRIVATE_boundCompareToDocument($,E,_){let A=0;for(let T=0;T<$.position.length;T++){const O=E[T],P=$.position[T];if(O.field.isKeyField()?A=DocumentKey.comparator(DocumentKey.fromName(P.referenceValue),_.key):A=__PRIVATE_valueCompare(P,_.data.field(O.field)),O.dir==="desc"&&(A*=-1),A!==0)break}return A}function __PRIVATE_boundEquals($,E){if($===null)return E===null;if(E===null||$.inclusive!==E.inclusive||$.position.length!==E.position.length)return!1;for(let _=0;_<$.position.length;_++)if(!__PRIVATE_valueEquals($.position[_],E.position[_]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(E,_="asc"){this.field=E,this.dir=_}}function __PRIVATE_orderByEquals($,E){return $.dir===E.dir&&$.field.isEqual(E.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(E,_,A){super(),this.field=E,this.op=_,this.value=A}static create(E,_,A){return E.isKeyField()?_==="in"||_==="not-in"?this.createKeyFieldInFilter(E,_,A):new __PRIVATE_KeyFieldFilter(E,_,A):_==="array-contains"?new __PRIVATE_ArrayContainsFilter(E,A):_==="in"?new __PRIVATE_InFilter(E,A):_==="not-in"?new __PRIVATE_NotInFilter(E,A):_==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(E,A):new FieldFilter(E,_,A)}static createKeyFieldInFilter(E,_,A){return _==="in"?new __PRIVATE_KeyFieldInFilter(E,A):new __PRIVATE_KeyFieldNotInFilter(E,A)}matches(E){const _=E.data.field(this.field);return this.op==="!="?_!==null&&this.matchesComparison(__PRIVATE_valueCompare(_,this.value)):_!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(_)&&this.matchesComparison(__PRIVATE_valueCompare(_,this.value))}matchesComparison(E){switch(this.op){case"<":return E<0;case"<=":return E<=0;case"==":return E===0;case"!=":return E!==0;case">":return E>0;case">=":return E>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(E,_){super(),this.filters=E,this.op=_,this.ae=null}static create(E,_){return new CompositeFilter(E,_)}matches(E){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(_=>!_.matches(E))===void 0:this.filters.find(_=>_.matches(E))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((E,_)=>E.concat(_.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction($){return $.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction($){return __PRIVATE_compositeFilterIsFlat($)&&__PRIVATE_compositeFilterIsConjunction($)}function __PRIVATE_compositeFilterIsFlat($){for(const E of $.filters)if(E instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter($){if($ instanceof FieldFilter)return $.field.canonicalString()+$.op.toString()+canonicalId($.value);if(__PRIVATE_compositeFilterIsFlatConjunction($))return $.filters.map(E=>__PRIVATE_canonifyFilter(E)).join(",");{const E=$.filters.map(_=>__PRIVATE_canonifyFilter(_)).join(",");return`${$.op}(${E})`}}function __PRIVATE_filterEquals($,E){return $ instanceof FieldFilter?function(A,T){return T instanceof FieldFilter&&A.op===T.op&&A.field.isEqual(T.field)&&__PRIVATE_valueEquals(A.value,T.value)}($,E):$ instanceof CompositeFilter?function(A,T){return T instanceof CompositeFilter&&A.op===T.op&&A.filters.length===T.filters.length?A.filters.reduce((O,P,R)=>O&&__PRIVATE_filterEquals(P,T.filters[R]),!0):!1}($,E):void fail()}function __PRIVATE_stringifyFilter($){return $ instanceof FieldFilter?function(_){return`${_.field.canonicalString()} ${_.op} ${canonicalId(_.value)}`}($):$ instanceof CompositeFilter?function(_){return _.op.toString()+" {"+_.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}($):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(E,_,A){super(E,_,A),this.key=DocumentKey.fromName(A.referenceValue)}matches(E){const _=DocumentKey.comparator(E.key,this.key);return this.matchesComparison(_)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(E,_){super(E,"in",_),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",_)}matches(E){return this.keys.some(_=>_.isEqual(E.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(E,_){super(E,"not-in",_),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",_)}matches(E){return!this.keys.some(_=>_.isEqual(E.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue($,E){var _;return(((_=E.arrayValue)===null||_===void 0?void 0:_.values)||[]).map(A=>DocumentKey.fromName(A.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(E,_){super(E,"array-contains",_)}matches(E){const _=E.data.field(this.field);return isArray(_)&&__PRIVATE_arrayValueContains(_.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(E,_){super(E,"in",_)}matches(E){const _=E.data.field(this.field);return _!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,_)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(E,_){super(E,"not-in",_)}matches(E){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const _=E.data.field(this.field);return _!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,_)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(E,_){super(E,"array-contains-any",_)}matches(E){const _=E.data.field(this.field);return!(!isArray(_)||!_.arrayValue.values)&&_.arrayValue.values.some(A=>__PRIVATE_arrayValueContains(this.value.arrayValue,A))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(E,_=null,A=[],T=[],O=null,P=null,R=null){this.path=E,this.collectionGroup=_,this.orderBy=A,this.filters=T,this.limit=O,this.startAt=P,this.endAt=R,this.ue=null}}function __PRIVATE_newTarget($,E=null,_=[],A=[],T=null,O=null,P=null){return new __PRIVATE_TargetImpl($,E,_,A,T,O,P)}function __PRIVATE_canonifyTarget($){const E=__PRIVATE_debugCast($);if(E.ue===null){let _=E.path.canonicalString();E.collectionGroup!==null&&(_+="|cg:"+E.collectionGroup),_+="|f:",_+=E.filters.map(A=>__PRIVATE_canonifyFilter(A)).join(","),_+="|ob:",_+=E.orderBy.map(A=>function(O){return O.field.canonicalString()+O.dir}(A)).join(","),__PRIVATE_isNullOrUndefined(E.limit)||(_+="|l:",_+=E.limit),E.startAt&&(_+="|lb:",_+=E.startAt.inclusive?"b:":"a:",_+=E.startAt.position.map(A=>canonicalId(A)).join(",")),E.endAt&&(_+="|ub:",_+=E.endAt.inclusive?"a:":"b:",_+=E.endAt.position.map(A=>canonicalId(A)).join(",")),E.ue=_}return E.ue}function __PRIVATE_targetEquals($,E){if($.limit!==E.limit||$.orderBy.length!==E.orderBy.length)return!1;for(let _=0;_<$.orderBy.length;_++)if(!__PRIVATE_orderByEquals($.orderBy[_],E.orderBy[_]))return!1;if($.filters.length!==E.filters.length)return!1;for(let _=0;_<$.filters.length;_++)if(!__PRIVATE_filterEquals($.filters[_],E.filters[_]))return!1;return $.collectionGroup===E.collectionGroup&&!!$.path.isEqual(E.path)&&!!__PRIVATE_boundEquals($.startAt,E.startAt)&&__PRIVATE_boundEquals($.endAt,E.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(E,_=null,A=[],T=[],O=null,P="F",R=null,I=null){this.path=E,this.collectionGroup=_,this.explicitOrderBy=A,this.filters=T,this.limit=O,this.limitType=P,this.startAt=R,this.endAt=I,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery($,E,_,A,T,O,P,R){return new __PRIVATE_QueryImpl($,E,_,A,T,O,P,R)}function __PRIVATE_newQueryForPath($){return new __PRIVATE_QueryImpl($)}function __PRIVATE_queryMatchesAllDocuments($){return $.filters.length===0&&$.limit===null&&$.startAt==null&&$.endAt==null&&($.explicitOrderBy.length===0||$.explicitOrderBy.length===1&&$.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery($){return $.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy($){const E=__PRIVATE_debugCast($);if(E.ce===null){E.ce=[];const _=new Set;for(const O of E.explicitOrderBy)E.ce.push(O),_.add(O.field.canonicalString());const A=E.explicitOrderBy.length>0?E.explicitOrderBy[E.explicitOrderBy.length-1].dir:"asc";(function(P){let R=new SortedSet(FieldPath$1.comparator);return P.filters.forEach(I=>{I.getFlattenedFilters().forEach(N=>{N.isInequality()&&(R=R.add(N.field))})}),R})(E).forEach(O=>{_.has(O.canonicalString())||O.isKeyField()||E.ce.push(new OrderBy(O,A))}),_.has(FieldPath$1.keyField().canonicalString())||E.ce.push(new OrderBy(FieldPath$1.keyField(),A))}return E.ce}function __PRIVATE_queryToTarget($){const E=__PRIVATE_debugCast($);return E.le||(E.le=__PRIVATE__queryToTarget(E,__PRIVATE_queryNormalizedOrderBy($))),E.le}function __PRIVATE__queryToTarget($,E){if($.limitType==="F")return __PRIVATE_newTarget($.path,$.collectionGroup,E,$.filters,$.limit,$.startAt,$.endAt);{E=E.map(T=>{const O=T.dir==="desc"?"asc":"desc";return new OrderBy(T.field,O)});const _=$.endAt?new Bound($.endAt.position,$.endAt.inclusive):null,A=$.startAt?new Bound($.startAt.position,$.startAt.inclusive):null;return __PRIVATE_newTarget($.path,$.collectionGroup,E,$.filters,$.limit,_,A)}}function __PRIVATE_queryWithLimit($,E,_){return new __PRIVATE_QueryImpl($.path,$.collectionGroup,$.explicitOrderBy.slice(),$.filters.slice(),E,_,$.startAt,$.endAt)}function __PRIVATE_queryEquals($,E){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget($),__PRIVATE_queryToTarget(E))&&$.limitType===E.limitType}function __PRIVATE_canonifyQuery($){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget($))}|lt:${$.limitType}`}function __PRIVATE_stringifyQuery($){return`Query(target=${function(_){let A=_.path.canonicalString();return _.collectionGroup!==null&&(A+=" collectionGroup="+_.collectionGroup),_.filters.length>0&&(A+=`, filters: [${_.filters.map(T=>__PRIVATE_stringifyFilter(T)).join(", ")}]`),__PRIVATE_isNullOrUndefined(_.limit)||(A+=", limit: "+_.limit),_.orderBy.length>0&&(A+=`, orderBy: [${_.orderBy.map(T=>function(P){return`${P.field.canonicalString()} (${P.dir})`}(T)).join(", ")}]`),_.startAt&&(A+=", startAt: ",A+=_.startAt.inclusive?"b:":"a:",A+=_.startAt.position.map(T=>canonicalId(T)).join(",")),_.endAt&&(A+=", endAt: ",A+=_.endAt.inclusive?"a:":"b:",A+=_.endAt.position.map(T=>canonicalId(T)).join(",")),`Target(${A})`}(__PRIVATE_queryToTarget($))}; limitType=${$.limitType})`}function __PRIVATE_queryMatches($,E){return E.isFoundDocument()&&function(A,T){const O=T.key.path;return A.collectionGroup!==null?T.key.hasCollectionId(A.collectionGroup)&&A.path.isPrefixOf(O):DocumentKey.isDocumentKey(A.path)?A.path.isEqual(O):A.path.isImmediateParentOf(O)}($,E)&&function(A,T){for(const O of __PRIVATE_queryNormalizedOrderBy(A))if(!O.field.isKeyField()&&T.data.field(O.field)===null)return!1;return!0}($,E)&&function(A,T){for(const O of A.filters)if(!O.matches(T))return!1;return!0}($,E)&&function(A,T){return!(A.startAt&&!function(P,R,I){const N=__PRIVATE_boundCompareToDocument(P,R,I);return P.inclusive?N<=0:N<0}(A.startAt,__PRIVATE_queryNormalizedOrderBy(A),T)||A.endAt&&!function(P,R,I){const N=__PRIVATE_boundCompareToDocument(P,R,I);return P.inclusive?N>=0:N>0}(A.endAt,__PRIVATE_queryNormalizedOrderBy(A),T))}($,E)}function __PRIVATE_newQueryComparator($){return(E,_)=>{let A=!1;for(const T of __PRIVATE_queryNormalizedOrderBy($)){const O=__PRIVATE_compareDocs(T,E,_);if(O!==0)return O;A=A||T.field.isKeyField()}return 0}}function __PRIVATE_compareDocs($,E,_){const A=$.field.isKeyField()?DocumentKey.comparator(E.key,_.key):function(O,P,R){const I=P.data.field(O),N=R.data.field(O);return I!==null&&N!==null?__PRIVATE_valueCompare(I,N):fail()}($.field,E,_);switch($.dir){case"asc":return A;case"desc":return-1*A;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(E,_){this.mapKeyFn=E,this.equalsFn=_,this.inner={},this.innerSize=0}get(E){const _=this.mapKeyFn(E),A=this.inner[_];if(A!==void 0){for(const[T,O]of A)if(this.equalsFn(T,E))return O}}has(E){return this.get(E)!==void 0}set(E,_){const A=this.mapKeyFn(E),T=this.inner[A];if(T===void 0)return this.inner[A]=[[E,_]],void this.innerSize++;for(let O=0;O<T.length;O++)if(this.equalsFn(T[O][0],E))return void(T[O]=[E,_]);T.push([E,_]),this.innerSize++}delete(E){const _=this.mapKeyFn(E),A=this.inner[_];if(A===void 0)return!1;for(let T=0;T<A.length;T++)if(this.equalsFn(A[T][0],E))return A.length===1?delete this.inner[_]:A.splice(T,1),this.innerSize--,!0;return!1}forEach(E){forEach(this.inner,(_,A)=>{for(const[T,O]of A)E(T,O)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return oe}const _e=new SortedMap(DocumentKey.comparator);function documentMap(...$){let E=_e;for(const _ of $)E=E.insert(_.key,_);return E}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap($){let E=_e;return $.forEach((_,A)=>E=E.insert(_,A.overlayedDocument)),E}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap($=>$.toString(),($,E)=>$.isEqual(E))}const ae=new SortedMap(DocumentKey.comparator),ue=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...$){let E=ue;for(const _ of $)E=E.add(_);return E}const ce=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble($,E){if($.useProto3Json){if(isNaN(E))return{doubleValue:"NaN"};if(E===1/0)return{doubleValue:"Infinity"};if(E===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(E)?"-0":E}}function __PRIVATE_toInteger($){return{integerValue:""+$}}function toNumber($,E){return isSafeInteger(E)?__PRIVATE_toInteger(E):__PRIVATE_toDouble($,E)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView($,E,_){return $ instanceof __PRIVATE_ServerTimestampTransform?function(T,O){const P={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:T.seconds,nanos:T.nanoseconds}}}};return O&&__PRIVATE_isServerTimestamp(O)&&(O=__PRIVATE_getPreviousValue(O)),O&&(P.fields.__previous_value__=O),{mapValue:P}}(_,E):$ instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation($,E):$ instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation($,E):function(T,O){const P=__PRIVATE_computeTransformOperationBaseValue(T,O),R=asNumber(P)+asNumber(T.Pe);return isInteger(P)&&isInteger(T.Pe)?__PRIVATE_toInteger(R):__PRIVATE_toDouble(T.serializer,R)}($,E)}function __PRIVATE_applyTransformOperationToRemoteDocument($,E,_){return $ instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation($,E):$ instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation($,E):_}function __PRIVATE_computeTransformOperationBaseValue($,E){return $ instanceof __PRIVATE_NumericIncrementTransformOperation?function(A){return isInteger(A)||function(O){return!!O&&"doubleValue"in O}(A)}(E)?E:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(E){super(),this.elements=E}}function __PRIVATE_applyArrayUnionTransformOperation($,E){const _=__PRIVATE_coercedFieldValuesArray(E);for(const A of $.elements)_.some(T=>__PRIVATE_valueEquals(T,A))||_.push(A);return{arrayValue:{values:_}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(E){super(),this.elements=E}}function __PRIVATE_applyArrayRemoveTransformOperation($,E){let _=__PRIVATE_coercedFieldValuesArray(E);for(const A of $.elements)_=_.filter(T=>!__PRIVATE_valueEquals(T,A));return{arrayValue:{values:_}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(E,_){super(),this.serializer=E,this.Pe=_}}function asNumber($){return __PRIVATE_normalizeNumber($.integerValue||$.doubleValue)}function __PRIVATE_coercedFieldValuesArray($){return isArray($)&&$.arrayValue.values?$.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals($,E){return $.field.isEqual(E.field)&&function(A,T){return A instanceof __PRIVATE_ArrayUnionTransformOperation&&T instanceof __PRIVATE_ArrayUnionTransformOperation||A instanceof __PRIVATE_ArrayRemoveTransformOperation&&T instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(A.elements,T.elements,__PRIVATE_valueEquals):A instanceof __PRIVATE_NumericIncrementTransformOperation&&T instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(A.Pe,T.Pe):A instanceof __PRIVATE_ServerTimestampTransform&&T instanceof __PRIVATE_ServerTimestampTransform}($.transform,E.transform)}class MutationResult{constructor(E,_){this.version=E,this.transformResults=_}}class Precondition{constructor(E,_){this.updateTime=E,this.exists=_}static none(){return new Precondition}static exists(E){return new Precondition(void 0,E)}static updateTime(E){return new Precondition(E)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(E){return this.exists===E.exists&&(this.updateTime?!!E.updateTime&&this.updateTime.isEqual(E.updateTime):!E.updateTime)}}function __PRIVATE_preconditionIsValidForDocument($,E){return $.updateTime!==void 0?E.isFoundDocument()&&E.version.isEqual($.updateTime):$.exists===void 0||$.exists===E.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation($,E){if(!$.hasLocalMutations||E&&E.fields.length===0)return null;if(E===null)return $.isNoDocument()?new __PRIVATE_DeleteMutation($.key,Precondition.none()):new __PRIVATE_SetMutation($.key,$.data,Precondition.none());{const _=$.data,A=ObjectValue.empty();let T=new SortedSet(FieldPath$1.comparator);for(let O of E.fields)if(!T.has(O)){let P=_.field(O);P===null&&O.length>1&&(O=O.popLast(),P=_.field(O)),P===null?A.delete(O):A.set(O,P),T=T.add(O)}return new __PRIVATE_PatchMutation($.key,A,new FieldMask(T.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument($,E,_){$ instanceof __PRIVATE_SetMutation?function(T,O,P){const R=T.value.clone(),I=__PRIVATE_serverTransformResults(T.fieldTransforms,O,P.transformResults);R.setAll(I),O.convertToFoundDocument(P.version,R).setHasCommittedMutations()}($,E,_):$ instanceof __PRIVATE_PatchMutation?function(T,O,P){if(!__PRIVATE_preconditionIsValidForDocument(T.precondition,O))return void O.convertToUnknownDocument(P.version);const R=__PRIVATE_serverTransformResults(T.fieldTransforms,O,P.transformResults),I=O.data;I.setAll(__PRIVATE_getPatch(T)),I.setAll(R),O.convertToFoundDocument(P.version,I).setHasCommittedMutations()}($,E,_):function(T,O,P){O.convertToNoDocument(P.version).setHasCommittedMutations()}(0,E,_)}function __PRIVATE_mutationApplyToLocalView($,E,_,A){return $ instanceof __PRIVATE_SetMutation?function(O,P,R,I){if(!__PRIVATE_preconditionIsValidForDocument(O.precondition,P))return R;const N=O.value.clone(),j=__PRIVATE_localTransformResults(O.fieldTransforms,I,P);return N.setAll(j),P.convertToFoundDocument(P.version,N).setHasLocalMutations(),null}($,E,_,A):$ instanceof __PRIVATE_PatchMutation?function(O,P,R,I){if(!__PRIVATE_preconditionIsValidForDocument(O.precondition,P))return R;const N=__PRIVATE_localTransformResults(O.fieldTransforms,I,P),j=P.data;return j.setAll(__PRIVATE_getPatch(O)),j.setAll(N),P.convertToFoundDocument(P.version,j).setHasLocalMutations(),R===null?null:R.unionWith(O.fieldMask.fields).unionWith(O.fieldTransforms.map(U=>U.field))}($,E,_,A):function(O,P,R){return __PRIVATE_preconditionIsValidForDocument(O.precondition,P)?(P.convertToNoDocument(P.version).setHasLocalMutations(),null):R}($,E,_)}function __PRIVATE_mutationExtractBaseValue($,E){let _=null;for(const A of $.fieldTransforms){const T=E.data.field(A.field),O=__PRIVATE_computeTransformOperationBaseValue(A.transform,T||null);O!=null&&(_===null&&(_=ObjectValue.empty()),_.set(A.field,O))}return _||null}function __PRIVATE_mutationEquals($,E){return $.type===E.type&&!!$.key.isEqual(E.key)&&!!$.precondition.isEqual(E.precondition)&&!!function(A,T){return A===void 0&&T===void 0||!(!A||!T)&&__PRIVATE_arrayEquals(A,T,(O,P)=>__PRIVATE_fieldTransformEquals(O,P))}($.fieldTransforms,E.fieldTransforms)&&($.type===0?$.value.isEqual(E.value):$.type!==1||$.data.isEqual(E.data)&&$.fieldMask.isEqual(E.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(E,_,A,T=[]){super(),this.key=E,this.value=_,this.precondition=A,this.fieldTransforms=T,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(E,_,A,T,O=[]){super(),this.key=E,this.data=_,this.fieldMask=A,this.precondition=T,this.fieldTransforms=O,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch($){const E=new Map;return $.fieldMask.fields.forEach(_=>{if(!_.isEmpty()){const A=$.data.field(_);E.set(_,A)}}),E}function __PRIVATE_serverTransformResults($,E,_){const A=new Map;__PRIVATE_hardAssert($.length===_.length);for(let T=0;T<_.length;T++){const O=$[T],P=O.transform,R=E.data.field(O.field);A.set(O.field,__PRIVATE_applyTransformOperationToRemoteDocument(P,R,_[T]))}return A}function __PRIVATE_localTransformResults($,E,_){const A=new Map;for(const T of $){const O=T.transform,P=_.data.field(T.field);A.set(T.field,__PRIVATE_applyTransformOperationToLocalView(O,P,E))}return A}class __PRIVATE_DeleteMutation extends Mutation{constructor(E,_){super(),this.key=E,this.precondition=_,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(E,_){super(),this.key=E,this.precondition=_,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(E,_,A,T){this.batchId=E,this.localWriteTime=_,this.baseMutations=A,this.mutations=T}applyToRemoteDocument(E,_){const A=_.mutationResults;for(let T=0;T<this.mutations.length;T++){const O=this.mutations[T];O.key.isEqual(E.key)&&__PRIVATE_mutationApplyToRemoteDocument(O,E,A[T])}}applyToLocalView(E,_){for(const A of this.baseMutations)A.key.isEqual(E.key)&&(_=__PRIVATE_mutationApplyToLocalView(A,E,_,this.localWriteTime));for(const A of this.mutations)A.key.isEqual(E.key)&&(_=__PRIVATE_mutationApplyToLocalView(A,E,_,this.localWriteTime));return _}applyToLocalDocumentSet(E,_){const A=__PRIVATE_newMutationMap();return this.mutations.forEach(T=>{const O=E.get(T.key),P=O.overlayedDocument;let R=this.applyToLocalView(P,O.mutatedFields);R=_.has(T.key)?null:R;const I=__PRIVATE_calculateOverlayMutation(P,R);I!==null&&A.set(T.key,I),P.isValidDocument()||P.convertToNoDocument(SnapshotVersion.min())}),A}keys(){return this.mutations.reduce((E,_)=>E.add(_.key),__PRIVATE_documentKeySet())}isEqual(E){return this.batchId===E.batchId&&__PRIVATE_arrayEquals(this.mutations,E.mutations,(_,A)=>__PRIVATE_mutationEquals(_,A))&&__PRIVATE_arrayEquals(this.baseMutations,E.baseMutations,(_,A)=>__PRIVATE_mutationEquals(_,A))}}class MutationBatchResult{constructor(E,_,A,T){this.batch=E,this.commitVersion=_,this.mutationResults=A,this.docVersions=T}static from(E,_,A){__PRIVATE_hardAssert(E.mutations.length===A.length);let T=function(){return ae}();const O=E.mutations;for(let P=0;P<O.length;P++)T=T.insert(O[P].key,A[P].version);return new MutationBatchResult(E,_,A,T)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(E,_){this.largestBatchId=E,this.mutation=_}getKey(){return this.mutation.key}isEqual(E){return E!==null&&this.mutation===E.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le,he;function __PRIVATE_isPermanentError($){switch($){default:return fail();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode($){if($===void 0)return __PRIVATE_logError("GRPC error has no .code"),D.UNKNOWN;switch($){case le.OK:return D.OK;case le.CANCELLED:return D.CANCELLED;case le.UNKNOWN:return D.UNKNOWN;case le.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case le.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case le.INTERNAL:return D.INTERNAL;case le.UNAVAILABLE:return D.UNAVAILABLE;case le.UNAUTHENTICATED:return D.UNAUTHENTICATED;case le.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case le.NOT_FOUND:return D.NOT_FOUND;case le.ALREADY_EXISTS:return D.ALREADY_EXISTS;case le.PERMISSION_DENIED:return D.PERMISSION_DENIED;case le.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case le.ABORTED:return D.ABORTED;case le.OUT_OF_RANGE:return D.OUT_OF_RANGE;case le.UNIMPLEMENTED:return D.UNIMPLEMENTED;case le.DATA_LOSS:return D.DATA_LOSS;default:return fail()}}(he=le||(le={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Integer([4294967295,4294967295],0);class JsonProtoSerializer{constructor(E,_){this.databaseId=E,this.useProto3Json=_}}function toTimestamp($,E){return $.useProto3Json?`${new Date(1e3*E.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+E.nanoseconds).slice(-9)}Z`:{seconds:""+E.seconds,nanos:E.nanoseconds}}function __PRIVATE_toBytes($,E){return $.useProto3Json?E.toBase64():E.toUint8Array()}function __PRIVATE_toVersion($,E){return toTimestamp($,E.toTimestamp())}function __PRIVATE_fromVersion($){return __PRIVATE_hardAssert(!!$),SnapshotVersion.fromTimestamp(function(_){const A=__PRIVATE_normalizeTimestamp(_);return new Timestamp(A.seconds,A.nanos)}($))}function __PRIVATE_toResourceName($,E){return __PRIVATE_toResourcePath($,E).canonicalString()}function __PRIVATE_toResourcePath($,E){const _=function(T){return new ResourcePath(["projects",T.projectId,"databases",T.database])}($).child("documents");return E===void 0?_:_.child(E)}function __PRIVATE_fromResourceName($){const E=ResourcePath.fromString($);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(E)),E}function __PRIVATE_toName($,E){return __PRIVATE_toResourceName($.databaseId,E.path)}function __PRIVATE_fromQueryPath($){const E=__PRIVATE_fromResourceName($);return E.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(E)}function __PRIVATE_getEncodedDatabaseId($){return new ResourcePath(["projects",$.databaseId.projectId,"databases",$.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName($){return __PRIVATE_hardAssert($.length>4&&$.get(4)==="documents"),$.popFirst(5)}function __PRIVATE_toMutationDocument($,E,_){return{name:__PRIVATE_toName($,E),fields:_.value.mapValue.fields}}function toMutation($,E){let _;if(E instanceof __PRIVATE_SetMutation)_={update:__PRIVATE_toMutationDocument($,E.key,E.value)};else if(E instanceof __PRIVATE_DeleteMutation)_={delete:__PRIVATE_toName($,E.key)};else if(E instanceof __PRIVATE_PatchMutation)_={update:__PRIVATE_toMutationDocument($,E.key,E.data),updateMask:__PRIVATE_toDocumentMask(E.fieldMask)};else{if(!(E instanceof __PRIVATE_VerifyMutation))return fail();_={verify:__PRIVATE_toName($,E.key)}}return E.fieldTransforms.length>0&&(_.updateTransforms=E.fieldTransforms.map(A=>function(O,P){const R=P.transform;if(R instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:P.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:P.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:P.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:P.field.canonicalString(),increment:R.Pe};throw fail()}(0,A))),E.precondition.isNone||(_.currentDocument=function(T,O){return O.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(T,O.updateTime)}:O.exists!==void 0?{exists:O.exists}:fail()}($,E.precondition)),_}function __PRIVATE_fromWriteResults($,E){return $&&$.length>0?(__PRIVATE_hardAssert(E!==void 0),$.map(_=>function(T,O){let P=T.updateTime?__PRIVATE_fromVersion(T.updateTime):__PRIVATE_fromVersion(O);return P.isEqual(SnapshotVersion.min())&&(P=__PRIVATE_fromVersion(O)),new MutationResult(P,T.transformResults||[])}(_,E))):[]}function __PRIVATE_convertQueryTargetToQuery($){let E=__PRIVATE_fromQueryPath($.parent);const _=$.structuredQuery,A=_.from?_.from.length:0;let T=null;if(A>0){__PRIVATE_hardAssert(A===1);const j=_.from[0];j.allDescendants?T=j.collectionId:E=E.child(j.collectionId)}let O=[];_.where&&(O=function(U){const z=__PRIVATE_fromFilter(U);return z instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(z)?z.getFilters():[z]}(_.where));let P=[];_.orderBy&&(P=function(U){return U.map(z=>function(F){return new OrderBy(__PRIVATE_fromFieldPathReference(F.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(z))}(_.orderBy));let R=null;_.limit&&(R=function(U){let z;return z=typeof U=="object"?U.value:U,__PRIVATE_isNullOrUndefined(z)?null:z}(_.limit));let I=null;_.startAt&&(I=function(U){const z=!!U.before,V=U.values||[];return new Bound(V,z)}(_.startAt));let N=null;return _.endAt&&(N=function(U){const z=!U.before,V=U.values||[];return new Bound(V,z)}(_.endAt)),__PRIVATE_newQuery(E,T,P,O,R,"F",I,N)}function __PRIVATE_fromFilter($){return $.unaryFilter!==void 0?function(_){switch(_.unaryFilter.op){case"IS_NAN":const A=__PRIVATE_fromFieldPathReference(_.unaryFilter.field);return FieldFilter.create(A,"==",{doubleValue:NaN});case"IS_NULL":const T=__PRIVATE_fromFieldPathReference(_.unaryFilter.field);return FieldFilter.create(T,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const O=__PRIVATE_fromFieldPathReference(_.unaryFilter.field);return FieldFilter.create(O,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const P=__PRIVATE_fromFieldPathReference(_.unaryFilter.field);return FieldFilter.create(P,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}($):$.fieldFilter!==void 0?function(_){return FieldFilter.create(__PRIVATE_fromFieldPathReference(_.fieldFilter.field),function(T){switch(T){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(_.fieldFilter.op),_.fieldFilter.value)}($):$.compositeFilter!==void 0?function(_){return CompositeFilter.create(_.compositeFilter.filters.map(A=>__PRIVATE_fromFilter(A)),function(T){switch(T){case"AND":return"and";case"OR":return"or";default:return fail()}}(_.compositeFilter.op))}($):fail()}function __PRIVATE_fromFieldPathReference($){return FieldPath$1.fromServerFormat($.fieldPath)}function __PRIVATE_toDocumentMask($){const E=[];return $.fields.forEach(_=>E.push(_.canonicalString())),{fieldPaths:E}}function __PRIVATE_isValidResourceName($){return $.length>=4&&$.get(0)==="projects"&&$.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(E){this.ct=E}}function __PRIVATE_fromBundledQuery($){const E=__PRIVATE_convertQueryTargetToQuery({parent:$.parent,structuredQuery:$.structuredQuery});return $.limitType==="LAST"?__PRIVATE_queryWithLimit(E,E.limit,"L"):E}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.un=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(E,_){return this.un.add(_),PersistencePromise.resolve()}getCollectionParents(E,_){return PersistencePromise.resolve(this.un.getEntries(_))}addFieldIndex(E,_){return PersistencePromise.resolve()}deleteFieldIndex(E,_){return PersistencePromise.resolve()}deleteAllFieldIndexes(E){return PersistencePromise.resolve()}createTargetIndexes(E,_){return PersistencePromise.resolve()}getDocumentsMatchingTarget(E,_){return PersistencePromise.resolve(null)}getIndexType(E,_){return PersistencePromise.resolve(0)}getFieldIndexes(E,_){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(E){return PersistencePromise.resolve(null)}getMinOffset(E,_){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(E,_){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(E,_,A){return PersistencePromise.resolve()}updateIndexEntries(E,_){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(E){const _=E.lastSegment(),A=E.popLast(),T=this.index[_]||new SortedSet(ResourcePath.comparator),O=!T.has(A);return this.index[_]=T.add(A),O}has(E){const _=E.lastSegment(),A=E.popLast(),T=this.index[_];return T&&T.has(A)}getEntries(E){return(this.index[E]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(E){this.Ln=E}next(){return this.Ln+=2,this.Ln}static Bn(){return new __PRIVATE_TargetIdGenerator(0)}static kn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(E=>E.toString(),(E,_)=>E.isEqual(_)),this.changesApplied=!1}addEntry(E){this.assertNotApplied(),this.changes.set(E.key,E)}removeEntry(E,_){this.assertNotApplied(),this.changes.set(E,MutableDocument.newInvalidDocument(E).setReadTime(_))}getEntry(E,_){this.assertNotApplied();const A=this.changes.get(_);return A!==void 0?PersistencePromise.resolve(A):this.getFromCache(E,_)}getEntries(E,_){return this.getAllFromCache(E,_)}apply(E){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(E)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(E,_){this.overlayedDocument=E,this.mutatedFields=_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(E,_,A,T){this.remoteDocumentCache=E,this.mutationQueue=_,this.documentOverlayCache=A,this.indexManager=T}getDocument(E,_){let A=null;return this.documentOverlayCache.getOverlay(E,_).next(T=>(A=T,this.remoteDocumentCache.getEntry(E,_))).next(T=>(A!==null&&__PRIVATE_mutationApplyToLocalView(A.mutation,T,FieldMask.empty(),Timestamp.now()),T))}getDocuments(E,_){return this.remoteDocumentCache.getEntries(E,_).next(A=>this.getLocalViewOfDocuments(E,A,__PRIVATE_documentKeySet()).next(()=>A))}getLocalViewOfDocuments(E,_,A=__PRIVATE_documentKeySet()){const T=__PRIVATE_newOverlayMap();return this.populateOverlays(E,T,_).next(()=>this.computeViews(E,_,T,A).next(O=>{let P=documentMap();return O.forEach((R,I)=>{P=P.insert(R,I.overlayedDocument)}),P}))}getOverlayedDocuments(E,_){const A=__PRIVATE_newOverlayMap();return this.populateOverlays(E,A,_).next(()=>this.computeViews(E,_,A,__PRIVATE_documentKeySet()))}populateOverlays(E,_,A){const T=[];return A.forEach(O=>{_.has(O)||T.push(O)}),this.documentOverlayCache.getOverlays(E,T).next(O=>{O.forEach((P,R)=>{_.set(P,R)})})}computeViews(E,_,A,T){let O=__PRIVATE_mutableDocumentMap();const P=__PRIVATE_newDocumentKeyMap(),R=function(){return __PRIVATE_newDocumentKeyMap()}();return _.forEach((I,N)=>{const j=A.get(N.key);T.has(N.key)&&(j===void 0||j.mutation instanceof __PRIVATE_PatchMutation)?O=O.insert(N.key,N):j!==void 0?(P.set(N.key,j.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(j.mutation,N,j.mutation.getFieldMask(),Timestamp.now())):P.set(N.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(E,O).next(I=>(I.forEach((N,j)=>P.set(N,j)),_.forEach((N,j)=>{var U;return R.set(N,new OverlayedDocument(j,(U=P.get(N))!==null&&U!==void 0?U:null))}),R))}recalculateAndSaveOverlays(E,_){const A=__PRIVATE_newDocumentKeyMap();let T=new SortedMap((P,R)=>P-R),O=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(E,_).next(P=>{for(const R of P)R.keys().forEach(I=>{const N=_.get(I);if(N===null)return;let j=A.get(I)||FieldMask.empty();j=R.applyToLocalView(N,j),A.set(I,j);const U=(T.get(R.batchId)||__PRIVATE_documentKeySet()).add(I);T=T.insert(R.batchId,U)})}).next(()=>{const P=[],R=T.getReverseIterator();for(;R.hasNext();){const I=R.getNext(),N=I.key,j=I.value,U=__PRIVATE_newMutationMap();j.forEach(z=>{if(!O.has(z)){const V=__PRIVATE_calculateOverlayMutation(_.get(z),A.get(z));V!==null&&U.set(z,V),O=O.add(z)}}),P.push(this.documentOverlayCache.saveOverlays(E,N,U))}return PersistencePromise.waitFor(P)}).next(()=>A)}recalculateAndSaveOverlaysForDocumentKeys(E,_){return this.remoteDocumentCache.getEntries(E,_).next(A=>this.recalculateAndSaveOverlays(E,A))}getDocumentsMatchingQuery(E,_,A,T){return function(P){return DocumentKey.isDocumentKey(P.path)&&P.collectionGroup===null&&P.filters.length===0}(_)?this.getDocumentsMatchingDocumentQuery(E,_.path):__PRIVATE_isCollectionGroupQuery(_)?this.getDocumentsMatchingCollectionGroupQuery(E,_,A,T):this.getDocumentsMatchingCollectionQuery(E,_,A,T)}getNextDocuments(E,_,A,T){return this.remoteDocumentCache.getAllFromCollectionGroup(E,_,A,T).next(O=>{const P=T-O.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(E,_,A.largestBatchId,T-O.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let R=-1,I=O;return P.next(N=>PersistencePromise.forEach(N,(j,U)=>(R<U.largestBatchId&&(R=U.largestBatchId),O.get(j)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(E,j).next(z=>{I=I.insert(j,z)}))).next(()=>this.populateOverlays(E,N,O)).next(()=>this.computeViews(E,I,N,__PRIVATE_documentKeySet())).next(j=>({batchId:R,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(j)})))})}getDocumentsMatchingDocumentQuery(E,_){return this.getDocument(E,new DocumentKey(_)).next(A=>{let T=documentMap();return A.isFoundDocument()&&(T=T.insert(A.key,A)),T})}getDocumentsMatchingCollectionGroupQuery(E,_,A,T){const O=_.collectionGroup;let P=documentMap();return this.indexManager.getCollectionParents(E,O).next(R=>PersistencePromise.forEach(R,I=>{const N=function(U,z){return new __PRIVATE_QueryImpl(z,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt)}(_,I.child(O));return this.getDocumentsMatchingCollectionQuery(E,N,A,T).next(j=>{j.forEach((U,z)=>{P=P.insert(U,z)})})}).next(()=>P))}getDocumentsMatchingCollectionQuery(E,_,A,T){let O;return this.documentOverlayCache.getOverlaysForCollection(E,_.path,A.largestBatchId).next(P=>(O=P,this.remoteDocumentCache.getDocumentsMatchingQuery(E,_,A,O,T))).next(P=>{O.forEach((I,N)=>{const j=N.getKey();P.get(j)===null&&(P=P.insert(j,MutableDocument.newInvalidDocument(j)))});let R=documentMap();return P.forEach((I,N)=>{const j=O.get(I);j!==void 0&&__PRIVATE_mutationApplyToLocalView(j.mutation,N,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(_,N)&&(R=R.insert(I,N))}),R})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(E){this.serializer=E,this.hr=new Map,this.Pr=new Map}getBundleMetadata(E,_){return PersistencePromise.resolve(this.hr.get(_))}saveBundleMetadata(E,_){return this.hr.set(_.id,function(T){return{id:T.id,version:T.version,createTime:__PRIVATE_fromVersion(T.createTime)}}(_)),PersistencePromise.resolve()}getNamedQuery(E,_){return PersistencePromise.resolve(this.Pr.get(_))}saveNamedQuery(E,_){return this.Pr.set(_.name,function(T){return{name:T.name,query:__PRIVATE_fromBundledQuery(T.bundledQuery),readTime:__PRIVATE_fromVersion(T.readTime)}}(_)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Ir=new Map}getOverlay(E,_){return PersistencePromise.resolve(this.overlays.get(_))}getOverlays(E,_){const A=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(_,T=>this.getOverlay(E,T).next(O=>{O!==null&&A.set(T,O)})).next(()=>A)}saveOverlays(E,_,A){return A.forEach((T,O)=>{this.ht(E,_,O)}),PersistencePromise.resolve()}removeOverlaysForBatchId(E,_,A){const T=this.Ir.get(A);return T!==void 0&&(T.forEach(O=>this.overlays=this.overlays.remove(O)),this.Ir.delete(A)),PersistencePromise.resolve()}getOverlaysForCollection(E,_,A){const T=__PRIVATE_newOverlayMap(),O=_.length+1,P=new DocumentKey(_.child("")),R=this.overlays.getIteratorFrom(P);for(;R.hasNext();){const I=R.getNext().value,N=I.getKey();if(!_.isPrefixOf(N.path))break;N.path.length===O&&I.largestBatchId>A&&T.set(I.getKey(),I)}return PersistencePromise.resolve(T)}getOverlaysForCollectionGroup(E,_,A,T){let O=new SortedMap((N,j)=>N-j);const P=this.overlays.getIterator();for(;P.hasNext();){const N=P.getNext().value;if(N.getKey().getCollectionGroup()===_&&N.largestBatchId>A){let j=O.get(N.largestBatchId);j===null&&(j=__PRIVATE_newOverlayMap(),O=O.insert(N.largestBatchId,j)),j.set(N.getKey(),N)}}const R=__PRIVATE_newOverlayMap(),I=O.getIterator();for(;I.hasNext()&&(I.getNext().value.forEach((N,j)=>R.set(N,j)),!(R.size()>=T)););return PersistencePromise.resolve(R)}ht(E,_,A){const T=this.overlays.get(A.key);if(T!==null){const P=this.Ir.get(T.largestBatchId).delete(A.key);this.Ir.set(T.largestBatchId,P)}this.overlays=this.overlays.insert(A.key,new Overlay(_,A));let O=this.Ir.get(_);O===void 0&&(O=__PRIVATE_documentKeySet(),this.Ir.set(_,O)),this.Ir.set(_,O.add(A.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(E){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(E,_){return this.sessionToken=_,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Tr=new SortedSet(__PRIVATE_DocReference.Er),this.dr=new SortedSet(__PRIVATE_DocReference.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(E,_){const A=new __PRIVATE_DocReference(E,_);this.Tr=this.Tr.add(A),this.dr=this.dr.add(A)}Rr(E,_){E.forEach(A=>this.addReference(A,_))}removeReference(E,_){this.Vr(new __PRIVATE_DocReference(E,_))}mr(E,_){E.forEach(A=>this.removeReference(A,_))}gr(E){const _=new DocumentKey(new ResourcePath([])),A=new __PRIVATE_DocReference(_,E),T=new __PRIVATE_DocReference(_,E+1),O=[];return this.dr.forEachInRange([A,T],P=>{this.Vr(P),O.push(P.key)}),O}pr(){this.Tr.forEach(E=>this.Vr(E))}Vr(E){this.Tr=this.Tr.delete(E),this.dr=this.dr.delete(E)}yr(E){const _=new DocumentKey(new ResourcePath([])),A=new __PRIVATE_DocReference(_,E),T=new __PRIVATE_DocReference(_,E+1);let O=__PRIVATE_documentKeySet();return this.dr.forEachInRange([A,T],P=>{O=O.add(P.key)}),O}containsKey(E){const _=new __PRIVATE_DocReference(E,0),A=this.Tr.firstAfterOrEqual(_);return A!==null&&E.isEqual(A.key)}}class __PRIVATE_DocReference{constructor(E,_){this.key=E,this.wr=_}static Er(E,_){return DocumentKey.comparator(E.key,_.key)||__PRIVATE_primitiveComparator(E.wr,_.wr)}static Ar(E,_){return __PRIVATE_primitiveComparator(E.wr,_.wr)||DocumentKey.comparator(E.key,_.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(E,_){this.indexManager=E,this.referenceDelegate=_,this.mutationQueue=[],this.Sr=1,this.br=new SortedSet(__PRIVATE_DocReference.Er)}checkEmpty(E){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(E,_,A,T){const O=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const P=new MutationBatch(O,_,A,T);this.mutationQueue.push(P);for(const R of T)this.br=this.br.add(new __PRIVATE_DocReference(R.key,O)),this.indexManager.addToCollectionParentIndex(E,R.key.path.popLast());return PersistencePromise.resolve(P)}lookupMutationBatch(E,_){return PersistencePromise.resolve(this.Dr(_))}getNextMutationBatchAfterBatchId(E,_){const A=_+1,T=this.vr(A),O=T<0?0:T;return PersistencePromise.resolve(this.mutationQueue.length>O?this.mutationQueue[O]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(E){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(E,_){const A=new __PRIVATE_DocReference(_,0),T=new __PRIVATE_DocReference(_,Number.POSITIVE_INFINITY),O=[];return this.br.forEachInRange([A,T],P=>{const R=this.Dr(P.wr);O.push(R)}),PersistencePromise.resolve(O)}getAllMutationBatchesAffectingDocumentKeys(E,_){let A=new SortedSet(__PRIVATE_primitiveComparator);return _.forEach(T=>{const O=new __PRIVATE_DocReference(T,0),P=new __PRIVATE_DocReference(T,Number.POSITIVE_INFINITY);this.br.forEachInRange([O,P],R=>{A=A.add(R.wr)})}),PersistencePromise.resolve(this.Cr(A))}getAllMutationBatchesAffectingQuery(E,_){const A=_.path,T=A.length+1;let O=A;DocumentKey.isDocumentKey(O)||(O=O.child(""));const P=new __PRIVATE_DocReference(new DocumentKey(O),0);let R=new SortedSet(__PRIVATE_primitiveComparator);return this.br.forEachWhile(I=>{const N=I.key.path;return!!A.isPrefixOf(N)&&(N.length===T&&(R=R.add(I.wr)),!0)},P),PersistencePromise.resolve(this.Cr(R))}Cr(E){const _=[];return E.forEach(A=>{const T=this.Dr(A);T!==null&&_.push(T)}),_}removeMutationBatch(E,_){__PRIVATE_hardAssert(this.Fr(_.batchId,"removed")===0),this.mutationQueue.shift();let A=this.br;return PersistencePromise.forEach(_.mutations,T=>{const O=new __PRIVATE_DocReference(T.key,_.batchId);return A=A.delete(O),this.referenceDelegate.markPotentiallyOrphaned(E,T.key)}).next(()=>{this.br=A})}On(E){}containsKey(E,_){const A=new __PRIVATE_DocReference(_,0),T=this.br.firstAfterOrEqual(A);return PersistencePromise.resolve(_.isEqual(T&&T.key))}performConsistencyCheck(E){return this.mutationQueue.length,PersistencePromise.resolve()}Fr(E,_){return this.vr(E)}vr(E){return this.mutationQueue.length===0?0:E-this.mutationQueue[0].batchId}Dr(E){const _=this.vr(E);return _<0||_>=this.mutationQueue.length?null:this.mutationQueue[_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(E){this.Mr=E,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(E){this.indexManager=E}addEntry(E,_){const A=_.key,T=this.docs.get(A),O=T?T.size:0,P=this.Mr(_);return this.docs=this.docs.insert(A,{document:_.mutableCopy(),size:P}),this.size+=P-O,this.indexManager.addToCollectionParentIndex(E,A.path.popLast())}removeEntry(E){const _=this.docs.get(E);_&&(this.docs=this.docs.remove(E),this.size-=_.size)}getEntry(E,_){const A=this.docs.get(_);return PersistencePromise.resolve(A?A.document.mutableCopy():MutableDocument.newInvalidDocument(_))}getEntries(E,_){let A=__PRIVATE_mutableDocumentMap();return _.forEach(T=>{const O=this.docs.get(T);A=A.insert(T,O?O.document.mutableCopy():MutableDocument.newInvalidDocument(T))}),PersistencePromise.resolve(A)}getDocumentsMatchingQuery(E,_,A,T){let O=__PRIVATE_mutableDocumentMap();const P=_.path,R=new DocumentKey(P.child("")),I=this.docs.getIteratorFrom(R);for(;I.hasNext();){const{key:N,value:{document:j}}=I.getNext();if(!P.isPrefixOf(N.path))break;N.path.length>P.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(j),A)<=0||(T.has(j.key)||__PRIVATE_queryMatches(_,j))&&(O=O.insert(j.key,j.mutableCopy()))}return PersistencePromise.resolve(O)}getAllFromCollectionGroup(E,_,A,T){fail()}Or(E,_){return PersistencePromise.forEach(this.docs,A=>_(A))}newChangeBuffer(E){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(E){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(E){super(),this.cr=E}applyChanges(E){const _=[];return this.changes.forEach((A,T)=>{T.isValidDocument()?_.push(this.cr.addEntry(E,T)):this.cr.removeEntry(A)}),PersistencePromise.waitFor(_)}getFromCache(E,_){return this.cr.getEntry(E,_)}getAllFromCache(E,_){return this.cr.getEntries(E,_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(E){this.persistence=E,this.Nr=new ObjectMap(_=>__PRIVATE_canonifyTarget(_),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Lr=0,this.Br=new __PRIVATE_ReferenceSet,this.targetCount=0,this.kr=__PRIVATE_TargetIdGenerator.Bn()}forEachTarget(E,_){return this.Nr.forEach((A,T)=>_(T)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(E){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(E){return PersistencePromise.resolve(this.Lr)}allocateTargetId(E){return this.highestTargetId=this.kr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(E,_,A){return A&&(this.lastRemoteSnapshotVersion=A),_>this.Lr&&(this.Lr=_),PersistencePromise.resolve()}Kn(E){this.Nr.set(E.target,E);const _=E.targetId;_>this.highestTargetId&&(this.kr=new __PRIVATE_TargetIdGenerator(_),this.highestTargetId=_),E.sequenceNumber>this.Lr&&(this.Lr=E.sequenceNumber)}addTargetData(E,_){return this.Kn(_),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(E,_){return this.Kn(_),PersistencePromise.resolve()}removeTargetData(E,_){return this.Nr.delete(_.target),this.Br.gr(_.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(E,_,A){let T=0;const O=[];return this.Nr.forEach((P,R)=>{R.sequenceNumber<=_&&A.get(R.targetId)===null&&(this.Nr.delete(P),O.push(this.removeMatchingKeysForTargetId(E,R.targetId)),T++)}),PersistencePromise.waitFor(O).next(()=>T)}getTargetCount(E){return PersistencePromise.resolve(this.targetCount)}getTargetData(E,_){const A=this.Nr.get(_)||null;return PersistencePromise.resolve(A)}addMatchingKeys(E,_,A){return this.Br.Rr(_,A),PersistencePromise.resolve()}removeMatchingKeys(E,_,A){this.Br.mr(_,A);const T=this.persistence.referenceDelegate,O=[];return T&&_.forEach(P=>{O.push(T.markPotentiallyOrphaned(E,P))}),PersistencePromise.waitFor(O)}removeMatchingKeysForTargetId(E,_){return this.Br.gr(_),PersistencePromise.resolve()}getMatchingKeysForTargetId(E,_){const A=this.Br.yr(_);return PersistencePromise.resolve(A)}containsKey(E,_){return PersistencePromise.resolve(this.Br.containsKey(_))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(E,_){this.qr={},this.overlays={},this.Qr=new __PRIVATE_ListenSequence(0),this.Kr=!1,this.Kr=!0,this.$r=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=E(this),this.Ur=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(T){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(T)}(A=>this.referenceDelegate.Wr(A)),this.serializer=new __PRIVATE_LocalSerializer(_),this.Gr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(E){return this.indexManager}getDocumentOverlayCache(E){let _=this.overlays[E.toKey()];return _||(_=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[E.toKey()]=_),_}getMutationQueue(E,_){let A=this.qr[E.toKey()];return A||(A=new __PRIVATE_MemoryMutationQueue(_,this.referenceDelegate),this.qr[E.toKey()]=A),A}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(E,_,A){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",E);const T=new __PRIVATE_MemoryTransaction(this.Qr.next());return this.referenceDelegate.zr(),A(T).next(O=>this.referenceDelegate.jr(T).next(()=>O)).toPromise().then(O=>(T.raiseOnCommittedEvent(),O))}Hr(E,_){return PersistencePromise.or(Object.values(this.qr).map(A=>()=>A.containsKey(E,_)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(E){super(),this.currentSequenceNumber=E}}class __PRIVATE_MemoryEagerDelegate{constructor(E){this.persistence=E,this.Jr=new __PRIVATE_ReferenceSet,this.Yr=null}static Zr(E){return new __PRIVATE_MemoryEagerDelegate(E)}get Xr(){if(this.Yr)return this.Yr;throw fail()}addReference(E,_,A){return this.Jr.addReference(A,_),this.Xr.delete(A.toString()),PersistencePromise.resolve()}removeReference(E,_,A){return this.Jr.removeReference(A,_),this.Xr.add(A.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(E,_){return this.Xr.add(_.toString()),PersistencePromise.resolve()}removeTarget(E,_){this.Jr.gr(_.targetId).forEach(T=>this.Xr.add(T.toString()));const A=this.persistence.getTargetCache();return A.getMatchingKeysForTargetId(E,_.targetId).next(T=>{T.forEach(O=>this.Xr.add(O.toString()))}).next(()=>A.removeTargetData(E,_))}zr(){this.Yr=new Set}jr(E){const _=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Xr,A=>{const T=DocumentKey.fromPath(A);return this.ei(E,T).next(O=>{O||_.removeEntry(T,SnapshotVersion.min())})}).next(()=>(this.Yr=null,_.apply(E)))}updateLimboDocument(E,_){return this.ei(E,_).next(A=>{A?this.Xr.delete(_.toString()):this.Xr.add(_.toString())})}Wr(E){return 0}ei(E,_){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Jr.containsKey(_)),()=>this.persistence.getTargetCache().containsKey(E,_),()=>this.persistence.Hr(E,_)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(E,_,A,T){this.targetId=E,this.fromCache=_,this.$i=A,this.Ui=T}static Wi(E,_){let A=__PRIVATE_documentKeySet(),T=__PRIVATE_documentKeySet();for(const O of _.docChanges)switch(O.type){case 0:A=A.add(O.doc.key);break;case 1:T=T.add(O.doc.key)}return new __PRIVATE_LocalViewChanges(E,_.fromCache,A,T)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(E){this._documentReadCount+=E}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(E,_){this.Ji=E,this.indexManager=_,this.Gi=!0}getDocumentsMatchingQuery(E,_,A,T){const O={result:null};return this.Yi(E,_).next(P=>{O.result=P}).next(()=>{if(!O.result)return this.Zi(E,_,T,A).next(P=>{O.result=P})}).next(()=>{if(O.result)return;const P=new QueryContext;return this.Xi(E,_,P).next(R=>{if(O.result=R,this.zi)return this.es(E,_,P,R.size)})}).next(()=>O.result)}es(E,_,A,T){return A.documentReadCount<this.ji?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(_),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(_),"scans",A.documentReadCount,"local documents and returns",T,"documents as results."),A.documentReadCount>this.Hi*T?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(_),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(E,__PRIVATE_queryToTarget(_))):PersistencePromise.resolve())}Yi(E,_){if(__PRIVATE_queryMatchesAllDocuments(_))return PersistencePromise.resolve(null);let A=__PRIVATE_queryToTarget(_);return this.indexManager.getIndexType(E,A).next(T=>T===0?null:(_.limit!==null&&T===1&&(_=__PRIVATE_queryWithLimit(_,null,"F"),A=__PRIVATE_queryToTarget(_)),this.indexManager.getDocumentsMatchingTarget(E,A).next(O=>{const P=__PRIVATE_documentKeySet(...O);return this.Ji.getDocuments(E,P).next(R=>this.indexManager.getMinOffset(E,A).next(I=>{const N=this.ts(_,R);return this.ns(_,N,P,I.readTime)?this.Yi(E,__PRIVATE_queryWithLimit(_,null,"F")):this.rs(E,N,_,I)}))})))}Zi(E,_,A,T){return __PRIVATE_queryMatchesAllDocuments(_)||T.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Ji.getDocuments(E,A).next(O=>{const P=this.ts(_,O);return this.ns(_,P,A,T)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",T.toString(),__PRIVATE_stringifyQuery(_)),this.rs(E,P,_,__PRIVATE_newIndexOffsetSuccessorFromReadTime(T,-1)).next(R=>R))})}ts(E,_){let A=new SortedSet(__PRIVATE_newQueryComparator(E));return _.forEach((T,O)=>{__PRIVATE_queryMatches(E,O)&&(A=A.add(O))}),A}ns(E,_,A,T){if(E.limit===null)return!1;if(A.size!==_.size)return!0;const O=E.limitType==="F"?_.last():_.first();return!!O&&(O.hasPendingWrites||O.version.compareTo(T)>0)}Xi(E,_,A){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(_)),this.Ji.getDocumentsMatchingQuery(E,_,IndexOffset.min(),A)}rs(E,_,A,T){return this.Ji.getDocumentsMatchingQuery(E,A,T).next(O=>(_.forEach(P=>{O=O.insert(P.key,P)}),O))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(E,_,A,T){this.persistence=E,this.ss=_,this.serializer=T,this.os=new SortedMap(__PRIVATE_primitiveComparator),this._s=new ObjectMap(O=>__PRIVATE_canonifyTarget(O),__PRIVATE_targetEquals),this.us=new Map,this.cs=E.getRemoteDocumentCache(),this.Ur=E.getTargetCache(),this.Gr=E.getBundleCache(),this.ls(A)}ls(E){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(E),this.indexManager=this.persistence.getIndexManager(E),this.mutationQueue=this.persistence.getMutationQueue(E,this.indexManager),this.localDocuments=new LocalDocumentsView(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(E){return this.persistence.runTransaction("Collect garbage","readwrite-primary",_=>E.collect(_,this.os))}}function __PRIVATE_newLocalStore($,E,_,A){return new __PRIVATE_LocalStoreImpl($,E,_,A)}async function __PRIVATE_localStoreHandleUserChange($,E){const _=__PRIVATE_debugCast($);return await _.persistence.runTransaction("Handle user change","readonly",A=>{let T;return _.mutationQueue.getAllMutationBatches(A).next(O=>(T=O,_.ls(E),_.mutationQueue.getAllMutationBatches(A))).next(O=>{const P=[],R=[];let I=__PRIVATE_documentKeySet();for(const N of T){P.push(N.batchId);for(const j of N.mutations)I=I.add(j.key)}for(const N of O){R.push(N.batchId);for(const j of N.mutations)I=I.add(j.key)}return _.localDocuments.getDocuments(A,I).next(N=>({hs:N,removedBatchIds:P,addedBatchIds:R}))})})}function __PRIVATE_localStoreAcknowledgeBatch($,E){const _=__PRIVATE_debugCast($);return _.persistence.runTransaction("Acknowledge batch","readwrite-primary",A=>{const T=E.batch.keys(),O=_.cs.newChangeBuffer({trackRemovals:!0});return function(R,I,N,j){const U=N.batch,z=U.keys();let V=PersistencePromise.resolve();return z.forEach(F=>{V=V.next(()=>j.getEntry(I,F)).next(q=>{const B=N.docVersions.get(F);__PRIVATE_hardAssert(B!==null),q.version.compareTo(B)<0&&(U.applyToRemoteDocument(q,N),q.isValidDocument()&&(q.setReadTime(N.commitVersion),j.addEntry(q)))})}),V.next(()=>R.mutationQueue.removeMutationBatch(I,U))}(_,A,E,O).next(()=>O.apply(A)).next(()=>_.mutationQueue.performConsistencyCheck(A)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(A,T,E.batch.batchId)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,function(R){let I=__PRIVATE_documentKeySet();for(let N=0;N<R.mutationResults.length;++N)R.mutationResults[N].transformResults.length>0&&(I=I.add(R.batch.mutations[N].key));return I}(E))).next(()=>_.localDocuments.getDocuments(A,T))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion($){const E=__PRIVATE_debugCast($);return E.persistence.runTransaction("Get last remote snapshot version","readonly",_=>E.Ur.getLastRemoteSnapshotVersion(_))}function __PRIVATE_localStoreGetNextMutationBatch($,E){const _=__PRIVATE_debugCast($);return _.persistence.runTransaction("Get next mutation batch","readonly",A=>(E===void 0&&(E=-1),_.mutationQueue.getNextMutationBatchAfterBatchId(A,E)))}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}fs(E){this.activeTargetIds=this.activeTargetIds.add(E)}gs(E){this.activeTargetIds=this.activeTargetIds.delete(E)}Vs(){const E={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(E)}}class __PRIVATE_MemorySharedClientState{constructor(){this.so=new __PRIVATE_LocalClientState,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(E){}updateMutationState(E,_,A){}addLocalQueryTarget(E,_=!0){return _&&this.so.fs(E),this.oo[E]||"not-current"}updateQueryState(E,_,A){this.oo[E]=_}removeLocalQueryTarget(E){this.so.gs(E)}isLocalQueryTarget(E){return this.so.activeTargetIds.has(E)}clearQueryState(E){delete this.oo[E]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(E){return this.so.activeTargetIds.has(E)}start(){return this.so=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(E,_,A){}setOnlineState(E){}shutdown(){}writeSequenceNumber(E){}notifyBundleLoaded(E){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{_o(E){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(E){this.ho.push(E)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const E of this.ho)E(0)}lo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const E of this.ho)E(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let me=null;function __PRIVATE_generateUniqueDebugId(){return me===null?me=function(){return 268435456+Math.round(2147483648*Math.random())}():me++,"0x"+me.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(E){this.Io=E.Io,this.To=E.To}Eo(E){this.Ao=E}Ro(E){this.Vo=E}mo(E){this.fo=E}onMessage(E){this.po=E}close(){this.To()}send(E){this.Io(E)}yo(){this.Ao()}wo(){this.Vo()}So(E){this.fo(E)}bo(E){this.po(E)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(_){this.databaseInfo=_,this.databaseId=_.databaseId;const A=_.ssl?"https":"http",T=encodeURIComponent(this.databaseId.projectId),O=encodeURIComponent(this.databaseId.database);this.Do=A+"://"+_.host,this.vo=`projects/${T}/databases/${O}`,this.Co=this.databaseId.database==="(default)"?`project_id=${T}`:`project_id=${T}&database_id=${O}`}get Fo(){return!1}Mo(_,A,T,O,P){const R=__PRIVATE_generateUniqueDebugId(),I=this.xo(_,A.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${_}' ${R}:`,I,T);const N={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(N,O,P),this.No(_,I,N,T).then(j=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${_}' ${R}: `,j),j),j=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${_}' ${R} failed with error: `,j,"url: ",I,"request:",T),j})}Lo(_,A,T,O,P,R){return this.Mo(_,A,T,O,P)}Oo(_,A,T){_["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S}(),_["Content-Type"]="text/plain",this.databaseInfo.appId&&(_["X-Firebase-GMPID"]=this.databaseInfo.appId),A&&A.headers.forEach((O,P)=>_[P]=O),T&&T.headers.forEach((O,P)=>_[P]=O)}xo(_,A){const T=fe[_];return`${this.Do}/v1/${A}:${T}`}terminate(){}}{constructor(E){super(E),this.forceLongPolling=E.forceLongPolling,this.autoDetectLongPolling=E.autoDetectLongPolling,this.useFetchStreams=E.useFetchStreams,this.longPollingOptions=E.longPollingOptions}No(E,_,A,T){const O=__PRIVATE_generateUniqueDebugId();return new Promise((P,R)=>{const I=new XhrIo;I.setWithCredentials(!0),I.listenOnce(EventType.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case ErrorCode.NO_ERROR:const j=I.getResponseJson();__PRIVATE_logDebug(ge,`XHR for RPC '${E}' ${O} received:`,JSON.stringify(j)),P(j);break;case ErrorCode.TIMEOUT:__PRIVATE_logDebug(ge,`RPC '${E}' ${O} timed out`),R(new FirestoreError(D.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const U=I.getStatus();if(__PRIVATE_logDebug(ge,`RPC '${E}' ${O} failed with status:`,U,"response text:",I.getResponseText()),U>0){let z=I.getResponseJson();Array.isArray(z)&&(z=z[0]);const V=z==null?void 0:z.error;if(V&&V.status&&V.message){const F=function(B){const W=B.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(W)>=0?W:D.UNKNOWN}(V.status);R(new FirestoreError(F,V.message))}else R(new FirestoreError(D.UNKNOWN,"Server responded with status "+I.getStatus()))}else R(new FirestoreError(D.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(ge,`RPC '${E}' ${O} completed.`)}});const N=JSON.stringify(T);__PRIVATE_logDebug(ge,`RPC '${E}' ${O} sending request:`,T),I.send(_,"POST",N,A,15)})}Bo(E,_,A){const T=__PRIVATE_generateUniqueDebugId(),O=[this.Do,"/","google.firestore.v1.Firestore","/",E,"/channel"],P=createWebChannelTransport(),R=getStatEventTarget(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},N=this.longPollingOptions.timeoutSeconds;N!==void 0&&(I.longPollingTimeout=Math.round(1e3*N)),this.useFetchStreams&&(I.useFetchStreams=!0),this.Oo(I.initMessageHeaders,_,A),I.encodeInitMessageHeaders=!0;const j=O.join("");__PRIVATE_logDebug(ge,`Creating RPC '${E}' stream ${T}: ${j}`,I);const U=P.createWebChannel(j,I);let z=!1,V=!1;const F=new __PRIVATE_StreamBridge({Io:B=>{V?__PRIVATE_logDebug(ge,`Not sending because RPC '${E}' stream ${T} is closed:`,B):(z||(__PRIVATE_logDebug(ge,`Opening RPC '${E}' stream ${T} transport.`),U.open(),z=!0),__PRIVATE_logDebug(ge,`RPC '${E}' stream ${T} sending:`,B),U.send(B))},To:()=>U.close()}),q=(B,W,H)=>{B.listen(W,G=>{try{H(G)}catch(Z){setTimeout(()=>{throw Z},0)}})};return q(U,WebChannel.EventType.OPEN,()=>{V||(__PRIVATE_logDebug(ge,`RPC '${E}' stream ${T} transport opened.`),F.yo())}),q(U,WebChannel.EventType.CLOSE,()=>{V||(V=!0,__PRIVATE_logDebug(ge,`RPC '${E}' stream ${T} transport closed`),F.So())}),q(U,WebChannel.EventType.ERROR,B=>{V||(V=!0,__PRIVATE_logWarn(ge,`RPC '${E}' stream ${T} transport errored:`,B),F.So(new FirestoreError(D.UNAVAILABLE,"The operation could not be completed")))}),q(U,WebChannel.EventType.MESSAGE,B=>{var W;if(!V){const H=B.data[0];__PRIVATE_hardAssert(!!H);const G=H,Z=G.error||((W=G[0])===null||W===void 0?void 0:W.error);if(Z){__PRIVATE_logDebug(ge,`RPC '${E}' stream ${T} received error:`,Z);const Y=Z.status;let ee=function(te){const se=le[te];if(se!==void 0)return __PRIVATE_mapCodeFromRpcCode(se)}(Y),J=Z.message;ee===void 0&&(ee=D.INTERNAL,J="Unknown error status: "+Y+" with message "+Z.message),V=!0,F.So(new FirestoreError(ee,J)),U.close()}else __PRIVATE_logDebug(ge,`RPC '${E}' stream ${T} received:`,H),F.bo(H)}}),q(R,Event$1.STAT_EVENT,B=>{B.stat===Stat.PROXY?__PRIVATE_logDebug(ge,`RPC '${E}' stream ${T} detected buffering proxy`):B.stat===Stat.NOPROXY&&__PRIVATE_logDebug(ge,`RPC '${E}' stream ${T} detected no buffering proxy`)}),setTimeout(()=>{F.wo()},0),F}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer($){return new JsonProtoSerializer($,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(E,_,A=1e3,T=1.5,O=6e4){this.ui=E,this.timerId=_,this.ko=A,this.qo=T,this.Qo=O,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(E){this.cancel();const _=Math.floor(this.Ko+this.zo()),A=Math.max(0,Date.now()-this.Uo),T=Math.max(0,_-A);T>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${T} ms (base delay: ${this.Ko} ms, delay with jitter: ${_} ms, last attempt: ${A} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,T,()=>(this.Uo=Date.now(),E())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(E,_,A,T,O,P,R,I){this.ui=E,this.Ho=A,this.Jo=T,this.connection=O,this.authCredentialsProvider=P,this.appCheckCredentialsProvider=R,this.listener=I,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new __PRIVATE_ExponentialBackoff(E,_)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(E){this.u_(),this.stream.send(E)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(E,_){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,E!==4?this.t_.reset():_&&_.code===D.RESOURCE_EXHAUSTED?(__PRIVATE_logError(_.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):_&&_.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=E,await this.listener.mo(_)}l_(){}auth(){this.state=1;const E=this.h_(this.Yo),_=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([A,T])=>{this.Yo===_&&this.P_(A,T)},A=>{E(()=>{const T=new FirestoreError(D.UNKNOWN,"Fetching auth token failed: "+A.message);return this.I_(T)})})}P_(E,_){const A=this.h_(this.Yo);this.stream=this.T_(E,_),this.stream.Eo(()=>{A(()=>this.listener.Eo())}),this.stream.Ro(()=>{A(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(T=>{A(()=>this.I_(T))}),this.stream.onMessage(T=>{A(()=>++this.e_==1?this.E_(T):this.onNext(T))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(E){return __PRIVATE_logDebug("PersistentStream",`close with error: ${E}`),this.stream=null,this.close(4,E)}h_(E){return _=>{this.ui.enqueueAndForget(()=>this.Yo===E?_():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(E,_,A,T,O,P){super(E,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",_,A,T,P),this.serializer=O}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(E,_){return this.connection.Bo("Write",E,_)}E_(E){return __PRIVATE_hardAssert(!!E.streamToken),this.lastStreamToken=E.streamToken,__PRIVATE_hardAssert(!E.writeResults||E.writeResults.length===0),this.listener.f_()}onNext(E){__PRIVATE_hardAssert(!!E.streamToken),this.lastStreamToken=E.streamToken,this.t_.reset();const _=__PRIVATE_fromWriteResults(E.writeResults,E.commitTime),A=__PRIVATE_fromVersion(E.commitTime);return this.listener.g_(A,_)}p_(){const E={};E.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.a_(E)}m_(E){const _={streamToken:this.lastStreamToken,writes:E.map(A=>toMutation(this.serializer,A))};this.a_(_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(E,_,A,T){super(),this.authCredentials=E,this.appCheckCredentials=_,this.connection=A,this.serializer=T,this.y_=!1}w_(){if(this.y_)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(E,_,A,T){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([O,P])=>this.connection.Mo(E,__PRIVATE_toResourcePath(_,A),T,O,P)).catch(O=>{throw O.name==="FirebaseError"?(O.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),O):new FirestoreError(D.UNKNOWN,O.toString())})}Lo(E,_,A,T,O){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([P,R])=>this.connection.Lo(E,__PRIVATE_toResourcePath(_,A),T,P,R,O)).catch(P=>{throw P.name==="FirebaseError"?(P.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),P):new FirestoreError(D.UNKNOWN,P.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(E,_){this.asyncQueue=E,this.onlineStateHandler=_,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(E){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${E.toString()}`),this.C_("Offline")))}set(E){this.x_(),this.S_=0,E==="Online"&&(this.D_=!1),this.C_(E)}C_(E){E!==this.state&&(this.state=E,this.onlineStateHandler(E))}F_(E){const _=`Could not reach Cloud Firestore backend. ${E}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(__PRIVATE_logError(_),this.D_=!1):__PRIVATE_logDebug("OnlineStateTracker",_)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(E,_,A,T,O){this.localStore=E,this.datastore=_,this.asyncQueue=A,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=O,this.k_._o(P=>{A.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(I){const N=__PRIVATE_debugCast(I);N.L_.add(4),await __PRIVATE_disableNetworkInternal(N),N.q_.set("Unknown"),N.L_.delete(4),await __PRIVATE_enableNetworkInternal(N)}(this))})}),this.q_=new __PRIVATE_OnlineStateTracker(A,T)}}async function __PRIVATE_enableNetworkInternal($){if(__PRIVATE_canUseNetwork($))for(const E of $.B_)await E(!0)}async function __PRIVATE_disableNetworkInternal($){for(const E of $.B_)await E(!1)}function __PRIVATE_canUseNetwork($){return __PRIVATE_debugCast($).L_.size===0}async function __PRIVATE_disableNetworkUntilRecovery($,E,_){if(!__PRIVATE_isIndexedDbTransactionError(E))throw E;$.L_.add(1),await __PRIVATE_disableNetworkInternal($),$.q_.set("Offline"),_||(_=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion($.localStore)),$.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await _(),$.L_.delete(1),await __PRIVATE_enableNetworkInternal($)})}function __PRIVATE_executeWithRecovery($,E){return E().catch(_=>__PRIVATE_disableNetworkUntilRecovery($,_,E))}async function __PRIVATE_fillWritePipeline($){const E=__PRIVATE_debugCast($),_=__PRIVATE_ensureWriteStream(E);let A=E.O_.length>0?E.O_[E.O_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(E);)try{const T=await __PRIVATE_localStoreGetNextMutationBatch(E.localStore,A);if(T===null){E.O_.length===0&&_.o_();break}A=T.batchId,__PRIVATE_addToWritePipeline(E,T)}catch(T){await __PRIVATE_disableNetworkUntilRecovery(E,T)}__PRIVATE_shouldStartWriteStream(E)&&__PRIVATE_startWriteStream(E)}function __PRIVATE_canAddToWritePipeline($){return __PRIVATE_canUseNetwork($)&&$.O_.length<10}function __PRIVATE_addToWritePipeline($,E){$.O_.push(E);const _=__PRIVATE_ensureWriteStream($);_.r_()&&_.V_&&_.m_(E.mutations)}function __PRIVATE_shouldStartWriteStream($){return __PRIVATE_canUseNetwork($)&&!__PRIVATE_ensureWriteStream($).n_()&&$.O_.length>0}function __PRIVATE_startWriteStream($){__PRIVATE_ensureWriteStream($).start()}async function __PRIVATE_onWriteStreamOpen($){__PRIVATE_ensureWriteStream($).p_()}async function __PRIVATE_onWriteHandshakeComplete($){const E=__PRIVATE_ensureWriteStream($);for(const _ of $.O_)E.m_(_.mutations)}async function __PRIVATE_onMutationResult($,E,_){const A=$.O_.shift(),T=MutationBatchResult.from(A,E,_);await __PRIVATE_executeWithRecovery($,()=>$.remoteSyncer.applySuccessfulWrite(T)),await __PRIVATE_fillWritePipeline($)}async function __PRIVATE_onWriteStreamClose($,E){E&&__PRIVATE_ensureWriteStream($).V_&&await async function(A,T){if(function(P){return __PRIVATE_isPermanentError(P)&&P!==D.ABORTED}(T.code)){const O=A.O_.shift();__PRIVATE_ensureWriteStream(A).s_(),await __PRIVATE_executeWithRecovery(A,()=>A.remoteSyncer.rejectFailedWrite(O.batchId,T)),await __PRIVATE_fillWritePipeline(A)}}($,E),__PRIVATE_shouldStartWriteStream($)&&__PRIVATE_startWriteStream($)}async function __PRIVATE_remoteStoreHandleCredentialChange($,E){const _=__PRIVATE_debugCast($);_.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const A=__PRIVATE_canUseNetwork(_);_.L_.add(3),await __PRIVATE_disableNetworkInternal(_),A&&_.q_.set("Unknown"),await _.remoteSyncer.handleCredentialChange(E),_.L_.delete(3),await __PRIVATE_enableNetworkInternal(_)}async function __PRIVATE_remoteStoreApplyPrimaryState($,E){const _=__PRIVATE_debugCast($);E?(_.L_.delete(2),await __PRIVATE_enableNetworkInternal(_)):E||(_.L_.add(2),await __PRIVATE_disableNetworkInternal(_),_.q_.set("Unknown"))}function __PRIVATE_ensureWriteStream($){return $.U_||($.U_=function(_,A,T){const O=__PRIVATE_debugCast(_);return O.w_(),new __PRIVATE_PersistentWriteStream(A,O.connection,O.authCredentials,O.appCheckCredentials,O.serializer,T)}($.datastore,$.asyncQueue,{Eo:()=>Promise.resolve(),Ro:__PRIVATE_onWriteStreamOpen.bind(null,$),mo:__PRIVATE_onWriteStreamClose.bind(null,$),f_:__PRIVATE_onWriteHandshakeComplete.bind(null,$),g_:__PRIVATE_onMutationResult.bind(null,$)}),$.B_.push(async E=>{E?($.U_.s_(),await __PRIVATE_fillWritePipeline($)):(await $.U_.stop(),$.O_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${$.O_.length} pending writes`),$.O_=[]))})),$.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(E,_,A,T,O){this.asyncQueue=E,this.timerId=_,this.targetTimeMs=A,this.op=T,this.removalCallback=O,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(P=>{})}get promise(){return this.deferred.promise}static createAndSchedule(E,_,A,T,O){const P=Date.now()+A,R=new DelayedOperation(E,_,P,T,O);return R.start(A),R}start(E){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),E)}skipDelay(){return this.handleDelayElapsed()}cancel(E){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D.CANCELLED,"Operation cancelled"+(E?": "+E:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(E=>this.deferred.resolve(E))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable($,E){if(__PRIVATE_logError("AsyncQueue",`${E}: ${$}`),__PRIVATE_isIndexedDbTransactionError($))return new FirestoreError(D.UNAVAILABLE,`${E}: ${$}`);throw $}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(_,A){const T=__PRIVATE_debugCast(_),O=T.queries;T.queries=__PRIVATE_newQueriesObjectMap(),O.forEach((P,R)=>{for(const I of R.j_)I.onError(A)})})(this,new FirestoreError(D.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap($=>__PRIVATE_canonifyQuery($),__PRIVATE_queryEquals)}function __PRIVATE_raiseSnapshotsInSyncEvent($){$.Y_.forEach(E=>{E.next()})}var pe,ye;(ye=pe||(pe={})).ea="default",ye.Cache="cache";class __PRIVATE_SyncEngineImpl{constructor(E,_,A,T,O,P){this.localStore=E,this.remoteStore=_,this.eventManager=A,this.sharedClientState=T,this.currentUser=O,this.maxConcurrentLimboResolutions=P,this.Ca={},this.Fa=new ObjectMap(R=>__PRIVATE_canonifyQuery(R),__PRIVATE_queryEquals),this.Ma=new Map,this.xa=new Set,this.Oa=new SortedMap(DocumentKey.comparator),this.Na=new Map,this.La=new __PRIVATE_ReferenceSet,this.Ba={},this.ka=new Map,this.qa=__PRIVATE_TargetIdGenerator.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function __PRIVATE_syncEngineWrite($,E,_){const A=__PRIVATE_syncEngineEnsureWriteCallbacks($);try{const T=await function(P,R){const I=__PRIVATE_debugCast(P),N=Timestamp.now(),j=R.reduce((V,F)=>V.add(F.key),__PRIVATE_documentKeySet());let U,z;return I.persistence.runTransaction("Locally write mutations","readwrite",V=>{let F=__PRIVATE_mutableDocumentMap(),q=__PRIVATE_documentKeySet();return I.cs.getEntries(V,j).next(B=>{F=B,F.forEach((W,H)=>{H.isValidDocument()||(q=q.add(W))})}).next(()=>I.localDocuments.getOverlayedDocuments(V,F)).next(B=>{U=B;const W=[];for(const H of R){const G=__PRIVATE_mutationExtractBaseValue(H,U.get(H.key).overlayedDocument);G!=null&&W.push(new __PRIVATE_PatchMutation(H.key,G,__PRIVATE_extractFieldMask(G.value.mapValue),Precondition.exists(!0)))}return I.mutationQueue.addMutationBatch(V,N,W,R)}).next(B=>{z=B;const W=B.applyToLocalDocumentSet(U,q);return I.documentOverlayCache.saveOverlays(V,B.batchId,W)})}).then(()=>({batchId:z.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(U)}))}(A.localStore,E);A.sharedClientState.addPendingMutation(T.batchId),function(P,R,I){let N=P.Ba[P.currentUser.toKey()];N||(N=new SortedMap(__PRIVATE_primitiveComparator)),N=N.insert(R,I),P.Ba[P.currentUser.toKey()]=N}(A,T.batchId,_),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(A,T.changes),await __PRIVATE_fillWritePipeline(A.remoteStore)}catch(T){const O=__PRIVATE_wrapInUserErrorIfRecoverable(T,"Failed to persist write");_.reject(O)}}function __PRIVATE_syncEngineApplyOnlineStateChange($,E,_){const A=__PRIVATE_debugCast($);if(A.isPrimaryClient&&_===0||!A.isPrimaryClient&&_===1){const T=[];A.Fa.forEach((O,P)=>{const R=P.view.Z_(E);R.snapshot&&T.push(R.snapshot)}),function(P,R){const I=__PRIVATE_debugCast(P);I.onlineState=R;let N=!1;I.queries.forEach((j,U)=>{for(const z of U.j_)z.Z_(R)&&(N=!0)}),N&&__PRIVATE_raiseSnapshotsInSyncEvent(I)}(A.eventManager,E),T.length&&A.Ca.d_(T),A.onlineState=E,A.isPrimaryClient&&A.sharedClientState.setOnlineState(E)}}async function __PRIVATE_syncEngineApplySuccessfulWrite($,E){const _=__PRIVATE_debugCast($),A=E.batch.batchId;try{const T=await __PRIVATE_localStoreAcknowledgeBatch(_.localStore,E);__PRIVATE_processUserCallback(_,A,null),__PRIVATE_triggerPendingWritesCallbacks(_,A),_.sharedClientState.updateMutationState(A,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(_,T)}catch(T){await __PRIVATE_ignoreIfPrimaryLeaseLoss(T)}}async function __PRIVATE_syncEngineRejectFailedWrite($,E,_){const A=__PRIVATE_debugCast($);try{const T=await function(P,R){const I=__PRIVATE_debugCast(P);return I.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let j;return I.mutationQueue.lookupMutationBatch(N,R).next(U=>(__PRIVATE_hardAssert(U!==null),j=U.keys(),I.mutationQueue.removeMutationBatch(N,U))).next(()=>I.mutationQueue.performConsistencyCheck(N)).next(()=>I.documentOverlayCache.removeOverlaysForBatchId(N,j,R)).next(()=>I.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,j)).next(()=>I.localDocuments.getDocuments(N,j))})}(A.localStore,E);__PRIVATE_processUserCallback(A,E,_),__PRIVATE_triggerPendingWritesCallbacks(A,E),A.sharedClientState.updateMutationState(E,"rejected",_),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(A,T)}catch(T){await __PRIVATE_ignoreIfPrimaryLeaseLoss(T)}}function __PRIVATE_triggerPendingWritesCallbacks($,E){($.ka.get(E)||[]).forEach(_=>{_.resolve()}),$.ka.delete(E)}function __PRIVATE_processUserCallback($,E,_){const A=__PRIVATE_debugCast($);let T=A.Ba[A.currentUser.toKey()];if(T){const O=T.get(E);O&&(_?O.reject(_):O.resolve(),T=T.remove(E)),A.Ba[A.currentUser.toKey()]=T}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore($,E,_){const A=__PRIVATE_debugCast($),T=[],O=[],P=[];A.Fa.isEmpty()||(A.Fa.forEach((R,I)=>{P.push(A.Ka(I,E,_).then(N=>{var j;if((N||_)&&A.isPrimaryClient){const U=N?!N.fromCache:(j=void 0)===null||j===void 0?void 0:j.current;A.sharedClientState.updateQueryState(I.targetId,U?"current":"not-current")}if(N){T.push(N);const U=__PRIVATE_LocalViewChanges.Wi(I.targetId,N);O.push(U)}}))}),await Promise.all(P),A.Ca.d_(T),await async function(I,N){const j=__PRIVATE_debugCast(I);try{await j.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>PersistencePromise.forEach(N,z=>PersistencePromise.forEach(z.$i,V=>j.persistence.referenceDelegate.addReference(U,z.targetId,V)).next(()=>PersistencePromise.forEach(z.Ui,V=>j.persistence.referenceDelegate.removeReference(U,z.targetId,V)))))}catch(U){if(!__PRIVATE_isIndexedDbTransactionError(U))throw U;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+U)}for(const U of N){const z=U.targetId;if(!U.fromCache){const V=j.os.get(z),F=V.snapshotVersion,q=V.withLastLimboFreeSnapshotVersion(F);j.os=j.os.insert(z,q)}}}(A.localStore,O))}async function __PRIVATE_syncEngineHandleCredentialChange($,E){const _=__PRIVATE_debugCast($);if(!_.currentUser.isEqual(E)){__PRIVATE_logDebug("SyncEngine","User change. New user:",E.toKey());const A=await __PRIVATE_localStoreHandleUserChange(_.localStore,E);_.currentUser=E,function(O,P){O.ka.forEach(R=>{R.forEach(I=>{I.reject(new FirestoreError(D.CANCELLED,P))})}),O.ka.clear()}(_,"'waitForPendingWrites' promise is rejected due to a user change."),_.sharedClientState.handleUserChange(E,A.removedBatchIds,A.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(_,A.hs)}}function __PRIVATE_syncEngineEnsureWriteCallbacks($){const E=__PRIVATE_debugCast($);return E.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,E),E.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,E),E}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(E){this.serializer=__PRIVATE_newSerializer(E.databaseInfo.databaseId),this.sharedClientState=this.Wa(E),this.persistence=this.Ga(E),await this.persistence.start(),this.localStore=this.za(E),this.gcScheduler=this.ja(E,this.localStore),this.indexBackfillerScheduler=this.Ha(E,this.localStore)}ja(E,_){return null}Ha(E,_){return null}za(E){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,E.initialUser,this.serializer)}Ga(E){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Zr,this.serializer)}Wa(E){return new __PRIVATE_MemorySharedClientState}async terminate(){var E,_;(E=this.gcScheduler)===null||E===void 0||E.stop(),(_=this.indexBackfillerScheduler)===null||_===void 0||_.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class OnlineComponentProvider{async initialize(E,_){this.localStore||(this.localStore=E.localStore,this.sharedClientState=E.sharedClientState,this.datastore=this.createDatastore(_),this.remoteStore=this.createRemoteStore(_),this.eventManager=this.createEventManager(_),this.syncEngine=this.createSyncEngine(_,!E.synchronizeTabs),this.sharedClientState.onlineStateHandler=A=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,A,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(E){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(E){const _=__PRIVATE_newSerializer(E.databaseInfo.databaseId),A=function(O){return new __PRIVATE_WebChannelConnection(O)}(E.databaseInfo);return function(O,P,R,I){return new __PRIVATE_DatastoreImpl(O,P,R,I)}(E.authCredentials,E.appCheckCredentials,A,_)}createRemoteStore(E){return function(A,T,O,P,R){return new __PRIVATE_RemoteStoreImpl(A,T,O,P,R)}(this.localStore,this.datastore,E.asyncQueue,_=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,_,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(E,_){return function(T,O,P,R,I,N,j){const U=new __PRIVATE_SyncEngineImpl(T,O,P,R,I,N);return j&&(U.Qa=!0),U}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,E.initialUser,E.maxConcurrentLimboResolutions,_)}async terminate(){var E,_;await async function(T){const O=__PRIVATE_debugCast(T);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),O.L_.add(5),await __PRIVATE_disableNetworkInternal(O),O.k_.shutdown(),O.q_.set("Unknown")}(this.remoteStore),(E=this.datastore)===null||E===void 0||E.terminate(),(_=this.eventManager)===null||_===void 0||_.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(E,_,A,T,O){this.authCredentials=E,this.appCheckCredentials=_,this.asyncQueue=A,this.databaseInfo=T,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=O,this.authCredentials.start(A,async P=>{__PRIVATE_logDebug("FirestoreClient","Received user=",P.uid),await this.authCredentialListener(P),this.user=P}),this.appCheckCredentials.start(A,P=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",P),this.appCheckCredentialListener(P,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(E){this.authCredentialListener=E}setAppCheckTokenChangeListener(E){this.appCheckCredentialListener=E}terminate(){this.asyncQueue.enterRestrictedMode();const E=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),E.resolve()}catch(_){const A=__PRIVATE_wrapInUserErrorIfRecoverable(_,"Failed to shutdown persistence");E.reject(A)}}),E.promise}}async function __PRIVATE_setOfflineComponentProvider($,E){$.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const _=$.configuration;await E.initialize(_);let A=_.initialUser;$.setCredentialChangeListener(async T=>{A.isEqual(T)||(await __PRIVATE_localStoreHandleUserChange(E.localStore,T),A=T)}),E.persistence.setDatabaseDeletedListener(()=>$.terminate()),$._offlineComponents=E}async function __PRIVATE_setOnlineComponentProvider($,E){$.asyncQueue.verifyOperationInProgress();const _=await __PRIVATE_ensureOfflineComponents($);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await E.initialize(_,$.configuration),$.setCredentialChangeListener(A=>__PRIVATE_remoteStoreHandleCredentialChange(E.remoteStore,A)),$.setAppCheckTokenChangeListener((A,T)=>__PRIVATE_remoteStoreHandleCredentialChange(E.remoteStore,T)),$._onlineComponents=E}async function __PRIVATE_ensureOfflineComponents($){if(!$._offlineComponents)if($._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider($,$._uninitializedComponentsProvider._offline)}catch(E){const _=E;if(!function(T){return T.name==="FirebaseError"?T.code===D.FAILED_PRECONDITION||T.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&T instanceof DOMException)||T.code===22||T.code===20||T.code===11}(_))throw _;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+_),await __PRIVATE_setOfflineComponentProvider($,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider($,new __PRIVATE_MemoryOfflineComponentProvider);return $._offlineComponents}async function __PRIVATE_ensureOnlineComponents($){return $._onlineComponents||($._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider($,$._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider($,new OnlineComponentProvider))),$._onlineComponents}function __PRIVATE_getSyncEngine($){return __PRIVATE_ensureOnlineComponents($).then(E=>E.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions($){const E={};return $.timeoutSeconds!==void 0&&(E.timeoutSeconds=$.timeoutSeconds),E}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument($,E,_){if(!_)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${$}() cannot be called with an empty ${E}.`)}function __PRIVATE_validateIsNotUsedTogether($,E,_,A){if(E===!0&&A===!0)throw new FirestoreError(D.INVALID_ARGUMENT,`${$} and ${_} cannot be used together.`)}function __PRIVATE_validateDocumentPath($){if(!DocumentKey.isDocumentKey($))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${$} has ${$.length}.`)}function __PRIVATE_validateCollectionPath($){if(DocumentKey.isDocumentKey($))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${$} has ${$.length}.`)}function __PRIVATE_valueDescription($){if($===void 0)return"undefined";if($===null)return"null";if(typeof $=="string")return $.length>20&&($=`${$.substring(0,20)}...`),JSON.stringify($);if(typeof $=="number"||typeof $=="boolean")return""+$;if(typeof $=="object"){if($ instanceof Array)return"an array";{const E=function(A){return A.constructor?A.constructor.name:null}($);return E?`a custom ${E} object`:"an object"}}return typeof $=="function"?"a function":fail()}function __PRIVATE_cast($,E){if("_delegate"in $&&($=$._delegate),!($ instanceof E)){if(E.name===$.constructor.name)throw new FirestoreError(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const _=__PRIVATE_valueDescription($);throw new FirestoreError(D.INVALID_ARGUMENT,`Expected type '${E.name}', but it was: ${_}`)}}return $}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(E){var _,A;if(E.host===void 0){if(E.ssl!==void 0)throw new FirestoreError(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=E.host,this.ssl=(_=E.ssl)===null||_===void 0||_;if(this.credentials=E.credentials,this.ignoreUndefinedProperties=!!E.ignoreUndefinedProperties,this.localCache=E.localCache,E.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(E.cacheSizeBytes!==-1&&E.cacheSizeBytes<1048576)throw new FirestoreError(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=E.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",E.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",E.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!E.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:E.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!E.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((A=E.experimentalLongPollingOptions)!==null&&A!==void 0?A:{}),function(O){if(O.timeoutSeconds!==void 0){if(isNaN(O.timeoutSeconds))throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${O.timeoutSeconds} (must not be NaN)`);if(O.timeoutSeconds<5)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${O.timeoutSeconds} (minimum allowed value is 5)`);if(O.timeoutSeconds>30)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${O.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!E.useFetchStreams}isEqual(E){return this.host===E.host&&this.ssl===E.ssl&&this.credentials===E.credentials&&this.cacheSizeBytes===E.cacheSizeBytes&&this.experimentalForceLongPolling===E.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===E.experimentalAutoDetectLongPolling&&function(A,T){return A.timeoutSeconds===T.timeoutSeconds}(this.experimentalLongPollingOptions,E.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===E.ignoreUndefinedProperties&&this.useFetchStreams===E.useFetchStreams}}class Firestore$1{constructor(E,_,A,T){this._authCredentials=E,this._appCheckCredentials=_,this._databaseId=A,this._app=T,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(E){if(this._settingsFrozen)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(E),E.credentials!==void 0&&(this._authCredentials=function(A){if(!A)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(A.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(A.sessionIndex||"0",A.iamToken||null,A.authTokenFactory||null);case"provider":return A.client;default:throw new FirestoreError(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(E.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(_){const A=we.get(_);A&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),we.delete(_),A.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator($,E,_,A={}){var T;const O=($=__PRIVATE_cast($,Firestore$1))._getSettings(),P=`${E}:${_}`;if(O.host!=="firestore.googleapis.com"&&O.host!==P&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),$._setSettings(Object.assign(Object.assign({},O),{host:P,ssl:!1})),A.mockUserToken){let R,I;if(typeof A.mockUserToken=="string")R=A.mockUserToken,I=User.MOCK_USER;else{R=createMockUserToken(A.mockUserToken,(T=$._app)===null||T===void 0?void 0:T.options.projectId);const N=A.mockUserToken.sub||A.mockUserToken.user_id;if(!N)throw new FirestoreError(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new User(N)}$._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(R,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(E,_,A){this.converter=_,this._query=A,this.type="query",this.firestore=E}withConverter(E){return new Query(this.firestore,E,this._query)}}class DocumentReference{constructor(E,_,A){this.converter=_,this._key=A,this.type="document",this.firestore=E}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(E){return new DocumentReference(this.firestore,E,this._key)}}class CollectionReference extends Query{constructor(E,_,A){super(E,_,__PRIVATE_newQueryForPath(A)),this._path=A,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const E=this._path.popLast();return E.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(E))}withConverter(E){return new CollectionReference(this.firestore,E,this._path)}}function collection($,E,..._){if($=getModularInstance($),__PRIVATE_validateNonEmptyArgument("collection","path",E),$ instanceof Firestore$1){const A=ResourcePath.fromString(E,..._);return __PRIVATE_validateCollectionPath(A),new CollectionReference($,null,A)}{if(!($ instanceof DocumentReference||$ instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const A=$._path.child(ResourcePath.fromString(E,..._));return __PRIVATE_validateCollectionPath(A),new CollectionReference($.firestore,null,A)}}function doc($,E,..._){if($=getModularInstance($),arguments.length===1&&(E=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",E),$ instanceof Firestore$1){const A=ResourcePath.fromString(E,..._);return __PRIVATE_validateDocumentPath(A),new DocumentReference($,null,new DocumentKey(A))}{if(!($ instanceof DocumentReference||$ instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const A=$._path.child(ResourcePath.fromString(E,..._));return __PRIVATE_validateDocumentPath(A),new DocumentReference($.firestore,$ instanceof CollectionReference?$.converter:null,new DocumentKey(A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(E=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Vu=()=>{const A=getDocument();A&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+A.visibilityState),this.t_.jo()},this.mu=E;const _=getDocument();_&&typeof _.addEventListener=="function"&&_.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(E){this.enqueue(E)}enqueueAndForgetEvenWhileRestricted(E){this.fu(),this.gu(E)}enterRestrictedMode(E){if(!this.Iu){this.Iu=!0,this.Au=E||!1;const _=getDocument();_&&typeof _.removeEventListener=="function"&&_.removeEventListener("visibilitychange",this.Vu)}}enqueue(E){if(this.fu(),this.Iu)return new Promise(()=>{});const _=new __PRIVATE_Deferred;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(E().then(_.resolve,_.reject),_.promise)).then(()=>_.promise)}enqueueRetryable(E){this.enqueueAndForget(()=>(this.Pu.push(E),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(E){if(!__PRIVATE_isIndexedDbTransactionError(E))throw E;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+E)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(E){const _=this.mu.then(()=>(this.du=!0,E().catch(A=>{this.Eu=A,this.du=!1;const T=function(P){let R=P.message||"";return P.stack&&(R=P.stack.includes(P.message)?P.stack:P.message+`
`+P.stack),R}(A);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",T),A}).then(A=>(this.du=!1,A))));return this.mu=_,_}enqueueAfterDelay(E,_,A){this.fu(),this.Ru.indexOf(E)>-1&&(_=0);const T=DelayedOperation.createAndSchedule(this,E,_,A,O=>this.yu(O));return this.Tu.push(T),T}fu(){this.Eu&&fail()}verifyOperationInProgress(){}async wu(){let E;do E=this.mu,await E;while(E!==this.mu)}Su(E){for(const _ of this.Tu)if(_.timerId===E)return!0;return!1}bu(E){return this.wu().then(()=>{this.Tu.sort((_,A)=>_.targetTimeMs-A.targetTimeMs);for(const _ of this.Tu)if(_.skipDelay(),E!=="all"&&_.timerId===E)break;return this.wu()})}Du(E){this.Ru.push(E)}yu(E){const _=this.Tu.indexOf(E);this.Tu.splice(_,1)}}class Firestore extends Firestore$1{constructor(E,_,A,T){super(E,_,A,T),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(T==null?void 0:T.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const E=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(E),this._firestoreClient=void 0,await E}}}function getFirestore($,E){const _=typeof $=="object"?$:getApp(),A=typeof $=="string"?$:"(default)",T=_getProvider(_,"firestore").getImmediate({identifier:A});if(!T._initialized){const O=getDefaultEmulatorHostnameAndPort("firestore");O&&connectFirestoreEmulator(T,...O)}return T}function ensureFirestoreConfigured($){if($._terminated)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.");return $._firestoreClient||__PRIVATE_configureFirestore($),$._firestoreClient}function __PRIVATE_configureFirestore($){var E,_,A;const T=$._freezeSettings(),O=function(R,I,N,j){return new DatabaseInfo(R,I,N,j.host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(j.experimentalLongPollingOptions),j.useFetchStreams)}($._databaseId,((E=$._app)===null||E===void 0?void 0:E.options.appId)||"",$._persistenceKey,T);$._componentsProvider||!((_=T.localCache)===null||_===void 0)&&_._offlineComponentProvider&&(!((A=T.localCache)===null||A===void 0)&&A._onlineComponentProvider)&&($._componentsProvider={_offline:T.localCache._offlineComponentProvider,_online:T.localCache._onlineComponentProvider}),$._firestoreClient=new FirestoreClient($._authCredentials,$._appCheckCredentials,$._queue,O,$._componentsProvider&&function(R){const I=R==null?void 0:R._online.build();return{_offline:R==null?void 0:R._offline.build(I),_online:I}}($._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(E){this._byteString=E}static fromBase64String(E){try{return new Bytes(ByteString.fromBase64String(E))}catch(_){throw new FirestoreError(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+_)}}static fromUint8Array(E){return new Bytes(ByteString.fromUint8Array(E))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(E){return this._byteString.isEqual(E._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...E){for(let _=0;_<E.length;++_)if(E[_].length===0)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(E)}isEqual(E){return this._internalPath.isEqual(E._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(E){this._methodName=E}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(E,_){if(!isFinite(E)||E<-90||E>90)throw new FirestoreError(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+E);if(!isFinite(_)||_<-180||_>180)throw new FirestoreError(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+_);this._lat=E,this._long=_}get latitude(){return this._lat}get longitude(){return this._long}isEqual(E){return this._lat===E._lat&&this._long===E._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(E){return __PRIVATE_primitiveComparator(this._lat,E._lat)||__PRIVATE_primitiveComparator(this._long,E._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(E){this._values=(E||[]).map(_=>_)}toArray(){return this._values.map(E=>E)}isEqual(E){return function(A,T){if(A.length!==T.length)return!1;for(let O=0;O<A.length;++O)if(A[O]!==T[O])return!1;return!0}(this._values,E._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be=/^__.*__$/;class ParsedSetData{constructor(E,_,A){this.data=E,this.fieldMask=_,this.fieldTransforms=A}toMutation(E,_){return this.fieldMask!==null?new __PRIVATE_PatchMutation(E,this.data,this.fieldMask,_,this.fieldTransforms):new __PRIVATE_SetMutation(E,this.data,_,this.fieldTransforms)}}function __PRIVATE_isWrite($){switch($){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(E,_,A,T,O,P){this.settings=E,this.databaseId=_,this.serializer=A,this.ignoreUndefinedProperties=T,O===void 0&&this.vu(),this.fieldTransforms=O||[],this.fieldMask=P||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(E){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),E),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(E){var _;const A=(_=this.path)===null||_===void 0?void 0:_.child(E),T=this.Fu({path:A,xu:!1});return T.Ou(E),T}Nu(E){var _;const A=(_=this.path)===null||_===void 0?void 0:_.child(E),T=this.Fu({path:A,xu:!1});return T.vu(),T}Lu(E){return this.Fu({path:void 0,xu:!0})}Bu(E){return __PRIVATE_createError(E,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(E){return this.fieldMask.find(_=>E.isPrefixOf(_))!==void 0||this.fieldTransforms.find(_=>E.isPrefixOf(_.field))!==void 0}vu(){if(this.path)for(let E=0;E<this.path.length;E++)this.Ou(this.path.get(E))}Ou(E){if(E.length===0)throw this.Bu("Document fields must not be empty");if(__PRIVATE_isWrite(this.Cu)&&be.test(E))throw this.Bu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(E,_,A){this.databaseId=E,this.ignoreUndefinedProperties=_,this.serializer=A||__PRIVATE_newSerializer(E)}Qu(E,_,A,T=!1){return new __PRIVATE_ParseContextImpl({Cu:E,methodName:_,qu:A,path:FieldPath$1.emptyPath(),xu:!1,ku:T},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader($){const E=$._freezeSettings(),_=__PRIVATE_newSerializer($._databaseId);return new __PRIVATE_UserDataReader($._databaseId,!!E.ignoreUndefinedProperties,_)}function __PRIVATE_parseSetData($,E,_,A,T,O={}){const P=$.Qu(O.merge||O.mergeFields?2:0,E,_,T);__PRIVATE_validatePlainObject("Data must be an object, but it was:",P,A);const R=__PRIVATE_parseObject(A,P);let I,N;if(O.merge)I=new FieldMask(P.fieldMask),N=P.fieldTransforms;else if(O.mergeFields){const j=[];for(const U of O.mergeFields){const z=__PRIVATE_fieldPathFromArgument$1(E,U,_);if(!P.contains(z))throw new FirestoreError(D.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(j,z)||j.push(z)}I=new FieldMask(j),N=P.fieldTransforms.filter(U=>I.covers(U.field))}else I=null,N=P.fieldTransforms;return new ParsedSetData(new ObjectValue(R),I,N)}function __PRIVATE_parseData($,E){if(__PRIVATE_looksLikeJsonObject($=getModularInstance($)))return __PRIVATE_validatePlainObject("Unsupported field value:",E,$),__PRIVATE_parseObject($,E);if($ instanceof FieldValue)return function(A,T){if(!__PRIVATE_isWrite(T.Cu))throw T.Bu(`${A._methodName}() can only be used with update() and set()`);if(!T.path)throw T.Bu(`${A._methodName}() is not currently supported inside arrays`);const O=A._toFieldTransform(T);O&&T.fieldTransforms.push(O)}($,E),null;if($===void 0&&E.ignoreUndefinedProperties)return null;if(E.path&&E.fieldMask.push(E.path),$ instanceof Array){if(E.settings.xu&&E.Cu!==4)throw E.Bu("Nested arrays are not supported");return function(A,T){const O=[];let P=0;for(const R of A){let I=__PRIVATE_parseData(R,T.Lu(P));I==null&&(I={nullValue:"NULL_VALUE"}),O.push(I),P++}return{arrayValue:{values:O}}}($,E)}return function(A,T){if((A=getModularInstance(A))===null)return{nullValue:"NULL_VALUE"};if(typeof A=="number")return toNumber(T.serializer,A);if(typeof A=="boolean")return{booleanValue:A};if(typeof A=="string")return{stringValue:A};if(A instanceof Date){const O=Timestamp.fromDate(A);return{timestampValue:toTimestamp(T.serializer,O)}}if(A instanceof Timestamp){const O=new Timestamp(A.seconds,1e3*Math.floor(A.nanoseconds/1e3));return{timestampValue:toTimestamp(T.serializer,O)}}if(A instanceof GeoPoint)return{geoPointValue:{latitude:A.latitude,longitude:A.longitude}};if(A instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(T.serializer,A._byteString)};if(A instanceof DocumentReference){const O=T.databaseId,P=A.firestore._databaseId;if(!P.isEqual(O))throw T.Bu(`Document reference is for database ${P.projectId}/${P.database} but should be for database ${O.projectId}/${O.database}`);return{referenceValue:__PRIVATE_toResourceName(A.firestore._databaseId||T.databaseId,A._key.path)}}if(A instanceof VectorValue)return function(P,R){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:P.toArray().map(I=>{if(typeof I!="number")throw R.Bu("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(R.serializer,I)})}}}}}}(A,T);throw T.Bu(`Unsupported field value: ${__PRIVATE_valueDescription(A)}`)}($,E)}function __PRIVATE_parseObject($,E){const _={};return isEmpty($)?E.path&&E.path.length>0&&E.fieldMask.push(E.path):forEach($,(A,T)=>{const O=__PRIVATE_parseData(T,E.Mu(A));O!=null&&(_[A]=O)}),{mapValue:{fields:_}}}function __PRIVATE_looksLikeJsonObject($){return!(typeof $!="object"||$===null||$ instanceof Array||$ instanceof Date||$ instanceof Timestamp||$ instanceof GeoPoint||$ instanceof Bytes||$ instanceof DocumentReference||$ instanceof FieldValue||$ instanceof VectorValue)}function __PRIVATE_validatePlainObject($,E,_){if(!__PRIVATE_looksLikeJsonObject(_)||!function(T){return typeof T=="object"&&T!==null&&(Object.getPrototypeOf(T)===Object.prototype||Object.getPrototypeOf(T)===null)}(_)){const A=__PRIVATE_valueDescription(_);throw A==="an object"?E.Bu($+" a custom object"):E.Bu($+" "+A)}}function __PRIVATE_fieldPathFromArgument$1($,E,_){if((E=getModularInstance(E))instanceof FieldPath)return E._internalPath;if(typeof E=="string")return __PRIVATE_fieldPathFromDotSeparatedString($,E);throw __PRIVATE_createError("Field path arguments must be of type string or ",$,!1,void 0,_)}const De=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString($,E,_){if(E.search(De)>=0)throw __PRIVATE_createError(`Invalid field path (${E}). Paths must not contain '~', '*', '/', '[', or ']'`,$,!1,void 0,_);try{return new FieldPath(...E.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${E}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,$,!1,void 0,_)}}function __PRIVATE_createError($,E,_,A,T){const O=A&&!A.isEmpty(),P=T!==void 0;let R=`Function ${E}() called with invalid data`;_&&(R+=" (via `toFirestore()`)"),R+=". ";let I="";return(O||P)&&(I+=" (found",O&&(I+=` in field ${A}`),P&&(I+=` in document ${T}`),I+=")"),new FirestoreError(D.INVALID_ARGUMENT,R+$+I)}function __PRIVATE_fieldMaskContains($,E){return $.some(_=>_.isEqual(E))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter($,E,_){let A;return A=$?$.toFirestore(E):E,A}function addDoc($,E){const _=__PRIVATE_cast($.firestore,Firestore),A=doc($),T=__PRIVATE_applyFirestoreDataConverter($.converter,E);return executeWrite(_,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader($.firestore),"addDoc",A._key,T,$.converter!==null,{}).toMutation(A._key,Precondition.exists(!1))]).then(()=>A)}function executeWrite($,E){return function(A,T){const O=new __PRIVATE_Deferred;return A.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(A),T,O)),O.promise}(ensureFirestoreConfigured($),E)}(function(E,_=!0){(function(T){S=T})(SDK_VERSION),_registerComponent(new Component("firestore",(A,{instanceIdentifier:T,options:O})=>{const P=A.getProvider("app").getImmediate(),R=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(A.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(A.getProvider("app-check-internal")),function(N,j){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new FirestoreError(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(N.options.projectId,j)}(P,T),P);return O=Object.assign({useFetchStreams:_},O),R._setSettings(O),R},"PUBLIC").setMultipleInstances(!0)),registerVersion(w,"4.7.3",E),registerVersion(w,"4.7.3","esm2017")})();var name$2="firebase",version$2="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$2,version$2,"app");const name$1="@firebase/installations",version$1="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$1}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=60*60*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$1=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError($){return $ instanceof FirebaseError&&$.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:$}){return`${INSTALLATIONS_API_URL}/projects/${$}/installations`}function extractAuthTokenInfoFromResponse($){return{token:$.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn($.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse($,E){const A=(await E.json()).error;return ERROR_FACTORY$1.create("request-failed",{requestName:$,serverCode:A.code,serverMessage:A.message,serverStatus:A.status})}function getHeaders$1({apiKey:$}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$})}function getHeadersWithAuth($,{refreshToken:E}){const _=getHeaders$1($);return _.append("Authorization",getAuthorizationHeader(E)),_}async function retryIfServerError($){const E=await $();return E.status>=500&&E.status<600?$():E}function getExpiresInFromResponseExpiresIn($){return Number($.replace("s","000"))}function getAuthorizationHeader($){return`${INTERNAL_AUTH_VERSION} ${$}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:$,heartbeatServiceProvider:E},{fid:_}){const A=getInstallationsEndpoint($),T=getHeaders$1($),O=E.getImmediate({optional:!0});if(O){const N=await O.getHeartbeatsHeader();N&&T.append("x-firebase-client",N)}const P={fid:_,authVersion:INTERNAL_AUTH_VERSION,appId:$.appId,sdkVersion:PACKAGE_VERSION},R={method:"POST",headers:T,body:JSON.stringify(P)},I=await retryIfServerError(()=>fetch(A,R));if(I.ok){const N=await I.json();return{fid:N.fid||_,registrationStatus:2,refreshToken:N.refreshToken,authToken:extractAuthTokenInfoFromResponse(N.authToken)}}else throw await getErrorFromResponse("Create Installation",I)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep($){return new Promise(E=>{setTimeout(E,$)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe($){return btoa(String.fromCharCode(...$)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const $=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues($),$[0]=112+$[0]%16;const _=encode($);return VALID_FID_PATTERN.test(_)?_:INVALID_FID}catch{return INVALID_FID}}function encode($){return bufferToBase64UrlSafe($).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey($){return`${$.appName}!${$.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged($,E){const _=getKey($);callFidChangeCallbacks(_,E),broadcastFidChange(_,E)}function callFidChangeCallbacks($,E){const _=fidChangeCallbacks.get($);if(_)for(const A of _)A(E)}function broadcastFidChange($,E){const _=getBroadcastChannel();_&&_.postMessage({key:$,fid:E}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=$=>{callFidChangeCallbacks($.data.key,$.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-installations-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-installations-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:($,E)=>{switch(E){case 0:$.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function set($,E){const _=getKey($),T=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),O=T.objectStore(OBJECT_STORE_NAME),P=await O.get(_);return await O.put(E,_),await T.done,(!P||P.fid!==E.fid)&&fidChanged($,E.fid),E}async function remove($){const E=getKey($),A=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");await A.objectStore(OBJECT_STORE_NAME).delete(E),await A.done}async function update($,E){const _=getKey($),T=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),O=T.objectStore(OBJECT_STORE_NAME),P=await O.get(_),R=E(P);return R===void 0?await O.delete(_):await O.put(R,_),await T.done,R&&(!P||P.fid!==R.fid)&&fidChanged($,R.fid),R}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry($){let E;const _=await update($.appConfig,A=>{const T=updateOrCreateInstallationEntry(A),O=triggerRegistrationIfNecessary($,T);return E=O.registrationPromise,O.installationEntry});return _.fid===INVALID_FID?{installationEntry:await E}:{installationEntry:_,registrationPromise:E}}function updateOrCreateInstallationEntry($){const E=$||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(E)}function triggerRegistrationIfNecessary($,E){if(E.registrationStatus===0){if(!navigator.onLine){const T=Promise.reject(ERROR_FACTORY$1.create("app-offline"));return{installationEntry:E,registrationPromise:T}}const _={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},A=registerInstallation($,_);return{installationEntry:_,registrationPromise:A}}else return E.registrationStatus===1?{installationEntry:E,registrationPromise:waitUntilFidRegistration($)}:{installationEntry:E}}async function registerInstallation($,E){try{const _=await createInstallationRequest($,E);return set($.appConfig,_)}catch(_){throw isServerError(_)&&_.customData.serverCode===409?await remove($.appConfig):await set($.appConfig,{fid:E.fid,registrationStatus:0}),_}}async function waitUntilFidRegistration($){let E=await updateInstallationRequest($.appConfig);for(;E.registrationStatus===1;)await sleep(100),E=await updateInstallationRequest($.appConfig);if(E.registrationStatus===0){const{installationEntry:_,registrationPromise:A}=await getInstallationEntry($);return A||_}return E}function updateInstallationRequest($){return update($,E=>{if(!E)throw ERROR_FACTORY$1.create("installation-not-found");return clearTimedOutRequest(E)})}function clearTimedOutRequest($){return hasInstallationRequestTimedOut($)?{fid:$.fid,registrationStatus:0}:$}function hasInstallationRequestTimedOut($){return $.registrationStatus===1&&$.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:$,heartbeatServiceProvider:E},_){const A=getGenerateAuthTokenEndpoint($,_),T=getHeadersWithAuth($,_),O=E.getImmediate({optional:!0});if(O){const N=await O.getHeartbeatsHeader();N&&T.append("x-firebase-client",N)}const P={installation:{sdkVersion:PACKAGE_VERSION,appId:$.appId}},R={method:"POST",headers:T,body:JSON.stringify(P)},I=await retryIfServerError(()=>fetch(A,R));if(I.ok){const N=await I.json();return extractAuthTokenInfoFromResponse(N)}else throw await getErrorFromResponse("Generate Auth Token",I)}function getGenerateAuthTokenEndpoint($,{fid:E}){return`${getInstallationsEndpoint($)}/${E}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken($,E=!1){let _;const A=await update($.appConfig,O=>{if(!isEntryRegistered(O))throw ERROR_FACTORY$1.create("not-registered");const P=O.authToken;if(!E&&isAuthTokenValid(P))return O;if(P.requestStatus===1)return _=waitUntilAuthTokenRequest($,E),O;{if(!navigator.onLine)throw ERROR_FACTORY$1.create("app-offline");const R=makeAuthTokenRequestInProgressEntry(O);return _=fetchAuthTokenFromServer($,R),R}});return _?await _:A.authToken}async function waitUntilAuthTokenRequest($,E){let _=await updateAuthTokenRequest($.appConfig);for(;_.authToken.requestStatus===1;)await sleep(100),_=await updateAuthTokenRequest($.appConfig);const A=_.authToken;return A.requestStatus===0?refreshAuthToken($,E):A}function updateAuthTokenRequest($){return update($,E=>{if(!isEntryRegistered(E))throw ERROR_FACTORY$1.create("not-registered");const _=E.authToken;return hasAuthTokenRequestTimedOut(_)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}async function fetchAuthTokenFromServer($,E){try{const _=await generateAuthTokenRequest($,E),A=Object.assign(Object.assign({},E),{authToken:_});return await set($.appConfig,A),_}catch(_){if(isServerError(_)&&(_.customData.serverCode===401||_.customData.serverCode===404))await remove($.appConfig);else{const A=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});await set($.appConfig,A)}throw _}}function isEntryRegistered($){return $!==void 0&&$.registrationStatus===2}function isAuthTokenValid($){return $.requestStatus===2&&!isAuthTokenExpired($)}function isAuthTokenExpired($){const E=Date.now();return E<$.creationTime||$.creationTime+$.expiresIn<E+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry($){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},$),{authToken:E})}function hasAuthTokenRequestTimedOut($){return $.requestStatus===1&&$.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId($){const E=$,{installationEntry:_,registrationPromise:A}=await getInstallationEntry(E);return A?A.catch(console.error):refreshAuthToken(E).catch(console.error),_.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken($,E=!1){const _=$;return await completeInstallationRegistration(_),(await refreshAuthToken(_,E)).token}async function completeInstallationRegistration($){const{registrationPromise:E}=await getInstallationEntry($);E&&await E}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig($){if(!$||!$.options)throw getMissingValueError("App Configuration");if(!$.name)throw getMissingValueError("App Name");const E=["projectId","apiKey","appId"];for(const _ of E)if(!$.options[_])throw getMissingValueError(_);return{appName:$.name,projectId:$.options.projectId,apiKey:$.options.apiKey,appId:$.options.appId}}function getMissingValueError($){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:$})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=$=>{const E=$.getProvider("app").getImmediate(),_=extractAppConfig(E),A=_getProvider(E,"heartbeat");return{app:E,appConfig:_,heartbeatServiceProvider:A,_delete:()=>Promise.resolve()}},internalFactory=$=>{const E=$.getProvider("app").getImmediate(),_=_getProvider(E,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId(_),getToken:T=>getToken(_,T)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations();registerVersion(name$1,version$1);registerVersion(name$1,version$1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createGtagTrustedTypesScriptURL($){if(!$.startsWith(GTAG_URL)){const E=ERROR_FACTORY.create("invalid-gtag-resource",{gtagURL:$});return logger.warn(E.message),""}return $}function promiseAllSettled($){return Promise.all($.map(E=>E.catch(_=>_)))}function createTrustedTypesPolicy($,E){let _;return window.trustedTypes&&(_=window.trustedTypes.createPolicy($,E)),_}function insertScriptTag($,E){const _=createTrustedTypesPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL}),A=document.createElement("script"),T=`${GTAG_URL}?l=${$}&id=${E}`;A.src=_?_==null?void 0:_.createScriptURL(T):T,A.async=!0,document.head.appendChild(A)}function getOrCreateDataLayer($){let E=[];return Array.isArray(window[$])?E=window[$]:window[$]=E,E}async function gtagOnConfig($,E,_,A,T,O){const P=A[T];try{if(P)await E[P];else{const I=(await promiseAllSettled(_)).find(N=>N.measurementId===T);I&&await E[I.appId]}}catch(R){logger.error(R)}$("config",T,O)}async function gtagOnEvent($,E,_,A,T){try{let O=[];if(T&&T.send_to){let P=T.send_to;Array.isArray(P)||(P=[P]);const R=await promiseAllSettled(_);for(const I of P){const N=R.find(U=>U.measurementId===I),j=N&&E[N.appId];if(j)O.push(j);else{O=[];break}}}O.length===0&&(O=Object.values(E)),await Promise.all(O),$("event",A,T||{})}catch(O){logger.error(O)}}function wrapGtag($,E,_,A){async function T(O,...P){try{if(O==="event"){const[R,I]=P;await gtagOnEvent($,E,_,R,I)}else if(O==="config"){const[R,I]=P;await gtagOnConfig($,E,_,A,R,I)}else if(O==="consent"){const[R,I]=P;$("consent",R,I)}else if(O==="get"){const[R,I,N]=P;$("get",R,I,N)}else if(O==="set"){const[R]=P;$("set",R)}else $(O,...P)}catch(R){logger.error(R)}}return T}function wrapOrCreateGtag($,E,_,A,T){let O=function(...P){window[A].push(arguments)};return window[T]&&typeof window[T]=="function"&&(O=window[T]),window[T]=wrapGtag(O,$,E,_),{gtagCore:O,wrappedGtag:window[T]}}function findGtagScriptOnPage($){const E=window.document.getElementsByTagName("script");for(const _ of Object.values(E))if(_.src&&_.src.includes(GTAG_URL)&&_.src.includes($))return _;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor(E={},_=BASE_INTERVAL_MILLIS){this.throttleMetadata=E,this.intervalMillis=_}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,_){this.throttleMetadata[E]=_}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}}const defaultRetryData=new RetryData;function getHeaders($){return new Headers({Accept:"application/json","x-goog-api-key":$})}async function fetchDynamicConfig($){var E;const{appId:_,apiKey:A}=$,T={method:"GET",headers:getHeaders(A)},O=DYNAMIC_CONFIG_URL.replace("{app-id}",_),P=await fetch(O,T);if(P.status!==200&&P.status!==304){let R="";try{const I=await P.json();!((E=I.error)===null||E===void 0)&&E.message&&(R=I.error.message)}catch{}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:P.status,responseMessage:R})}return P.json()}async function fetchDynamicConfigWithRetry($,E=defaultRetryData,_){const{appId:A,apiKey:T,measurementId:O}=$.options;if(!A)throw ERROR_FACTORY.create("no-app-id");if(!T){if(O)return{measurementId:O,appId:A};throw ERROR_FACTORY.create("no-api-key")}const P=E.getThrottleMetadata(A)||{backoffCount:0,throttleEndTimeMillis:Date.now()},R=new AnalyticsAbortSignal;return setTimeout(async()=>{R.abort()},FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:A,apiKey:T,measurementId:O},P,R,E)}async function attemptFetchDynamicConfigWithRetry($,{throttleEndTimeMillis:E,backoffCount:_},A,T=defaultRetryData){var O;const{appId:P,measurementId:R}=$;try{await setAbortableTimeout(A,E)}catch(I){if(R)return logger.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${R} provided in the "measurementId" field in the local Firebase config. [${I==null?void 0:I.message}]`),{appId:P,measurementId:R};throw I}try{const I=await fetchDynamicConfig($);return T.deleteThrottleMetadata(P),I}catch(I){const N=I;if(!isRetriableError(N)){if(T.deleteThrottleMetadata(P),R)return logger.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${R} provided in the "measurementId" field in the local Firebase config. [${N==null?void 0:N.message}]`),{appId:P,measurementId:R};throw I}const j=Number((O=N==null?void 0:N.customData)===null||O===void 0?void 0:O.httpStatus)===503?calculateBackoffMillis(_,T.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(_,T.intervalMillis),U={throttleEndTimeMillis:Date.now()+j,backoffCount:_+1};return T.setThrottleMetadata(P,U),logger.debug(`Calling attemptFetch again in ${j} millis`),attemptFetchDynamicConfigWithRetry($,U,A,T)}}function setAbortableTimeout($,E){return new Promise((_,A)=>{const T=Math.max(E-Date.now(),0),O=setTimeout(_,T);$.addEventListener(()=>{clearTimeout(O),A(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function isRetriableError($){if(!($ instanceof FirebaseError)||!$.customData)return!1;const E=Number($.customData.httpStatus);return E===429||E===500||E===503||E===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}async function logEvent$1($,E,_,A,T){if(T&&T.global){$("event",_,A);return}else{const O=await E,P=Object.assign(Object.assign({},A),{send_to:O});$("event",_,P)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch($){return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:$==null?void 0:$.toString()}).message),!1}else return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics($,E,_,A,T,O,P){var R;const I=fetchDynamicConfigWithRetry($);I.then(V=>{_[V.measurementId]=V.appId,$.options.measurementId&&V.measurementId!==$.options.measurementId&&logger.warn(`The measurement ID in the local Firebase config (${$.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>logger.error(V)),E.push(I);const N=validateIndexedDB().then(V=>{if(V)return A.getId()}),[j,U]=await Promise.all([I,N]);findGtagScriptOnPage(O)||insertScriptTag(O,j.measurementId),T("js",new Date);const z=(R=P==null?void 0:P.config)!==null&&R!==void 0?R:{};return z[ORIGIN_KEY]="firebase",z.update=!0,U!=null&&(z[GA_FID_KEY]=U),T("config",j.measurementId,z),j.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor(E){this.app=E}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const $=[];if(isBrowserExtension()&&$.push("This is a browser extension environment."),areCookiesEnabled()||$.push("Cookies are not available."),$.length>0){const E=$.map((A,T)=>`(${T+1}) ${A}`).join(" "),_=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:E});logger.warn(_.message)}}function factory($,E,_){warnOnBrowserContextMismatch();const A=$.options.appId;if(!A)throw ERROR_FACTORY.create("no-app-id");if(!$.options.apiKey)if($.options.measurementId)logger.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${$.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY.create("no-api-key");if(initializationPromisesMap[A]!=null)throw ERROR_FACTORY.create("already-exists",{id:A});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:O,gtagCore:P}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=O,gtagCoreFunction=P,globalInitDone=!0}return initializationPromisesMap[A]=_initializeAnalytics($,dynamicConfigPromisesList,measurementIdToAppId,E,gtagCoreFunction,dataLayerName,_),new AnalyticsService($)}function getAnalytics($=getApp()){$=getModularInstance($);const E=_getProvider($,ANALYTICS_TYPE);return E.isInitialized()?E.getImmediate():initializeAnalytics($)}function initializeAnalytics($,E={}){const _=_getProvider($,ANALYTICS_TYPE);if(_.isInitialized()){const T=_.getImmediate();if(deepEqual(E,_.getOptions()))return T;throw ERROR_FACTORY.create("already-initialized")}return _.initialize({options:E})}function logEvent($,E,_,A){$=getModularInstance($),logEvent$1(wrappedGtagFunction,initializationPromisesMap[$.app.options.appId],E,_,A).catch(T=>logger.error(T))}const name="@firebase/analytics",version="0.10.8";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,(E,{options:_})=>{const A=E.getProvider("app").getImmediate(),T=E.getProvider("installations-internal").getImmediate();return factory(A,T,_)},"PUBLIC")),_registerComponent(new Component("analytics-internal",$,"PRIVATE")),registerVersion(name,version),registerVersion(name,version,"esm2017");function $(E){try{const _=E.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(A,T,O)=>logEvent(_,A,T,O)}}catch(_){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:_})}}}registerAnalytics();const firebaseConfig={apiKey:"AIzaSyCSd_2EnL2X0e0d3czfPVhcfBwwU2EVeqI",authDomain:"laetitia-knoerr.firebaseapp.com",projectId:"laetitia-knoerr",storageBucket:"laetitia-knoerr.firebasestorage.app",messagingSenderId:"225040275353",appId:"1:225040275353:web:4e22b1dabf18d5e00ca508",measurementId:"G-ZY7SKR84HE"},app=initializeApp(firebaseConfig);getAnalytics(app);const db=getFirestore(app);function ContactForm(){const[$,E]=reactExports.useState(!1),[_,A]=reactExports.useState(!1),{register:T,handleSubmit:O,reset:P,formState:{errors:R}}=useForm(),I=async N=>{if(!N.consent){alert("Veuillez accepter la politique de confidentialité pour continuer.");return}E(!0);try{await addDoc(collection(db,"contacts"),{...N,createdAt:new Date().toISOString()}),A(!0),P()}catch(j){console.error("Error submitting form:",j),alert("Une erreur est survenue. Veuillez réessayer plus tard.")}finally{E(!1)}};return jsxRuntimeExports.jsx("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:_?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"text-green-500 mb-4",children:jsxRuntimeExports.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold font-lora text-dark mb-4",children:"Message envoyé avec succès !"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Je vous recontacterai dans les plus brefs délais."}),jsxRuntimeExports.jsx("button",{onClick:()=>A(!1),className:"btn-primary",children:"Envoyer un autre message"})]}):jsxRuntimeExports.jsxs("form",{onSubmit:O(I),className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center h-5",children:jsxRuntimeExports.jsx("input",{id:"consent",type:"checkbox",...T("consent",{required:"Vous devez accepter la politique de confidentialité"}),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"})}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"consent",className:"text-sm text-gray-600",children:["J'accepte la"," ",jsxRuntimeExports.jsx("a",{href:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"politique de confidentialité"})," ","et le traitement de mes données personnelles *"]}),R.consent&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.consent.message})]})]})}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:$,className:"w-full btn-primary flex items-center justify-center space-x-2",children:$?jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:"Envoyer le message"}),jsxRuntimeExports.jsx(Send,{className:"h-5 w-5"})]})})]})})}function ContactInfo(){return jsxRuntimeExports.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold font-lora text-dark mb-6",children:"Informations pratiques"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-6 w-6 text-primary flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900",children:"Adresse"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["123 Rue des Consultations",jsxRuntimeExports.jsx("br",{}),"68000 Colmar"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx(Clock,{className:"h-6 w-6 text-primary flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900",children:"Horaires d'ouverture"}),jsxRuntimeExports.jsxs("ul",{className:"text-gray-600 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Lundi - Vendredi : 9h - 19h"}),jsxRuntimeExports.jsx("li",{children:"Samedi : Sur rendez-vous"}),jsxRuntimeExports.jsx("li",{children:"Dimanche : Fermé"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx(Phone,{className:"h-6 w-6 text-primary flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900",children:"Téléphone"}),jsxRuntimeExports.jsx("a",{href:"tel:+33123456789",className:"text-gray-600 hover:text-primary transition-colors",children:"01 23 45 67 89"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx(Mail,{className:"h-6 w-6 text-primary flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900",children:"Email"}),jsxRuntimeExports.jsx("a",{href:"mailto:contact@laetitiaknoerr.fr",className:"text-gray-600 hover:text-primary transition-colors",children:"contact@laetitiaknoerr.fr"})]})]})]})]})}function useAttribution($,E){const _=reactExports.useRef(E);reactExports.useEffect(function(){E!==_.current&&$.attributionControl!=null&&(_.current!=null&&$.attributionControl.removeAttribution(_.current),E!=null&&$.attributionControl.addAttribution(E)),_.current=E},[$,E])}const CONTEXT_VERSION=1;function createLeafletContext($){return Object.freeze({__version:CONTEXT_VERSION,map:$})}function extendContext($,E){return Object.freeze({...$,...E})}const LeafletContext=reactExports.createContext(null),LeafletProvider=LeafletContext.Provider;function useLeafletContext(){const $=reactExports.useContext(LeafletContext);if($==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return $}function createContainerComponent($){function E(_,A){const{instance:T,context:O}=$(_).current;return reactExports.useImperativeHandle(A,()=>T),_.children==null?null:React.createElement(LeafletProvider,{value:O},_.children)}return reactExports.forwardRef(E)}function createDivOverlayComponent($){function E(_,A){const[T,O]=reactExports.useState(!1),{instance:P}=$(_,O).current;reactExports.useImperativeHandle(A,()=>P),reactExports.useEffect(function(){T&&P.update()},[P,T,_.children]);const R=P._contentNode;return R?reactDomExports.createPortal(_.children,R):null}return reactExports.forwardRef(E)}function createLeafComponent($){function E(_,A){const{instance:T}=$(_).current;return reactExports.useImperativeHandle(A,()=>T),null}return reactExports.forwardRef(E)}function useEventHandlers($,E){const _=reactExports.useRef();reactExports.useEffect(function(){return E!=null&&$.instance.on(E),_.current=E,function(){_.current!=null&&$.instance.off(_.current),_.current=null}},[$,E])}function withPane($,E){const _=$.pane??E.pane;return _?{...$,pane:_}:$}function createDivOverlayHook($,E){return function(A,T){const O=useLeafletContext(),P=$(withPane(A,O),O);return useAttribution(O.map,A.attribution),useEventHandlers(P.current,A.eventHandlers),E(P.current,O,A,T),P}}var leafletSrc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function($,E){(function(_,A){A(E)})(commonjsGlobal$2,function(_){var A="1.9.4";function T(Ie){var Ke,kt,rr,Ir;for(kt=1,rr=arguments.length;kt<rr;kt++){Ir=arguments[kt];for(Ke in Ir)Ie[Ke]=Ir[Ke]}return Ie}var O=Object.create||function(){function Ie(){}return function(Ke){return Ie.prototype=Ke,new Ie}}();function P(Ie,Ke){var kt=Array.prototype.slice;if(Ie.bind)return Ie.bind.apply(Ie,kt.call(arguments,1));var rr=kt.call(arguments,2);return function(){return Ie.apply(Ke,rr.length?rr.concat(kt.call(arguments)):arguments)}}var R=0;function I(Ie){return"_leaflet_id"in Ie||(Ie._leaflet_id=++R),Ie._leaflet_id}function N(Ie,Ke,kt){var rr,Ir,hn,Yn;return Yn=function(){rr=!1,Ir&&(hn.apply(kt,Ir),Ir=!1)},hn=function(){rr?Ir=arguments:(Ie.apply(kt,arguments),setTimeout(Yn,Ke),rr=!0)},hn}function j(Ie,Ke,kt){var rr=Ke[1],Ir=Ke[0],hn=rr-Ir;return Ie===rr&&kt?Ie:((Ie-Ir)%hn+hn)%hn+Ir}function U(){return!1}function z(Ie,Ke){if(Ke===!1)return Ie;var kt=Math.pow(10,Ke===void 0?6:Ke);return Math.round(Ie*kt)/kt}function V(Ie){return Ie.trim?Ie.trim():Ie.replace(/^\s+|\s+$/g,"")}function F(Ie){return V(Ie).split(/\s+/)}function q(Ie,Ke){Object.prototype.hasOwnProperty.call(Ie,"options")||(Ie.options=Ie.options?O(Ie.options):{});for(var kt in Ke)Ie.options[kt]=Ke[kt];return Ie.options}function B(Ie,Ke,kt){var rr=[];for(var Ir in Ie)rr.push(encodeURIComponent(kt?Ir.toUpperCase():Ir)+"="+encodeURIComponent(Ie[Ir]));return(!Ke||Ke.indexOf("?")===-1?"?":"&")+rr.join("&")}var W=/\{ *([\w_ -]+) *\}/g;function H(Ie,Ke){return Ie.replace(W,function(kt,rr){var Ir=Ke[rr];if(Ir===void 0)throw new Error("No value provided for variable "+kt);return typeof Ir=="function"&&(Ir=Ir(Ke)),Ir})}var G=Array.isArray||function(Ie){return Object.prototype.toString.call(Ie)==="[object Array]"};function Z(Ie,Ke){for(var kt=0;kt<Ie.length;kt++)if(Ie[kt]===Ke)return kt;return-1}var Y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ee(Ie){return window["webkit"+Ie]||window["moz"+Ie]||window["ms"+Ie]}var J=0;function Q(Ie){var Ke=+new Date,kt=Math.max(0,16-(Ke-J));return J=Ke+kt,window.setTimeout(Ie,kt)}var te=window.requestAnimationFrame||ee("RequestAnimationFrame")||Q,se=window.cancelAnimationFrame||ee("CancelAnimationFrame")||ee("CancelRequestAnimationFrame")||function(Ie){window.clearTimeout(Ie)};function de(Ie,Ke,kt){if(kt&&te===Q)Ie.call(Ke);else return te.call(window,P(Ie,Ke))}function ie(Ie){Ie&&se.call(window,Ie)}var ve={__proto__:null,extend:T,create:O,bind:P,get lastId(){return R},stamp:I,throttle:N,wrapNum:j,falseFn:U,formatNum:z,trim:V,splitWords:F,setOptions:q,getParamString:B,template:H,isArray:G,indexOf:Z,emptyImageUrl:Y,requestFn:te,cancelFn:se,requestAnimFrame:de,cancelAnimFrame:ie};function xe(){}xe.extend=function(Ie){var Ke=function(){q(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},kt=Ke.__super__=this.prototype,rr=O(kt);rr.constructor=Ke,Ke.prototype=rr;for(var Ir in this)Object.prototype.hasOwnProperty.call(this,Ir)&&Ir!=="prototype"&&Ir!=="__super__"&&(Ke[Ir]=this[Ir]);return Ie.statics&&T(Ke,Ie.statics),Ie.includes&&(ke(Ie.includes),T.apply(null,[rr].concat(Ie.includes))),T(rr,Ie),delete rr.statics,delete rr.includes,rr.options&&(rr.options=kt.options?O(kt.options):{},T(rr.options,Ie.options)),rr._initHooks=[],rr.callInitHooks=function(){if(!this._initHooksCalled){kt.callInitHooks&&kt.callInitHooks.call(this),this._initHooksCalled=!0;for(var hn=0,Yn=rr._initHooks.length;hn<Yn;hn++)rr._initHooks[hn].call(this)}},Ke},xe.include=function(Ie){var Ke=this.prototype.options;return T(this.prototype,Ie),Ie.options&&(this.prototype.options=Ke,this.mergeOptions(Ie.options)),this},xe.mergeOptions=function(Ie){return T(this.prototype.options,Ie),this},xe.addInitHook=function(Ie){var Ke=Array.prototype.slice.call(arguments,1),kt=typeof Ie=="function"?Ie:function(){this[Ie].apply(this,Ke)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(kt),this};function ke(Ie){if(!(typeof L>"u"||!L||!L.Mixin)){Ie=G(Ie)?Ie:[Ie];for(var Ke=0;Ke<Ie.length;Ke++)Ie[Ke]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ce={on:function(Ie,Ke,kt){if(typeof Ie=="object")for(var rr in Ie)this._on(rr,Ie[rr],Ke);else{Ie=F(Ie);for(var Ir=0,hn=Ie.length;Ir<hn;Ir++)this._on(Ie[Ir],Ke,kt)}return this},off:function(Ie,Ke,kt){if(!arguments.length)delete this._events;else if(typeof Ie=="object")for(var rr in Ie)this._off(rr,Ie[rr],Ke);else{Ie=F(Ie);for(var Ir=arguments.length===1,hn=0,Yn=Ie.length;hn<Yn;hn++)Ir?this._off(Ie[hn]):this._off(Ie[hn],Ke,kt)}return this},_on:function(Ie,Ke,kt,rr){if(typeof Ke!="function"){console.warn("wrong listener type: "+typeof Ke);return}if(this._listens(Ie,Ke,kt)===!1){kt===this&&(kt=void 0);var Ir={fn:Ke,ctx:kt};rr&&(Ir.once=!0),this._events=this._events||{},this._events[Ie]=this._events[Ie]||[],this._events[Ie].push(Ir)}},_off:function(Ie,Ke,kt){var rr,Ir,hn;if(this._events&&(rr=this._events[Ie],!!rr)){if(arguments.length===1){if(this._firingCount)for(Ir=0,hn=rr.length;Ir<hn;Ir++)rr[Ir].fn=U;delete this._events[Ie];return}if(typeof Ke!="function"){console.warn("wrong listener type: "+typeof Ke);return}var Yn=this._listens(Ie,Ke,kt);if(Yn!==!1){var bi=rr[Yn];this._firingCount&&(bi.fn=U,this._events[Ie]=rr=rr.slice()),rr.splice(Yn,1)}}},fire:function(Ie,Ke,kt){if(!this.listens(Ie,kt))return this;var rr=T({},Ke,{type:Ie,target:this,sourceTarget:Ke&&Ke.sourceTarget||this});if(this._events){var Ir=this._events[Ie];if(Ir){this._firingCount=this._firingCount+1||1;for(var hn=0,Yn=Ir.length;hn<Yn;hn++){var bi=Ir[hn],Pi=bi.fn;bi.once&&this.off(Ie,Pi,bi.ctx),Pi.call(bi.ctx||this,rr)}this._firingCount--}}return kt&&this._propagateEvent(rr),this},listens:function(Ie,Ke,kt,rr){typeof Ie!="string"&&console.warn('"string" type argument expected');var Ir=Ke;typeof Ke!="function"&&(rr=!!Ke,Ir=void 0,kt=void 0);var hn=this._events&&this._events[Ie];if(hn&&hn.length&&this._listens(Ie,Ir,kt)!==!1)return!0;if(rr){for(var Yn in this._eventParents)if(this._eventParents[Yn].listens(Ie,Ke,kt,rr))return!0}return!1},_listens:function(Ie,Ke,kt){if(!this._events)return!1;var rr=this._events[Ie]||[];if(!Ke)return!!rr.length;kt===this&&(kt=void 0);for(var Ir=0,hn=rr.length;Ir<hn;Ir++)if(rr[Ir].fn===Ke&&rr[Ir].ctx===kt)return Ir;return!1},once:function(Ie,Ke,kt){if(typeof Ie=="object")for(var rr in Ie)this._on(rr,Ie[rr],Ke,!0);else{Ie=F(Ie);for(var Ir=0,hn=Ie.length;Ir<hn;Ir++)this._on(Ie[Ir],Ke,kt,!0)}return this},addEventParent:function(Ie){return this._eventParents=this._eventParents||{},this._eventParents[I(Ie)]=Ie,this},removeEventParent:function(Ie){return this._eventParents&&delete this._eventParents[I(Ie)],this},_propagateEvent:function(Ie){for(var Ke in this._eventParents)this._eventParents[Ke].fire(Ie.type,T({layer:Ie.target,propagatedFrom:Ie.target},Ie),!0)}};Ce.addEventListener=Ce.on,Ce.removeEventListener=Ce.clearAllEventListeners=Ce.off,Ce.addOneTimeEventListener=Ce.once,Ce.fireEvent=Ce.fire,Ce.hasEventListeners=Ce.listens;var Oe=xe.extend(Ce);function Ae(Ie,Ke,kt){this.x=kt?Math.round(Ie):Ie,this.y=kt?Math.round(Ke):Ke}var Pe=Math.trunc||function(Ie){return Ie>0?Math.floor(Ie):Math.ceil(Ie)};Ae.prototype={clone:function(){return new Ae(this.x,this.y)},add:function(Ie){return this.clone()._add(Ee(Ie))},_add:function(Ie){return this.x+=Ie.x,this.y+=Ie.y,this},subtract:function(Ie){return this.clone()._subtract(Ee(Ie))},_subtract:function(Ie){return this.x-=Ie.x,this.y-=Ie.y,this},divideBy:function(Ie){return this.clone()._divideBy(Ie)},_divideBy:function(Ie){return this.x/=Ie,this.y/=Ie,this},multiplyBy:function(Ie){return this.clone()._multiplyBy(Ie)},_multiplyBy:function(Ie){return this.x*=Ie,this.y*=Ie,this},scaleBy:function(Ie){return new Ae(this.x*Ie.x,this.y*Ie.y)},unscaleBy:function(Ie){return new Ae(this.x/Ie.x,this.y/Ie.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pe(this.x),this.y=Pe(this.y),this},distanceTo:function(Ie){Ie=Ee(Ie);var Ke=Ie.x-this.x,kt=Ie.y-this.y;return Math.sqrt(Ke*Ke+kt*kt)},equals:function(Ie){return Ie=Ee(Ie),Ie.x===this.x&&Ie.y===this.y},contains:function(Ie){return Ie=Ee(Ie),Math.abs(Ie.x)<=Math.abs(this.x)&&Math.abs(Ie.y)<=Math.abs(this.y)},toString:function(){return"Point("+z(this.x)+", "+z(this.y)+")"}};function Ee(Ie,Ke,kt){return Ie instanceof Ae?Ie:G(Ie)?new Ae(Ie[0],Ie[1]):Ie==null?Ie:typeof Ie=="object"&&"x"in Ie&&"y"in Ie?new Ae(Ie.x,Ie.y):new Ae(Ie,Ke,kt)}function Te(Ie,Ke){if(Ie)for(var kt=Ke?[Ie,Ke]:Ie,rr=0,Ir=kt.length;rr<Ir;rr++)this.extend(kt[rr])}Te.prototype={extend:function(Ie){var Ke,kt;if(!Ie)return this;if(Ie instanceof Ae||typeof Ie[0]=="number"||"x"in Ie)Ke=kt=Ee(Ie);else if(Ie=Re(Ie),Ke=Ie.min,kt=Ie.max,!Ke||!kt)return this;return!this.min&&!this.max?(this.min=Ke.clone(),this.max=kt.clone()):(this.min.x=Math.min(Ke.x,this.min.x),this.max.x=Math.max(kt.x,this.max.x),this.min.y=Math.min(Ke.y,this.min.y),this.max.y=Math.max(kt.y,this.max.y)),this},getCenter:function(Ie){return Ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,Ie)},getBottomLeft:function(){return Ee(this.min.x,this.max.y)},getTopRight:function(){return Ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(Ie){var Ke,kt;return typeof Ie[0]=="number"||Ie instanceof Ae?Ie=Ee(Ie):Ie=Re(Ie),Ie instanceof Te?(Ke=Ie.min,kt=Ie.max):Ke=kt=Ie,Ke.x>=this.min.x&&kt.x<=this.max.x&&Ke.y>=this.min.y&&kt.y<=this.max.y},intersects:function(Ie){Ie=Re(Ie);var Ke=this.min,kt=this.max,rr=Ie.min,Ir=Ie.max,hn=Ir.x>=Ke.x&&rr.x<=kt.x,Yn=Ir.y>=Ke.y&&rr.y<=kt.y;return hn&&Yn},overlaps:function(Ie){Ie=Re(Ie);var Ke=this.min,kt=this.max,rr=Ie.min,Ir=Ie.max,hn=Ir.x>Ke.x&&rr.x<kt.x,Yn=Ir.y>Ke.y&&rr.y<kt.y;return hn&&Yn},isValid:function(){return!!(this.min&&this.max)},pad:function(Ie){var Ke=this.min,kt=this.max,rr=Math.abs(Ke.x-kt.x)*Ie,Ir=Math.abs(Ke.y-kt.y)*Ie;return Re(Ee(Ke.x-rr,Ke.y-Ir),Ee(kt.x+rr,kt.y+Ir))},equals:function(Ie){return Ie?(Ie=Re(Ie),this.min.equals(Ie.getTopLeft())&&this.max.equals(Ie.getBottomRight())):!1}};function Re(Ie,Ke){return!Ie||Ie instanceof Te?Ie:new Te(Ie,Ke)}function Me(Ie,Ke){if(Ie)for(var kt=Ke?[Ie,Ke]:Ie,rr=0,Ir=kt.length;rr<Ir;rr++)this.extend(kt[rr])}Me.prototype={extend:function(Ie){var Ke=this._southWest,kt=this._northEast,rr,Ir;if(Ie instanceof Le)rr=Ie,Ir=Ie;else if(Ie instanceof Me){if(rr=Ie._southWest,Ir=Ie._northEast,!rr||!Ir)return this}else return Ie?this.extend(je(Ie)||ze(Ie)):this;return!Ke&&!kt?(this._southWest=new Le(rr.lat,rr.lng),this._northEast=new Le(Ir.lat,Ir.lng)):(Ke.lat=Math.min(rr.lat,Ke.lat),Ke.lng=Math.min(rr.lng,Ke.lng),kt.lat=Math.max(Ir.lat,kt.lat),kt.lng=Math.max(Ir.lng,kt.lng)),this},pad:function(Ie){var Ke=this._southWest,kt=this._northEast,rr=Math.abs(Ke.lat-kt.lat)*Ie,Ir=Math.abs(Ke.lng-kt.lng)*Ie;return new Me(new Le(Ke.lat-rr,Ke.lng-Ir),new Le(kt.lat+rr,kt.lng+Ir))},getCenter:function(){return new Le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Le(this.getNorth(),this.getWest())},getSouthEast:function(){return new Le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(Ie){typeof Ie[0]=="number"||Ie instanceof Le||"lat"in Ie?Ie=je(Ie):Ie=ze(Ie);var Ke=this._southWest,kt=this._northEast,rr,Ir;return Ie instanceof Me?(rr=Ie.getSouthWest(),Ir=Ie.getNorthEast()):rr=Ir=Ie,rr.lat>=Ke.lat&&Ir.lat<=kt.lat&&rr.lng>=Ke.lng&&Ir.lng<=kt.lng},intersects:function(Ie){Ie=ze(Ie);var Ke=this._southWest,kt=this._northEast,rr=Ie.getSouthWest(),Ir=Ie.getNorthEast(),hn=Ir.lat>=Ke.lat&&rr.lat<=kt.lat,Yn=Ir.lng>=Ke.lng&&rr.lng<=kt.lng;return hn&&Yn},overlaps:function(Ie){Ie=ze(Ie);var Ke=this._southWest,kt=this._northEast,rr=Ie.getSouthWest(),Ir=Ie.getNorthEast(),hn=Ir.lat>Ke.lat&&rr.lat<kt.lat,Yn=Ir.lng>Ke.lng&&rr.lng<kt.lng;return hn&&Yn},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(Ie,Ke){return Ie?(Ie=ze(Ie),this._southWest.equals(Ie.getSouthWest(),Ke)&&this._northEast.equals(Ie.getNorthEast(),Ke)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ze(Ie,Ke){return Ie instanceof Me?Ie:new Me(Ie,Ke)}function Le(Ie,Ke,kt){if(isNaN(Ie)||isNaN(Ke))throw new Error("Invalid LatLng object: ("+Ie+", "+Ke+")");this.lat=+Ie,this.lng=+Ke,kt!==void 0&&(this.alt=+kt)}Le.prototype={equals:function(Ie,Ke){if(!Ie)return!1;Ie=je(Ie);var kt=Math.max(Math.abs(this.lat-Ie.lat),Math.abs(this.lng-Ie.lng));return kt<=(Ke===void 0?1e-9:Ke)},toString:function(Ie){return"LatLng("+z(this.lat,Ie)+", "+z(this.lng,Ie)+")"},distanceTo:function(Ie){return qe.distance(this,je(Ie))},wrap:function(){return qe.wrapLatLng(this)},toBounds:function(Ie){var Ke=180*Ie/40075017,kt=Ke/Math.cos(Math.PI/180*this.lat);return ze([this.lat-Ke,this.lng-kt],[this.lat+Ke,this.lng+kt])},clone:function(){return new Le(this.lat,this.lng,this.alt)}};function je(Ie,Ke,kt){return Ie instanceof Le?Ie:G(Ie)&&typeof Ie[0]!="object"?Ie.length===3?new Le(Ie[0],Ie[1],Ie[2]):Ie.length===2?new Le(Ie[0],Ie[1]):null:Ie==null?Ie:typeof Ie=="object"&&"lat"in Ie?new Le(Ie.lat,"lng"in Ie?Ie.lng:Ie.lon,Ie.alt):Ke===void 0?null:new Le(Ie,Ke,kt)}var Ne={latLngToPoint:function(Ie,Ke){var kt=this.projection.project(Ie),rr=this.scale(Ke);return this.transformation._transform(kt,rr)},pointToLatLng:function(Ie,Ke){var kt=this.scale(Ke),rr=this.transformation.untransform(Ie,kt);return this.projection.unproject(rr)},project:function(Ie){return this.projection.project(Ie)},unproject:function(Ie){return this.projection.unproject(Ie)},scale:function(Ie){return 256*Math.pow(2,Ie)},zoom:function(Ie){return Math.log(Ie/256)/Math.LN2},getProjectedBounds:function(Ie){if(this.infinite)return null;var Ke=this.projection.bounds,kt=this.scale(Ie),rr=this.transformation.transform(Ke.min,kt),Ir=this.transformation.transform(Ke.max,kt);return new Te(rr,Ir)},infinite:!1,wrapLatLng:function(Ie){var Ke=this.wrapLng?j(Ie.lng,this.wrapLng,!0):Ie.lng,kt=this.wrapLat?j(Ie.lat,this.wrapLat,!0):Ie.lat,rr=Ie.alt;return new Le(kt,Ke,rr)},wrapLatLngBounds:function(Ie){var Ke=Ie.getCenter(),kt=this.wrapLatLng(Ke),rr=Ke.lat-kt.lat,Ir=Ke.lng-kt.lng;if(rr===0&&Ir===0)return Ie;var hn=Ie.getSouthWest(),Yn=Ie.getNorthEast(),bi=new Le(hn.lat-rr,hn.lng-Ir),Pi=new Le(Yn.lat-rr,Yn.lng-Ir);return new Me(bi,Pi)}},qe=T({},Ne,{wrapLng:[-180,180],R:6371e3,distance:function(Ie,Ke){var kt=Math.PI/180,rr=Ie.lat*kt,Ir=Ke.lat*kt,hn=Math.sin((Ke.lat-Ie.lat)*kt/2),Yn=Math.sin((Ke.lng-Ie.lng)*kt/2),bi=hn*hn+Math.cos(rr)*Math.cos(Ir)*Yn*Yn,Pi=2*Math.atan2(Math.sqrt(bi),Math.sqrt(1-bi));return this.R*Pi}}),Ye=6378137,Ve={R:Ye,MAX_LATITUDE:85.0511287798,project:function(Ie){var Ke=Math.PI/180,kt=this.MAX_LATITUDE,rr=Math.max(Math.min(kt,Ie.lat),-kt),Ir=Math.sin(rr*Ke);return new Ae(this.R*Ie.lng*Ke,this.R*Math.log((1+Ir)/(1-Ir))/2)},unproject:function(Ie){var Ke=180/Math.PI;return new Le((2*Math.atan(Math.exp(Ie.y/this.R))-Math.PI/2)*Ke,Ie.x*Ke/this.R)},bounds:function(){var Ie=Ye*Math.PI;return new Te([-Ie,-Ie],[Ie,Ie])}()};function tt(Ie,Ke,kt,rr){if(G(Ie)){this._a=Ie[0],this._b=Ie[1],this._c=Ie[2],this._d=Ie[3];return}this._a=Ie,this._b=Ke,this._c=kt,this._d=rr}tt.prototype={transform:function(Ie,Ke){return this._transform(Ie.clone(),Ke)},_transform:function(Ie,Ke){return Ke=Ke||1,Ie.x=Ke*(this._a*Ie.x+this._b),Ie.y=Ke*(this._c*Ie.y+this._d),Ie},untransform:function(Ie,Ke){return Ke=Ke||1,new Ae((Ie.x/Ke-this._b)/this._a,(Ie.y/Ke-this._d)/this._c)}};function it(Ie,Ke,kt,rr){return new tt(Ie,Ke,kt,rr)}var Ze=T({},qe,{code:"EPSG:3857",projection:Ve,transformation:function(){var Ie=.5/(Math.PI*Ve.R);return it(Ie,.5,-Ie,.5)}()}),We=T({},Ze,{code:"EPSG:900913"});function He(Ie){return document.createElementNS("http://www.w3.org/2000/svg",Ie)}function Ue(Ie,Ke){var kt="",rr,Ir,hn,Yn,bi,Pi;for(rr=0,hn=Ie.length;rr<hn;rr++){for(bi=Ie[rr],Ir=0,Yn=bi.length;Ir<Yn;Ir++)Pi=bi[Ir],kt+=(Ir?"L":"M")+Pi.x+" "+Pi.y;kt+=Ke?Ln.svg?"z":"x":""}return kt||"M0 0"}var Qe=document.documentElement.style,Be="ActiveXObject"in window,$e=Be&&!document.addEventListener,Xe="msLaunchUri"in navigator&&!("documentMode"in document),lt=qn("webkit"),dt=qn("android"),ft=qn("android 2")||qn("android 3"),St=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Mt=dt&&qn("Google")&&St<537&&!("AudioNode"in window),ht=!!window.opera,ct=!Xe&&qn("chrome"),vt=qn("gecko")&&!lt&&!ht&&!Be,Et=!ct&&qn("safari"),gt=qn("phantom"),xt="OTransition"in Qe,at=navigator.platform.indexOf("Win")===0,$t=Be&&"transition"in Qe,Qt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ft,Vt="MozPerspective"in Qe,bt=!window.L_DISABLE_3D&&($t||Qt||Vt)&&!xt&&!gt,wt=typeof orientation<"u"||qn("mobile"),At=wt&&lt,Kt=wt&&Qt,Yt=!window.PointerEvent&&window.MSPointerEvent,xr=!!(window.PointerEvent||Yt),Cr="ontouchstart"in window||!!window.TouchEvent,Mr=!window.L_NO_TOUCH&&(Cr||xr),$r=wt&&ht,qr=wt&&vt,gn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,or=function(){var Ie=!1;try{var Ke=Object.defineProperty({},"passive",{get:function(){Ie=!0}});window.addEventListener("testPassiveEventSupport",U,Ke),window.removeEventListener("testPassiveEventSupport",U,Ke)}catch{}return Ie}(),Zr=function(){return!!document.createElement("canvas").getContext}(),bn=!!(document.createElementNS&&He("svg").createSVGRect),mn=!!bn&&function(){var Ie=document.createElement("div");return Ie.innerHTML="<svg/>",(Ie.firstChild&&Ie.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),jn=!bn&&function(){try{var Ie=document.createElement("div");Ie.innerHTML='<v:shape adj="1"/>';var Ke=Ie.firstChild;return Ke.style.behavior="url(#default#VML)",Ke&&typeof Ke.adj=="object"}catch{return!1}}(),ln=navigator.platform.indexOf("Mac")===0,Cn=navigator.platform.indexOf("Linux")===0;function qn(Ie){return navigator.userAgent.toLowerCase().indexOf(Ie)>=0}var Ln={ie:Be,ielt9:$e,edge:Xe,webkit:lt,android:dt,android23:ft,androidStock:Mt,opera:ht,chrome:ct,gecko:vt,safari:Et,phantom:gt,opera12:xt,win:at,ie3d:$t,webkit3d:Qt,gecko3d:Vt,any3d:bt,mobile:wt,mobileWebkit:At,mobileWebkit3d:Kt,msPointer:Yt,pointer:xr,touch:Mr,touchNative:Cr,mobileOpera:$r,mobileGecko:qr,retina:gn,passiveEvents:or,canvas:Zr,svg:bn,vml:jn,inlineSvg:mn,mac:ln,linux:Cn},gi=Ln.msPointer?"MSPointerDown":"pointerdown",Ai=Ln.msPointer?"MSPointerMove":"pointermove",Ci=Ln.msPointer?"MSPointerUp":"pointerup",_i=Ln.msPointer?"MSPointerCancel":"pointercancel",ei={touchstart:gi,touchmove:Ai,touchend:Ci,touchcancel:_i},Ri={touchstart:Wr,touchmove:Xr,touchend:Xr,touchcancel:Xr},Ti={},Pt=!1;function Er(Ie,Ke,kt){return Ke==="touchstart"&&cr(),Ri[Ke]?(kt=Ri[Ke].bind(this,kt),Ie.addEventListener(ei[Ke],kt,!1),kt):(console.warn("wrong event specified:",Ke),U)}function zt(Ie,Ke,kt){if(!ei[Ke]){console.warn("wrong event specified:",Ke);return}Ie.removeEventListener(ei[Ke],kt,!1)}function ut(Ie){Ti[Ie.pointerId]=Ie}function Tt(Ie){Ti[Ie.pointerId]&&(Ti[Ie.pointerId]=Ie)}function _t(Ie){delete Ti[Ie.pointerId]}function cr(){Pt||(document.addEventListener(gi,ut,!0),document.addEventListener(Ai,Tt,!0),document.addEventListener(Ci,_t,!0),document.addEventListener(_i,_t,!0),Pt=!0)}function Xr(Ie,Ke){if(Ke.pointerType!==(Ke.MSPOINTER_TYPE_MOUSE||"mouse")){Ke.touches=[];for(var kt in Ti)Ke.touches.push(Ti[kt]);Ke.changedTouches=[Ke],Ie(Ke)}}function Wr(Ie,Ke){Ke.MSPOINTER_TYPE_TOUCH&&Ke.pointerType===Ke.MSPOINTER_TYPE_TOUCH&&Dn(Ke),Xr(Ie,Ke)}function an(Ie){var Ke={},kt,rr;for(rr in Ie)kt=Ie[rr],Ke[rr]=kt&&kt.bind?kt.bind(Ie):kt;return Ie=Ke,Ke.type="dblclick",Ke.detail=2,Ke.isTrusted=!1,Ke._simulated=!0,Ke}var On=200;function Fr(Ie,Ke){Ie.addEventListener("dblclick",Ke);var kt=0,rr;function Ir(hn){if(hn.detail!==1){rr=hn.detail;return}if(!(hn.pointerType==="mouse"||hn.sourceCapabilities&&!hn.sourceCapabilities.firesTouchEvents)){var Yn=ai(hn);if(!(Yn.some(function(Pi){return Pi instanceof HTMLLabelElement&&Pi.attributes.for})&&!Yn.some(function(Pi){return Pi instanceof HTMLInputElement||Pi instanceof HTMLSelectElement}))){var bi=Date.now();bi-kt<=On?(rr++,rr===2&&Ke(an(hn))):rr=1,kt=bi}}}return Ie.addEventListener("click",Ir),{dblclick:Ke,simDblclick:Ir}}function _r(Ie,Ke){Ie.removeEventListener("dblclick",Ke.dblclick),Ie.removeEventListener("click",Ke.simDblclick)}var Ge=Sr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mt=Sr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ft=mt==="webkitTransition"||mt==="OTransition"?mt+"End":"transitionend";function Dr(Ie){return typeof Ie=="string"?document.getElementById(Ie):Ie}function nn(Ie,Ke){var kt=Ie.style[Ke]||Ie.currentStyle&&Ie.currentStyle[Ke];if((!kt||kt==="auto")&&document.defaultView){var rr=document.defaultView.getComputedStyle(Ie,null);kt=rr?rr[Ke]:null}return kt==="auto"?null:kt}function _n(Ie,Ke,kt){var rr=document.createElement(Ie);return rr.className=Ke||"",kt&&kt.appendChild(rr),rr}function Nn(Ie){var Ke=Ie.parentNode;Ke&&Ke.removeChild(Ie)}function tr(Ie){for(;Ie.firstChild;)Ie.removeChild(Ie.firstChild)}function nr(Ie){var Ke=Ie.parentNode;Ke&&Ke.lastChild!==Ie&&Ke.appendChild(Ie)}function en(Ie){var Ke=Ie.parentNode;Ke&&Ke.firstChild!==Ie&&Ke.insertBefore(Ie,Ke.firstChild)}function cn(Ie,Ke){if(Ie.classList!==void 0)return Ie.classList.contains(Ke);var kt=Ot(Ie);return kt.length>0&&new RegExp("(^|\\s)"+Ke+"(\\s|$)").test(kt)}function Je(Ie,Ke){if(Ie.classList!==void 0)for(var kt=F(Ke),rr=0,Ir=kt.length;rr<Ir;rr++)Ie.classList.add(kt[rr]);else if(!cn(Ie,Ke)){var hn=Ot(Ie);yt(Ie,(hn?hn+" ":"")+Ke)}}function Rt(Ie,Ke){Ie.classList!==void 0?Ie.classList.remove(Ke):yt(Ie,V((" "+Ot(Ie)+" ").replace(" "+Ke+" "," ")))}function yt(Ie,Ke){Ie.className.baseVal===void 0?Ie.className=Ke:Ie.className.baseVal=Ke}function Ot(Ie){return Ie.correspondingElement&&(Ie=Ie.correspondingElement),Ie.className.baseVal===void 0?Ie.className:Ie.className.baseVal}function Wt(Ie,Ke){"opacity"in Ie.style?Ie.style.opacity=Ke:"filter"in Ie.style&&br(Ie,Ke)}function br(Ie,Ke){var kt=!1,rr="DXImageTransform.Microsoft.Alpha";try{kt=Ie.filters.item(rr)}catch{if(Ke===1)return}Ke=Math.round(Ke*100),kt?(kt.Enabled=Ke!==100,kt.Opacity=Ke):Ie.style.filter+=" progid:"+rr+"(opacity="+Ke+")"}function Sr(Ie){for(var Ke=document.documentElement.style,kt=0;kt<Ie.length;kt++)if(Ie[kt]in Ke)return Ie[kt];return!1}function jr(Ie,Ke,kt){var rr=Ke||new Ae(0,0);Ie.style[Ge]=(Ln.ie3d?"translate("+rr.x+"px,"+rr.y+"px)":"translate3d("+rr.x+"px,"+rr.y+"px,0)")+(kt?" scale("+kt+")":"")}function Br(Ie,Ke){Ie._leaflet_pos=Ke,Ln.any3d?jr(Ie,Ke):(Ie.style.left=Ke.x+"px",Ie.style.top=Ke.y+"px")}function yr(Ie){return Ie._leaflet_pos||new Ae(0,0)}var Nr,Hr,Gr;if("onselectstart"in document)Nr=function(){oi(window,"selectstart",Dn)},Hr=function(){ot(window,"selectstart",Dn)};else{var Yr=Sr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nr=function(){if(Yr){var Ie=document.documentElement.style;Gr=Ie[Yr],Ie[Yr]="none"}},Hr=function(){Yr&&(document.documentElement.style[Yr]=Gr,Gr=void 0)}}function Sn(){oi(window,"dragstart",Dn)}function Pn(){ot(window,"dragstart",Dn)}var vn,Mn;function Wn(Ie){for(;Ie.tabIndex===-1;)Ie=Ie.parentNode;Ie.style&&(pi(),vn=Ie,Mn=Ie.style.outlineStyle,Ie.style.outlineStyle="none",oi(window,"keydown",pi))}function pi(){vn&&(vn.style.outlineStyle=Mn,vn=void 0,Mn=void 0,ot(window,"keydown",pi))}function yi(Ie){do Ie=Ie.parentNode;while((!Ie.offsetWidth||!Ie.offsetHeight)&&Ie!==document.body);return Ie}function Si(Ie){var Ke=Ie.getBoundingClientRect();return{x:Ke.width/Ie.offsetWidth||1,y:Ke.height/Ie.offsetHeight||1,boundingClientRect:Ke}}var wi={__proto__:null,TRANSFORM:Ge,TRANSITION:mt,TRANSITION_END:Ft,get:Dr,getStyle:nn,create:_n,remove:Nn,empty:tr,toFront:nr,toBack:en,hasClass:cn,addClass:Je,removeClass:Rt,setClass:yt,getClass:Ot,setOpacity:Wt,testProp:Sr,setTransform:jr,setPosition:Br,getPosition:yr,get disableTextSelection(){return Nr},get enableTextSelection(){return Hr},disableImageDrag:Sn,enableImageDrag:Pn,preventOutline:Wn,restoreOutline:pi,getSizedParentNode:yi,getScale:Si};function oi(Ie,Ke,kt,rr){if(Ke&&typeof Ke=="object")for(var Ir in Ke)wr(Ie,Ir,Ke[Ir],kt);else{Ke=F(Ke);for(var hn=0,Yn=Ke.length;hn<Yn;hn++)wr(Ie,Ke[hn],kt,rr)}return this}var li="_leaflet_events";function ot(Ie,Ke,kt,rr){if(arguments.length===1)Lt(Ie),delete Ie[li];else if(Ke&&typeof Ke=="object")for(var Ir in Ke)pr(Ie,Ir,Ke[Ir],kt);else if(Ke=F(Ke),arguments.length===2)Lt(Ie,function(bi){return Z(Ke,bi)!==-1});else for(var hn=0,Yn=Ke.length;hn<Yn;hn++)pr(Ie,Ke[hn],kt,rr);return this}function Lt(Ie,Ke){for(var kt in Ie[li]){var rr=kt.split(/\d/)[0];(!Ke||Ke(rr))&&pr(Ie,rr,null,null,kt)}}var sr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function wr(Ie,Ke,kt,rr){var Ir=Ke+I(kt)+(rr?"_"+I(rr):"");if(Ie[li]&&Ie[li][Ir])return this;var hn=function(bi){return kt.call(rr||Ie,bi||window.event)},Yn=hn;!Ln.touchNative&&Ln.pointer&&Ke.indexOf("touch")===0?hn=Er(Ie,Ke,hn):Ln.touch&&Ke==="dblclick"?hn=Fr(Ie,hn):"addEventListener"in Ie?Ke==="touchstart"||Ke==="touchmove"||Ke==="wheel"||Ke==="mousewheel"?Ie.addEventListener(sr[Ke]||Ke,hn,Ln.passiveEvents?{passive:!1}:!1):Ke==="mouseenter"||Ke==="mouseleave"?(hn=function(bi){bi=bi||window.event,Ht(Ie,bi)&&Yn(bi)},Ie.addEventListener(sr[Ke],hn,!1)):Ie.addEventListener(Ke,Yn,!1):Ie.attachEvent("on"+Ke,hn),Ie[li]=Ie[li]||{},Ie[li][Ir]=hn}function pr(Ie,Ke,kt,rr,Ir){Ir=Ir||Ke+I(kt)+(rr?"_"+I(rr):"");var hn=Ie[li]&&Ie[li][Ir];if(!hn)return this;!Ln.touchNative&&Ln.pointer&&Ke.indexOf("touch")===0?zt(Ie,Ke,hn):Ln.touch&&Ke==="dblclick"?_r(Ie,hn):"removeEventListener"in Ie?Ie.removeEventListener(sr[Ke]||Ke,hn,!1):Ie.detachEvent("on"+Ke,hn),Ie[li][Ir]=null}function Ur(Ie){return Ie.stopPropagation?Ie.stopPropagation():Ie.originalEvent?Ie.originalEvent._stopped=!0:Ie.cancelBubble=!0,this}function sn(Ie){return wr(Ie,"wheel",Ur),this}function un(Ie){return oi(Ie,"mousedown touchstart dblclick contextmenu",Ur),Ie._leaflet_disable_click=!0,this}function Dn(Ie){return Ie.preventDefault?Ie.preventDefault():Ie.returnValue=!1,this}function Fn(Ie){return Dn(Ie),Ur(Ie),this}function ai(Ie){if(Ie.composedPath)return Ie.composedPath();for(var Ke=[],kt=Ie.target;kt;)Ke.push(kt),kt=kt.parentNode;return Ke}function ui(Ie,Ke){if(!Ke)return new Ae(Ie.clientX,Ie.clientY);var kt=Si(Ke),rr=kt.boundingClientRect;return new Ae((Ie.clientX-rr.left)/kt.x-Ke.clientLeft,(Ie.clientY-rr.top)/kt.y-Ke.clientTop)}var Gt=Ln.linux&&Ln.chrome?window.devicePixelRatio:Ln.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Bt(Ie){return Ln.edge?Ie.wheelDeltaY/2:Ie.deltaY&&Ie.deltaMode===0?-Ie.deltaY/Gt:Ie.deltaY&&Ie.deltaMode===1?-Ie.deltaY*20:Ie.deltaY&&Ie.deltaMode===2?-Ie.deltaY*60:Ie.deltaX||Ie.deltaZ?0:Ie.wheelDelta?(Ie.wheelDeltaY||Ie.wheelDelta)/2:Ie.detail&&Math.abs(Ie.detail)<32765?-Ie.detail*20:Ie.detail?Ie.detail/-32765*60:0}function Ht(Ie,Ke){var kt=Ke.relatedTarget;if(!kt)return!0;try{for(;kt&&kt!==Ie;)kt=kt.parentNode}catch{return!1}return kt!==Ie}var qt={__proto__:null,on:oi,off:ot,stopPropagation:Ur,disableScrollPropagation:sn,disableClickPropagation:un,preventDefault:Dn,stop:Fn,getPropagationPath:ai,getMousePosition:ui,getWheelDelta:Bt,isExternalTarget:Ht,addListener:oi,removeListener:ot},Jt=Oe.extend({run:function(Ie,Ke,kt,rr){this.stop(),this._el=Ie,this._inProgress=!0,this._duration=kt||.25,this._easeOutPower=1/Math.max(rr||.5,.2),this._startPos=yr(Ie),this._offset=Ke.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=de(this._animate,this),this._step()},_step:function(Ie){var Ke=+new Date-this._startTime,kt=this._duration*1e3;Ke<kt?this._runFrame(this._easeOut(Ke/kt),Ie):(this._runFrame(1),this._complete())},_runFrame:function(Ie,Ke){var kt=this._startPos.add(this._offset.multiplyBy(Ie));Ke&&kt._round(),Br(this._el,kt),this.fire("step")},_complete:function(){ie(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(Ie){return 1-Math.pow(1-Ie,this._easeOutPower)}}),Tr=Oe.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(Ie,Ke){Ke=q(this,Ke),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(Ie),this._initLayout(),this._onResize=P(this._onResize,this),this._initEvents(),Ke.maxBounds&&this.setMaxBounds(Ke.maxBounds),Ke.zoom!==void 0&&(this._zoom=this._limitZoom(Ke.zoom)),Ke.center&&Ke.zoom!==void 0&&this.setView(je(Ke.center),Ke.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mt&&Ln.any3d&&!Ln.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),oi(this._proxy,Ft,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(Ie,Ke,kt){if(Ke=Ke===void 0?this._zoom:this._limitZoom(Ke),Ie=this._limitCenter(je(Ie),Ke,this.options.maxBounds),kt=kt||{},this._stop(),this._loaded&&!kt.reset&&kt!==!0){kt.animate!==void 0&&(kt.zoom=T({animate:kt.animate},kt.zoom),kt.pan=T({animate:kt.animate,duration:kt.duration},kt.pan));var rr=this._zoom!==Ke?this._tryAnimatedZoom&&this._tryAnimatedZoom(Ie,Ke,kt.zoom):this._tryAnimatedPan(Ie,kt.pan);if(rr)return clearTimeout(this._sizeTimer),this}return this._resetView(Ie,Ke,kt.pan&&kt.pan.noMoveStart),this},setZoom:function(Ie,Ke){return this._loaded?this.setView(this.getCenter(),Ie,{zoom:Ke}):(this._zoom=Ie,this)},zoomIn:function(Ie,Ke){return Ie=Ie||(Ln.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+Ie,Ke)},zoomOut:function(Ie,Ke){return Ie=Ie||(Ln.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-Ie,Ke)},setZoomAround:function(Ie,Ke,kt){var rr=this.getZoomScale(Ke),Ir=this.getSize().divideBy(2),hn=Ie instanceof Ae?Ie:this.latLngToContainerPoint(Ie),Yn=hn.subtract(Ir).multiplyBy(1-1/rr),bi=this.containerPointToLatLng(Ir.add(Yn));return this.setView(bi,Ke,{zoom:kt})},_getBoundsCenterZoom:function(Ie,Ke){Ke=Ke||{},Ie=Ie.getBounds?Ie.getBounds():ze(Ie);var kt=Ee(Ke.paddingTopLeft||Ke.padding||[0,0]),rr=Ee(Ke.paddingBottomRight||Ke.padding||[0,0]),Ir=this.getBoundsZoom(Ie,!1,kt.add(rr));if(Ir=typeof Ke.maxZoom=="number"?Math.min(Ke.maxZoom,Ir):Ir,Ir===1/0)return{center:Ie.getCenter(),zoom:Ir};var hn=rr.subtract(kt).divideBy(2),Yn=this.project(Ie.getSouthWest(),Ir),bi=this.project(Ie.getNorthEast(),Ir),Pi=this.unproject(Yn.add(bi).divideBy(2).add(hn),Ir);return{center:Pi,zoom:Ir}},fitBounds:function(Ie,Ke){if(Ie=ze(Ie),!Ie.isValid())throw new Error("Bounds are not valid.");var kt=this._getBoundsCenterZoom(Ie,Ke);return this.setView(kt.center,kt.zoom,Ke)},fitWorld:function(Ie){return this.fitBounds([[-90,-180],[90,180]],Ie)},panTo:function(Ie,Ke){return this.setView(Ie,this._zoom,{pan:Ke})},panBy:function(Ie,Ke){if(Ie=Ee(Ie).round(),Ke=Ke||{},!Ie.x&&!Ie.y)return this.fire("moveend");if(Ke.animate!==!0&&!this.getSize().contains(Ie))return this._resetView(this.unproject(this.project(this.getCenter()).add(Ie)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Jt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),Ke.noMoveStart||this.fire("movestart"),Ke.animate!==!1){Je(this._mapPane,"leaflet-pan-anim");var kt=this._getMapPanePos().subtract(Ie).round();this._panAnim.run(this._mapPane,kt,Ke.duration||.25,Ke.easeLinearity)}else this._rawPanBy(Ie),this.fire("move").fire("moveend");return this},flyTo:function(Ie,Ke,kt){if(kt=kt||{},kt.animate===!1||!Ln.any3d)return this.setView(Ie,Ke,kt);this._stop();var rr=this.project(this.getCenter()),Ir=this.project(Ie),hn=this.getSize(),Yn=this._zoom;Ie=je(Ie),Ke=Ke===void 0?Yn:Ke;var bi=Math.max(hn.x,hn.y),Pi=bi*this.getZoomScale(Yn,Ke),Ki=Ir.distanceTo(rr)||1,ro=1.42,fo=ro*ro;function _o($o){var Ba=$o?-1:1,cs=$o?Pi:bi,ds=Pi*Pi-bi*bi+Ba*fo*fo*Ki*Ki,Ha=2*cs*fo*Ki,Qa=ds/Ha,Ja=Math.sqrt(Qa*Qa+1)-Qa,wa=Ja<1e-9?-18:Math.log(Ja);return wa}function ia($o){return(Math.exp($o)-Math.exp(-$o))/2}function qo($o){return(Math.exp($o)+Math.exp(-$o))/2}function Ko($o){return ia($o)/qo($o)}var ea=_o(0);function Fa($o){return bi*(qo(ea)/qo(ea+ro*$o))}function As($o){return bi*(qo(ea)*Ko(ea+ro*$o)-ia(ea))/fo}function ua($o){return 1-Math.pow(1-$o,1.5)}var Oo=Date.now(),ca=(_o(1)-ea)/ro,Aa=kt.duration?1e3*kt.duration:1e3*ca*.8;function _a(){var $o=(Date.now()-Oo)/Aa,Ba=ua($o)*ca;$o<=1?(this._flyToFrame=de(_a,this),this._move(this.unproject(rr.add(Ir.subtract(rr).multiplyBy(As(Ba)/Ki)),Yn),this.getScaleZoom(bi/Fa(Ba),Yn),{flyTo:!0})):this._move(Ie,Ke)._moveEnd(!0)}return this._moveStart(!0,kt.noMoveStart),_a.call(this),this},flyToBounds:function(Ie,Ke){var kt=this._getBoundsCenterZoom(Ie,Ke);return this.flyTo(kt.center,kt.zoom,Ke)},setMaxBounds:function(Ie){return Ie=ze(Ie),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),Ie.isValid()?(this.options.maxBounds=Ie,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(Ie){var Ke=this.options.minZoom;return this.options.minZoom=Ie,this._loaded&&Ke!==Ie&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(Ie):this},setMaxZoom:function(Ie){var Ke=this.options.maxZoom;return this.options.maxZoom=Ie,this._loaded&&Ke!==Ie&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(Ie):this},panInsideBounds:function(Ie,Ke){this._enforcingBounds=!0;var kt=this.getCenter(),rr=this._limitCenter(kt,this._zoom,ze(Ie));return kt.equals(rr)||this.panTo(rr,Ke),this._enforcingBounds=!1,this},panInside:function(Ie,Ke){Ke=Ke||{};var kt=Ee(Ke.paddingTopLeft||Ke.padding||[0,0]),rr=Ee(Ke.paddingBottomRight||Ke.padding||[0,0]),Ir=this.project(this.getCenter()),hn=this.project(Ie),Yn=this.getPixelBounds(),bi=Re([Yn.min.add(kt),Yn.max.subtract(rr)]),Pi=bi.getSize();if(!bi.contains(hn)){this._enforcingBounds=!0;var Ki=hn.subtract(bi.getCenter()),ro=bi.extend(hn).getSize().subtract(Pi);Ir.x+=Ki.x<0?-ro.x:ro.x,Ir.y+=Ki.y<0?-ro.y:ro.y,this.panTo(this.unproject(Ir),Ke),this._enforcingBounds=!1}return this},invalidateSize:function(Ie){if(!this._loaded)return this;Ie=T({animate:!1,pan:!0},Ie===!0?{animate:!0}:Ie);var Ke=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var kt=this.getSize(),rr=Ke.divideBy(2).round(),Ir=kt.divideBy(2).round(),hn=rr.subtract(Ir);return!hn.x&&!hn.y?this:(Ie.animate&&Ie.pan?this.panBy(hn):(Ie.pan&&this._rawPanBy(hn),this.fire("move"),Ie.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(P(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:Ke,newSize:kt}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(Ie){if(Ie=this._locateOptions=T({timeout:1e4,watch:!1},Ie),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var Ke=P(this._handleGeolocationResponse,this),kt=P(this._handleGeolocationError,this);return Ie.watch?this._locationWatchId=navigator.geolocation.watchPosition(Ke,kt,Ie):navigator.geolocation.getCurrentPosition(Ke,kt,Ie),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(Ie){if(this._container._leaflet_id){var Ke=Ie.code,kt=Ie.message||(Ke===1?"permission denied":Ke===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:Ke,message:"Geolocation error: "+kt+"."})}},_handleGeolocationResponse:function(Ie){if(this._container._leaflet_id){var Ke=Ie.coords.latitude,kt=Ie.coords.longitude,rr=new Le(Ke,kt),Ir=rr.toBounds(Ie.coords.accuracy*2),hn=this._locateOptions;if(hn.setView){var Yn=this.getBoundsZoom(Ir);this.setView(rr,hn.maxZoom?Math.min(Yn,hn.maxZoom):Yn)}var bi={latlng:rr,bounds:Ir,timestamp:Ie.timestamp};for(var Pi in Ie.coords)typeof Ie.coords[Pi]=="number"&&(bi[Pi]=Ie.coords[Pi]);this.fire("locationfound",bi)}},addHandler:function(Ie,Ke){if(!Ke)return this;var kt=this[Ie]=new Ke(this);return this._handlers.push(kt),this.options[Ie]&&kt.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Nn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ie(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var Ie;for(Ie in this._layers)this._layers[Ie].remove();for(Ie in this._panes)Nn(this._panes[Ie]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(Ie,Ke){var kt="leaflet-pane"+(Ie?" leaflet-"+Ie.replace("Pane","")+"-pane":""),rr=_n("div",kt,Ke||this._mapPane);return Ie&&(this._panes[Ie]=rr),rr},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var Ie=this.getPixelBounds(),Ke=this.unproject(Ie.getBottomLeft()),kt=this.unproject(Ie.getTopRight());return new Me(Ke,kt)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(Ie,Ke,kt){Ie=ze(Ie),kt=Ee(kt||[0,0]);var rr=this.getZoom()||0,Ir=this.getMinZoom(),hn=this.getMaxZoom(),Yn=Ie.getNorthWest(),bi=Ie.getSouthEast(),Pi=this.getSize().subtract(kt),Ki=Re(this.project(bi,rr),this.project(Yn,rr)).getSize(),ro=Ln.any3d?this.options.zoomSnap:1,fo=Pi.x/Ki.x,_o=Pi.y/Ki.y,ia=Ke?Math.max(fo,_o):Math.min(fo,_o);return rr=this.getScaleZoom(ia,rr),ro&&(rr=Math.round(rr/(ro/100))*(ro/100),rr=Ke?Math.ceil(rr/ro)*ro:Math.floor(rr/ro)*ro),Math.max(Ir,Math.min(hn,rr))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(Ie,Ke){var kt=this._getTopLeftPoint(Ie,Ke);return new Te(kt,kt.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(Ie){return this.options.crs.getProjectedBounds(Ie===void 0?this.getZoom():Ie)},getPane:function(Ie){return typeof Ie=="string"?this._panes[Ie]:Ie},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(Ie,Ke){var kt=this.options.crs;return Ke=Ke===void 0?this._zoom:Ke,kt.scale(Ie)/kt.scale(Ke)},getScaleZoom:function(Ie,Ke){var kt=this.options.crs;Ke=Ke===void 0?this._zoom:Ke;var rr=kt.zoom(Ie*kt.scale(Ke));return isNaN(rr)?1/0:rr},project:function(Ie,Ke){return Ke=Ke===void 0?this._zoom:Ke,this.options.crs.latLngToPoint(je(Ie),Ke)},unproject:function(Ie,Ke){return Ke=Ke===void 0?this._zoom:Ke,this.options.crs.pointToLatLng(Ee(Ie),Ke)},layerPointToLatLng:function(Ie){var Ke=Ee(Ie).add(this.getPixelOrigin());return this.unproject(Ke)},latLngToLayerPoint:function(Ie){var Ke=this.project(je(Ie))._round();return Ke._subtract(this.getPixelOrigin())},wrapLatLng:function(Ie){return this.options.crs.wrapLatLng(je(Ie))},wrapLatLngBounds:function(Ie){return this.options.crs.wrapLatLngBounds(ze(Ie))},distance:function(Ie,Ke){return this.options.crs.distance(je(Ie),je(Ke))},containerPointToLayerPoint:function(Ie){return Ee(Ie).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(Ie){return Ee(Ie).add(this._getMapPanePos())},containerPointToLatLng:function(Ie){var Ke=this.containerPointToLayerPoint(Ee(Ie));return this.layerPointToLatLng(Ke)},latLngToContainerPoint:function(Ie){return this.layerPointToContainerPoint(this.latLngToLayerPoint(je(Ie)))},mouseEventToContainerPoint:function(Ie){return ui(Ie,this._container)},mouseEventToLayerPoint:function(Ie){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(Ie))},mouseEventToLatLng:function(Ie){return this.layerPointToLatLng(this.mouseEventToLayerPoint(Ie))},_initContainer:function(Ie){var Ke=this._container=Dr(Ie);if(Ke){if(Ke._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");oi(Ke,"scroll",this._onScroll,this),this._containerId=I(Ke)},_initLayout:function(){var Ie=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ln.any3d,Je(Ie,"leaflet-container"+(Ln.touch?" leaflet-touch":"")+(Ln.retina?" leaflet-retina":"")+(Ln.ielt9?" leaflet-oldie":"")+(Ln.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var Ke=nn(Ie,"position");Ke!=="absolute"&&Ke!=="relative"&&Ke!=="fixed"&&Ke!=="sticky"&&(Ie.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var Ie=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Br(this._mapPane,new Ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Je(Ie.markerPane,"leaflet-zoom-hide"),Je(Ie.shadowPane,"leaflet-zoom-hide"))},_resetView:function(Ie,Ke,kt){Br(this._mapPane,new Ae(0,0));var rr=!this._loaded;this._loaded=!0,Ke=this._limitZoom(Ke),this.fire("viewprereset");var Ir=this._zoom!==Ke;this._moveStart(Ir,kt)._move(Ie,Ke)._moveEnd(Ir),this.fire("viewreset"),rr&&this.fire("load")},_moveStart:function(Ie,Ke){return Ie&&this.fire("zoomstart"),Ke||this.fire("movestart"),this},_move:function(Ie,Ke,kt,rr){Ke===void 0&&(Ke=this._zoom);var Ir=this._zoom!==Ke;return this._zoom=Ke,this._lastCenter=Ie,this._pixelOrigin=this._getNewPixelOrigin(Ie),rr?kt&&kt.pinch&&this.fire("zoom",kt):((Ir||kt&&kt.pinch)&&this.fire("zoom",kt),this.fire("move",kt)),this},_moveEnd:function(Ie){return Ie&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ie(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(Ie){Br(this._mapPane,this._getMapPanePos().subtract(Ie))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(Ie){this._targets={},this._targets[I(this._container)]=this;var Ke=Ie?ot:oi;Ke(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&Ke(window,"resize",this._onResize,this),Ln.any3d&&this.options.transform3DLimit&&(Ie?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ie(this._resizeRequest),this._resizeRequest=de(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var Ie=this._getMapPanePos();Math.max(Math.abs(Ie.x),Math.abs(Ie.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(Ie,Ke){for(var kt=[],rr,Ir=Ke==="mouseout"||Ke==="mouseover",hn=Ie.target||Ie.srcElement,Yn=!1;hn;){if(rr=this._targets[I(hn)],rr&&(Ke==="click"||Ke==="preclick")&&this._draggableMoved(rr)){Yn=!0;break}if(rr&&rr.listens(Ke,!0)&&(Ir&&!Ht(hn,Ie)||(kt.push(rr),Ir))||hn===this._container)break;hn=hn.parentNode}return!kt.length&&!Yn&&!Ir&&this.listens(Ke,!0)&&(kt=[this]),kt},_isClickDisabled:function(Ie){for(;Ie&&Ie!==this._container;){if(Ie._leaflet_disable_click)return!0;Ie=Ie.parentNode}},_handleDOMEvent:function(Ie){var Ke=Ie.target||Ie.srcElement;if(!(!this._loaded||Ke._leaflet_disable_events||Ie.type==="click"&&this._isClickDisabled(Ke))){var kt=Ie.type;kt==="mousedown"&&Wn(Ke),this._fireDOMEvent(Ie,kt)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(Ie,Ke,kt){if(Ie.type==="click"){var rr=T({},Ie);rr.type="preclick",this._fireDOMEvent(rr,rr.type,kt)}var Ir=this._findEventTargets(Ie,Ke);if(kt){for(var hn=[],Yn=0;Yn<kt.length;Yn++)kt[Yn].listens(Ke,!0)&&hn.push(kt[Yn]);Ir=hn.concat(Ir)}if(Ir.length){Ke==="contextmenu"&&Dn(Ie);var bi=Ir[0],Pi={originalEvent:Ie};if(Ie.type!=="keypress"&&Ie.type!=="keydown"&&Ie.type!=="keyup"){var Ki=bi.getLatLng&&(!bi._radius||bi._radius<=10);Pi.containerPoint=Ki?this.latLngToContainerPoint(bi.getLatLng()):this.mouseEventToContainerPoint(Ie),Pi.layerPoint=this.containerPointToLayerPoint(Pi.containerPoint),Pi.latlng=Ki?bi.getLatLng():this.layerPointToLatLng(Pi.layerPoint)}for(Yn=0;Yn<Ir.length;Yn++)if(Ir[Yn].fire(Ke,Pi,!0),Pi.originalEvent._stopped||Ir[Yn].options.bubblingMouseEvents===!1&&Z(this._mouseEvents,Ke)!==-1)return}},_draggableMoved:function(Ie){return Ie=Ie.dragging&&Ie.dragging.enabled()?Ie:this,Ie.dragging&&Ie.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var Ie=0,Ke=this._handlers.length;Ie<Ke;Ie++)this._handlers[Ie].disable()},whenReady:function(Ie,Ke){return this._loaded?Ie.call(Ke||this,{target:this}):this.on("load",Ie,Ke),this},_getMapPanePos:function(){return yr(this._mapPane)||new Ae(0,0)},_moved:function(){var Ie=this._getMapPanePos();return Ie&&!Ie.equals([0,0])},_getTopLeftPoint:function(Ie,Ke){var kt=Ie&&Ke!==void 0?this._getNewPixelOrigin(Ie,Ke):this.getPixelOrigin();return kt.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(Ie,Ke){var kt=this.getSize()._divideBy(2);return this.project(Ie,Ke)._subtract(kt)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(Ie,Ke,kt){var rr=this._getNewPixelOrigin(kt,Ke);return this.project(Ie,Ke)._subtract(rr)},_latLngBoundsToNewLayerBounds:function(Ie,Ke,kt){var rr=this._getNewPixelOrigin(kt,Ke);return Re([this.project(Ie.getSouthWest(),Ke)._subtract(rr),this.project(Ie.getNorthWest(),Ke)._subtract(rr),this.project(Ie.getSouthEast(),Ke)._subtract(rr),this.project(Ie.getNorthEast(),Ke)._subtract(rr)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(Ie){return this.latLngToLayerPoint(Ie).subtract(this._getCenterLayerPoint())},_limitCenter:function(Ie,Ke,kt){if(!kt)return Ie;var rr=this.project(Ie,Ke),Ir=this.getSize().divideBy(2),hn=new Te(rr.subtract(Ir),rr.add(Ir)),Yn=this._getBoundsOffset(hn,kt,Ke);return Math.abs(Yn.x)<=1&&Math.abs(Yn.y)<=1?Ie:this.unproject(rr.add(Yn),Ke)},_limitOffset:function(Ie,Ke){if(!Ke)return Ie;var kt=this.getPixelBounds(),rr=new Te(kt.min.add(Ie),kt.max.add(Ie));return Ie.add(this._getBoundsOffset(rr,Ke))},_getBoundsOffset:function(Ie,Ke,kt){var rr=Re(this.project(Ke.getNorthEast(),kt),this.project(Ke.getSouthWest(),kt)),Ir=rr.min.subtract(Ie.min),hn=rr.max.subtract(Ie.max),Yn=this._rebound(Ir.x,-hn.x),bi=this._rebound(Ir.y,-hn.y);return new Ae(Yn,bi)},_rebound:function(Ie,Ke){return Ie+Ke>0?Math.round(Ie-Ke)/2:Math.max(0,Math.ceil(Ie))-Math.max(0,Math.floor(Ke))},_limitZoom:function(Ie){var Ke=this.getMinZoom(),kt=this.getMaxZoom(),rr=Ln.any3d?this.options.zoomSnap:1;return rr&&(Ie=Math.round(Ie/rr)*rr),Math.max(Ke,Math.min(kt,Ie))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Rt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(Ie,Ke){var kt=this._getCenterOffset(Ie)._trunc();return(Ke&&Ke.animate)!==!0&&!this.getSize().contains(kt)?!1:(this.panBy(kt,Ke),!0)},_createAnimProxy:function(){var Ie=this._proxy=_n("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(Ie),this.on("zoomanim",function(Ke){var kt=Ge,rr=this._proxy.style[kt];jr(this._proxy,this.project(Ke.center,Ke.zoom),this.getZoomScale(Ke.zoom,1)),rr===this._proxy.style[kt]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Nn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var Ie=this.getCenter(),Ke=this.getZoom();jr(this._proxy,this.project(Ie,Ke),this.getZoomScale(Ke,1))},_catchTransitionEnd:function(Ie){this._animatingZoom&&Ie.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(Ie,Ke,kt){if(this._animatingZoom)return!0;if(kt=kt||{},!this._zoomAnimated||kt.animate===!1||this._nothingToAnimate()||Math.abs(Ke-this._zoom)>this.options.zoomAnimationThreshold)return!1;var rr=this.getZoomScale(Ke),Ir=this._getCenterOffset(Ie)._divideBy(1-1/rr);return kt.animate!==!0&&!this.getSize().contains(Ir)?!1:(de(function(){this._moveStart(!0,kt.noMoveStart||!1)._animateZoom(Ie,Ke,!0)},this),!0)},_animateZoom:function(Ie,Ke,kt,rr){this._mapPane&&(kt&&(this._animatingZoom=!0,this._animateToCenter=Ie,this._animateToZoom=Ke,Je(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:Ie,zoom:Ke,noUpdate:rr}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(P(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Rt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Rr(Ie,Ke){return new Tr(Ie,Ke)}var Kr=xe.extend({options:{position:"topright"},initialize:function(Ie){q(this,Ie)},getPosition:function(){return this.options.position},setPosition:function(Ie){var Ke=this._map;return Ke&&Ke.removeControl(this),this.options.position=Ie,Ke&&Ke.addControl(this),this},getContainer:function(){return this._container},addTo:function(Ie){this.remove(),this._map=Ie;var Ke=this._container=this.onAdd(Ie),kt=this.getPosition(),rr=Ie._controlCorners[kt];return Je(Ke,"leaflet-control"),kt.indexOf("bottom")!==-1?rr.insertBefore(Ke,rr.firstChild):rr.appendChild(Ke),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Nn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(Ie){this._map&&Ie&&Ie.screenX>0&&Ie.screenY>0&&this._map.getContainer().focus()}}),on=function(Ie){return new Kr(Ie)};Tr.include({addControl:function(Ie){return Ie.addTo(this),this},removeControl:function(Ie){return Ie.remove(),this},_initControlPos:function(){var Ie=this._controlCorners={},Ke="leaflet-",kt=this._controlContainer=_n("div",Ke+"control-container",this._container);function rr(Ir,hn){var Yn=Ke+Ir+" "+Ke+hn;Ie[Ir+hn]=_n("div",Yn,kt)}rr("top","left"),rr("top","right"),rr("bottom","left"),rr("bottom","right")},_clearControlPos:function(){for(var Ie in this._controlCorners)Nn(this._controlCorners[Ie]);Nn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var yn=Kr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(Ie,Ke,kt,rr){return kt<rr?-1:rr<kt?1:0}},initialize:function(Ie,Ke,kt){q(this,kt),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var rr in Ie)this._addLayer(Ie[rr],rr);for(rr in Ke)this._addLayer(Ke[rr],rr,!0)},onAdd:function(Ie){this._initLayout(),this._update(),this._map=Ie,Ie.on("zoomend",this._checkDisabledLayers,this);for(var Ke=0;Ke<this._layers.length;Ke++)this._layers[Ke].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(Ie){return Kr.prototype.addTo.call(this,Ie),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var Ie=0;Ie<this._layers.length;Ie++)this._layers[Ie].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(Ie,Ke){return this._addLayer(Ie,Ke),this._map?this._update():this},addOverlay:function(Ie,Ke){return this._addLayer(Ie,Ke,!0),this._map?this._update():this},removeLayer:function(Ie){Ie.off("add remove",this._onLayerChange,this);var Ke=this._getLayer(I(Ie));return Ke&&this._layers.splice(this._layers.indexOf(Ke),1),this._map?this._update():this},expand:function(){Je(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var Ie=this._map.getSize().y-(this._container.offsetTop+50);return Ie<this._section.clientHeight?(Je(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=Ie+"px"):Rt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Rt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var Ie="leaflet-control-layers",Ke=this._container=_n("div",Ie),kt=this.options.collapsed;Ke.setAttribute("aria-haspopup",!0),un(Ke),sn(Ke);var rr=this._section=_n("section",Ie+"-list");kt&&(this._map.on("click",this.collapse,this),oi(Ke,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Ir=this._layersLink=_n("a",Ie+"-toggle",Ke);Ir.href="#",Ir.title="Layers",Ir.setAttribute("role","button"),oi(Ir,{keydown:function(hn){hn.keyCode===13&&this._expandSafely()},click:function(hn){Dn(hn),this._expandSafely()}},this),kt||this.expand(),this._baseLayersList=_n("div",Ie+"-base",rr),this._separator=_n("div",Ie+"-separator",rr),this._overlaysList=_n("div",Ie+"-overlays",rr),Ke.appendChild(rr)},_getLayer:function(Ie){for(var Ke=0;Ke<this._layers.length;Ke++)if(this._layers[Ke]&&I(this._layers[Ke].layer)===Ie)return this._layers[Ke]},_addLayer:function(Ie,Ke,kt){this._map&&Ie.on("add remove",this._onLayerChange,this),this._layers.push({layer:Ie,name:Ke,overlay:kt}),this.options.sortLayers&&this._layers.sort(P(function(rr,Ir){return this.options.sortFunction(rr.layer,Ir.layer,rr.name,Ir.name)},this)),this.options.autoZIndex&&Ie.setZIndex&&(this._lastZIndex++,Ie.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;tr(this._baseLayersList),tr(this._overlaysList),this._layerControlInputs=[];var Ie,Ke,kt,rr,Ir=0;for(kt=0;kt<this._layers.length;kt++)rr=this._layers[kt],this._addItem(rr),Ke=Ke||rr.overlay,Ie=Ie||!rr.overlay,Ir+=rr.overlay?0:1;return this.options.hideSingleBase&&(Ie=Ie&&Ir>1,this._baseLayersList.style.display=Ie?"":"none"),this._separator.style.display=Ke&&Ie?"":"none",this},_onLayerChange:function(Ie){this._handlingClick||this._update();var Ke=this._getLayer(I(Ie.target)),kt=Ke.overlay?Ie.type==="add"?"overlayadd":"overlayremove":Ie.type==="add"?"baselayerchange":null;kt&&this._map.fire(kt,Ke)},_createRadioElement:function(Ie,Ke){var kt='<input type="radio" class="leaflet-control-layers-selector" name="'+Ie+'"'+(Ke?' checked="checked"':"")+"/>",rr=document.createElement("div");return rr.innerHTML=kt,rr.firstChild},_addItem:function(Ie){var Ke=document.createElement("label"),kt=this._map.hasLayer(Ie.layer),rr;Ie.overlay?(rr=document.createElement("input"),rr.type="checkbox",rr.className="leaflet-control-layers-selector",rr.defaultChecked=kt):rr=this._createRadioElement("leaflet-base-layers_"+I(this),kt),this._layerControlInputs.push(rr),rr.layerId=I(Ie.layer),oi(rr,"click",this._onInputClick,this);var Ir=document.createElement("span");Ir.innerHTML=" "+Ie.name;var hn=document.createElement("span");Ke.appendChild(hn),hn.appendChild(rr),hn.appendChild(Ir);var Yn=Ie.overlay?this._overlaysList:this._baseLayersList;return Yn.appendChild(Ke),this._checkDisabledLayers(),Ke},_onInputClick:function(){if(!this._preventClick){var Ie=this._layerControlInputs,Ke,kt,rr=[],Ir=[];this._handlingClick=!0;for(var hn=Ie.length-1;hn>=0;hn--)Ke=Ie[hn],kt=this._getLayer(Ke.layerId).layer,Ke.checked?rr.push(kt):Ke.checked||Ir.push(kt);for(hn=0;hn<Ir.length;hn++)this._map.hasLayer(Ir[hn])&&this._map.removeLayer(Ir[hn]);for(hn=0;hn<rr.length;hn++)this._map.hasLayer(rr[hn])||this._map.addLayer(rr[hn]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var Ie=this._layerControlInputs,Ke,kt,rr=this._map.getZoom(),Ir=Ie.length-1;Ir>=0;Ir--)Ke=Ie[Ir],kt=this._getLayer(Ke.layerId).layer,Ke.disabled=kt.options.minZoom!==void 0&&rr<kt.options.minZoom||kt.options.maxZoom!==void 0&&rr>kt.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var Ie=this._section;this._preventClick=!0,oi(Ie,"click",Dn),this.expand();var Ke=this;setTimeout(function(){ot(Ie,"click",Dn),Ke._preventClick=!1})}}),fn=function(Ie,Ke,kt){return new yn(Ie,Ke,kt)},Rn=Kr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(Ie){var Ke="leaflet-control-zoom",kt=_n("div",Ke+" leaflet-bar"),rr=this.options;return this._zoomInButton=this._createButton(rr.zoomInText,rr.zoomInTitle,Ke+"-in",kt,this._zoomIn),this._zoomOutButton=this._createButton(rr.zoomOutText,rr.zoomOutTitle,Ke+"-out",kt,this._zoomOut),this._updateDisabled(),Ie.on("zoomend zoomlevelschange",this._updateDisabled,this),kt},onRemove:function(Ie){Ie.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(Ie){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(Ie.shiftKey?3:1))},_zoomOut:function(Ie){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(Ie.shiftKey?3:1))},_createButton:function(Ie,Ke,kt,rr,Ir){var hn=_n("a",kt,rr);return hn.innerHTML=Ie,hn.href="#",hn.title=Ke,hn.setAttribute("role","button"),hn.setAttribute("aria-label",Ke),un(hn),oi(hn,"click",Fn),oi(hn,"click",Ir,this),oi(hn,"click",this._refocusOnMap,this),hn},_updateDisabled:function(){var Ie=this._map,Ke="leaflet-disabled";Rt(this._zoomInButton,Ke),Rt(this._zoomOutButton,Ke),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||Ie._zoom===Ie.getMinZoom())&&(Je(this._zoomOutButton,Ke),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||Ie._zoom===Ie.getMaxZoom())&&(Je(this._zoomInButton,Ke),this._zoomInButton.setAttribute("aria-disabled","true"))}});Tr.mergeOptions({zoomControl:!0}),Tr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Rn,this.addControl(this.zoomControl))});var Hn=function(Ie){return new Rn(Ie)},Xn=Kr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(Ie){var Ke="leaflet-control-scale",kt=_n("div",Ke),rr=this.options;return this._addScales(rr,Ke+"-line",kt),Ie.on(rr.updateWhenIdle?"moveend":"move",this._update,this),Ie.whenReady(this._update,this),kt},onRemove:function(Ie){Ie.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(Ie,Ke,kt){Ie.metric&&(this._mScale=_n("div",Ke,kt)),Ie.imperial&&(this._iScale=_n("div",Ke,kt))},_update:function(){var Ie=this._map,Ke=Ie.getSize().y/2,kt=Ie.distance(Ie.containerPointToLatLng([0,Ke]),Ie.containerPointToLatLng([this.options.maxWidth,Ke]));this._updateScales(kt)},_updateScales:function(Ie){this.options.metric&&Ie&&this._updateMetric(Ie),this.options.imperial&&Ie&&this._updateImperial(Ie)},_updateMetric:function(Ie){var Ke=this._getRoundNum(Ie),kt=Ke<1e3?Ke+" m":Ke/1e3+" km";this._updateScale(this._mScale,kt,Ke/Ie)},_updateImperial:function(Ie){var Ke=Ie*3.2808399,kt,rr,Ir;Ke>5280?(kt=Ke/5280,rr=this._getRoundNum(kt),this._updateScale(this._iScale,rr+" mi",rr/kt)):(Ir=this._getRoundNum(Ke),this._updateScale(this._iScale,Ir+" ft",Ir/Ke))},_updateScale:function(Ie,Ke,kt){Ie.style.width=Math.round(this.options.maxWidth*kt)+"px",Ie.innerHTML=Ke},_getRoundNum:function(Ie){var Ke=Math.pow(10,(Math.floor(Ie)+"").length-1),kt=Ie/Ke;return kt=kt>=10?10:kt>=5?5:kt>=3?3:kt>=2?2:1,Ke*kt}}),Zn=function(Ie){return new Xn(Ie)},ar='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',gr=Kr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ln.inlineSvg?ar+" ":"")+"Leaflet</a>"},initialize:function(Ie){q(this,Ie),this._attributions={}},onAdd:function(Ie){Ie.attributionControl=this,this._container=_n("div","leaflet-control-attribution"),un(this._container);for(var Ke in Ie._layers)Ie._layers[Ke].getAttribution&&this.addAttribution(Ie._layers[Ke].getAttribution());return this._update(),Ie.on("layeradd",this._addAttribution,this),this._container},onRemove:function(Ie){Ie.off("layeradd",this._addAttribution,this)},_addAttribution:function(Ie){Ie.layer.getAttribution&&(this.addAttribution(Ie.layer.getAttribution()),Ie.layer.once("remove",function(){this.removeAttribution(Ie.layer.getAttribution())},this))},setPrefix:function(Ie){return this.options.prefix=Ie,this._update(),this},addAttribution:function(Ie){return Ie?(this._attributions[Ie]||(this._attributions[Ie]=0),this._attributions[Ie]++,this._update(),this):this},removeAttribution:function(Ie){return Ie?(this._attributions[Ie]&&(this._attributions[Ie]--,this._update()),this):this},_update:function(){if(this._map){var Ie=[];for(var Ke in this._attributions)this._attributions[Ke]&&Ie.push(Ke);var kt=[];this.options.prefix&&kt.push(this.options.prefix),Ie.length&&kt.push(Ie.join(", ")),this._container.innerHTML=kt.join(' <span aria-hidden="true">|</span> ')}}});Tr.mergeOptions({attributionControl:!0}),Tr.addInitHook(function(){this.options.attributionControl&&new gr().addTo(this)});var Pr=function(Ie){return new gr(Ie)};Kr.Layers=yn,Kr.Zoom=Rn,Kr.Scale=Xn,Kr.Attribution=gr,on.layers=fn,on.zoom=Hn,on.scale=Zn,on.attribution=Pr;var dr=xe.extend({initialize:function(Ie){this._map=Ie},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});dr.addTo=function(Ie,Ke){return Ie.addHandler(Ke,this),this};var Qr={Events:Ce},An=Ln.touch?"touchstart mousedown":"mousedown",kn=Oe.extend({options:{clickTolerance:3},initialize:function(Ie,Ke,kt,rr){q(this,rr),this._element=Ie,this._dragStartTarget=Ke||Ie,this._preventOutline=kt},enable:function(){this._enabled||(oi(this._dragStartTarget,An,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(kn._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,An,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(Ie){if(this._enabled&&(this._moved=!1,!cn(this._element,"leaflet-zoom-anim"))){if(Ie.touches&&Ie.touches.length!==1){kn._dragging===this&&this.finishDrag();return}if(!(kn._dragging||Ie.shiftKey||Ie.which!==1&&Ie.button!==1&&!Ie.touches)&&(kn._dragging=this,this._preventOutline&&Wn(this._element),Sn(),Nr(),!this._moving)){this.fire("down");var Ke=Ie.touches?Ie.touches[0]:Ie,kt=yi(this._element);this._startPoint=new Ae(Ke.clientX,Ke.clientY),this._startPos=yr(this._element),this._parentScale=Si(kt);var rr=Ie.type==="mousedown";oi(document,rr?"mousemove":"touchmove",this._onMove,this),oi(document,rr?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(Ie){if(this._enabled){if(Ie.touches&&Ie.touches.length>1){this._moved=!0;return}var Ke=Ie.touches&&Ie.touches.length===1?Ie.touches[0]:Ie,kt=new Ae(Ke.clientX,Ke.clientY)._subtract(this._startPoint);!kt.x&&!kt.y||Math.abs(kt.x)+Math.abs(kt.y)<this.options.clickTolerance||(kt.x/=this._parentScale.x,kt.y/=this._parentScale.y,Dn(Ie),this._moved||(this.fire("dragstart"),this._moved=!0,Je(document.body,"leaflet-dragging"),this._lastTarget=Ie.target||Ie.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Je(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(kt),this._moving=!0,this._lastEvent=Ie,this._updatePosition())}},_updatePosition:function(){var Ie={originalEvent:this._lastEvent};this.fire("predrag",Ie),Br(this._element,this._newPos),this.fire("drag",Ie)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(Ie){Rt(document.body,"leaflet-dragging"),this._lastTarget&&(Rt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),Pn(),Hr();var Ke=this._moved&&this._moving;this._moving=!1,kn._dragging=!1,Ke&&this.fire("dragend",{noInertia:Ie,distance:this._newPos.distanceTo(this._startPos)})}});function Tn(Ie,Ke,kt){var rr,Ir=[1,4,2,8],hn,Yn,bi,Pi,Ki,ro,fo,_o;for(hn=0,ro=Ie.length;hn<ro;hn++)Ie[hn]._code=er(Ie[hn],Ke);for(bi=0;bi<4;bi++){for(fo=Ir[bi],rr=[],hn=0,ro=Ie.length,Yn=ro-1;hn<ro;Yn=hn++)Pi=Ie[hn],Ki=Ie[Yn],Pi._code&fo?Ki._code&fo||(_o=It(Ki,Pi,fo,Ke,kt),_o._code=er(_o,Ke),rr.push(_o)):(Ki._code&fo&&(_o=It(Ki,Pi,fo,Ke,kt),_o._code=er(_o,Ke),rr.push(_o)),rr.push(Pi));Ie=rr}return Ie}function Un(Ie,Ke){var kt,rr,Ir,hn,Yn,bi,Pi,Ki,ro;if(!Ie||Ie.length===0)throw new Error("latlngs not passed");rt(Ie)||(console.warn("latlngs are not flat! Only the first ring will be used"),Ie=Ie[0]);var fo=je([0,0]),_o=ze(Ie),ia=_o.getNorthWest().distanceTo(_o.getSouthWest())*_o.getNorthEast().distanceTo(_o.getNorthWest());ia<1700&&(fo=Jn(Ie));var qo=Ie.length,Ko=[];for(kt=0;kt<qo;kt++){var ea=je(Ie[kt]);Ko.push(Ke.project(je([ea.lat-fo.lat,ea.lng-fo.lng])))}for(bi=Pi=Ki=0,kt=0,rr=qo-1;kt<qo;rr=kt++)Ir=Ko[kt],hn=Ko[rr],Yn=Ir.y*hn.x-hn.y*Ir.x,Pi+=(Ir.x+hn.x)*Yn,Ki+=(Ir.y+hn.y)*Yn,bi+=Yn*3;bi===0?ro=Ko[0]:ro=[Pi/bi,Ki/bi];var Fa=Ke.unproject(Ee(ro));return je([Fa.lat+fo.lat,Fa.lng+fo.lng])}function Jn(Ie){for(var Ke=0,kt=0,rr=0,Ir=0;Ir<Ie.length;Ir++){var hn=je(Ie[Ir]);Ke+=hn.lat,kt+=hn.lng,rr++}return je([Ke/rr,kt/rr])}var ti={__proto__:null,clipPolygon:Tn,polygonCenter:Un,centroid:Jn};function ri(Ie,Ke){if(!Ke||!Ie.length)return Ie.slice();var kt=Ke*Ke;return Ie=Wi(Ie,kt),Ie=qi(Ie,kt),Ie}function Oi(Ie,Ke,kt){return Math.sqrt(Jr(Ie,Ke,kt,!0))}function fi(Ie,Ke,kt){return Jr(Ie,Ke,kt)}function qi(Ie,Ke){var kt=Ie.length,rr=typeof Uint8Array<"u"?Uint8Array:Array,Ir=new rr(kt);Ir[0]=Ir[kt-1]=1,Li(Ie,Ir,Ke,0,kt-1);var hn,Yn=[];for(hn=0;hn<kt;hn++)Ir[hn]&&Yn.push(Ie[hn]);return Yn}function Li(Ie,Ke,kt,rr,Ir){var hn=0,Yn,bi,Pi;for(bi=rr+1;bi<=Ir-1;bi++)Pi=Jr(Ie[bi],Ie[rr],Ie[Ir],!0),Pi>hn&&(Yn=bi,hn=Pi);hn>kt&&(Ke[Yn]=1,Li(Ie,Ke,kt,rr,Yn),Li(Ie,Ke,kt,Yn,Ir))}function Wi(Ie,Ke){for(var kt=[Ie[0]],rr=1,Ir=0,hn=Ie.length;rr<hn;rr++)Or(Ie[rr],Ie[Ir])>Ke&&(kt.push(Ie[rr]),Ir=rr);return Ir<hn-1&&kt.push(Ie[hn-1]),kt}var zi;function Ct(Ie,Ke,kt,rr,Ir){var hn=rr?zi:er(Ie,kt),Yn=er(Ke,kt),bi,Pi,Ki;for(zi=Yn;;){if(!(hn|Yn))return[Ie,Ke];if(hn&Yn)return!1;bi=hn||Yn,Pi=It(Ie,Ke,bi,kt,Ir),Ki=er(Pi,kt),bi===hn?(Ie=Pi,hn=Ki):(Ke=Pi,Yn=Ki)}}function It(Ie,Ke,kt,rr,Ir){var hn=Ke.x-Ie.x,Yn=Ke.y-Ie.y,bi=rr.min,Pi=rr.max,Ki,ro;return kt&8?(Ki=Ie.x+hn*(Pi.y-Ie.y)/Yn,ro=Pi.y):kt&4?(Ki=Ie.x+hn*(bi.y-Ie.y)/Yn,ro=bi.y):kt&2?(Ki=Pi.x,ro=Ie.y+Yn*(Pi.x-Ie.x)/hn):kt&1&&(Ki=bi.x,ro=Ie.y+Yn*(bi.x-Ie.x)/hn),new Ae(Ki,ro,Ir)}function er(Ie,Ke){var kt=0;return Ie.x<Ke.min.x?kt|=1:Ie.x>Ke.max.x&&(kt|=2),Ie.y<Ke.min.y?kt|=4:Ie.y>Ke.max.y&&(kt|=8),kt}function Or(Ie,Ke){var kt=Ke.x-Ie.x,rr=Ke.y-Ie.y;return kt*kt+rr*rr}function Jr(Ie,Ke,kt,rr){var Ir=Ke.x,hn=Ke.y,Yn=kt.x-Ir,bi=kt.y-hn,Pi=Yn*Yn+bi*bi,Ki;return Pi>0&&(Ki=((Ie.x-Ir)*Yn+(Ie.y-hn)*bi)/Pi,Ki>1?(Ir=kt.x,hn=kt.y):Ki>0&&(Ir+=Yn*Ki,hn+=bi*Ki)),Yn=Ie.x-Ir,bi=Ie.y-hn,rr?Yn*Yn+bi*bi:new Ae(Ir,hn)}function rt(Ie){return!G(Ie[0])||typeof Ie[0][0]!="object"&&typeof Ie[0][0]<"u"}function jt(Ie){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rt(Ie)}function mr(Ie,Ke){var kt,rr,Ir,hn,Yn,bi,Pi,Ki;if(!Ie||Ie.length===0)throw new Error("latlngs not passed");rt(Ie)||(console.warn("latlngs are not flat! Only the first ring will be used"),Ie=Ie[0]);var ro=je([0,0]),fo=ze(Ie),_o=fo.getNorthWest().distanceTo(fo.getSouthWest())*fo.getNorthEast().distanceTo(fo.getNorthWest());_o<1700&&(ro=Jn(Ie));var ia=Ie.length,qo=[];for(kt=0;kt<ia;kt++){var Ko=je(Ie[kt]);qo.push(Ke.project(je([Ko.lat-ro.lat,Ko.lng-ro.lng])))}for(kt=0,rr=0;kt<ia-1;kt++)rr+=qo[kt].distanceTo(qo[kt+1])/2;if(rr===0)Ki=qo[0];else for(kt=0,hn=0;kt<ia-1;kt++)if(Yn=qo[kt],bi=qo[kt+1],Ir=Yn.distanceTo(bi),hn+=Ir,hn>rr){Pi=(hn-rr)/Ir,Ki=[bi.x-Pi*(bi.x-Yn.x),bi.y-Pi*(bi.y-Yn.y)];break}var ea=Ke.unproject(Ee(Ki));return je([ea.lat+ro.lat,ea.lng+ro.lng])}var ur={__proto__:null,simplify:ri,pointToSegmentDistance:Oi,closestPointOnSegment:fi,clipSegment:Ct,_getEdgeIntersection:It,_getBitCode:er,_sqClosestPointOnSegment:Jr,isFlat:rt,_flat:jt,polylineCenter:mr},dn={project:function(Ie){return new Ae(Ie.lng,Ie.lat)},unproject:function(Ie){return new Le(Ie.y,Ie.x)},bounds:new Te([-180,-90],[180,90])},tn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(Ie){var Ke=Math.PI/180,kt=this.R,rr=Ie.lat*Ke,Ir=this.R_MINOR/kt,hn=Math.sqrt(1-Ir*Ir),Yn=hn*Math.sin(rr),bi=Math.tan(Math.PI/4-rr/2)/Math.pow((1-Yn)/(1+Yn),hn/2);return rr=-kt*Math.log(Math.max(bi,1e-10)),new Ae(Ie.lng*Ke*kt,rr)},unproject:function(Ie){for(var Ke=180/Math.PI,kt=this.R,rr=this.R_MINOR/kt,Ir=Math.sqrt(1-rr*rr),hn=Math.exp(-Ie.y/kt),Yn=Math.PI/2-2*Math.atan(hn),bi=0,Pi=.1,Ki;bi<15&&Math.abs(Pi)>1e-7;bi++)Ki=Ir*Math.sin(Yn),Ki=Math.pow((1-Ki)/(1+Ki),Ir/2),Pi=Math.PI/2-2*Math.atan(hn*Ki)-Yn,Yn+=Pi;return new Le(Yn*Ke,Ie.x*Ke/kt)}},Bn={__proto__:null,LonLat:dn,Mercator:tn,SphericalMercator:Ve},Vn=T({},qe,{code:"EPSG:3395",projection:tn,transformation:function(){var Ie=.5/(Math.PI*tn.R);return it(Ie,.5,-Ie,.5)}()}),nt=T({},qe,{code:"EPSG:4326",projection:dn,transformation:it(1/180,1,-1/180,.5)}),Nt=T({},Ne,{projection:dn,transformation:it(1,0,-1,0),scale:function(Ie){return Math.pow(2,Ie)},zoom:function(Ie){return Math.log(Ie)/Math.LN2},distance:function(Ie,Ke){var kt=Ke.lng-Ie.lng,rr=Ke.lat-Ie.lat;return Math.sqrt(kt*kt+rr*rr)},infinite:!0});Ne.Earth=qe,Ne.EPSG3395=Vn,Ne.EPSG3857=Ze,Ne.EPSG900913=We,Ne.EPSG4326=nt,Ne.Simple=Nt;var Xt=Oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(Ie){return Ie.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(Ie){return Ie&&Ie.removeLayer(this),this},getPane:function(Ie){return this._map.getPane(Ie?this.options[Ie]||Ie:this.options.pane)},addInteractiveTarget:function(Ie){return this._map._targets[I(Ie)]=this,this},removeInteractiveTarget:function(Ie){return delete this._map._targets[I(Ie)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(Ie){var Ke=Ie.target;if(Ke.hasLayer(this)){if(this._map=Ke,this._zoomAnimated=Ke._zoomAnimated,this.getEvents){var kt=this.getEvents();Ke.on(kt,this),this.once("remove",function(){Ke.off(kt,this)},this)}this.onAdd(Ke),this.fire("add"),Ke.fire("layeradd",{layer:this})}}});Tr.include({addLayer:function(Ie){if(!Ie._layerAdd)throw new Error("The provided object is not a Layer.");var Ke=I(Ie);return this._layers[Ke]?this:(this._layers[Ke]=Ie,Ie._mapToAdd=this,Ie.beforeAdd&&Ie.beforeAdd(this),this.whenReady(Ie._layerAdd,Ie),this)},removeLayer:function(Ie){var Ke=I(Ie);return this._layers[Ke]?(this._loaded&&Ie.onRemove(this),delete this._layers[Ke],this._loaded&&(this.fire("layerremove",{layer:Ie}),Ie.fire("remove")),Ie._map=Ie._mapToAdd=null,this):this},hasLayer:function(Ie){return I(Ie)in this._layers},eachLayer:function(Ie,Ke){for(var kt in this._layers)Ie.call(Ke,this._layers[kt]);return this},_addLayers:function(Ie){Ie=Ie?G(Ie)?Ie:[Ie]:[];for(var Ke=0,kt=Ie.length;Ke<kt;Ke++)this.addLayer(Ie[Ke])},_addZoomLimit:function(Ie){(!isNaN(Ie.options.maxZoom)||!isNaN(Ie.options.minZoom))&&(this._zoomBoundLayers[I(Ie)]=Ie,this._updateZoomLevels())},_removeZoomLimit:function(Ie){var Ke=I(Ie);this._zoomBoundLayers[Ke]&&(delete this._zoomBoundLayers[Ke],this._updateZoomLevels())},_updateZoomLevels:function(){var Ie=1/0,Ke=-1/0,kt=this._getZoomSpan();for(var rr in this._zoomBoundLayers){var Ir=this._zoomBoundLayers[rr].options;Ie=Ir.minZoom===void 0?Ie:Math.min(Ie,Ir.minZoom),Ke=Ir.maxZoom===void 0?Ke:Math.max(Ke,Ir.maxZoom)}this._layersMaxZoom=Ke===-1/0?void 0:Ke,this._layersMinZoom=Ie===1/0?void 0:Ie,kt!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var hr=Xt.extend({initialize:function(Ie,Ke){q(this,Ke),this._layers={};var kt,rr;if(Ie)for(kt=0,rr=Ie.length;kt<rr;kt++)this.addLayer(Ie[kt])},addLayer:function(Ie){var Ke=this.getLayerId(Ie);return this._layers[Ke]=Ie,this._map&&this._map.addLayer(Ie),this},removeLayer:function(Ie){var Ke=Ie in this._layers?Ie:this.getLayerId(Ie);return this._map&&this._layers[Ke]&&this._map.removeLayer(this._layers[Ke]),delete this._layers[Ke],this},hasLayer:function(Ie){var Ke=typeof Ie=="number"?Ie:this.getLayerId(Ie);return Ke in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(Ie){var Ke=Array.prototype.slice.call(arguments,1),kt,rr;for(kt in this._layers)rr=this._layers[kt],rr[Ie]&&rr[Ie].apply(rr,Ke);return this},onAdd:function(Ie){this.eachLayer(Ie.addLayer,Ie)},onRemove:function(Ie){this.eachLayer(Ie.removeLayer,Ie)},eachLayer:function(Ie,Ke){for(var kt in this._layers)Ie.call(Ke,this._layers[kt]);return this},getLayer:function(Ie){return this._layers[Ie]},getLayers:function(){var Ie=[];return this.eachLayer(Ie.push,Ie),Ie},setZIndex:function(Ie){return this.invoke("setZIndex",Ie)},getLayerId:function(Ie){return I(Ie)}}),Zt=function(Ie,Ke){return new hr(Ie,Ke)},rn=hr.extend({addLayer:function(Ie){return this.hasLayer(Ie)?this:(Ie.addEventParent(this),hr.prototype.addLayer.call(this,Ie),this.fire("layeradd",{layer:Ie}))},removeLayer:function(Ie){return this.hasLayer(Ie)?(Ie in this._layers&&(Ie=this._layers[Ie]),Ie.removeEventParent(this),hr.prototype.removeLayer.call(this,Ie),this.fire("layerremove",{layer:Ie})):this},setStyle:function(Ie){return this.invoke("setStyle",Ie)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var Ie=new Me;for(var Ke in this._layers){var kt=this._layers[Ke];Ie.extend(kt.getBounds?kt.getBounds():kt.getLatLng())}return Ie}}),xn=function(Ie,Ke){return new rn(Ie,Ke)},In=xe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(Ie){q(this,Ie)},createIcon:function(Ie){return this._createIcon("icon",Ie)},createShadow:function(Ie){return this._createIcon("shadow",Ie)},_createIcon:function(Ie,Ke){var kt=this._getIconUrl(Ie);if(!kt){if(Ie==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var rr=this._createImg(kt,Ke&&Ke.tagName==="IMG"?Ke:null);return this._setIconStyles(rr,Ie),(this.options.crossOrigin||this.options.crossOrigin==="")&&(rr.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),rr},_setIconStyles:function(Ie,Ke){var kt=this.options,rr=kt[Ke+"Size"];typeof rr=="number"&&(rr=[rr,rr]);var Ir=Ee(rr),hn=Ee(Ke==="shadow"&&kt.shadowAnchor||kt.iconAnchor||Ir&&Ir.divideBy(2,!0));Ie.className="leaflet-marker-"+Ke+" "+(kt.className||""),hn&&(Ie.style.marginLeft=-hn.x+"px",Ie.style.marginTop=-hn.y+"px"),Ir&&(Ie.style.width=Ir.x+"px",Ie.style.height=Ir.y+"px")},_createImg:function(Ie,Ke){return Ke=Ke||document.createElement("img"),Ke.src=Ie,Ke},_getIconUrl:function(Ie){return Ln.retina&&this.options[Ie+"RetinaUrl"]||this.options[Ie+"Url"]}});function ni(Ie){return new In(Ie)}var ci=In.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(Ie){return typeof ci.imagePath!="string"&&(ci.imagePath=this._detectIconPath()),(this.options.imagePath||ci.imagePath)+In.prototype._getIconUrl.call(this,Ie)},_stripUrl:function(Ie){var Ke=function(kt,rr,Ir){var hn=rr.exec(kt);return hn&&hn[Ir]};return Ie=Ke(Ie,/^url\((['"])?(.+)\1\)$/,2),Ie&&Ke(Ie,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var Ie=_n("div","leaflet-default-icon-path",document.body),Ke=nn(Ie,"background-image")||nn(Ie,"backgroundImage");if(document.body.removeChild(Ie),Ke=this._stripUrl(Ke),Ke)return Ke;var kt=document.querySelector('link[href$="leaflet.css"]');return kt?kt.href.substring(0,kt.href.length-11-1):""}}),di=dr.extend({initialize:function(Ie){this._marker=Ie},addHooks:function(){var Ie=this._marker._icon;this._draggable||(this._draggable=new kn(Ie,Ie,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Je(Ie,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Rt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(Ie){var Ke=this._marker,kt=Ke._map,rr=this._marker.options.autoPanSpeed,Ir=this._marker.options.autoPanPadding,hn=yr(Ke._icon),Yn=kt.getPixelBounds(),bi=kt.getPixelOrigin(),Pi=Re(Yn.min._subtract(bi).add(Ir),Yn.max._subtract(bi).subtract(Ir));if(!Pi.contains(hn)){var Ki=Ee((Math.max(Pi.max.x,hn.x)-Pi.max.x)/(Yn.max.x-Pi.max.x)-(Math.min(Pi.min.x,hn.x)-Pi.min.x)/(Yn.min.x-Pi.min.x),(Math.max(Pi.max.y,hn.y)-Pi.max.y)/(Yn.max.y-Pi.max.y)-(Math.min(Pi.min.y,hn.y)-Pi.min.y)/(Yn.min.y-Pi.min.y)).multiplyBy(rr);kt.panBy(Ki,{animate:!1}),this._draggable._newPos._add(Ki),this._draggable._startPos._add(Ki),Br(Ke._icon,this._draggable._newPos),this._onDrag(Ie),this._panRequest=de(this._adjustPan.bind(this,Ie))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(Ie){this._marker.options.autoPan&&(ie(this._panRequest),this._panRequest=de(this._adjustPan.bind(this,Ie)))},_onDrag:function(Ie){var Ke=this._marker,kt=Ke._shadow,rr=yr(Ke._icon),Ir=Ke._map.layerPointToLatLng(rr);kt&&Br(kt,rr),Ke._latlng=Ir,Ie.latlng=Ir,Ie.oldLatLng=this._oldLatLng,Ke.fire("move",Ie).fire("drag",Ie)},_onDragEnd:function(Ie){ie(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",Ie)}}),Ii=Xt.extend({options:{icon:new ci,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(Ie,Ke){q(this,Ke),this._latlng=je(Ie)},onAdd:function(Ie){this._zoomAnimated=this._zoomAnimated&&Ie.options.markerZoomAnimation,this._zoomAnimated&&Ie.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(Ie){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&Ie.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(Ie){var Ke=this._latlng;return this._latlng=je(Ie),this.update(),this.fire("move",{oldLatLng:Ke,latlng:this._latlng})},setZIndexOffset:function(Ie){return this.options.zIndexOffset=Ie,this.update()},getIcon:function(){return this.options.icon},setIcon:function(Ie){return this.options.icon=Ie,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var Ie=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(Ie)}return this},_initIcon:function(){var Ie=this.options,Ke="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),kt=Ie.icon.createIcon(this._icon),rr=!1;kt!==this._icon&&(this._icon&&this._removeIcon(),rr=!0,Ie.title&&(kt.title=Ie.title),kt.tagName==="IMG"&&(kt.alt=Ie.alt||"")),Je(kt,Ke),Ie.keyboard&&(kt.tabIndex="0",kt.setAttribute("role","button")),this._icon=kt,Ie.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&oi(kt,"focus",this._panOnFocus,this);var Ir=Ie.icon.createShadow(this._shadow),hn=!1;Ir!==this._shadow&&(this._removeShadow(),hn=!0),Ir&&(Je(Ir,Ke),Ir.alt=""),this._shadow=Ir,Ie.opacity<1&&this._updateOpacity(),rr&&this.getPane().appendChild(this._icon),this._initInteraction(),Ir&&hn&&this.getPane(Ie.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),Nn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Nn(this._shadow),this._shadow=null},_setPos:function(Ie){this._icon&&Br(this._icon,Ie),this._shadow&&Br(this._shadow,Ie),this._zIndex=Ie.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(Ie){this._icon&&(this._icon.style.zIndex=this._zIndex+Ie)},_animateZoom:function(Ie){var Ke=this._map._latLngToNewLayerPoint(this._latlng,Ie.zoom,Ie.center).round();this._setPos(Ke)},_initInteraction:function(){if(this.options.interactive&&(Je(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),di)){var Ie=this.options.draggable;this.dragging&&(Ie=this.dragging.enabled(),this.dragging.disable()),this.dragging=new di(this),Ie&&this.dragging.enable()}},setOpacity:function(Ie){return this.options.opacity=Ie,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var Ie=this.options.opacity;this._icon&&Wt(this._icon,Ie),this._shadow&&Wt(this._shadow,Ie)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var Ie=this._map;if(Ie){var Ke=this.options.icon.options,kt=Ke.iconSize?Ee(Ke.iconSize):Ee(0,0),rr=Ke.iconAnchor?Ee(Ke.iconAnchor):Ee(0,0);Ie.panInside(this._latlng,{paddingTopLeft:rr,paddingBottomRight:kt.subtract(rr)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function vi(Ie,Ke){return new Ii(Ie,Ke)}var ki=Xt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(Ie){this._renderer=Ie.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(Ie){return q(this,Ie),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&Ie&&Object.prototype.hasOwnProperty.call(Ie,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ji=ki.extend({options:{fill:!0,radius:10},initialize:function(Ie,Ke){q(this,Ke),this._latlng=je(Ie),this._radius=this.options.radius},setLatLng:function(Ie){var Ke=this._latlng;return this._latlng=je(Ie),this.redraw(),this.fire("move",{oldLatLng:Ke,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(Ie){return this.options.radius=this._radius=Ie,this.redraw()},getRadius:function(){return this._radius},setStyle:function(Ie){var Ke=Ie&&Ie.radius||this._radius;return ki.prototype.setStyle.call(this,Ie),this.setRadius(Ke),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var Ie=this._radius,Ke=this._radiusY||Ie,kt=this._clickTolerance(),rr=[Ie+kt,Ke+kt];this._pxBounds=new Te(this._point.subtract(rr),this._point.add(rr))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(Ie){return Ie.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Vi(Ie,Ke){return new ji(Ie,Ke)}var Ui=ji.extend({initialize:function(Ie,Ke,kt){if(typeof Ke=="number"&&(Ke=T({},kt,{radius:Ke})),q(this,Ke),this._latlng=je(Ie),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(Ie){return this._mRadius=Ie,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var Ie=[this._radius,this._radiusY||this._radius];return new Me(this._map.layerPointToLatLng(this._point.subtract(Ie)),this._map.layerPointToLatLng(this._point.add(Ie)))},setStyle:ki.prototype.setStyle,_project:function(){var Ie=this._latlng.lng,Ke=this._latlng.lat,kt=this._map,rr=kt.options.crs;if(rr.distance===qe.distance){var Ir=Math.PI/180,hn=this._mRadius/qe.R/Ir,Yn=kt.project([Ke+hn,Ie]),bi=kt.project([Ke-hn,Ie]),Pi=Yn.add(bi).divideBy(2),Ki=kt.unproject(Pi).lat,ro=Math.acos((Math.cos(hn*Ir)-Math.sin(Ke*Ir)*Math.sin(Ki*Ir))/(Math.cos(Ke*Ir)*Math.cos(Ki*Ir)))/Ir;(isNaN(ro)||ro===0)&&(ro=hn/Math.cos(Math.PI/180*Ke)),this._point=Pi.subtract(kt.getPixelOrigin()),this._radius=isNaN(ro)?0:Pi.x-kt.project([Ki,Ie-ro]).x,this._radiusY=Pi.y-Yn.y}else{var fo=rr.unproject(rr.project(this._latlng).subtract([this._mRadius,0]));this._point=kt.latLngToLayerPoint(this._latlng),this._radius=this._point.x-kt.latLngToLayerPoint(fo).x}this._updateBounds()}});function io(Ie,Ke,kt){return new Ui(Ie,Ke,kt)}var Ji=ki.extend({options:{smoothFactor:1,noClip:!1},initialize:function(Ie,Ke){q(this,Ke),this._setLatLngs(Ie)},getLatLngs:function(){return this._latlngs},setLatLngs:function(Ie){return this._setLatLngs(Ie),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(Ie){for(var Ke=1/0,kt=null,rr=Jr,Ir,hn,Yn=0,bi=this._parts.length;Yn<bi;Yn++)for(var Pi=this._parts[Yn],Ki=1,ro=Pi.length;Ki<ro;Ki++){Ir=Pi[Ki-1],hn=Pi[Ki];var fo=rr(Ie,Ir,hn,!0);fo<Ke&&(Ke=fo,kt=rr(Ie,Ir,hn))}return kt&&(kt.distance=Math.sqrt(Ke)),kt},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(Ie,Ke){return Ke=Ke||this._defaultShape(),Ie=je(Ie),Ke.push(Ie),this._bounds.extend(Ie),this.redraw()},_setLatLngs:function(Ie){this._bounds=new Me,this._latlngs=this._convertLatLngs(Ie)},_defaultShape:function(){return rt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(Ie){for(var Ke=[],kt=rt(Ie),rr=0,Ir=Ie.length;rr<Ir;rr++)kt?(Ke[rr]=je(Ie[rr]),this._bounds.extend(Ke[rr])):Ke[rr]=this._convertLatLngs(Ie[rr]);return Ke},_project:function(){var Ie=new Te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,Ie),this._bounds.isValid()&&Ie.isValid()&&(this._rawPxBounds=Ie,this._updateBounds())},_updateBounds:function(){var Ie=this._clickTolerance(),Ke=new Ae(Ie,Ie);this._rawPxBounds&&(this._pxBounds=new Te([this._rawPxBounds.min.subtract(Ke),this._rawPxBounds.max.add(Ke)]))},_projectLatlngs:function(Ie,Ke,kt){var rr=Ie[0]instanceof Le,Ir=Ie.length,hn,Yn;if(rr){for(Yn=[],hn=0;hn<Ir;hn++)Yn[hn]=this._map.latLngToLayerPoint(Ie[hn]),kt.extend(Yn[hn]);Ke.push(Yn)}else for(hn=0;hn<Ir;hn++)this._projectLatlngs(Ie[hn],Ke,kt)},_clipPoints:function(){var Ie=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(Ie))){if(this.options.noClip){this._parts=this._rings;return}var Ke=this._parts,kt,rr,Ir,hn,Yn,bi,Pi;for(kt=0,Ir=0,hn=this._rings.length;kt<hn;kt++)for(Pi=this._rings[kt],rr=0,Yn=Pi.length;rr<Yn-1;rr++)bi=Ct(Pi[rr],Pi[rr+1],Ie,rr,!0),bi&&(Ke[Ir]=Ke[Ir]||[],Ke[Ir].push(bi[0]),(bi[1]!==Pi[rr+1]||rr===Yn-2)&&(Ke[Ir].push(bi[1]),Ir++))}},_simplifyPoints:function(){for(var Ie=this._parts,Ke=this.options.smoothFactor,kt=0,rr=Ie.length;kt<rr;kt++)Ie[kt]=ri(Ie[kt],Ke)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(Ie,Ke){var kt,rr,Ir,hn,Yn,bi,Pi=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(Ie))return!1;for(kt=0,hn=this._parts.length;kt<hn;kt++)for(bi=this._parts[kt],rr=0,Yn=bi.length,Ir=Yn-1;rr<Yn;Ir=rr++)if(!(!Ke&&rr===0)&&Oi(Ie,bi[Ir],bi[rr])<=Pi)return!0;return!1}});function co(Ie,Ke){return new Ji(Ie,Ke)}Ji._flat=jt;var no=Ji.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Un(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(Ie){var Ke=Ji.prototype._convertLatLngs.call(this,Ie),kt=Ke.length;return kt>=2&&Ke[0]instanceof Le&&Ke[0].equals(Ke[kt-1])&&Ke.pop(),Ke},_setLatLngs:function(Ie){Ji.prototype._setLatLngs.call(this,Ie),rt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return rt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var Ie=this._renderer._bounds,Ke=this.options.weight,kt=new Ae(Ke,Ke);if(Ie=new Te(Ie.min.subtract(kt),Ie.max.add(kt)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(Ie))){if(this.options.noClip){this._parts=this._rings;return}for(var rr=0,Ir=this._rings.length,hn;rr<Ir;rr++)hn=Tn(this._rings[rr],Ie,!0),hn.length&&this._parts.push(hn)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(Ie){var Ke=!1,kt,rr,Ir,hn,Yn,bi,Pi,Ki;if(!this._pxBounds||!this._pxBounds.contains(Ie))return!1;for(hn=0,Pi=this._parts.length;hn<Pi;hn++)for(kt=this._parts[hn],Yn=0,Ki=kt.length,bi=Ki-1;Yn<Ki;bi=Yn++)rr=kt[Yn],Ir=kt[bi],rr.y>Ie.y!=Ir.y>Ie.y&&Ie.x<(Ir.x-rr.x)*(Ie.y-rr.y)/(Ir.y-rr.y)+rr.x&&(Ke=!Ke);return Ke||Ji.prototype._containsPoint.call(this,Ie,!0)}});function ho(Ie,Ke){return new no(Ie,Ke)}var oo=rn.extend({initialize:function(Ie,Ke){q(this,Ke),this._layers={},Ie&&this.addData(Ie)},addData:function(Ie){var Ke=G(Ie)?Ie:Ie.features,kt,rr,Ir;if(Ke){for(kt=0,rr=Ke.length;kt<rr;kt++)Ir=Ke[kt],(Ir.geometries||Ir.geometry||Ir.features||Ir.coordinates)&&this.addData(Ir);return this}var hn=this.options;if(hn.filter&&!hn.filter(Ie))return this;var Yn=vo(Ie,hn);return Yn?(Yn.feature=po(Ie),Yn.defaultOptions=Yn.options,this.resetStyle(Yn),hn.onEachFeature&&hn.onEachFeature(Ie,Yn),this.addLayer(Yn)):this},resetStyle:function(Ie){return Ie===void 0?this.eachLayer(this.resetStyle,this):(Ie.options=T({},Ie.defaultOptions),this._setLayerStyle(Ie,this.options.style),this)},setStyle:function(Ie){return this.eachLayer(function(Ke){this._setLayerStyle(Ke,Ie)},this)},_setLayerStyle:function(Ie,Ke){Ie.setStyle&&(typeof Ke=="function"&&(Ke=Ke(Ie.feature)),Ie.setStyle(Ke))}});function vo(Ie,Ke){var kt=Ie.type==="Feature"?Ie.geometry:Ie,rr=kt?kt.coordinates:null,Ir=[],hn=Ke&&Ke.pointToLayer,Yn=Ke&&Ke.coordsToLatLng||uo,bi,Pi,Ki,ro;if(!rr&&!kt)return null;switch(kt.type){case"Point":return bi=Yn(rr),xo(hn,Ie,bi,Ke);case"MultiPoint":for(Ki=0,ro=rr.length;Ki<ro;Ki++)bi=Yn(rr[Ki]),Ir.push(xo(hn,Ie,bi,Ke));return new rn(Ir);case"LineString":case"MultiLineString":return Pi=Ei(rr,kt.type==="LineString"?0:1,Yn),new Ji(Pi,Ke);case"Polygon":case"MultiPolygon":return Pi=Ei(rr,kt.type==="Polygon"?1:2,Yn),new no(Pi,Ke);case"GeometryCollection":for(Ki=0,ro=kt.geometries.length;Ki<ro;Ki++){var fo=vo({geometry:kt.geometries[Ki],type:"Feature",properties:Ie.properties},Ke);fo&&Ir.push(fo)}return new rn(Ir);case"FeatureCollection":for(Ki=0,ro=kt.features.length;Ki<ro;Ki++){var _o=vo(kt.features[Ki],Ke);_o&&Ir.push(_o)}return new rn(Ir);default:throw new Error("Invalid GeoJSON object.")}}function xo(Ie,Ke,kt,rr){return Ie?Ie(Ke,kt):new Ii(kt,rr&&rr.markersInheritOptions&&rr)}function uo(Ie){return new Le(Ie[1],Ie[0],Ie[2])}function Ei(Ie,Ke,kt){for(var rr=[],Ir=0,hn=Ie.length,Yn;Ir<hn;Ir++)Yn=Ke?Ei(Ie[Ir],Ke-1,kt):(kt||uo)(Ie[Ir]),rr.push(Yn);return rr}function $i(Ie,Ke){return Ie=je(Ie),Ie.alt!==void 0?[z(Ie.lng,Ke),z(Ie.lat,Ke),z(Ie.alt,Ke)]:[z(Ie.lng,Ke),z(Ie.lat,Ke)]}function Gi(Ie,Ke,kt,rr){for(var Ir=[],hn=0,Yn=Ie.length;hn<Yn;hn++)Ir.push(Ke?Gi(Ie[hn],rt(Ie[hn])?0:Ke-1,kt,rr):$i(Ie[hn],rr));return!Ke&&kt&&Ir.length>0&&Ir.push(Ir[0].slice()),Ir}function ao(Ie,Ke){return Ie.feature?T({},Ie.feature,{geometry:Ke}):po(Ke)}function po(Ie){return Ie.type==="Feature"||Ie.type==="FeatureCollection"?Ie:{type:"Feature",properties:{},geometry:Ie}}var Po={toGeoJSON:function(Ie){return ao(this,{type:"Point",coordinates:$i(this.getLatLng(),Ie)})}};Ii.include(Po),Ui.include(Po),ji.include(Po),Ji.include({toGeoJSON:function(Ie){var Ke=!rt(this._latlngs),kt=Gi(this._latlngs,Ke?1:0,!1,Ie);return ao(this,{type:(Ke?"Multi":"")+"LineString",coordinates:kt})}}),no.include({toGeoJSON:function(Ie){var Ke=!rt(this._latlngs),kt=Ke&&!rt(this._latlngs[0]),rr=Gi(this._latlngs,kt?2:Ke?1:0,!0,Ie);return Ke||(rr=[rr]),ao(this,{type:(kt?"Multi":"")+"Polygon",coordinates:rr})}}),hr.include({toMultiPoint:function(Ie){var Ke=[];return this.eachLayer(function(kt){Ke.push(kt.toGeoJSON(Ie).geometry.coordinates)}),ao(this,{type:"MultiPoint",coordinates:Ke})},toGeoJSON:function(Ie){var Ke=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(Ke==="MultiPoint")return this.toMultiPoint(Ie);var kt=Ke==="GeometryCollection",rr=[];return this.eachLayer(function(Ir){if(Ir.toGeoJSON){var hn=Ir.toGeoJSON(Ie);if(kt)rr.push(hn.geometry);else{var Yn=po(hn);Yn.type==="FeatureCollection"?rr.push.apply(rr,Yn.features):rr.push(Yn)}}}),kt?ao(this,{geometries:rr,type:"GeometryCollection"}):{type:"FeatureCollection",features:rr}}});function ko(Ie,Ke){return new oo(Ie,Ke)}var Do=ko,No=Xt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(Ie,Ke,kt){this._url=Ie,this._bounds=ze(Ke),q(this,kt)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Je(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Nn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(Ie){return this.options.opacity=Ie,this._image&&this._updateOpacity(),this},setStyle:function(Ie){return Ie.opacity&&this.setOpacity(Ie.opacity),this},bringToFront:function(){return this._map&&nr(this._image),this},bringToBack:function(){return this._map&&en(this._image),this},setUrl:function(Ie){return this._url=Ie,this._image&&(this._image.src=Ie),this},setBounds:function(Ie){return this._bounds=ze(Ie),this._map&&this._reset(),this},getEvents:function(){var Ie={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(Ie.zoomanim=this._animateZoom),Ie},setZIndex:function(Ie){return this.options.zIndex=Ie,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var Ie=this._url.tagName==="IMG",Ke=this._image=Ie?this._url:_n("img");if(Je(Ke,"leaflet-image-layer"),this._zoomAnimated&&Je(Ke,"leaflet-zoom-animated"),this.options.className&&Je(Ke,this.options.className),Ke.onselectstart=U,Ke.onmousemove=U,Ke.onload=P(this.fire,this,"load"),Ke.onerror=P(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Ke.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),Ie){this._url=Ke.src;return}Ke.src=this._url,Ke.alt=this.options.alt},_animateZoom:function(Ie){var Ke=this._map.getZoomScale(Ie.zoom),kt=this._map._latLngBoundsToNewLayerBounds(this._bounds,Ie.zoom,Ie.center).min;jr(this._image,kt,Ke)},_reset:function(){var Ie=this._image,Ke=new Te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),kt=Ke.getSize();Br(Ie,Ke.min),Ie.style.width=kt.x+"px",Ie.style.height=kt.y+"px"},_updateOpacity:function(){Wt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var Ie=this.options.errorOverlayUrl;Ie&&this._url!==Ie&&(this._url=Ie,this._image.src=Ie)},getCenter:function(){return this._bounds.getCenter()}}),Bo=function(Ie,Ke,kt){return new No(Ie,Ke,kt)},Vo=No.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var Ie=this._url.tagName==="VIDEO",Ke=this._image=Ie?this._url:_n("video");if(Je(Ke,"leaflet-image-layer"),this._zoomAnimated&&Je(Ke,"leaflet-zoom-animated"),this.options.className&&Je(Ke,this.options.className),Ke.onselectstart=U,Ke.onmousemove=U,Ke.onloadeddata=P(this.fire,this,"load"),Ie){for(var kt=Ke.getElementsByTagName("source"),rr=[],Ir=0;Ir<kt.length;Ir++)rr.push(kt[Ir].src);this._url=kt.length>0?rr:[Ke.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(Ke.style,"objectFit")&&(Ke.style.objectFit="fill"),Ke.autoplay=!!this.options.autoplay,Ke.loop=!!this.options.loop,Ke.muted=!!this.options.muted,Ke.playsInline=!!this.options.playsInline;for(var hn=0;hn<this._url.length;hn++){var Yn=_n("source");Yn.src=this._url[hn],Ke.appendChild(Yn)}}});function Qo(Ie,Ke,kt){return new Vo(Ie,Ke,kt)}var zo=No.extend({_initImage:function(){var Ie=this._image=this._url;Je(Ie,"leaflet-image-layer"),this._zoomAnimated&&Je(Ie,"leaflet-zoom-animated"),this.options.className&&Je(Ie,this.options.className),Ie.onselectstart=U,Ie.onmousemove=U}});function Zo(Ie,Ke,kt){return new zo(Ie,Ke,kt)}var To=Xt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(Ie,Ke){Ie&&(Ie instanceof Le||G(Ie))?(this._latlng=je(Ie),q(this,Ke)):(q(this,Ie),this._source=Ke),this.options.content&&(this._content=this.options.content)},openOn:function(Ie){return Ie=arguments.length?Ie:this._source._map,Ie.hasLayer(this)||Ie.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(Ie){return this._map?this.close():(arguments.length?this._source=Ie:Ie=this._source,this._prepareOpen(),this.openOn(Ie._map)),this},onAdd:function(Ie){this._zoomAnimated=Ie._zoomAnimated,this._container||this._initLayout(),Ie._fadeAnimated&&Wt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),Ie._fadeAnimated&&Wt(this._container,1),this.bringToFront(),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(Ie){Ie._fadeAnimated?(Wt(this._container,0),this._removeTimeout=setTimeout(P(Nn,void 0,this._container),200)):Nn(this._container),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(Ie){return this._latlng=je(Ie),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(Ie){return this._content=Ie,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var Ie={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(Ie.zoomanim=this._animateZoom),Ie},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&nr(this._container),this},bringToBack:function(){return this._map&&en(this._container),this},_prepareOpen:function(Ie){var Ke=this._source;if(!Ke._map)return!1;if(Ke instanceof rn){Ke=null;var kt=this._source._layers;for(var rr in kt)if(kt[rr]._map){Ke=kt[rr];break}if(!Ke)return!1;this._source=Ke}if(!Ie)if(Ke.getCenter)Ie=Ke.getCenter();else if(Ke.getLatLng)Ie=Ke.getLatLng();else if(Ke.getBounds)Ie=Ke.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(Ie),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var Ie=this._contentNode,Ke=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof Ke=="string")Ie.innerHTML=Ke;else{for(;Ie.hasChildNodes();)Ie.removeChild(Ie.firstChild);Ie.appendChild(Ke)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var Ie=this._map.latLngToLayerPoint(this._latlng),Ke=Ee(this.options.offset),kt=this._getAnchor();this._zoomAnimated?Br(this._container,Ie.add(kt)):Ke=Ke.add(Ie).add(kt);var rr=this._containerBottom=-Ke.y,Ir=this._containerLeft=-Math.round(this._containerWidth/2)+Ke.x;this._container.style.bottom=rr+"px",this._container.style.left=Ir+"px"}},_getAnchor:function(){return[0,0]}});Tr.include({_initOverlay:function(Ie,Ke,kt,rr){var Ir=Ke;return Ir instanceof Ie||(Ir=new Ie(rr).setContent(Ke)),kt&&Ir.setLatLng(kt),Ir}}),Xt.include({_initOverlay:function(Ie,Ke,kt,rr){var Ir=kt;return Ir instanceof Ie?(q(Ir,rr),Ir._source=this):(Ir=Ke&&!rr?Ke:new Ie(rr,this),Ir.setContent(kt)),Ir}});var Fo=To.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(Ie){return Ie=arguments.length?Ie:this._source._map,!Ie.hasLayer(this)&&Ie._popup&&Ie._popup.options.autoClose&&Ie.removeLayer(Ie._popup),Ie._popup=this,To.prototype.openOn.call(this,Ie)},onAdd:function(Ie){To.prototype.onAdd.call(this,Ie),Ie.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ki||this._source.on("preclick",Ur))},onRemove:function(Ie){To.prototype.onRemove.call(this,Ie),Ie.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ki||this._source.off("preclick",Ur))},getEvents:function(){var Ie=To.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(Ie.preclick=this.close),this.options.keepInView&&(Ie.moveend=this._adjustPan),Ie},_initLayout:function(){var Ie="leaflet-popup",Ke=this._container=_n("div",Ie+" "+(this.options.className||"")+" leaflet-zoom-animated"),kt=this._wrapper=_n("div",Ie+"-content-wrapper",Ke);if(this._contentNode=_n("div",Ie+"-content",kt),un(Ke),sn(this._contentNode),oi(Ke,"contextmenu",Ur),this._tipContainer=_n("div",Ie+"-tip-container",Ke),this._tip=_n("div",Ie+"-tip",this._tipContainer),this.options.closeButton){var rr=this._closeButton=_n("a",Ie+"-close-button",Ke);rr.setAttribute("role","button"),rr.setAttribute("aria-label","Close popup"),rr.href="#close",rr.innerHTML='<span aria-hidden="true">&#215;</span>',oi(rr,"click",function(Ir){Dn(Ir),this.close()},this)}},_updateLayout:function(){var Ie=this._contentNode,Ke=Ie.style;Ke.width="",Ke.whiteSpace="nowrap";var kt=Ie.offsetWidth;kt=Math.min(kt,this.options.maxWidth),kt=Math.max(kt,this.options.minWidth),Ke.width=kt+1+"px",Ke.whiteSpace="",Ke.height="";var rr=Ie.offsetHeight,Ir=this.options.maxHeight,hn="leaflet-popup-scrolled";Ir&&rr>Ir?(Ke.height=Ir+"px",Je(Ie,hn)):Rt(Ie,hn),this._containerWidth=this._container.offsetWidth},_animateZoom:function(Ie){var Ke=this._map._latLngToNewLayerPoint(this._latlng,Ie.zoom,Ie.center),kt=this._getAnchor();Br(this._container,Ke.add(kt))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var Ie=this._map,Ke=parseInt(nn(this._container,"marginBottom"),10)||0,kt=this._container.offsetHeight+Ke,rr=this._containerWidth,Ir=new Ae(this._containerLeft,-kt-this._containerBottom);Ir._add(yr(this._container));var hn=Ie.layerPointToContainerPoint(Ir),Yn=Ee(this.options.autoPanPadding),bi=Ee(this.options.autoPanPaddingTopLeft||Yn),Pi=Ee(this.options.autoPanPaddingBottomRight||Yn),Ki=Ie.getSize(),ro=0,fo=0;hn.x+rr+Pi.x>Ki.x&&(ro=hn.x+rr-Ki.x+Pi.x),hn.x-ro-bi.x<0&&(ro=hn.x-bi.x),hn.y+kt+Pi.y>Ki.y&&(fo=hn.y+kt-Ki.y+Pi.y),hn.y-fo-bi.y<0&&(fo=hn.y-bi.y),(ro||fo)&&(this.options.keepInView&&(this._autopanning=!0),Ie.fire("autopanstart").panBy([ro,fo]))}},_getAnchor:function(){return Ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ya=function(Ie,Ke){return new Fo(Ie,Ke)};Tr.mergeOptions({closePopupOnClick:!0}),Tr.include({openPopup:function(Ie,Ke,kt){return this._initOverlay(Fo,Ie,Ke,kt).openOn(this),this},closePopup:function(Ie){return Ie=arguments.length?Ie:this._popup,Ie&&Ie.close(),this}}),Xt.include({bindPopup:function(Ie,Ke){return this._popup=this._initOverlay(Fo,this._popup,Ie,Ke),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(Ie){return this._popup&&(this instanceof rn||(this._popup._source=this),this._popup._prepareOpen(Ie||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(Ie){return this._popup&&this._popup.setContent(Ie),this},getPopup:function(){return this._popup},_openPopup:function(Ie){if(!(!this._popup||!this._map)){Fn(Ie);var Ke=Ie.layer||Ie.target;if(this._popup._source===Ke&&!(Ke instanceof ki)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(Ie.latlng);return}this._popup._source=Ke,this.openPopup(Ie.latlng)}},_movePopup:function(Ie){this._popup.setLatLng(Ie.latlng)},_onKeyPress:function(Ie){Ie.originalEvent.keyCode===13&&this._openPopup(Ie)}});var Yo=To.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(Ie){To.prototype.onAdd.call(this,Ie),this.setOpacity(this.options.opacity),Ie.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(Ie){To.prototype.onRemove.call(this,Ie),Ie.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var Ie=To.prototype.getEvents.call(this);return this.options.permanent||(Ie.preclick=this.close),Ie},_initLayout:function(){var Ie="leaflet-tooltip",Ke=Ie+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_n("div",Ke),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+I(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(Ie){var Ke,kt,rr=this._map,Ir=this._container,hn=rr.latLngToContainerPoint(rr.getCenter()),Yn=rr.layerPointToContainerPoint(Ie),bi=this.options.direction,Pi=Ir.offsetWidth,Ki=Ir.offsetHeight,ro=Ee(this.options.offset),fo=this._getAnchor();bi==="top"?(Ke=Pi/2,kt=Ki):bi==="bottom"?(Ke=Pi/2,kt=0):bi==="center"?(Ke=Pi/2,kt=Ki/2):bi==="right"?(Ke=0,kt=Ki/2):bi==="left"?(Ke=Pi,kt=Ki/2):Yn.x<hn.x?(bi="right",Ke=0,kt=Ki/2):(bi="left",Ke=Pi+(ro.x+fo.x)*2,kt=Ki/2),Ie=Ie.subtract(Ee(Ke,kt,!0)).add(ro).add(fo),Rt(Ir,"leaflet-tooltip-right"),Rt(Ir,"leaflet-tooltip-left"),Rt(Ir,"leaflet-tooltip-top"),Rt(Ir,"leaflet-tooltip-bottom"),Je(Ir,"leaflet-tooltip-"+bi),Br(Ir,Ie)},_updatePosition:function(){var Ie=this._map.latLngToLayerPoint(this._latlng);this._setPosition(Ie)},setOpacity:function(Ie){this.options.opacity=Ie,this._container&&Wt(this._container,Ie)},_animateZoom:function(Ie){var Ke=this._map._latLngToNewLayerPoint(this._latlng,Ie.zoom,Ie.center);this._setPosition(Ke)},_getAnchor:function(){return Ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ga=function(Ie,Ke){return new Yo(Ie,Ke)};Tr.include({openTooltip:function(Ie,Ke,kt){return this._initOverlay(Yo,Ie,Ke,kt).openOn(this),this},closeTooltip:function(Ie){return Ie.close(),this}}),Xt.include({bindTooltip:function(Ie,Ke){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Yo,this._tooltip,Ie,Ke),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(Ie){if(!(!Ie&&this._tooltipHandlersAdded)){var Ke=Ie?"off":"on",kt={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?kt.add=this._openTooltip:(kt.mouseover=this._openTooltip,kt.mouseout=this.closeTooltip,kt.click=this._openTooltip,this._map?this._addFocusListeners():kt.add=this._addFocusListeners),this._tooltip.options.sticky&&(kt.mousemove=this._moveTooltip),this[Ke](kt),this._tooltipHandlersAdded=!Ie}},openTooltip:function(Ie){return this._tooltip&&(this instanceof rn||(this._tooltip._source=this),this._tooltip._prepareOpen(Ie)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(Ie){return this._tooltip&&this._tooltip.setContent(Ie),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(Ie){var Ke=typeof Ie.getElement=="function"&&Ie.getElement();Ke&&(oi(Ke,"focus",function(){this._tooltip._source=Ie,this.openTooltip()},this),oi(Ke,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(Ie){var Ke=typeof Ie.getElement=="function"&&Ie.getElement();Ke&&Ke.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(Ie){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var Ke=this;this._map.once("moveend",function(){Ke._openOnceFlag=!1,Ke._openTooltip(Ie)});return}this._tooltip._source=Ie.layer||Ie.target,this.openTooltip(this._tooltip.options.sticky?Ie.latlng:void 0)}},_moveTooltip:function(Ie){var Ke=Ie.latlng,kt,rr;this._tooltip.options.sticky&&Ie.originalEvent&&(kt=this._map.mouseEventToContainerPoint(Ie.originalEvent),rr=this._map.containerPointToLayerPoint(kt),Ke=this._map.layerPointToLatLng(rr)),this._tooltip.setLatLng(Ke)}});var Jo=In.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(Ie){var Ke=Ie&&Ie.tagName==="DIV"?Ie:document.createElement("div"),kt=this.options;if(kt.html instanceof Element?(tr(Ke),Ke.appendChild(kt.html)):Ke.innerHTML=kt.html!==!1?kt.html:"",kt.bgPos){var rr=Ee(kt.bgPos);Ke.style.backgroundPosition=-rr.x+"px "+-rr.y+"px"}return this._setIconStyles(Ke,"icon"),Ke},createShadow:function(){return null}});function ha(Ie){return new Jo(Ie)}In.Default=ci;var oa=Xt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ln.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(Ie){q(this,Ie)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(Ie){Ie._addZoomLimit(this)},onRemove:function(Ie){this._removeAllTiles(),Nn(this._container),Ie._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(nr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(en(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(Ie){return this.options.opacity=Ie,this._updateOpacity(),this},setZIndex:function(Ie){return this.options.zIndex=Ie,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var Ie=this._clampZoom(this._map.getZoom());Ie!==this._tileZoom&&(this._tileZoom=Ie,this._updateLevels()),this._update()}return this},getEvents:function(){var Ie={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=N(this._onMoveEnd,this.options.updateInterval,this)),Ie.move=this._onMove),this._zoomAnimated&&(Ie.zoomanim=this._animateZoom),Ie},createTile:function(){return document.createElement("div")},getTileSize:function(){var Ie=this.options.tileSize;return Ie instanceof Ae?Ie:new Ae(Ie,Ie)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(Ie){for(var Ke=this.getPane().children,kt=-Ie(-1/0,1/0),rr=0,Ir=Ke.length,hn;rr<Ir;rr++)hn=Ke[rr].style.zIndex,Ke[rr]!==this._container&&hn&&(kt=Ie(kt,+hn));isFinite(kt)&&(this.options.zIndex=kt+Ie(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ln.ielt9){Wt(this._container,this.options.opacity);var Ie=+new Date,Ke=!1,kt=!1;for(var rr in this._tiles){var Ir=this._tiles[rr];if(!(!Ir.current||!Ir.loaded)){var hn=Math.min(1,(Ie-Ir.loaded)/200);Wt(Ir.el,hn),hn<1?Ke=!0:(Ir.active?kt=!0:this._onOpaqueTile(Ir),Ir.active=!0)}}kt&&!this._noPrune&&this._pruneTiles(),Ke&&(ie(this._fadeFrame),this._fadeFrame=de(this._updateOpacity,this))}},_onOpaqueTile:U,_initContainer:function(){this._container||(this._container=_n("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var Ie=this._tileZoom,Ke=this.options.maxZoom;if(Ie!==void 0){for(var kt in this._levels)kt=Number(kt),this._levels[kt].el.children.length||kt===Ie?(this._levels[kt].el.style.zIndex=Ke-Math.abs(Ie-kt),this._onUpdateLevel(kt)):(Nn(this._levels[kt].el),this._removeTilesAtZoom(kt),this._onRemoveLevel(kt),delete this._levels[kt]);var rr=this._levels[Ie],Ir=this._map;return rr||(rr=this._levels[Ie]={},rr.el=_n("div","leaflet-tile-container leaflet-zoom-animated",this._container),rr.el.style.zIndex=Ke,rr.origin=Ir.project(Ir.unproject(Ir.getPixelOrigin()),Ie).round(),rr.zoom=Ie,this._setZoomTransform(rr,Ir.getCenter(),Ir.getZoom()),U(rr.el.offsetWidth),this._onCreateLevel(rr)),this._level=rr,rr}},_onUpdateLevel:U,_onRemoveLevel:U,_onCreateLevel:U,_pruneTiles:function(){if(this._map){var Ie,Ke,kt=this._map.getZoom();if(kt>this.options.maxZoom||kt<this.options.minZoom){this._removeAllTiles();return}for(Ie in this._tiles)Ke=this._tiles[Ie],Ke.retain=Ke.current;for(Ie in this._tiles)if(Ke=this._tiles[Ie],Ke.current&&!Ke.active){var rr=Ke.coords;this._retainParent(rr.x,rr.y,rr.z,rr.z-5)||this._retainChildren(rr.x,rr.y,rr.z,rr.z+2)}for(Ie in this._tiles)this._tiles[Ie].retain||this._removeTile(Ie)}},_removeTilesAtZoom:function(Ie){for(var Ke in this._tiles)this._tiles[Ke].coords.z===Ie&&this._removeTile(Ke)},_removeAllTiles:function(){for(var Ie in this._tiles)this._removeTile(Ie)},_invalidateAll:function(){for(var Ie in this._levels)Nn(this._levels[Ie].el),this._onRemoveLevel(Number(Ie)),delete this._levels[Ie];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(Ie,Ke,kt,rr){var Ir=Math.floor(Ie/2),hn=Math.floor(Ke/2),Yn=kt-1,bi=new Ae(+Ir,+hn);bi.z=+Yn;var Pi=this._tileCoordsToKey(bi),Ki=this._tiles[Pi];return Ki&&Ki.active?(Ki.retain=!0,!0):(Ki&&Ki.loaded&&(Ki.retain=!0),Yn>rr?this._retainParent(Ir,hn,Yn,rr):!1)},_retainChildren:function(Ie,Ke,kt,rr){for(var Ir=2*Ie;Ir<2*Ie+2;Ir++)for(var hn=2*Ke;hn<2*Ke+2;hn++){var Yn=new Ae(Ir,hn);Yn.z=kt+1;var bi=this._tileCoordsToKey(Yn),Pi=this._tiles[bi];if(Pi&&Pi.active){Pi.retain=!0;continue}else Pi&&Pi.loaded&&(Pi.retain=!0);kt+1<rr&&this._retainChildren(Ir,hn,kt+1,rr)}},_resetView:function(Ie){var Ke=Ie&&(Ie.pinch||Ie.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),Ke,Ke)},_animateZoom:function(Ie){this._setView(Ie.center,Ie.zoom,!0,Ie.noUpdate)},_clampZoom:function(Ie){var Ke=this.options;return Ke.minNativeZoom!==void 0&&Ie<Ke.minNativeZoom?Ke.minNativeZoom:Ke.maxNativeZoom!==void 0&&Ke.maxNativeZoom<Ie?Ke.maxNativeZoom:Ie},_setView:function(Ie,Ke,kt,rr){var Ir=Math.round(Ke);this.options.maxZoom!==void 0&&Ir>this.options.maxZoom||this.options.minZoom!==void 0&&Ir<this.options.minZoom?Ir=void 0:Ir=this._clampZoom(Ir);var hn=this.options.updateWhenZooming&&Ir!==this._tileZoom;(!rr||hn)&&(this._tileZoom=Ir,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Ir!==void 0&&this._update(Ie),kt||this._pruneTiles(),this._noPrune=!!kt),this._setZoomTransforms(Ie,Ke)},_setZoomTransforms:function(Ie,Ke){for(var kt in this._levels)this._setZoomTransform(this._levels[kt],Ie,Ke)},_setZoomTransform:function(Ie,Ke,kt){var rr=this._map.getZoomScale(kt,Ie.zoom),Ir=Ie.origin.multiplyBy(rr).subtract(this._map._getNewPixelOrigin(Ke,kt)).round();Ln.any3d?jr(Ie.el,Ir,rr):Br(Ie.el,Ir)},_resetGrid:function(){var Ie=this._map,Ke=Ie.options.crs,kt=this._tileSize=this.getTileSize(),rr=this._tileZoom,Ir=this._map.getPixelWorldBounds(this._tileZoom);Ir&&(this._globalTileRange=this._pxBoundsToTileRange(Ir)),this._wrapX=Ke.wrapLng&&!this.options.noWrap&&[Math.floor(Ie.project([0,Ke.wrapLng[0]],rr).x/kt.x),Math.ceil(Ie.project([0,Ke.wrapLng[1]],rr).x/kt.y)],this._wrapY=Ke.wrapLat&&!this.options.noWrap&&[Math.floor(Ie.project([Ke.wrapLat[0],0],rr).y/kt.x),Math.ceil(Ie.project([Ke.wrapLat[1],0],rr).y/kt.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(Ie){var Ke=this._map,kt=Ke._animatingZoom?Math.max(Ke._animateToZoom,Ke.getZoom()):Ke.getZoom(),rr=Ke.getZoomScale(kt,this._tileZoom),Ir=Ke.project(Ie,this._tileZoom).floor(),hn=Ke.getSize().divideBy(rr*2);return new Te(Ir.subtract(hn),Ir.add(hn))},_update:function(Ie){var Ke=this._map;if(Ke){var kt=this._clampZoom(Ke.getZoom());if(Ie===void 0&&(Ie=Ke.getCenter()),this._tileZoom!==void 0){var rr=this._getTiledPixelBounds(Ie),Ir=this._pxBoundsToTileRange(rr),hn=Ir.getCenter(),Yn=[],bi=this.options.keepBuffer,Pi=new Te(Ir.getBottomLeft().subtract([bi,-bi]),Ir.getTopRight().add([bi,-bi]));if(!(isFinite(Ir.min.x)&&isFinite(Ir.min.y)&&isFinite(Ir.max.x)&&isFinite(Ir.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ki in this._tiles){var ro=this._tiles[Ki].coords;(ro.z!==this._tileZoom||!Pi.contains(new Ae(ro.x,ro.y)))&&(this._tiles[Ki].current=!1)}if(Math.abs(kt-this._tileZoom)>1){this._setView(Ie,kt);return}for(var fo=Ir.min.y;fo<=Ir.max.y;fo++)for(var _o=Ir.min.x;_o<=Ir.max.x;_o++){var ia=new Ae(_o,fo);if(ia.z=this._tileZoom,!!this._isValidTile(ia)){var qo=this._tiles[this._tileCoordsToKey(ia)];qo?qo.current=!0:Yn.push(ia)}}if(Yn.sort(function(ea,Fa){return ea.distanceTo(hn)-Fa.distanceTo(hn)}),Yn.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ko=document.createDocumentFragment();for(_o=0;_o<Yn.length;_o++)this._addTile(Yn[_o],Ko);this._level.el.appendChild(Ko)}}}},_isValidTile:function(Ie){var Ke=this._map.options.crs;if(!Ke.infinite){var kt=this._globalTileRange;if(!Ke.wrapLng&&(Ie.x<kt.min.x||Ie.x>kt.max.x)||!Ke.wrapLat&&(Ie.y<kt.min.y||Ie.y>kt.max.y))return!1}if(!this.options.bounds)return!0;var rr=this._tileCoordsToBounds(Ie);return ze(this.options.bounds).overlaps(rr)},_keyToBounds:function(Ie){return this._tileCoordsToBounds(this._keyToTileCoords(Ie))},_tileCoordsToNwSe:function(Ie){var Ke=this._map,kt=this.getTileSize(),rr=Ie.scaleBy(kt),Ir=rr.add(kt),hn=Ke.unproject(rr,Ie.z),Yn=Ke.unproject(Ir,Ie.z);return[hn,Yn]},_tileCoordsToBounds:function(Ie){var Ke=this._tileCoordsToNwSe(Ie),kt=new Me(Ke[0],Ke[1]);return this.options.noWrap||(kt=this._map.wrapLatLngBounds(kt)),kt},_tileCoordsToKey:function(Ie){return Ie.x+":"+Ie.y+":"+Ie.z},_keyToTileCoords:function(Ie){var Ke=Ie.split(":"),kt=new Ae(+Ke[0],+Ke[1]);return kt.z=+Ke[2],kt},_removeTile:function(Ie){var Ke=this._tiles[Ie];Ke&&(Nn(Ke.el),delete this._tiles[Ie],this.fire("tileunload",{tile:Ke.el,coords:this._keyToTileCoords(Ie)}))},_initTile:function(Ie){Je(Ie,"leaflet-tile");var Ke=this.getTileSize();Ie.style.width=Ke.x+"px",Ie.style.height=Ke.y+"px",Ie.onselectstart=U,Ie.onmousemove=U,Ln.ielt9&&this.options.opacity<1&&Wt(Ie,this.options.opacity)},_addTile:function(Ie,Ke){var kt=this._getTilePos(Ie),rr=this._tileCoordsToKey(Ie),Ir=this.createTile(this._wrapCoords(Ie),P(this._tileReady,this,Ie));this._initTile(Ir),this.createTile.length<2&&de(P(this._tileReady,this,Ie,null,Ir)),Br(Ir,kt),this._tiles[rr]={el:Ir,coords:Ie,current:!0},Ke.appendChild(Ir),this.fire("tileloadstart",{tile:Ir,coords:Ie})},_tileReady:function(Ie,Ke,kt){Ke&&this.fire("tileerror",{error:Ke,tile:kt,coords:Ie});var rr=this._tileCoordsToKey(Ie);kt=this._tiles[rr],kt&&(kt.loaded=+new Date,this._map._fadeAnimated?(Wt(kt.el,0),ie(this._fadeFrame),this._fadeFrame=de(this._updateOpacity,this)):(kt.active=!0,this._pruneTiles()),Ke||(Je(kt.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:kt.el,coords:Ie})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ln.ielt9||!this._map._fadeAnimated?de(this._pruneTiles,this):setTimeout(P(this._pruneTiles,this),250)))},_getTilePos:function(Ie){return Ie.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(Ie){var Ke=new Ae(this._wrapX?j(Ie.x,this._wrapX):Ie.x,this._wrapY?j(Ie.y,this._wrapY):Ie.y);return Ke.z=Ie.z,Ke},_pxBoundsToTileRange:function(Ie){var Ke=this.getTileSize();return new Te(Ie.min.unscaleBy(Ke).floor(),Ie.max.unscaleBy(Ke).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var Ie in this._tiles)if(!this._tiles[Ie].loaded)return!1;return!0}});function qa(Ie){return new oa(Ie)}var pa=oa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(Ie,Ke){this._url=Ie,Ke=q(this,Ke),Ke.detectRetina&&Ln.retina&&Ke.maxZoom>0?(Ke.tileSize=Math.floor(Ke.tileSize/2),Ke.zoomReverse?(Ke.zoomOffset--,Ke.minZoom=Math.min(Ke.maxZoom,Ke.minZoom+1)):(Ke.zoomOffset++,Ke.maxZoom=Math.max(Ke.minZoom,Ke.maxZoom-1)),Ke.minZoom=Math.max(0,Ke.minZoom)):Ke.zoomReverse?Ke.minZoom=Math.min(Ke.maxZoom,Ke.minZoom):Ke.maxZoom=Math.max(Ke.minZoom,Ke.maxZoom),typeof Ke.subdomains=="string"&&(Ke.subdomains=Ke.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(Ie,Ke){return this._url===Ie&&Ke===void 0&&(Ke=!0),this._url=Ie,Ke||this.redraw(),this},createTile:function(Ie,Ke){var kt=document.createElement("img");return oi(kt,"load",P(this._tileOnLoad,this,Ke,kt)),oi(kt,"error",P(this._tileOnError,this,Ke,kt)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(kt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(kt.referrerPolicy=this.options.referrerPolicy),kt.alt="",kt.src=this.getTileUrl(Ie),kt},getTileUrl:function(Ie){var Ke={r:Ln.retina?"@2x":"",s:this._getSubdomain(Ie),x:Ie.x,y:Ie.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var kt=this._globalTileRange.max.y-Ie.y;this.options.tms&&(Ke.y=kt),Ke["-y"]=kt}return H(this._url,T(Ke,this.options))},_tileOnLoad:function(Ie,Ke){Ln.ielt9?setTimeout(P(Ie,this,null,Ke),0):Ie(null,Ke)},_tileOnError:function(Ie,Ke,kt){var rr=this.options.errorTileUrl;rr&&Ke.getAttribute("src")!==rr&&(Ke.src=rr),Ie(kt,Ke)},_onTileRemove:function(Ie){Ie.tile.onload=null},_getZoomForUrl:function(){var Ie=this._tileZoom,Ke=this.options.maxZoom,kt=this.options.zoomReverse,rr=this.options.zoomOffset;return kt&&(Ie=Ke-Ie),Ie+rr},_getSubdomain:function(Ie){var Ke=Math.abs(Ie.x+Ie.y)%this.options.subdomains.length;return this.options.subdomains[Ke]},_abortLoading:function(){var Ie,Ke;for(Ie in this._tiles)if(this._tiles[Ie].coords.z!==this._tileZoom&&(Ke=this._tiles[Ie].el,Ke.onload=U,Ke.onerror=U,!Ke.complete)){Ke.src=Y;var kt=this._tiles[Ie].coords;Nn(Ke),delete this._tiles[Ie],this.fire("tileabort",{tile:Ke,coords:kt})}},_removeTile:function(Ie){var Ke=this._tiles[Ie];if(Ke)return Ke.el.setAttribute("src",Y),oa.prototype._removeTile.call(this,Ie)},_tileReady:function(Ie,Ke,kt){if(!(!this._map||kt&&kt.getAttribute("src")===Y))return oa.prototype._tileReady.call(this,Ie,Ke,kt)}});function La(Ie,Ke){return new pa(Ie,Ke)}var ba=pa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(Ie,Ke){this._url=Ie;var kt=T({},this.defaultWmsParams);for(var rr in Ke)rr in this.options||(kt[rr]=Ke[rr]);Ke=q(this,Ke);var Ir=Ke.detectRetina&&Ln.retina?2:1,hn=this.getTileSize();kt.width=hn.x*Ir,kt.height=hn.y*Ir,this.wmsParams=kt},onAdd:function(Ie){this._crs=this.options.crs||Ie.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var Ke=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[Ke]=this._crs.code,pa.prototype.onAdd.call(this,Ie)},getTileUrl:function(Ie){var Ke=this._tileCoordsToNwSe(Ie),kt=this._crs,rr=Re(kt.project(Ke[0]),kt.project(Ke[1])),Ir=rr.min,hn=rr.max,Yn=(this._wmsVersion>=1.3&&this._crs===nt?[Ir.y,Ir.x,hn.y,hn.x]:[Ir.x,Ir.y,hn.x,hn.y]).join(","),bi=pa.prototype.getTileUrl.call(this,Ie);return bi+B(this.wmsParams,bi,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Yn},setParams:function(Ie,Ke){return T(this.wmsParams,Ie),Ke||this.redraw(),this}});function $a(Ie,Ke){return new ba(Ie,Ke)}pa.WMS=ba,La.wms=$a;var ra=Xt.extend({options:{padding:.1},initialize:function(Ie){q(this,Ie),I(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Je(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var Ie={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(Ie.zoomanim=this._onAnimZoom),Ie},_onAnimZoom:function(Ie){this._updateTransform(Ie.center,Ie.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(Ie,Ke){var kt=this._map.getZoomScale(Ke,this._zoom),rr=this._map.getSize().multiplyBy(.5+this.options.padding),Ir=this._map.project(this._center,Ke),hn=rr.multiplyBy(-kt).add(Ir).subtract(this._map._getNewPixelOrigin(Ie,Ke));Ln.any3d?jr(this._container,hn,kt):Br(this._container,hn)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var Ie in this._layers)this._layers[Ie]._reset()},_onZoomEnd:function(){for(var Ie in this._layers)this._layers[Ie]._project()},_updatePaths:function(){for(var Ie in this._layers)this._layers[Ie]._update()},_update:function(){var Ie=this.options.padding,Ke=this._map.getSize(),kt=this._map.containerPointToLayerPoint(Ke.multiplyBy(-Ie)).round();this._bounds=new Te(kt,kt.add(Ke.multiplyBy(1+Ie*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ja=ra.extend({options:{tolerance:0},getEvents:function(){var Ie=ra.prototype.getEvents.call(this);return Ie.viewprereset=this._onViewPreReset,Ie},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ra.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var Ie=this._container=document.createElement("canvas");oi(Ie,"mousemove",this._onMouseMove,this),oi(Ie,"click dblclick mousedown mouseup contextmenu",this._onClick,this),oi(Ie,"mouseout",this._handleMouseOut,this),Ie._leaflet_disable_events=!0,this._ctx=Ie.getContext("2d")},_destroyContainer:function(){ie(this._redrawRequest),delete this._ctx,Nn(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var Ie;this._redrawBounds=null;for(var Ke in this._layers)Ie=this._layers[Ke],Ie._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ra.prototype._update.call(this);var Ie=this._bounds,Ke=this._container,kt=Ie.getSize(),rr=Ln.retina?2:1;Br(Ke,Ie.min),Ke.width=rr*kt.x,Ke.height=rr*kt.y,Ke.style.width=kt.x+"px",Ke.style.height=kt.y+"px",Ln.retina&&this._ctx.scale(2,2),this._ctx.translate(-Ie.min.x,-Ie.min.y),this.fire("update")}},_reset:function(){ra.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(Ie){this._updateDashArray(Ie),this._layers[I(Ie)]=Ie;var Ke=Ie._order={layer:Ie,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=Ke),this._drawLast=Ke,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(Ie){this._requestRedraw(Ie)},_removePath:function(Ie){var Ke=Ie._order,kt=Ke.next,rr=Ke.prev;kt?kt.prev=rr:this._drawLast=rr,rr?rr.next=kt:this._drawFirst=kt,delete Ie._order,delete this._layers[I(Ie)],this._requestRedraw(Ie)},_updatePath:function(Ie){this._extendRedrawBounds(Ie),Ie._project(),Ie._update(),this._requestRedraw(Ie)},_updateStyle:function(Ie){this._updateDashArray(Ie),this._requestRedraw(Ie)},_updateDashArray:function(Ie){if(typeof Ie.options.dashArray=="string"){var Ke=Ie.options.dashArray.split(/[, ]+/),kt=[],rr,Ir;for(Ir=0;Ir<Ke.length;Ir++){if(rr=Number(Ke[Ir]),isNaN(rr))return;kt.push(rr)}Ie.options._dashArray=kt}else Ie.options._dashArray=Ie.options.dashArray},_requestRedraw:function(Ie){this._map&&(this._extendRedrawBounds(Ie),this._redrawRequest=this._redrawRequest||de(this._redraw,this))},_extendRedrawBounds:function(Ie){if(Ie._pxBounds){var Ke=(Ie.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Te,this._redrawBounds.extend(Ie._pxBounds.min.subtract([Ke,Ke])),this._redrawBounds.extend(Ie._pxBounds.max.add([Ke,Ke]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var Ie=this._redrawBounds;if(Ie){var Ke=Ie.getSize();this._ctx.clearRect(Ie.min.x,Ie.min.y,Ke.x,Ke.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var Ie,Ke=this._redrawBounds;if(this._ctx.save(),Ke){var kt=Ke.getSize();this._ctx.beginPath(),this._ctx.rect(Ke.min.x,Ke.min.y,kt.x,kt.y),this._ctx.clip()}this._drawing=!0;for(var rr=this._drawFirst;rr;rr=rr.next)Ie=rr.layer,(!Ke||Ie._pxBounds&&Ie._pxBounds.intersects(Ke))&&Ie._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(Ie,Ke){if(this._drawing){var kt,rr,Ir,hn,Yn=Ie._parts,bi=Yn.length,Pi=this._ctx;if(bi){for(Pi.beginPath(),kt=0;kt<bi;kt++){for(rr=0,Ir=Yn[kt].length;rr<Ir;rr++)hn=Yn[kt][rr],Pi[rr?"lineTo":"moveTo"](hn.x,hn.y);Ke&&Pi.closePath()}this._fillStroke(Pi,Ie)}}},_updateCircle:function(Ie){if(!(!this._drawing||Ie._empty())){var Ke=Ie._point,kt=this._ctx,rr=Math.max(Math.round(Ie._radius),1),Ir=(Math.max(Math.round(Ie._radiusY),1)||rr)/rr;Ir!==1&&(kt.save(),kt.scale(1,Ir)),kt.beginPath(),kt.arc(Ke.x,Ke.y/Ir,rr,0,Math.PI*2,!1),Ir!==1&&kt.restore(),this._fillStroke(kt,Ie)}},_fillStroke:function(Ie,Ke){var kt=Ke.options;kt.fill&&(Ie.globalAlpha=kt.fillOpacity,Ie.fillStyle=kt.fillColor||kt.color,Ie.fill(kt.fillRule||"evenodd")),kt.stroke&&kt.weight!==0&&(Ie.setLineDash&&Ie.setLineDash(Ke.options&&Ke.options._dashArray||[]),Ie.globalAlpha=kt.opacity,Ie.lineWidth=kt.weight,Ie.strokeStyle=kt.color,Ie.lineCap=kt.lineCap,Ie.lineJoin=kt.lineJoin,Ie.stroke())},_onClick:function(Ie){for(var Ke=this._map.mouseEventToLayerPoint(Ie),kt,rr,Ir=this._drawFirst;Ir;Ir=Ir.next)kt=Ir.layer,kt.options.interactive&&kt._containsPoint(Ke)&&(!(Ie.type==="click"||Ie.type==="preclick")||!this._map._draggableMoved(kt))&&(rr=kt);this._fireEvent(rr?[rr]:!1,Ie)},_onMouseMove:function(Ie){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var Ke=this._map.mouseEventToLayerPoint(Ie);this._handleMouseHover(Ie,Ke)}},_handleMouseOut:function(Ie){var Ke=this._hoveredLayer;Ke&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([Ke],Ie,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(Ie,Ke){if(!this._mouseHoverThrottled){for(var kt,rr,Ir=this._drawFirst;Ir;Ir=Ir.next)kt=Ir.layer,kt.options.interactive&&kt._containsPoint(Ke)&&(rr=kt);rr!==this._hoveredLayer&&(this._handleMouseOut(Ie),rr&&(Je(this._container,"leaflet-interactive"),this._fireEvent([rr],Ie,"mouseover"),this._hoveredLayer=rr)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,Ie),this._mouseHoverThrottled=!0,setTimeout(P(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(Ie,Ke,kt){this._map._fireDOMEvent(Ke,kt||Ke.type,Ie)},_bringToFront:function(Ie){var Ke=Ie._order;if(Ke){var kt=Ke.next,rr=Ke.prev;if(kt)kt.prev=rr;else return;rr?rr.next=kt:kt&&(this._drawFirst=kt),Ke.prev=this._drawLast,this._drawLast.next=Ke,Ke.next=null,this._drawLast=Ke,this._requestRedraw(Ie)}},_bringToBack:function(Ie){var Ke=Ie._order;if(Ke){var kt=Ke.next,rr=Ke.prev;if(rr)rr.next=kt;else return;kt?kt.prev=rr:rr&&(this._drawLast=rr),Ke.prev=null,Ke.next=this._drawFirst,this._drawFirst.prev=Ke,this._drawFirst=Ke,this._requestRedraw(Ie)}}});function Pa(Ie){return Ln.canvas?new ja(Ie):null}var Na=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(Ie){return document.createElement("<lvml:"+Ie+' class="lvml">')}}catch{}return function(Ie){return document.createElement("<"+Ie+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ka={_initContainer:function(){this._container=_n("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ra.prototype._update.call(this),this.fire("update"))},_initPath:function(Ie){var Ke=Ie._container=Na("shape");Je(Ke,"leaflet-vml-shape "+(this.options.className||"")),Ke.coordsize="1 1",Ie._path=Na("path"),Ke.appendChild(Ie._path),this._updateStyle(Ie),this._layers[I(Ie)]=Ie},_addPath:function(Ie){var Ke=Ie._container;this._container.appendChild(Ke),Ie.options.interactive&&Ie.addInteractiveTarget(Ke)},_removePath:function(Ie){var Ke=Ie._container;Nn(Ke),Ie.removeInteractiveTarget(Ke),delete this._layers[I(Ie)]},_updateStyle:function(Ie){var Ke=Ie._stroke,kt=Ie._fill,rr=Ie.options,Ir=Ie._container;Ir.stroked=!!rr.stroke,Ir.filled=!!rr.fill,rr.stroke?(Ke||(Ke=Ie._stroke=Na("stroke")),Ir.appendChild(Ke),Ke.weight=rr.weight+"px",Ke.color=rr.color,Ke.opacity=rr.opacity,rr.dashArray?Ke.dashStyle=G(rr.dashArray)?rr.dashArray.join(" "):rr.dashArray.replace(/( *, *)/g," "):Ke.dashStyle="",Ke.endcap=rr.lineCap.replace("butt","flat"),Ke.joinstyle=rr.lineJoin):Ke&&(Ir.removeChild(Ke),Ie._stroke=null),rr.fill?(kt||(kt=Ie._fill=Na("fill")),Ir.appendChild(kt),kt.color=rr.fillColor||rr.color,kt.opacity=rr.fillOpacity):kt&&(Ir.removeChild(kt),Ie._fill=null)},_updateCircle:function(Ie){var Ke=Ie._point.round(),kt=Math.round(Ie._radius),rr=Math.round(Ie._radiusY||kt);this._setPath(Ie,Ie._empty()?"M0 0":"AL "+Ke.x+","+Ke.y+" "+kt+","+rr+" 0,"+65535*360)},_setPath:function(Ie,Ke){Ie._path.v=Ke},_bringToFront:function(Ie){nr(Ie._container)},_bringToBack:function(Ie){en(Ie._container)}},Wa=Ln.vml?Na:He,Ra=ra.extend({_initContainer:function(){this._container=Wa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Nn(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ra.prototype._update.call(this);var Ie=this._bounds,Ke=Ie.getSize(),kt=this._container;(!this._svgSize||!this._svgSize.equals(Ke))&&(this._svgSize=Ke,kt.setAttribute("width",Ke.x),kt.setAttribute("height",Ke.y)),Br(kt,Ie.min),kt.setAttribute("viewBox",[Ie.min.x,Ie.min.y,Ke.x,Ke.y].join(" ")),this.fire("update")}},_initPath:function(Ie){var Ke=Ie._path=Wa("path");Ie.options.className&&Je(Ke,Ie.options.className),Ie.options.interactive&&Je(Ke,"leaflet-interactive"),this._updateStyle(Ie),this._layers[I(Ie)]=Ie},_addPath:function(Ie){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(Ie._path),Ie.addInteractiveTarget(Ie._path)},_removePath:function(Ie){Nn(Ie._path),Ie.removeInteractiveTarget(Ie._path),delete this._layers[I(Ie)]},_updatePath:function(Ie){Ie._project(),Ie._update()},_updateStyle:function(Ie){var Ke=Ie._path,kt=Ie.options;Ke&&(kt.stroke?(Ke.setAttribute("stroke",kt.color),Ke.setAttribute("stroke-opacity",kt.opacity),Ke.setAttribute("stroke-width",kt.weight),Ke.setAttribute("stroke-linecap",kt.lineCap),Ke.setAttribute("stroke-linejoin",kt.lineJoin),kt.dashArray?Ke.setAttribute("stroke-dasharray",kt.dashArray):Ke.removeAttribute("stroke-dasharray"),kt.dashOffset?Ke.setAttribute("stroke-dashoffset",kt.dashOffset):Ke.removeAttribute("stroke-dashoffset")):Ke.setAttribute("stroke","none"),kt.fill?(Ke.setAttribute("fill",kt.fillColor||kt.color),Ke.setAttribute("fill-opacity",kt.fillOpacity),Ke.setAttribute("fill-rule",kt.fillRule||"evenodd")):Ke.setAttribute("fill","none"))},_updatePoly:function(Ie,Ke){this._setPath(Ie,Ue(Ie._parts,Ke))},_updateCircle:function(Ie){var Ke=Ie._point,kt=Math.max(Math.round(Ie._radius),1),rr=Math.max(Math.round(Ie._radiusY),1)||kt,Ir="a"+kt+","+rr+" 0 1,0 ",hn=Ie._empty()?"M0 0":"M"+(Ke.x-kt)+","+Ke.y+Ir+kt*2+",0 "+Ir+-kt*2+",0 ";this._setPath(Ie,hn)},_setPath:function(Ie,Ke){Ie._path.setAttribute("d",Ke)},_bringToFront:function(Ie){nr(Ie._path)},_bringToBack:function(Ie){en(Ie._path)}});Ln.vml&&Ra.include(ka);function Ca(Ie){return Ln.svg||Ln.vml?new Ra(Ie):null}Tr.include({getRenderer:function(Ie){var Ke=Ie.options.renderer||this._getPaneRenderer(Ie.options.pane)||this.options.renderer||this._renderer;return Ke||(Ke=this._renderer=this._createRenderer()),this.hasLayer(Ke)||this.addLayer(Ke),Ke},_getPaneRenderer:function(Ie){if(Ie==="overlayPane"||Ie===void 0)return!1;var Ke=this._paneRenderers[Ie];return Ke===void 0&&(Ke=this._createRenderer({pane:Ie}),this._paneRenderers[Ie]=Ke),Ke},_createRenderer:function(Ie){return this.options.preferCanvas&&Pa(Ie)||Ca(Ie)}});var Sa=no.extend({initialize:function(Ie,Ke){no.prototype.initialize.call(this,this._boundsToLatLngs(Ie),Ke)},setBounds:function(Ie){return this.setLatLngs(this._boundsToLatLngs(Ie))},_boundsToLatLngs:function(Ie){return Ie=ze(Ie),[Ie.getSouthWest(),Ie.getNorthWest(),Ie.getNorthEast(),Ie.getSouthEast()]}});function Bs(Ie,Ke){return new Sa(Ie,Ke)}Ra.create=Wa,Ra.pointsToPath=Ue,oo.geometryToLayer=vo,oo.coordsToLatLng=uo,oo.coordsToLatLngs=Ei,oo.latLngToCoords=$i,oo.latLngsToCoords=Gi,oo.getFeature=ao,oo.asFeature=po,Tr.mergeOptions({boxZoom:!0});var us=dr.extend({initialize:function(Ie){this._map=Ie,this._container=Ie._container,this._pane=Ie._panes.overlayPane,this._resetStateTimeout=0,Ie.on("unload",this._destroy,this)},addHooks:function(){oi(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Nn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(Ie){if(!Ie.shiftKey||Ie.which!==1&&Ie.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nr(),Sn(),this._startPoint=this._map.mouseEventToContainerPoint(Ie),oi(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(Ie){this._moved||(this._moved=!0,this._box=_n("div","leaflet-zoom-box",this._container),Je(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(Ie);var Ke=new Te(this._point,this._startPoint),kt=Ke.getSize();Br(this._box,Ke.min),this._box.style.width=kt.x+"px",this._box.style.height=kt.y+"px"},_finish:function(){this._moved&&(Nn(this._box),Rt(this._container,"leaflet-crosshair")),Hr(),Pn(),ot(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(Ie){if(!(Ie.which!==1&&Ie.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(P(this._resetState,this),0);var Ke=new Me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(Ke).fire("boxzoomend",{boxZoomBounds:Ke})}},_onKeyDown:function(Ie){Ie.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Tr.addInitHook("addHandler","boxZoom",us),Tr.mergeOptions({doubleClickZoom:!0});var ks=dr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(Ie){var Ke=this._map,kt=Ke.getZoom(),rr=Ke.options.zoomDelta,Ir=Ie.originalEvent.shiftKey?kt-rr:kt+rr;Ke.options.doubleClickZoom==="center"?Ke.setZoom(Ir):Ke.setZoomAround(Ie.containerPoint,Ir)}});Tr.addInitHook("addHandler","doubleClickZoom",ks),Tr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Cs=dr.extend({addHooks:function(){if(!this._draggable){var Ie=this._map;this._draggable=new kn(Ie._mapPane,Ie._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),Ie.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),Ie.on("zoomend",this._onZoomEnd,this),Ie.whenReady(this._onZoomEnd,this))}Je(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Rt(this._map._container,"leaflet-grab"),Rt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var Ie=this._map;if(Ie._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var Ke=ze(this._map.options.maxBounds);this._offsetLimit=Re(this._map.latLngToContainerPoint(Ke.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(Ke.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;Ie.fire("movestart").fire("dragstart"),Ie.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(Ie){if(this._map.options.inertia){var Ke=this._lastTime=+new Date,kt=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(kt),this._times.push(Ke),this._prunePositions(Ke)}this._map.fire("move",Ie).fire("drag",Ie)},_prunePositions:function(Ie){for(;this._positions.length>1&&Ie-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var Ie=this._map.getSize().divideBy(2),Ke=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=Ke.subtract(Ie).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(Ie,Ke){return Ie-(Ie-Ke)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var Ie=this._draggable._newPos.subtract(this._draggable._startPos),Ke=this._offsetLimit;Ie.x<Ke.min.x&&(Ie.x=this._viscousLimit(Ie.x,Ke.min.x)),Ie.y<Ke.min.y&&(Ie.y=this._viscousLimit(Ie.y,Ke.min.y)),Ie.x>Ke.max.x&&(Ie.x=this._viscousLimit(Ie.x,Ke.max.x)),Ie.y>Ke.max.y&&(Ie.y=this._viscousLimit(Ie.y,Ke.max.y)),this._draggable._newPos=this._draggable._startPos.add(Ie)}},_onPreDragWrap:function(){var Ie=this._worldWidth,Ke=Math.round(Ie/2),kt=this._initialWorldOffset,rr=this._draggable._newPos.x,Ir=(rr-Ke+kt)%Ie+Ke-kt,hn=(rr+Ke+kt)%Ie-Ke-kt,Yn=Math.abs(Ir+kt)<Math.abs(hn+kt)?Ir:hn;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Yn},_onDragEnd:function(Ie){var Ke=this._map,kt=Ke.options,rr=!kt.inertia||Ie.noInertia||this._times.length<2;if(Ke.fire("dragend",Ie),rr)Ke.fire("moveend");else{this._prunePositions(+new Date);var Ir=this._lastPos.subtract(this._positions[0]),hn=(this._lastTime-this._times[0])/1e3,Yn=kt.easeLinearity,bi=Ir.multiplyBy(Yn/hn),Pi=bi.distanceTo([0,0]),Ki=Math.min(kt.inertiaMaxSpeed,Pi),ro=bi.multiplyBy(Ki/Pi),fo=Ki/(kt.inertiaDeceleration*Yn),_o=ro.multiplyBy(-fo/2).round();!_o.x&&!_o.y?Ke.fire("moveend"):(_o=Ke._limitOffset(_o,Ke.options.maxBounds),de(function(){Ke.panBy(_o,{duration:fo,easeLinearity:Yn,noMoveStart:!0,animate:!0})}))}}});Tr.addInitHook("addHandler","dragging",Cs),Tr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ss=dr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(Ie){this._map=Ie,this._setPanDelta(Ie.options.keyboardPanDelta),this._setZoomDelta(Ie.options.zoomDelta)},addHooks:function(){var Ie=this._map._container;Ie.tabIndex<=0&&(Ie.tabIndex="0"),oi(Ie,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var Ie=document.body,Ke=document.documentElement,kt=Ie.scrollTop||Ke.scrollTop,rr=Ie.scrollLeft||Ke.scrollLeft;this._map._container.focus(),window.scrollTo(rr,kt)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(Ie){var Ke=this._panKeys={},kt=this.keyCodes,rr,Ir;for(rr=0,Ir=kt.left.length;rr<Ir;rr++)Ke[kt.left[rr]]=[-1*Ie,0];for(rr=0,Ir=kt.right.length;rr<Ir;rr++)Ke[kt.right[rr]]=[Ie,0];for(rr=0,Ir=kt.down.length;rr<Ir;rr++)Ke[kt.down[rr]]=[0,Ie];for(rr=0,Ir=kt.up.length;rr<Ir;rr++)Ke[kt.up[rr]]=[0,-1*Ie]},_setZoomDelta:function(Ie){var Ke=this._zoomKeys={},kt=this.keyCodes,rr,Ir;for(rr=0,Ir=kt.zoomIn.length;rr<Ir;rr++)Ke[kt.zoomIn[rr]]=Ie;for(rr=0,Ir=kt.zoomOut.length;rr<Ir;rr++)Ke[kt.zoomOut[rr]]=-Ie},_addHooks:function(){oi(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(Ie){if(!(Ie.altKey||Ie.ctrlKey||Ie.metaKey)){var Ke=Ie.keyCode,kt=this._map,rr;if(Ke in this._panKeys){if(!kt._panAnim||!kt._panAnim._inProgress)if(rr=this._panKeys[Ke],Ie.shiftKey&&(rr=Ee(rr).multiplyBy(3)),kt.options.maxBounds&&(rr=kt._limitOffset(Ee(rr),kt.options.maxBounds)),kt.options.worldCopyJump){var Ir=kt.wrapLatLng(kt.unproject(kt.project(kt.getCenter()).add(rr)));kt.panTo(Ir)}else kt.panBy(rr)}else if(Ke in this._zoomKeys)kt.setZoom(kt.getZoom()+(Ie.shiftKey?3:1)*this._zoomKeys[Ke]);else if(Ke===27&&kt._popup&&kt._popup.options.closeOnEscapeKey)kt.closePopup();else return;Fn(Ie)}}});Tr.addInitHook("addHandler","keyboard",Ss),Tr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var na=dr.extend({addHooks:function(){oi(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(Ie){var Ke=Bt(Ie),kt=this._map.options.wheelDebounceTime;this._delta+=Ke,this._lastMousePos=this._map.mouseEventToContainerPoint(Ie),this._startTime||(this._startTime=+new Date);var rr=Math.max(kt-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(P(this._performZoom,this),rr),Fn(Ie)},_performZoom:function(){var Ie=this._map,Ke=Ie.getZoom(),kt=this._map.options.zoomSnap||0;Ie._stop();var rr=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Ir=4*Math.log(2/(1+Math.exp(-Math.abs(rr))))/Math.LN2,hn=kt?Math.ceil(Ir/kt)*kt:Ir,Yn=Ie._limitZoom(Ke+(this._delta>0?hn:-hn))-Ke;this._delta=0,this._startTime=null,Yn&&(Ie.options.scrollWheelZoom==="center"?Ie.setZoom(Ke+Yn):Ie.setZoomAround(this._lastMousePos,Ke+Yn))}});Tr.addInitHook("addHandler","scrollWheelZoom",na);var Ho=600;Tr.mergeOptions({tapHold:Ln.touchNative&&Ln.safari&&Ln.mobile,tapTolerance:15});var Xo=dr.extend({addHooks:function(){oi(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(Ie){if(clearTimeout(this._holdTimeout),Ie.touches.length===1){var Ke=Ie.touches[0];this._startPos=this._newPos=new Ae(Ke.clientX,Ke.clientY),this._holdTimeout=setTimeout(P(function(){this._cancel(),this._isTapValid()&&(oi(document,"touchend",Dn),oi(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",Ke))},this),Ho),oi(document,"touchend touchcancel contextmenu",this._cancel,this),oi(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function Ie(){ot(document,"touchend",Dn),ot(document,"touchend touchcancel",Ie)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(Ie){var Ke=Ie.touches[0];this._newPos=new Ae(Ke.clientX,Ke.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(Ie,Ke){var kt=new MouseEvent(Ie,{bubbles:!0,cancelable:!0,view:window,screenX:Ke.screenX,screenY:Ke.screenY,clientX:Ke.clientX,clientY:Ke.clientY});kt._simulated=!0,Ke.target.dispatchEvent(kt)}});Tr.addInitHook("addHandler","tapHold",Xo),Tr.mergeOptions({touchZoom:Ln.touch,bounceAtZoomLimits:!0});var Go=dr.extend({addHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),oi(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(Ie){var Ke=this._map;if(!(!Ie.touches||Ie.touches.length!==2||Ke._animatingZoom||this._zooming)){var kt=Ke.mouseEventToContainerPoint(Ie.touches[0]),rr=Ke.mouseEventToContainerPoint(Ie.touches[1]);this._centerPoint=Ke.getSize()._divideBy(2),this._startLatLng=Ke.containerPointToLatLng(this._centerPoint),Ke.options.touchZoom!=="center"&&(this._pinchStartLatLng=Ke.containerPointToLatLng(kt.add(rr)._divideBy(2))),this._startDist=kt.distanceTo(rr),this._startZoom=Ke.getZoom(),this._moved=!1,this._zooming=!0,Ke._stop(),oi(document,"touchmove",this._onTouchMove,this),oi(document,"touchend touchcancel",this._onTouchEnd,this),Dn(Ie)}},_onTouchMove:function(Ie){if(!(!Ie.touches||Ie.touches.length!==2||!this._zooming)){var Ke=this._map,kt=Ke.mouseEventToContainerPoint(Ie.touches[0]),rr=Ke.mouseEventToContainerPoint(Ie.touches[1]),Ir=kt.distanceTo(rr)/this._startDist;if(this._zoom=Ke.getScaleZoom(Ir,this._startZoom),!Ke.options.bounceAtZoomLimits&&(this._zoom<Ke.getMinZoom()&&Ir<1||this._zoom>Ke.getMaxZoom()&&Ir>1)&&(this._zoom=Ke._limitZoom(this._zoom)),Ke.options.touchZoom==="center"){if(this._center=this._startLatLng,Ir===1)return}else{var hn=kt._add(rr)._divideBy(2)._subtract(this._centerPoint);if(Ir===1&&hn.x===0&&hn.y===0)return;this._center=Ke.unproject(Ke.project(this._pinchStartLatLng,this._zoom).subtract(hn),this._zoom)}this._moved||(Ke._moveStart(!0,!1),this._moved=!0),ie(this._animRequest);var Yn=P(Ke._move,Ke,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=de(Yn,this,!0),Dn(Ie)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ie(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Tr.addInitHook("addHandler","touchZoom",Go),Tr.BoxZoom=us,Tr.DoubleClickZoom=ks,Tr.Drag=Cs,Tr.Keyboard=Ss,Tr.ScrollWheelZoom=na,Tr.TapHold=Xo,Tr.TouchZoom=Go,_.Bounds=Te,_.Browser=Ln,_.CRS=Ne,_.Canvas=ja,_.Circle=Ui,_.CircleMarker=ji,_.Class=xe,_.Control=Kr,_.DivIcon=Jo,_.DivOverlay=To,_.DomEvent=qt,_.DomUtil=wi,_.Draggable=kn,_.Evented=Oe,_.FeatureGroup=rn,_.GeoJSON=oo,_.GridLayer=oa,_.Handler=dr,_.Icon=In,_.ImageOverlay=No,_.LatLng=Le,_.LatLngBounds=Me,_.Layer=Xt,_.LayerGroup=hr,_.LineUtil=ur,_.Map=Tr,_.Marker=Ii,_.Mixin=Qr,_.Path=ki,_.Point=Ae,_.PolyUtil=ti,_.Polygon=no,_.Polyline=Ji,_.Popup=Fo,_.PosAnimation=Jt,_.Projection=Bn,_.Rectangle=Sa,_.Renderer=ra,_.SVG=Ra,_.SVGOverlay=zo,_.TileLayer=pa,_.Tooltip=Yo,_.Transformation=tt,_.Util=ve,_.VideoOverlay=Vo,_.bind=P,_.bounds=Re,_.canvas=Pa,_.circle=io,_.circleMarker=Vi,_.control=on,_.divIcon=ha,_.extend=T,_.featureGroup=xn,_.geoJSON=ko,_.geoJson=Do,_.gridLayer=qa,_.icon=ni,_.imageOverlay=Bo,_.latLng=je,_.latLngBounds=ze,_.layerGroup=Zt,_.map=Rr,_.marker=vi,_.point=Ee,_.polygon=ho,_.polyline=co,_.popup=ya,_.rectangle=Bs,_.setOptions=q,_.stamp=I,_.svg=Ca,_.svgOverlay=Zo,_.tileLayer=La,_.tooltip=ga,_.transformation=it,_.version=A,_.videoOverlay=Qo;var Va=window.L;_.noConflict=function(){return window.L=Va,this},window.L=_})})(leafletSrc,leafletSrc.exports);var leafletSrcExports=leafletSrc.exports;function createElementObject($,E,_){return Object.freeze({instance:$,context:E,container:_})}function createElementHook($,E){return E==null?function(A,T){const O=reactExports.useRef();return O.current||(O.current=$(A,T)),O}:function(A,T){const O=reactExports.useRef();O.current||(O.current=$(A,T));const P=reactExports.useRef(A),{instance:R}=O.current;return reactExports.useEffect(function(){P.current!==A&&(E(R,A,P.current),P.current=A)},[R,A,T]),O}}function useLayerLifecycle($,E){reactExports.useEffect(function(){return(E.layerContainer??E.map).addLayer($.instance),function(){var O;(O=E.layerContainer)==null||O.removeLayer($.instance),E.map.removeLayer($.instance)}},[E,$])}function createLayerHook($){return function(_){const A=useLeafletContext(),T=$(withPane(_,A),A);return useAttribution(A.map,_.attribution),useEventHandlers(T.current,_.eventHandlers),useLayerLifecycle(T.current,A),T}}function createLayerComponent($,E){const _=createElementHook($,E),A=createLayerHook(_);return createContainerComponent(A)}function createOverlayComponent($,E){const _=createElementHook($),A=createDivOverlayHook(_,E);return createDivOverlayComponent(A)}function createTileLayerComponent($,E){const _=createElementHook($,E),A=createLayerHook(_);return createLeafComponent(A)}function updateGridLayer($,E,_){const{opacity:A,zIndex:T}=E;A!=null&&A!==_.opacity&&$.setOpacity(A),T!=null&&T!==_.zIndex&&$.setZIndex(T)}function _extends(){return _extends=Object.assign||function($){for(var E=1;E<arguments.length;E++){var _=arguments[E];for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&($[A]=_[A])}return $},_extends.apply(this,arguments)}function MapContainerComponent({bounds:$,boundsOptions:E,center:_,children:A,className:T,id:O,placeholder:P,style:R,whenReady:I,zoom:N,...j},U){const[z]=reactExports.useState({className:T,id:O,style:R}),[V,F]=reactExports.useState(null);reactExports.useImperativeHandle(U,()=>(V==null?void 0:V.map)??null,[V]);const q=reactExports.useCallback(W=>{if(W!==null&&V===null){const H=new leafletSrcExports.Map(W,j);_!=null&&N!=null?H.setView(_,N):$!=null&&H.fitBounds($,E),I!=null&&H.whenReady(I),F(createLeafletContext(H))}},[]);reactExports.useEffect(()=>()=>{V==null||V.map.remove()},[V]);const B=V?React.createElement(LeafletProvider,{value:V},A):P??null;return React.createElement("div",_extends({},z,{ref:q}),B)}const MapContainer=reactExports.forwardRef(MapContainerComponent),Marker=createLayerComponent(function({position:E,..._},A){const T=new leafletSrcExports.Marker(E,_);return createElementObject(T,extendContext(A,{overlayContainer:T}))},function(E,_,A){_.position!==A.position&&E.setLatLng(_.position),_.icon!=null&&_.icon!==A.icon&&E.setIcon(_.icon),_.zIndexOffset!=null&&_.zIndexOffset!==A.zIndexOffset&&E.setZIndexOffset(_.zIndexOffset),_.opacity!=null&&_.opacity!==A.opacity&&E.setOpacity(_.opacity),E.dragging!=null&&_.draggable!==A.draggable&&(_.draggable===!0?E.dragging.enable():E.dragging.disable())}),Popup=createOverlayComponent(function(E,_){const A=new leafletSrcExports.Popup(E,_.overlayContainer);return createElementObject(A,_)},function(E,_,{position:A},T){reactExports.useEffect(function(){const{instance:P}=E;function R(N){N.popup===P&&(P.update(),T(!0))}function I(N){N.popup===P&&T(!1)}return _.map.on({popupopen:R,popupclose:I}),_.overlayContainer==null?(A!=null&&P.setLatLng(A),P.openOn(_.map)):_.overlayContainer.bindPopup(P),function(){var j;_.map.off({popupopen:R,popupclose:I}),(j=_.overlayContainer)==null||j.unbindPopup(),_.map.removeLayer(P)}},[E,_,T,A])}),TileLayer=createTileLayerComponent(function({url:E,..._},A){const T=new leafletSrcExports.TileLayer(E,withPane(_,A));return createElementObject(T,A)},function(E,_,A){updateGridLayer(E,_,A);const{url:T}=_;T!=null&&T!==A.url&&E.setUrl(T)}),icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",iconShadow="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",defaultIcon=new leafletSrcExports.Icon({iconUrl:icon,shadowUrl:iconShadow,iconSize:[25,41],iconAnchor:[12,41]}),position=[48.0794,7.3585];function Map$1(){return jsxRuntimeExports.jsx("div",{className:"h-[400px] rounded-lg overflow-hidden shadow-lg",children:jsxRuntimeExports.jsxs(MapContainer,{center:position,zoom:15,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[jsxRuntimeExports.jsx(TileLayer,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),jsxRuntimeExports.jsx(Marker,{position,icon:defaultIcon,children:jsxRuntimeExports.jsxs(Popup,{children:["Cabinet de Laetitia Knoerr",jsxRuntimeExports.jsx("br",{}),"Neuropsychologue"]})})]})})}function Contact(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background",children:[jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:"Contact | Neuropsychologue à Colmar - Laetitia Knoerr"}),jsxRuntimeExports.jsx("meta",{name:"description",content:"Contactez Laetitia Knoerr, neuropsychologue à Colmar. Prenez rendez-vous pour un bilan TDAH, HPI ou troubles de l'apprentissage. Cabinet situé au centre de Colmar."}),jsxRuntimeExports.jsx("link",{rel:"canonical",href:`${window.location.origin}/contact`})]}),jsxRuntimeExports.jsx("div",{className:"bg-white py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold font-lora text-dark mb-4",children:"Contact"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"N'hésitez pas à me contacter pour toute question ou pour prendre rendez-vous"})]})}),jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"space-y-8",children:jsxRuntimeExports.jsx(ContactForm,{})}),jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsx(ContactInfo,{}),jsxRuntimeExports.jsx(Map$1,{})]})]})})]})}function PrivacyPolicy(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background py-16",children:[jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:"Politique de confidentialité | Laetitia Knoerr - Neuropsychologue à Colmar"}),jsxRuntimeExports.jsx("meta",{name:"description",content:"Politique de confidentialité et protection des données personnelles du cabinet de neuropsychologie de Laetitia Knoerr à Colmar."})]}),jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold font-lora text-dark mb-8",children:"Politique de confidentialité"}),jsxRuntimeExports.jsxs("div",{className:"prose prose-lg",children:[jsxRuntimeExports.jsx("h2",{children:"1. Collecte des données personnelles"}),jsxRuntimeExports.jsx("p",{children:"Les données personnelles collectées sur ce site sont uniquement utilisées dans le cadre de votre prise en charge thérapeutique ou pour répondre à vos demandes de contact. Ces informations incluent :"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Nom et prénom"}),jsxRuntimeExports.jsx("li",{children:"Adresse email"}),jsxRuntimeExports.jsx("li",{children:"Numéro de téléphone"}),jsxRuntimeExports.jsx("li",{children:"Motif de consultation"})]}),jsxRuntimeExports.jsx("h2",{children:"2. Utilisation des données"}),jsxRuntimeExports.jsx("p",{children:"Vos données sont utilisées exclusivement pour :"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Vous recontacter suite à une demande de rendez-vous"}),jsxRuntimeExports.jsx("li",{children:"Assurer votre suivi thérapeutique"}),jsxRuntimeExports.jsx("li",{children:"Vous envoyer des informations relatives à vos rendez-vous"})]}),jsxRuntimeExports.jsx("h2",{children:"3. Protection des données"}),jsxRuntimeExports.jsx("p",{children:"Conformément au RGPD, nous mettons en œuvre toutes les mesures de sécurité nécessaires pour protéger vos données personnelles :"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Stockage sécurisé via Firebase"}),jsxRuntimeExports.jsx("li",{children:"Accès restreint aux données"}),jsxRuntimeExports.jsx("li",{children:"Chiffrement des communications"})]}),jsxRuntimeExports.jsx("h2",{children:"4. Vos droits"}),jsxRuntimeExports.jsx("p",{children:"Vous disposez des droits suivants concernant vos données personnelles :"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Droit d'accès"}),jsxRuntimeExports.jsx("li",{children:"Droit de rectification"}),jsxRuntimeExports.jsx("li",{children:"Droit à l'effacement"}),jsxRuntimeExports.jsx("li",{children:"Droit à la limitation du traitement"}),jsxRuntimeExports.jsx("li",{children:"Droit à la portabilité"})]}),jsxRuntimeExports.jsx("h2",{children:"5. Contact"}),jsxRuntimeExports.jsx("p",{children:"Pour toute question concernant vos données personnelles, vous pouvez me contacter à l'adresse suivante : contact@laetitiaknoerr.fr"})]})]})})]})}function LegalNotice(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background py-16",children:[jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:"Mentions légales | Laetitia Knoerr - Neuropsychologue à Colmar"}),jsxRuntimeExports.jsx("meta",{name:"description",content:"Mentions légales du cabinet de neuropsychologie de Laetitia Knoerr à Colmar."})]}),jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold font-lora text-dark mb-8",children:"Mentions légales"}),jsxRuntimeExports.jsxs("div",{className:"prose prose-lg",children:[jsxRuntimeExports.jsx("h2",{children:"Éditeur du site"}),jsxRuntimeExports.jsxs("p",{children:["Cabinet de Neuropsychologie Laetitia Knoerr",jsxRuntimeExports.jsx("br",{}),"123 Rue des Consultations",jsxRuntimeExports.jsx("br",{}),"68000 Colmar",jsxRuntimeExports.jsx("br",{}),"Tél : 01 23 45 67 89",jsxRuntimeExports.jsx("br",{}),"Email : contact@laetitiaknoerr.fr"]}),jsxRuntimeExports.jsx("h2",{children:"Responsable de publication"}),jsxRuntimeExports.jsxs("p",{children:["Laetitia Knoerr",jsxRuntimeExports.jsx("br",{}),"Neuropsychologue",jsxRuntimeExports.jsx("br",{}),"N° ADELI : [Numéro à ajouter]"]}),jsxRuntimeExports.jsx("h2",{children:"Hébergement"}),jsxRuntimeExports.jsxs("p",{children:["Ce site est hébergé par Netlify Inc.",jsxRuntimeExports.jsx("br",{}),"2325 3rd Street, Suite 215",jsxRuntimeExports.jsx("br",{}),"San Francisco, CA 94107",jsxRuntimeExports.jsx("br",{}),"United States"]}),jsxRuntimeExports.jsx("h2",{children:"Propriété intellectuelle"}),jsxRuntimeExports.jsx("p",{children:"L'ensemble du contenu de ce site (textes, images, vidéos) est protégé par le droit d'auteur. Toute reproduction ou utilisation sans autorisation préalable est interdite."}),jsxRuntimeExports.jsx("h2",{children:"Protection des données personnelles"}),jsxRuntimeExports.jsx("p",{children:"Conformément au Règlement Général sur la Protection des Données (RGPD), vous disposez d'un droit d'accès, de rectification et de suppression de vos données personnelles. Pour exercer ces droits, contactez-moi par email."}),jsxRuntimeExports.jsx("h2",{children:"Cookies"}),jsxRuntimeExports.jsx("p",{children:"Ce site utilise des cookies techniques essentiels au fonctionnement du site. Ces cookies ne collectent aucune donnée personnelle."})]})]})})]})}function App(){return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("main",{className:"flex-grow",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/about",element:jsxRuntimeExports.jsx(About,{})}),jsxRuntimeExports.jsx(Route,{path:"/services",element:jsxRuntimeExports.jsx(Services,{})}),jsxRuntimeExports.jsx(Route,{path:"/blog",element:jsxRuntimeExports.jsx(Blog,{})}),jsxRuntimeExports.jsx(Route,{path:"/blog/:slug",element:jsxRuntimeExports.jsx(BlogPost,{})}),jsxRuntimeExports.jsx(Route,{path:"/contact",element:jsxRuntimeExports.jsx(Contact,{})}),jsxRuntimeExports.jsx(Route,{path:"/privacy",element:jsxRuntimeExports.jsx(PrivacyPolicy,{})}),jsxRuntimeExports.jsx(Route,{path:"/legal",element:jsxRuntimeExports.jsx(LegalNotice,{})})]})}),jsxRuntimeExports.jsx(Footer,{}),jsxRuntimeExports.jsx(CookieConsent,{})]})})}var decapCmsApp={exports:{}};decapCmsApp.exports;(function(module,exports){var define_process_env_default={};/*! For license information please see decap-cms-app.js.LICENSE.txt */(function($,E){module.exports=E(reactExports,reactDomExports)})(window,(__WEBPACK_EXTERNAL_MODULE__12244__,__WEBPACK_EXTERNAL_MODULE__53741__)=>(()=>{var __webpack_modules__={61540:($,E,_)=>{_.r(E),_.d(E,{AutoScrollActivator:()=>Yt,DndContext:()=>cr,DragOverlay:()=>Rt,KeyboardCode:()=>St,KeyboardSensor:()=>Et,MeasuringFrequency:()=>$r,MeasuringStrategy:()=>Mr,MouseSensor:()=>wt,PointerSensor:()=>Qt,TouchSensor:()=>Kt,TraversalOrder:()=>xr,applyModifiers:()=>ut,closestCenter:()=>ie,closestCorners:()=>ve,defaultAnnouncements:()=>F,defaultCoordinates:()=>Z,defaultDropAnimation:()=>en,defaultDropAnimationSideEffects:()=>nr,defaultScreenReaderInstructions:()=>V,getClientRect:()=>Me,getFirstCollision:()=>se,getScrollableAncestors:()=>Le,pointerWithin:()=>Oe,rectIntersection:()=>ke,useDndContext:()=>Fr,useDndMonitor:()=>z,useDraggable:()=>On,useDroppable:()=>mt,useSensor:()=>H,useSensors:()=>G});var A=_(12244),T=_.n(A),O=_(53741),P=_(82851);const R={display:"none"};function I(yt){let{id:Ot,value:Wt}=yt;return T().createElement("div",{id:Ot,style:R},Wt)}const N={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function j(yt){let{id:Ot,announcement:Wt}=yt;return T().createElement("div",{id:Ot,style:N,role:"status","aria-live":"assertive","aria-atomic":!0},Wt)}const U=(0,A.createContext)(null);function z(yt){const Ot=(0,A.useContext)(U);(0,A.useEffect)(()=>{if(!Ot)throw new Error("useDndMonitor must be used within a children of <DndContext>");return Ot(yt)},[yt,Ot])}const V={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},F={onDragStart(yt){let{active:Ot}=yt;return"Picked up draggable item "+Ot.id+"."},onDragOver(yt){let{active:Ot,over:Wt}=yt;return Wt?"Draggable item "+Ot.id+" was moved over droppable area "+Wt.id+".":"Draggable item "+Ot.id+" is no longer over a droppable area."},onDragEnd(yt){let{active:Ot,over:Wt}=yt;return Wt?"Draggable item "+Ot.id+" was dropped over droppable area "+Wt.id:"Draggable item "+Ot.id+" was dropped."},onDragCancel(yt){let{active:Ot}=yt;return"Dragging was cancelled. Draggable item "+Ot.id+" was dropped."}};function q(yt){let{announcements:Ot=F,container:Wt,hiddenTextDescribedById:br,screenReaderInstructions:Sr=V}=yt;const{announce:jr,announcement:Br}=function(){const[Yr,Sn]=(0,A.useState)("");return{announce:(0,A.useCallback)(Pn=>{Pn!=null&&Sn(Pn)},[]),announcement:Yr}}(),yr=(0,P.useUniqueId)("DndLiveRegion"),[Nr,Hr]=(0,A.useState)(!1);if((0,A.useEffect)(()=>{Hr(!0)},[]),z((0,A.useMemo)(()=>({onDragStart(Yr){let{active:Sn}=Yr;jr(Ot.onDragStart({active:Sn}))},onDragMove(Yr){let{active:Sn,over:Pn}=Yr;Ot.onDragMove&&jr(Ot.onDragMove({active:Sn,over:Pn}))},onDragOver(Yr){let{active:Sn,over:Pn}=Yr;jr(Ot.onDragOver({active:Sn,over:Pn}))},onDragEnd(Yr){let{active:Sn,over:Pn}=Yr;jr(Ot.onDragEnd({active:Sn,over:Pn}))},onDragCancel(Yr){let{active:Sn,over:Pn}=Yr;jr(Ot.onDragCancel({active:Sn,over:Pn}))}}),[jr,Ot])),!Nr)return null;const Gr=T().createElement(T().Fragment,null,T().createElement(I,{id:br,value:Sr.draggable}),T().createElement(j,{id:yr,announcement:Br}));return Wt?(0,O.createPortal)(Gr,Wt):Gr}var B;function W(){}function H(yt,Ot){return(0,A.useMemo)(()=>({sensor:yt,options:Ot??{}}),[yt,Ot])}function G(){for(var yt=arguments.length,Ot=new Array(yt),Wt=0;Wt<yt;Wt++)Ot[Wt]=arguments[Wt];return(0,A.useMemo)(()=>[...Ot].filter(br=>br!=null),[...Ot])}(function(yt){yt.DragStart="dragStart",yt.DragMove="dragMove",yt.DragEnd="dragEnd",yt.DragCancel="dragCancel",yt.DragOver="dragOver",yt.RegisterDroppable="registerDroppable",yt.SetDroppableDisabled="setDroppableDisabled",yt.UnregisterDroppable="unregisterDroppable"})(B||(B={}));const Z=Object.freeze({x:0,y:0});function Y(yt,Ot){return Math.sqrt(Math.pow(yt.x-Ot.x,2)+Math.pow(yt.y-Ot.y,2))}function ee(yt,Ot){const Wt=(0,P.getEventCoordinates)(yt);return Wt?(Wt.x-Ot.left)/Ot.width*100+"% "+(Wt.y-Ot.top)/Ot.height*100+"%":"0 0"}function J(yt,Ot){let{data:{value:Wt}}=yt,{data:{value:br}}=Ot;return Wt-br}function Q(yt,Ot){let{data:{value:Wt}}=yt,{data:{value:br}}=Ot;return br-Wt}function te(yt){let{left:Ot,top:Wt,height:br,width:Sr}=yt;return[{x:Ot,y:Wt},{x:Ot+Sr,y:Wt},{x:Ot,y:Wt+br},{x:Ot+Sr,y:Wt+br}]}function se(yt,Ot){if(!yt||yt.length===0)return null;const[Wt]=yt;return Ot?Wt[Ot]:Wt}function de(yt,Ot,Wt){return Ot===void 0&&(Ot=yt.left),Wt===void 0&&(Wt=yt.top),{x:Ot+.5*yt.width,y:Wt+.5*yt.height}}const ie=yt=>{let{collisionRect:Ot,droppableRects:Wt,droppableContainers:br}=yt;const Sr=de(Ot,Ot.left,Ot.top),jr=[];for(const Br of br){const{id:yr}=Br,Nr=Wt.get(yr);if(Nr){const Hr=Y(de(Nr),Sr);jr.push({id:yr,data:{droppableContainer:Br,value:Hr}})}}return jr.sort(J)},ve=yt=>{let{collisionRect:Ot,droppableRects:Wt,droppableContainers:br}=yt;const Sr=te(Ot),jr=[];for(const Br of br){const{id:yr}=Br,Nr=Wt.get(yr);if(Nr){const Hr=te(Nr),Gr=Sr.reduce((Sn,Pn,vn)=>Sn+Y(Hr[vn],Pn),0),Yr=Number((Gr/4).toFixed(4));jr.push({id:yr,data:{droppableContainer:Br,value:Yr}})}}return jr.sort(J)};function xe(yt,Ot){const Wt=Math.max(Ot.top,yt.top),br=Math.max(Ot.left,yt.left),Sr=Math.min(Ot.left+Ot.width,yt.left+yt.width),jr=Math.min(Ot.top+Ot.height,yt.top+yt.height),Br=Sr-br,yr=jr-Wt;if(br<Sr&&Wt<jr){const Nr=Ot.width*Ot.height,Hr=yt.width*yt.height,Gr=Br*yr;return Number((Gr/(Nr+Hr-Gr)).toFixed(4))}return 0}const ke=yt=>{let{collisionRect:Ot,droppableRects:Wt,droppableContainers:br}=yt;const Sr=[];for(const jr of br){const{id:Br}=jr,yr=Wt.get(Br);if(yr){const Nr=xe(yr,Ot);Nr>0&&Sr.push({id:Br,data:{droppableContainer:jr,value:Nr}})}}return Sr.sort(Q)};function Ce(yt,Ot){const{top:Wt,left:br,bottom:Sr,right:jr}=Ot;return Wt<=yt.y&&yt.y<=Sr&&br<=yt.x&&yt.x<=jr}const Oe=yt=>{let{droppableContainers:Ot,droppableRects:Wt,pointerCoordinates:br}=yt;if(!br)return[];const Sr=[];for(const jr of Ot){const{id:Br}=jr,yr=Wt.get(Br);if(yr&&Ce(br,yr)){const Nr=te(yr).reduce((Gr,Yr)=>Gr+Y(br,Yr),0),Hr=Number((Nr/4).toFixed(4));Sr.push({id:Br,data:{droppableContainer:jr,value:Hr}})}}return Sr.sort(J)};function Ae(yt,Ot){return yt&&Ot?{x:yt.left-Ot.left,y:yt.top-Ot.top}:Z}function Pe(yt){return function(Ot){for(var Wt=arguments.length,br=new Array(Wt>1?Wt-1:0),Sr=1;Sr<Wt;Sr++)br[Sr-1]=arguments[Sr];return br.reduce((jr,Br)=>({...jr,top:jr.top+yt*Br.y,bottom:jr.bottom+yt*Br.y,left:jr.left+yt*Br.x,right:jr.right+yt*Br.x}),{...Ot})}}const Ee=Pe(1);function Te(yt){if(yt.startsWith("matrix3d(")){const Ot=yt.slice(9,-1).split(/, /);return{x:+Ot[12],y:+Ot[13],scaleX:+Ot[0],scaleY:+Ot[5]}}if(yt.startsWith("matrix(")){const Ot=yt.slice(7,-1).split(/, /);return{x:+Ot[4],y:+Ot[5],scaleX:+Ot[0],scaleY:+Ot[3]}}return null}const Re={ignoreTransform:!1};function Me(yt,Ot){Ot===void 0&&(Ot=Re);let Wt=yt.getBoundingClientRect();if(Ot.ignoreTransform){const{transform:Hr,transformOrigin:Gr}=(0,P.getWindow)(yt).getComputedStyle(yt);Hr&&(Wt=function(Yr,Sn,Pn){const vn=Te(Sn);if(!vn)return Yr;const{scaleX:Mn,scaleY:Wn,x:pi,y:yi}=vn,Si=Yr.left-pi-(1-Mn)*parseFloat(Pn),wi=Yr.top-yi-(1-Wn)*parseFloat(Pn.slice(Pn.indexOf(" ")+1)),oi=Mn?Yr.width/Mn:Yr.width,li=Wn?Yr.height/Wn:Yr.height;return{width:oi,height:li,top:wi,right:Si+oi,bottom:wi+li,left:Si}}(Wt,Hr,Gr))}const{top:br,left:Sr,width:jr,height:Br,bottom:yr,right:Nr}=Wt;return{top:br,left:Sr,width:jr,height:Br,bottom:yr,right:Nr}}function ze(yt){return Me(yt,{ignoreTransform:!0})}function Le(yt,Ot){const Wt=[];return yt?function br(Sr){if(Ot!=null&&Wt.length>=Ot||!Sr)return Wt;if((0,P.isDocument)(Sr)&&Sr.scrollingElement!=null&&!Wt.includes(Sr.scrollingElement))return Wt.push(Sr.scrollingElement),Wt;if(!(0,P.isHTMLElement)(Sr)||(0,P.isSVGElement)(Sr)||Wt.includes(Sr))return Wt;const jr=(0,P.getWindow)(yt).getComputedStyle(Sr);return Sr!==yt&&function(Br,yr){yr===void 0&&(yr=(0,P.getWindow)(Br).getComputedStyle(Br));const Nr=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(Hr=>{const Gr=yr[Hr];return typeof Gr=="string"&&Nr.test(Gr)})}(Sr,jr)&&Wt.push(Sr),function(Br,yr){return yr===void 0&&(yr=(0,P.getWindow)(Br).getComputedStyle(Br)),yr.position==="fixed"}(Sr,jr)?Wt:br(Sr.parentNode)}(yt):Wt}function je(yt){const[Ot]=Le(yt,1);return Ot??null}function Ne(yt){return P.canUseDOM&&yt?(0,P.isWindow)(yt)?yt:(0,P.isNode)(yt)?(0,P.isDocument)(yt)||yt===(0,P.getOwnerDocument)(yt).scrollingElement?window:(0,P.isHTMLElement)(yt)?yt:null:null:null}function qe(yt){return(0,P.isWindow)(yt)?yt.scrollX:yt.scrollLeft}function Ye(yt){return(0,P.isWindow)(yt)?yt.scrollY:yt.scrollTop}function Ve(yt){return{x:qe(yt),y:Ye(yt)}}var tt;function it(yt){return!(!P.canUseDOM||!yt)&&yt===document.scrollingElement}function Ze(yt){const Ot={x:0,y:0},Wt=it(yt)?{height:window.innerHeight,width:window.innerWidth}:{height:yt.clientHeight,width:yt.clientWidth},br={x:yt.scrollWidth-Wt.width,y:yt.scrollHeight-Wt.height};return{isTop:yt.scrollTop<=Ot.y,isLeft:yt.scrollLeft<=Ot.x,isBottom:yt.scrollTop>=br.y,isRight:yt.scrollLeft>=br.x,maxScroll:br,minScroll:Ot}}(function(yt){yt[yt.Forward=1]="Forward",yt[yt.Backward=-1]="Backward"})(tt||(tt={}));const We={x:.2,y:.2};function He(yt,Ot,Wt,br,Sr){let{top:jr,left:Br,right:yr,bottom:Nr}=Wt;br===void 0&&(br=10),Sr===void 0&&(Sr=We);const{isTop:Hr,isBottom:Gr,isLeft:Yr,isRight:Sn}=Ze(yt),Pn={x:0,y:0},vn={x:0,y:0},Mn=Ot.height*Sr.y,Wn=Ot.width*Sr.x;return!Hr&&jr<=Ot.top+Mn?(Pn.y=tt.Backward,vn.y=br*Math.abs((Ot.top+Mn-jr)/Mn)):!Gr&&Nr>=Ot.bottom-Mn&&(Pn.y=tt.Forward,vn.y=br*Math.abs((Ot.bottom-Mn-Nr)/Mn)),!Sn&&yr>=Ot.right-Wn?(Pn.x=tt.Forward,vn.x=br*Math.abs((Ot.right-Wn-yr)/Wn)):!Yr&&Br<=Ot.left+Wn&&(Pn.x=tt.Backward,vn.x=br*Math.abs((Ot.left+Wn-Br)/Wn)),{direction:Pn,speed:vn}}function Ue(yt){if(yt===document.scrollingElement){const{innerWidth:jr,innerHeight:Br}=window;return{top:0,left:0,right:jr,bottom:Br,width:jr,height:Br}}const{top:Ot,left:Wt,right:br,bottom:Sr}=yt.getBoundingClientRect();return{top:Ot,left:Wt,right:br,bottom:Sr,width:yt.clientWidth,height:yt.clientHeight}}function Qe(yt){return yt.reduce((Ot,Wt)=>(0,P.add)(Ot,Ve(Wt)),Z)}function Be(yt,Ot){if(Ot===void 0&&(Ot=Me),!yt)return;const{top:Wt,left:br,bottom:Sr,right:jr}=Ot(yt);je(yt)&&(Sr<=0||jr<=0||Wt>=window.innerHeight||br>=window.innerWidth)&&yt.scrollIntoView({block:"center",inline:"center"})}const $e=[["x",["left","right"],function(yt){return yt.reduce((Ot,Wt)=>Ot+qe(Wt),0)}],["y",["top","bottom"],function(yt){return yt.reduce((Ot,Wt)=>Ot+Ye(Wt),0)}]];class Xe{constructor(Ot,Wt){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const br=Le(Wt),Sr=Qe(br);this.rect={...Ot},this.width=Ot.width,this.height=Ot.height;for(const[jr,Br,yr]of $e)for(const Nr of Br)Object.defineProperty(this,Nr,{get:()=>{const Hr=yr(br),Gr=Sr[jr]-Hr;return this.rect[Nr]+Gr},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class lt{constructor(Ot){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(Wt=>{var br;return(br=this.target)==null?void 0:br.removeEventListener(...Wt)})},this.target=Ot}add(Ot,Wt,br){var Sr;(Sr=this.target)==null||Sr.addEventListener(Ot,Wt,br),this.listeners.push([Ot,Wt,br])}}function dt(yt,Ot){const Wt=Math.abs(yt.x),br=Math.abs(yt.y);return typeof Ot=="number"?Math.sqrt(Wt**2+br**2)>Ot:"x"in Ot&&"y"in Ot?Wt>Ot.x&&br>Ot.y:"x"in Ot?Wt>Ot.x:"y"in Ot&&br>Ot.y}var ft,St;function Mt(yt){yt.preventDefault()}function ht(yt){yt.stopPropagation()}(function(yt){yt.Click="click",yt.DragStart="dragstart",yt.Keydown="keydown",yt.ContextMenu="contextmenu",yt.Resize="resize",yt.SelectionChange="selectionchange",yt.VisibilityChange="visibilitychange"})(ft||(ft={})),function(yt){yt.Space="Space",yt.Down="ArrowDown",yt.Right="ArrowRight",yt.Left="ArrowLeft",yt.Up="ArrowUp",yt.Esc="Escape",yt.Enter="Enter"}(St||(St={}));const ct={start:[St.Space,St.Enter],cancel:[St.Esc],end:[St.Space,St.Enter]},vt=(yt,Ot)=>{let{currentCoordinates:Wt}=Ot;switch(yt.code){case St.Right:return{...Wt,x:Wt.x+25};case St.Left:return{...Wt,x:Wt.x-25};case St.Down:return{...Wt,y:Wt.y+25};case St.Up:return{...Wt,y:Wt.y-25}}};class Et{constructor(Ot){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=Ot;const{event:{target:Wt}}=Ot;this.props=Ot,this.listeners=new lt((0,P.getOwnerDocument)(Wt)),this.windowListeners=new lt((0,P.getWindow)(Wt)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ft.Resize,this.handleCancel),this.windowListeners.add(ft.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ft.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:Ot,onStart:Wt}=this.props,br=Ot.node.current;br&&Be(br),Wt(Z)}handleKeyDown(Ot){if((0,P.isKeyboardEvent)(Ot)){const{active:Wt,context:br,options:Sr}=this.props,{keyboardCodes:jr=ct,coordinateGetter:Br=vt,scrollBehavior:yr="smooth"}=Sr,{code:Nr}=Ot;if(jr.end.includes(Nr))return void this.handleEnd(Ot);if(jr.cancel.includes(Nr))return void this.handleCancel(Ot);const{collisionRect:Hr}=br.current,Gr=Hr?{x:Hr.left,y:Hr.top}:Z;this.referenceCoordinates||(this.referenceCoordinates=Gr);const Yr=Br(Ot,{active:Wt,context:br.current,currentCoordinates:Gr});if(Yr){const Sn=(0,P.subtract)(Yr,Gr),Pn={x:0,y:0},{scrollableAncestors:vn}=br.current;for(const Mn of vn){const Wn=Ot.code,{isTop:pi,isRight:yi,isLeft:Si,isBottom:wi,maxScroll:oi,minScroll:li}=Ze(Mn),ot=Ue(Mn),Lt={x:Math.min(Wn===St.Right?ot.right-ot.width/2:ot.right,Math.max(Wn===St.Right?ot.left:ot.left+ot.width/2,Yr.x)),y:Math.min(Wn===St.Down?ot.bottom-ot.height/2:ot.bottom,Math.max(Wn===St.Down?ot.top:ot.top+ot.height/2,Yr.y))},sr=Wn===St.Right&&!yi||Wn===St.Left&&!Si,wr=Wn===St.Down&&!wi||Wn===St.Up&&!pi;if(sr&&Lt.x!==Yr.x){const pr=Mn.scrollLeft+Sn.x,Ur=Wn===St.Right&&pr<=oi.x||Wn===St.Left&&pr>=li.x;if(Ur&&!Sn.y)return void Mn.scrollTo({left:pr,behavior:yr});Pn.x=Ur?Mn.scrollLeft-pr:Wn===St.Right?Mn.scrollLeft-oi.x:Mn.scrollLeft-li.x,Pn.x&&Mn.scrollBy({left:-Pn.x,behavior:yr});break}if(wr&&Lt.y!==Yr.y){const pr=Mn.scrollTop+Sn.y,Ur=Wn===St.Down&&pr<=oi.y||Wn===St.Up&&pr>=li.y;if(Ur&&!Sn.x)return void Mn.scrollTo({top:pr,behavior:yr});Pn.y=Ur?Mn.scrollTop-pr:Wn===St.Down?Mn.scrollTop-oi.y:Mn.scrollTop-li.y,Pn.y&&Mn.scrollBy({top:-Pn.y,behavior:yr});break}}this.handleMove(Ot,(0,P.add)((0,P.subtract)(Yr,this.referenceCoordinates),Pn))}}}handleMove(Ot,Wt){const{onMove:br}=this.props;Ot.preventDefault(),br(Wt)}handleEnd(Ot){const{onEnd:Wt}=this.props;Ot.preventDefault(),this.detach(),Wt()}handleCancel(Ot){const{onCancel:Wt}=this.props;Ot.preventDefault(),this.detach(),Wt()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function gt(yt){return!!(yt&&"distance"in yt)}function xt(yt){return!!(yt&&"delay"in yt)}Et.activators=[{eventName:"onKeyDown",handler:(yt,Ot,Wt)=>{let{keyboardCodes:br=ct,onActivation:Sr}=Ot,{active:jr}=Wt;const{code:Br}=yt.nativeEvent;if(br.start.includes(Br)){const yr=jr.activatorNode.current;return!(yr&&yt.target!==yr||(yt.preventDefault(),Sr==null||Sr({event:yt.nativeEvent}),0))}return!1}}];class at{constructor(Ot,Wt,br){var Sr;br===void 0&&(br=function(yr){const{EventTarget:Nr}=(0,P.getWindow)(yr);return yr instanceof Nr?yr:(0,P.getOwnerDocument)(yr)}(Ot.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=Ot,this.events=Wt;const{event:jr}=Ot,{target:Br}=jr;this.props=Ot,this.events=Wt,this.document=(0,P.getOwnerDocument)(Br),this.documentListeners=new lt(this.document),this.listeners=new lt(br),this.windowListeners=new lt((0,P.getWindow)(Br)),this.initialCoordinates=(Sr=(0,P.getEventCoordinates)(jr))!=null?Sr:Z,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:Ot,props:{options:{activationConstraint:Wt}}}=this;if(this.listeners.add(Ot.move.name,this.handleMove,{passive:!1}),this.listeners.add(Ot.end.name,this.handleEnd),this.windowListeners.add(ft.Resize,this.handleCancel),this.windowListeners.add(ft.DragStart,Mt),this.windowListeners.add(ft.VisibilityChange,this.handleCancel),this.windowListeners.add(ft.ContextMenu,Mt),this.documentListeners.add(ft.Keydown,this.handleKeydown),Wt){if(gt(Wt))return;if(xt(Wt))return void(this.timeoutId=setTimeout(this.handleStart,Wt.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:Ot}=this,{onStart:Wt}=this.props;Ot&&(this.activated=!0,this.documentListeners.add(ft.Click,ht,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ft.SelectionChange,this.removeTextSelection),Wt(Ot))}handleMove(Ot){var Wt;const{activated:br,initialCoordinates:Sr,props:jr}=this,{onMove:Br,options:{activationConstraint:yr}}=jr;if(!Sr)return;const Nr=(Wt=(0,P.getEventCoordinates)(Ot))!=null?Wt:Z,Hr=(0,P.subtract)(Sr,Nr);if(!br&&yr){if(xt(yr))return dt(Hr,yr.tolerance)?this.handleCancel():void 0;if(gt(yr))return yr.tolerance!=null&&dt(Hr,yr.tolerance)?this.handleCancel():dt(Hr,yr.distance)?this.handleStart():void 0}Ot.cancelable&&Ot.preventDefault(),Br(Nr)}handleEnd(){const{onEnd:Ot}=this.props;this.detach(),Ot()}handleCancel(){const{onCancel:Ot}=this.props;this.detach(),Ot()}handleKeydown(Ot){Ot.code===St.Esc&&this.handleCancel()}removeTextSelection(){var Ot;(Ot=this.document.getSelection())==null||Ot.removeAllRanges()}}const $t={move:{name:"pointermove"},end:{name:"pointerup"}};class Qt extends at{constructor(Ot){const{event:Wt}=Ot,br=(0,P.getOwnerDocument)(Wt.target);super(Ot,$t,br)}}Qt.activators=[{eventName:"onPointerDown",handler:(yt,Ot)=>{let{nativeEvent:Wt}=yt,{onActivation:br}=Ot;return!(!Wt.isPrimary||Wt.button!==0||(br==null||br({event:Wt}),0))}}];const Vt={move:{name:"mousemove"},end:{name:"mouseup"}};var bt;(function(yt){yt[yt.RightClick=2]="RightClick"})(bt||(bt={}));class wt extends at{constructor(Ot){super(Ot,Vt,(0,P.getOwnerDocument)(Ot.event.target))}}wt.activators=[{eventName:"onMouseDown",handler:(yt,Ot)=>{let{nativeEvent:Wt}=yt,{onActivation:br}=Ot;return Wt.button!==bt.RightClick&&(br==null||br({event:Wt}),!0)}}];const At={move:{name:"touchmove"},end:{name:"touchend"}};class Kt extends at{constructor(Ot){super(Ot,At)}static setup(){return window.addEventListener(At.move.name,Ot,{capture:!1,passive:!1}),function(){window.removeEventListener(At.move.name,Ot)};function Ot(){}}}var Yt,xr;Kt.activators=[{eventName:"onTouchStart",handler:(yt,Ot)=>{let{nativeEvent:Wt}=yt,{onActivation:br}=Ot;const{touches:Sr}=Wt;return!(Sr.length>1||(br==null||br({event:Wt}),0))}}],function(yt){yt[yt.Pointer=0]="Pointer",yt[yt.DraggableRect=1]="DraggableRect"}(Yt||(Yt={})),function(yt){yt[yt.TreeOrder=0]="TreeOrder",yt[yt.ReversedTreeOrder=1]="ReversedTreeOrder"}(xr||(xr={}));const Cr={x:{[tt.Backward]:!1,[tt.Forward]:!1},y:{[tt.Backward]:!1,[tt.Forward]:!1}};var Mr,$r;(function(yt){yt[yt.Always=0]="Always",yt[yt.BeforeDragging=1]="BeforeDragging",yt[yt.WhileDragging=2]="WhileDragging"})(Mr||(Mr={})),function(yt){yt.Optimized="optimized"}($r||($r={}));const qr=new Map;function gn(yt,Ot){return(0,P.useLazyMemo)(Wt=>yt?Wt||(typeof Ot=="function"?Ot(yt):yt):null,[Ot,yt])}function or(yt){let{callback:Ot,disabled:Wt}=yt;const br=(0,P.useEvent)(Ot),Sr=(0,A.useMemo)(()=>{if(Wt||typeof window>"u"||window.ResizeObserver===void 0)return;const{ResizeObserver:jr}=window;return new jr(br)},[Wt]);return(0,A.useEffect)(()=>()=>Sr==null?void 0:Sr.disconnect(),[Sr]),Sr}function Zr(yt){return new Xe(Me(yt),yt)}function bn(yt,Ot,Wt){Ot===void 0&&(Ot=Zr);const[br,Sr]=(0,A.useReducer)(function(yr){if(!yt)return null;var Nr;if(yt.isConnected===!1)return(Nr=yr??Wt)!=null?Nr:null;const Hr=Ot(yt);return JSON.stringify(yr)===JSON.stringify(Hr)?yr:Hr},null),jr=function(yr){let{callback:Nr,disabled:Hr}=yr;const Gr=(0,P.useEvent)(Nr),Yr=(0,A.useMemo)(()=>{if(Hr||typeof window>"u"||window.MutationObserver===void 0)return;const{MutationObserver:Sn}=window;return new Sn(Gr)},[Gr,Hr]);return(0,A.useEffect)(()=>()=>Yr==null?void 0:Yr.disconnect(),[Yr]),Yr}({callback(yr){if(yt)for(const Nr of yr){const{type:Hr,target:Gr}=Nr;if(Hr==="childList"&&Gr instanceof HTMLElement&&Gr.contains(yt)){Sr();break}}}}),Br=or({callback:Sr});return(0,P.useIsomorphicLayoutEffect)(()=>{Sr(),yt?(Br==null||Br.observe(yt),jr==null||jr.observe(document.body,{childList:!0,subtree:!0})):(Br==null||Br.disconnect(),jr==null||jr.disconnect())},[yt]),br}const mn=[];function jn(yt,Ot){Ot===void 0&&(Ot=[]);const Wt=(0,A.useRef)(null);return(0,A.useEffect)(()=>{Wt.current=null},Ot),(0,A.useEffect)(()=>{const br=yt!==Z;br&&!Wt.current&&(Wt.current=yt),!br&&Wt.current&&(Wt.current=null)},[yt]),Wt.current?(0,P.subtract)(yt,Wt.current):Z}function ln(yt){return(0,A.useMemo)(()=>yt?function(Ot){const Wt=Ot.innerWidth,br=Ot.innerHeight;return{top:0,left:0,right:Wt,bottom:br,width:Wt,height:br}}(yt):null,[yt])}const Cn=[];function qn(yt){if(!yt)return null;if(yt.children.length>1)return yt;const Ot=yt.children[0];return(0,P.isHTMLElement)(Ot)?Ot:yt}const Ln=[{sensor:Qt,options:{}},{sensor:Et,options:{}}],gi={current:{}},Ai={draggable:{measure:ze},droppable:{measure:ze,strategy:Mr.WhileDragging,frequency:$r.Optimized},dragOverlay:{measure:Me}};class Ci extends Map{get(Ot){var Wt;return Ot!=null&&(Wt=super.get(Ot))!=null?Wt:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(Ot=>{let{disabled:Wt}=Ot;return!Wt})}getNodeFor(Ot){var Wt,br;return(Wt=(br=this.get(Ot))==null?void 0:br.node.current)!=null?Wt:void 0}}const _i={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ci,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:W},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ai,measureDroppableContainers:W,windowRect:null,measuringScheduled:!1},ei={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:W,draggableNodes:new Map,over:null,measureDroppableContainers:W},Ri=(0,A.createContext)(ei),Ti=(0,A.createContext)(_i);function Pt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ci}}}function Er(yt,Ot){switch(Ot.type){case B.DragStart:return{...yt,draggable:{...yt.draggable,initialCoordinates:Ot.initialCoordinates,active:Ot.active}};case B.DragMove:return yt.draggable.active?{...yt,draggable:{...yt.draggable,translate:{x:Ot.coordinates.x-yt.draggable.initialCoordinates.x,y:Ot.coordinates.y-yt.draggable.initialCoordinates.y}}}:yt;case B.DragEnd:case B.DragCancel:return{...yt,draggable:{...yt.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case B.RegisterDroppable:{const{element:Wt}=Ot,{id:br}=Wt,Sr=new Ci(yt.droppable.containers);return Sr.set(br,Wt),{...yt,droppable:{...yt.droppable,containers:Sr}}}case B.SetDroppableDisabled:{const{id:Wt,key:br,disabled:Sr}=Ot,jr=yt.droppable.containers.get(Wt);if(!jr||br!==jr.key)return yt;const Br=new Ci(yt.droppable.containers);return Br.set(Wt,{...jr,disabled:Sr}),{...yt,droppable:{...yt.droppable,containers:Br}}}case B.UnregisterDroppable:{const{id:Wt,key:br}=Ot,Sr=yt.droppable.containers.get(Wt);if(!Sr||br!==Sr.key)return yt;const jr=new Ci(yt.droppable.containers);return jr.delete(Wt),{...yt,droppable:{...yt.droppable,containers:jr}}}default:return yt}}function zt(yt){let{disabled:Ot}=yt;const{active:Wt,activatorEvent:br,draggableNodes:Sr}=(0,A.useContext)(Ri),jr=(0,P.usePrevious)(br),Br=(0,P.usePrevious)(Wt==null?void 0:Wt.id);return(0,A.useEffect)(()=>{if(!Ot&&!br&&jr&&Br!=null){if(!(0,P.isKeyboardEvent)(jr)||document.activeElement===jr.target)return;const yr=Sr.get(Br);if(!yr)return;const{activatorNode:Nr,node:Hr}=yr;if(!Nr.current&&!Hr.current)return;requestAnimationFrame(()=>{for(const Gr of[Nr.current,Hr.current]){if(!Gr)continue;const Yr=(0,P.findFirstFocusableNode)(Gr);if(Yr){Yr.focus();break}}})}},[br,Ot,Sr,Br,jr]),null}function ut(yt,Ot){let{transform:Wt,...br}=Ot;return yt!=null&&yt.length?yt.reduce((Sr,jr)=>jr({transform:Sr,...br}),Wt):Wt}const Tt=(0,A.createContext)({...Z,scaleX:1,scaleY:1});var _t;(function(yt){yt[yt.Uninitialized=0]="Uninitialized",yt[yt.Initializing=1]="Initializing",yt[yt.Initialized=2]="Initialized"})(_t||(_t={}));const cr=(0,A.memo)(function(yt){var Ot,Wt,br,Sr;let{id:jr,accessibility:Br,autoScroll:yr=!0,children:Nr,sensors:Hr=Ln,collisionDetection:Gr=ke,measuring:Yr,modifiers:Sn,...Pn}=yt;const vn=(0,A.useReducer)(Er,void 0,Pt),[Mn,Wn]=vn,[pi,yi]=function(){const[ur]=(0,A.useState)(()=>new Set),dn=(0,A.useCallback)(tn=>(ur.add(tn),()=>ur.delete(tn)),[ur]);return[(0,A.useCallback)(tn=>{let{type:Bn,event:Vn}=tn;ur.forEach(nt=>{var Nt;return(Nt=nt[Bn])==null?void 0:Nt.call(nt,Vn)})},[ur]),dn]}(),[Si,wi]=(0,A.useState)(_t.Uninitialized),oi=Si===_t.Initialized,{draggable:{active:li,nodes:ot,translate:Lt},droppable:{containers:sr}}=Mn,wr=li?ot.get(li):null,pr=(0,A.useRef)({initial:null,translated:null}),Ur=(0,A.useMemo)(()=>{var ur;return li!=null?{id:li,data:(ur=wr==null?void 0:wr.data)!=null?ur:gi,rect:pr}:null},[li,wr]),sn=(0,A.useRef)(null),[un,Dn]=(0,A.useState)(null),[Fn,ai]=(0,A.useState)(null),ui=(0,P.useLatestValue)(Pn,Object.values(Pn)),Gt=(0,P.useUniqueId)("DndDescribedBy",jr),Bt=(0,A.useMemo)(()=>sr.getEnabled(),[sr]),Ht=(qt=Yr,(0,A.useMemo)(()=>({draggable:{...Ai.draggable,...qt==null?void 0:qt.draggable},droppable:{...Ai.droppable,...qt==null?void 0:qt.droppable},dragOverlay:{...Ai.dragOverlay,...qt==null?void 0:qt.dragOverlay}}),[qt==null?void 0:qt.draggable,qt==null?void 0:qt.droppable,qt==null?void 0:qt.dragOverlay]));var qt;const{droppableRects:Jt,measureDroppableContainers:Tr,measuringScheduled:Rr}=function(ur,dn){let{dragging:tn,dependencies:Bn,config:Vn}=dn;const[nt,Nt]=(0,A.useState)(null),{frequency:Xt,measure:hr,strategy:Zt}=Vn,rn=(0,A.useRef)(ur),xn=function(){switch(Zt){case Mr.Always:return!1;case Mr.BeforeDragging:return tn;default:return!tn}}(),In=(0,P.useLatestValue)(xn),ni=(0,A.useCallback)(function(Ii){Ii===void 0&&(Ii=[]),In.current||Nt(vi=>vi===null?Ii:vi.concat(Ii.filter(ki=>!vi.includes(ki))))},[In]),ci=(0,A.useRef)(null),di=(0,P.useLazyMemo)(Ii=>{if(xn&&!tn)return qr;if(!Ii||Ii===qr||rn.current!==ur||nt!=null){const vi=new Map;for(let ki of ur){if(!ki)continue;if(nt&&nt.length>0&&!nt.includes(ki.id)&&ki.rect.current){vi.set(ki.id,ki.rect.current);continue}const ji=ki.node.current,Vi=ji?new Xe(hr(ji),ji):null;ki.rect.current=Vi,Vi&&vi.set(ki.id,Vi)}return vi}return Ii},[ur,nt,tn,xn,hr]);return(0,A.useEffect)(()=>{rn.current=ur},[ur]),(0,A.useEffect)(()=>{xn||ni()},[tn,xn]),(0,A.useEffect)(()=>{nt&&nt.length>0&&Nt(null)},[JSON.stringify(nt)]),(0,A.useEffect)(()=>{xn||typeof Xt!="number"||ci.current!==null||(ci.current=setTimeout(()=>{ni(),ci.current=null},Xt))},[Xt,xn,ni,...Bn]),{droppableRects:di,measureDroppableContainers:ni,measuringScheduled:nt!=null}}(Bt,{dragging:oi,dependencies:[Lt.x,Lt.y],config:Ht.droppable}),Kr=function(ur,dn){const tn=dn!==null?ur.get(dn):void 0,Bn=tn?tn.node.current:null;return(0,P.useLazyMemo)(Vn=>{var nt;return dn===null?null:(nt=Bn??Vn)!=null?nt:null},[Bn,dn])}(ot,li),on=(0,A.useMemo)(()=>Fn?(0,P.getEventCoordinates)(Fn):null,[Fn]),yn=function(){const ur=(un==null?void 0:un.autoScrollEnabled)===!1,dn=typeof yr=="object"?yr.enabled===!1:yr===!1,tn=oi&&!ur&&!dn;return typeof yr=="object"?{...yr,enabled:tn}:{enabled:tn}}(),fn=function(ur,dn){return gn(ur,dn)}(Kr,Ht.draggable.measure);(function(ur){let{activeNode:dn,measure:tn,initialRect:Bn,config:Vn=!0}=ur;const nt=(0,A.useRef)(!1),{x:Nt,y:Xt}=typeof Vn=="boolean"?{x:Vn,y:Vn}:Vn;(0,P.useIsomorphicLayoutEffect)(()=>{if(!Nt&&!Xt||!dn)return void(nt.current=!1);if(nt.current||!Bn)return;const hr=dn==null?void 0:dn.node.current;if(!hr||hr.isConnected===!1)return;const Zt=Ae(tn(hr),Bn);if(Nt||(Zt.x=0),Xt||(Zt.y=0),nt.current=!0,Math.abs(Zt.x)>0||Math.abs(Zt.y)>0){const rn=je(hr);rn&&rn.scrollBy({top:Zt.y,left:Zt.x})}},[dn,Nt,Xt,Bn,tn])})({activeNode:li?ot.get(li):null,config:yn.layoutShiftCompensation,initialRect:fn,measure:Ht.draggable.measure});const Rn=bn(Kr,Ht.draggable.measure,fn),Hn=bn(Kr?Kr.parentElement:null),Xn=(0,A.useRef)({activatorEvent:null,active:null,activeNode:Kr,collisionRect:null,collisions:null,droppableRects:Jt,draggableNodes:ot,draggingNode:null,draggingNodeRect:null,droppableContainers:sr,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Zn=sr.getNodeFor((Ot=Xn.current.over)==null?void 0:Ot.id),ar=function(ur){let{measure:dn}=ur;const[tn,Bn]=(0,A.useState)(null),Vn=or({callback:(0,A.useCallback)(hr=>{for(const{target:Zt}of hr)if((0,P.isHTMLElement)(Zt)){Bn(rn=>{const xn=dn(Zt);return rn?{...rn,width:xn.width,height:xn.height}:xn});break}},[dn])}),nt=(0,A.useCallback)(hr=>{const Zt=qn(hr);Vn==null||Vn.disconnect(),Zt&&(Vn==null||Vn.observe(Zt)),Bn(Zt?dn(Zt):null)},[dn,Vn]),[Nt,Xt]=(0,P.useNodeRef)(nt);return(0,A.useMemo)(()=>({nodeRef:Nt,rect:tn,setRef:Xt}),[tn,Nt,Xt])}({measure:Ht.dragOverlay.measure}),gr=(Wt=ar.nodeRef.current)!=null?Wt:Kr,Pr=oi?(br=ar.rect)!=null?br:Rn:null,dr=!!(ar.nodeRef.current&&ar.rect),Qr=Ae(An=dr?null:Rn,gn(An));var An;const kn=ln(gr?(0,P.getWindow)(gr):null),Tn=function(ur){const dn=(0,A.useRef)(ur),tn=(0,P.useLazyMemo)(Bn=>ur?Bn&&Bn!==mn&&ur&&dn.current&&ur.parentNode===dn.current.parentNode?Bn:Le(ur):mn,[ur]);return(0,A.useEffect)(()=>{dn.current=ur},[ur]),tn}(oi?Zn??Kr:null),Un=function(ur,dn){dn===void 0&&(dn=Me);const[tn]=ur,Bn=ln(tn?(0,P.getWindow)(tn):null),[Vn,nt]=(0,A.useReducer)(function(){return ur.length?ur.map(Xt=>it(Xt)?Bn:new Xe(dn(Xt),Xt)):Cn},Cn),Nt=or({callback:nt});return ur.length>0&&Vn===Cn&&nt(),(0,P.useIsomorphicLayoutEffect)(()=>{ur.length?ur.forEach(Xt=>Nt==null?void 0:Nt.observe(Xt)):(Nt==null||Nt.disconnect(),nt())},[ur]),Vn}(Tn),Jn=ut(Sn,{transform:{x:Lt.x-Qr.x,y:Lt.y-Qr.y,scaleX:1,scaleY:1},activatorEvent:Fn,active:Ur,activeNodeRect:Rn,containerNodeRect:Hn,draggingNodeRect:Pr,over:Xn.current.over,overlayNodeRect:ar.rect,scrollableAncestors:Tn,scrollableAncestorRects:Un,windowRect:kn}),ti=on?(0,P.add)(on,Lt):null,ri=function(ur){const[dn,tn]=(0,A.useState)(null),Bn=(0,A.useRef)(ur),Vn=(0,A.useCallback)(nt=>{const Nt=Ne(nt.target);Nt&&tn(Xt=>Xt?(Xt.set(Nt,Ve(Nt)),new Map(Xt)):null)},[]);return(0,A.useEffect)(()=>{const nt=Bn.current;if(ur!==nt){Nt(nt);const Xt=ur.map(hr=>{const Zt=Ne(hr);return Zt?(Zt.addEventListener("scroll",Vn,{passive:!0}),[Zt,Ve(Zt)]):null}).filter(hr=>hr!=null);tn(Xt.length?new Map(Xt):null),Bn.current=ur}return()=>{Nt(ur),Nt(nt)};function Nt(Xt){Xt.forEach(hr=>{const Zt=Ne(hr);Zt==null||Zt.removeEventListener("scroll",Vn)})}},[Vn,ur]),(0,A.useMemo)(()=>ur.length?dn?Array.from(dn.values()).reduce((nt,Nt)=>(0,P.add)(nt,Nt),Z):Qe(ur):Z,[ur,dn])}(Tn),Oi=jn(ri),fi=jn(ri,[Rn]),qi=(0,P.add)(Jn,Oi),Li=Pr?Ee(Pr,Jn):null,Wi=Ur&&Li?Gr({active:Ur,collisionRect:Li,droppableRects:Jt,droppableContainers:Bt,pointerCoordinates:ti}):null,zi=se(Wi,"id"),[Ct,It]=(0,A.useState)(null),er=function(ur,dn,tn){return{...ur,scaleX:dn&&tn?dn.width/tn.width:1,scaleY:dn&&tn?dn.height/tn.height:1}}(dr?Jn:(0,P.add)(Jn,fi),(Sr=Ct==null?void 0:Ct.rect)!=null?Sr:null,Rn),Or=(0,A.useCallback)((ur,dn)=>{let{sensor:tn,options:Bn}=dn;if(sn.current==null)return;const Vn=ot.get(sn.current);if(!Vn)return;const nt=ur.nativeEvent,Nt=new tn({active:sn.current,activeNode:Vn,event:nt,options:Bn,context:Xn,onStart(hr){const Zt=sn.current;if(Zt==null)return;const rn=ot.get(Zt);if(!rn)return;const{onDragStart:xn}=ui.current,In={active:{id:Zt,data:rn.data,rect:pr}};(0,O.unstable_batchedUpdates)(()=>{xn==null||xn(In),wi(_t.Initializing),Wn({type:B.DragStart,initialCoordinates:hr,active:Zt}),pi({type:"onDragStart",event:In})})},onMove(hr){Wn({type:B.DragMove,coordinates:hr})},onEnd:Xt(B.DragEnd),onCancel:Xt(B.DragCancel)});function Xt(hr){return async function(){const{active:Zt,collisions:rn,over:xn,scrollAdjustedTranslate:In}=Xn.current;let ni=null;if(Zt&&In){const{cancelDrop:ci}=ui.current;ni={activatorEvent:nt,active:Zt,collisions:rn,delta:In,over:xn},hr===B.DragEnd&&typeof ci=="function"&&await Promise.resolve(ci(ni))&&(hr=B.DragCancel)}sn.current=null,(0,O.unstable_batchedUpdates)(()=>{Wn({type:hr}),wi(_t.Uninitialized),It(null),Dn(null),ai(null);const ci=hr===B.DragEnd?"onDragEnd":"onDragCancel";if(ni){const di=ui.current[ci];di==null||di(ni),pi({type:ci,event:ni})}})}}(0,O.unstable_batchedUpdates)(()=>{Dn(Nt),ai(ur.nativeEvent)})},[ot]),Jr=(0,A.useCallback)((ur,dn)=>(tn,Bn)=>{const Vn=tn.nativeEvent,nt=ot.get(Bn);if(sn.current!==null||!nt||Vn.dndKit||Vn.defaultPrevented)return;const Nt={active:nt};ur(tn,dn.options,Nt)===!0&&(Vn.dndKit={capturedBy:dn.sensor},sn.current=Bn,Or(tn,dn))},[ot,Or]),rt=function(ur,dn){return(0,A.useMemo)(()=>ur.reduce((tn,Bn)=>{const{sensor:Vn}=Bn;return[...tn,...Vn.activators.map(nt=>({eventName:nt.eventName,handler:dn(nt.handler,Bn)}))]},[]),[ur,dn])}(Hr,Jr);(function(ur){(0,A.useEffect)(()=>{if(!P.canUseDOM)return;const dn=ur.map(tn=>{let{sensor:Bn}=tn;return Bn.setup==null?void 0:Bn.setup()});return()=>{for(const tn of dn)tn==null||tn()}},ur.map(dn=>{let{sensor:tn}=dn;return tn}))})(Hr),(0,P.useIsomorphicLayoutEffect)(()=>{Rn&&Si===_t.Initializing&&wi(_t.Initialized)},[Rn,Si]),(0,A.useEffect)(()=>{const{onDragMove:ur}=ui.current,{active:dn,activatorEvent:tn,collisions:Bn,over:Vn}=Xn.current;if(!dn||!tn)return;const nt={active:dn,activatorEvent:tn,collisions:Bn,delta:{x:qi.x,y:qi.y},over:Vn};(0,O.unstable_batchedUpdates)(()=>{ur==null||ur(nt),pi({type:"onDragMove",event:nt})})},[qi.x,qi.y]),(0,A.useEffect)(()=>{const{active:ur,activatorEvent:dn,collisions:tn,droppableContainers:Bn,scrollAdjustedTranslate:Vn}=Xn.current;if(!ur||sn.current==null||!dn||!Vn)return;const{onDragOver:nt}=ui.current,Nt=Bn.get(zi),Xt=Nt&&Nt.rect.current?{id:Nt.id,rect:Nt.rect.current,data:Nt.data,disabled:Nt.disabled}:null,hr={active:ur,activatorEvent:dn,collisions:tn,delta:{x:Vn.x,y:Vn.y},over:Xt};(0,O.unstable_batchedUpdates)(()=>{It(Xt),nt==null||nt(hr),pi({type:"onDragOver",event:hr})})},[zi]),(0,P.useIsomorphicLayoutEffect)(()=>{Xn.current={activatorEvent:Fn,active:Ur,activeNode:Kr,collisionRect:Li,collisions:Wi,droppableRects:Jt,draggableNodes:ot,draggingNode:gr,draggingNodeRect:Pr,droppableContainers:sr,over:Ct,scrollableAncestors:Tn,scrollAdjustedTranslate:qi},pr.current={initial:Pr,translated:Li}},[Ur,Kr,Wi,Li,ot,gr,Pr,Jt,sr,Ct,Tn,qi]),function(ur){let{acceleration:dn,activator:tn=Yt.Pointer,canScroll:Bn,draggingRect:Vn,enabled:nt,interval:Nt=5,order:Xt=xr.TreeOrder,pointerCoordinates:hr,scrollableAncestors:Zt,scrollableAncestorRects:rn,delta:xn,threshold:In}=ur;const ni=function(io){let{delta:Ji,disabled:co}=io;const no=(0,P.usePrevious)(Ji);return(0,P.useLazyMemo)(ho=>{if(co||!no||!ho)return Cr;const oo=Math.sign(Ji.x-no.x),vo=Math.sign(Ji.y-no.y);return{x:{[tt.Backward]:ho.x[tt.Backward]||oo===-1,[tt.Forward]:ho.x[tt.Forward]||oo===1},y:{[tt.Backward]:ho.y[tt.Backward]||vo===-1,[tt.Forward]:ho.y[tt.Forward]||vo===1}}},[co,Ji,no])}({delta:xn,disabled:!nt}),[ci,di]=(0,P.useInterval)(),Ii=(0,A.useRef)({x:0,y:0}),vi=(0,A.useRef)({x:0,y:0}),ki=(0,A.useMemo)(()=>{switch(tn){case Yt.Pointer:return hr?{top:hr.y,bottom:hr.y,left:hr.x,right:hr.x}:null;case Yt.DraggableRect:return Vn}},[tn,Vn,hr]),ji=(0,A.useRef)(null),Vi=(0,A.useCallback)(()=>{const io=ji.current;if(!io)return;const Ji=Ii.current.x*vi.current.x,co=Ii.current.y*vi.current.y;io.scrollBy(Ji,co)},[]),Ui=(0,A.useMemo)(()=>Xt===xr.TreeOrder?[...Zt].reverse():Zt,[Xt,Zt]);(0,A.useEffect)(()=>{if(nt&&Zt.length&&ki){for(const io of Ui){if((Bn==null?void 0:Bn(io))===!1)continue;const Ji=Zt.indexOf(io),co=rn[Ji];if(!co)continue;const{direction:no,speed:ho}=He(io,co,ki,dn,In);for(const oo of["x","y"])ni[oo][no[oo]]||(ho[oo]=0,no[oo]=0);if(ho.x>0||ho.y>0)return di(),ji.current=io,ci(Vi,Nt),Ii.current=ho,void(vi.current=no)}Ii.current={x:0,y:0},vi.current={x:0,y:0},di()}else di()},[dn,Vi,Bn,di,nt,Nt,JSON.stringify(ki),JSON.stringify(ni),ci,Zt,Ui,rn,JSON.stringify(In)])}({...yn,delta:Lt,draggingRect:Li,pointerCoordinates:ti,scrollableAncestors:Tn,scrollableAncestorRects:Un});const jt=(0,A.useMemo)(()=>({active:Ur,activeNode:Kr,activeNodeRect:Rn,activatorEvent:Fn,collisions:Wi,containerNodeRect:Hn,dragOverlay:ar,draggableNodes:ot,droppableContainers:sr,droppableRects:Jt,over:Ct,measureDroppableContainers:Tr,scrollableAncestors:Tn,scrollableAncestorRects:Un,measuringConfiguration:Ht,measuringScheduled:Rr,windowRect:kn}),[Ur,Kr,Rn,Fn,Wi,Hn,ar,ot,sr,Jt,Ct,Tr,Tn,Un,Ht,Rr,kn]),mr=(0,A.useMemo)(()=>({activatorEvent:Fn,activators:rt,active:Ur,activeNodeRect:Rn,ariaDescribedById:{draggable:Gt},dispatch:Wn,draggableNodes:ot,over:Ct,measureDroppableContainers:Tr}),[Fn,rt,Ur,Rn,Wn,Gt,ot,Ct,Tr]);return T().createElement(U.Provider,{value:yi},T().createElement(Ri.Provider,{value:mr},T().createElement(Ti.Provider,{value:jt},T().createElement(Tt.Provider,{value:er},Nr)),T().createElement(zt,{disabled:(Br==null?void 0:Br.restoreFocus)===!1})),T().createElement(q,{...Br,hiddenTextDescribedById:Gt}))}),Xr=(0,A.createContext)(null),Wr="button",an="Droppable";function On(yt){let{id:Ot,data:Wt,disabled:br=!1,attributes:Sr}=yt;const jr=(0,P.useUniqueId)(an),{activators:Br,activatorEvent:yr,active:Nr,activeNodeRect:Hr,ariaDescribedById:Gr,draggableNodes:Yr,over:Sn}=(0,A.useContext)(Ri),{role:Pn=Wr,roleDescription:vn="draggable",tabIndex:Mn=0}=Sr??{},Wn=(Nr==null?void 0:Nr.id)===Ot,pi=(0,A.useContext)(Wn?Tt:Xr),[yi,Si]=(0,P.useNodeRef)(),[wi,oi]=(0,P.useNodeRef)(),li=function(Lt,sr){return(0,A.useMemo)(()=>Lt.reduce((wr,pr)=>{let{eventName:Ur,handler:sn}=pr;return wr[Ur]=un=>{sn(un,sr)},wr},{}),[Lt,sr])}(Br,Ot),ot=(0,P.useLatestValue)(Wt);return(0,P.useIsomorphicLayoutEffect)(()=>(Yr.set(Ot,{id:Ot,key:jr,node:yi,activatorNode:wi,data:ot}),()=>{const Lt=Yr.get(Ot);Lt&&Lt.key===jr&&Yr.delete(Ot)}),[Yr,Ot]),{active:Nr,activatorEvent:yr,activeNodeRect:Hr,attributes:(0,A.useMemo)(()=>({role:Pn,tabIndex:Mn,"aria-disabled":br,"aria-pressed":!(!Wn||Pn!==Wr)||void 0,"aria-roledescription":vn,"aria-describedby":Gr.draggable}),[br,Pn,Mn,Wn,vn,Gr.draggable]),isDragging:Wn,listeners:br?void 0:li,node:yi,over:Sn,setNodeRef:Si,setActivatorNodeRef:oi,transform:pi}}function Fr(){return(0,A.useContext)(Ti)}const _r="Droppable",Ge={timeout:25};function mt(yt){let{data:Ot,disabled:Wt=!1,id:br,resizeObserverConfig:Sr}=yt;const jr=(0,P.useUniqueId)(_r),{active:Br,dispatch:yr,over:Nr,measureDroppableContainers:Hr}=(0,A.useContext)(Ri),Gr=(0,A.useRef)({disabled:Wt}),Yr=(0,A.useRef)(!1),Sn=(0,A.useRef)(null),Pn=(0,A.useRef)(null),{disabled:vn,updateMeasurementsFor:Mn,timeout:Wn}={...Ge,...Sr},pi=(0,P.useLatestValue)(Mn??br),yi=or({callback:(0,A.useCallback)(()=>{Yr.current?(Pn.current!=null&&clearTimeout(Pn.current),Pn.current=setTimeout(()=>{Hr(Array.isArray(pi.current)?pi.current:[pi.current]),Pn.current=null},Wn)):Yr.current=!0},[Wn]),disabled:vn||!Br}),Si=(0,A.useCallback)((ot,Lt)=>{yi&&(Lt&&(yi.unobserve(Lt),Yr.current=!1),ot&&yi.observe(ot))},[yi]),[wi,oi]=(0,P.useNodeRef)(Si),li=(0,P.useLatestValue)(Ot);return(0,A.useEffect)(()=>{yi&&wi.current&&(yi.disconnect(),Yr.current=!1,yi.observe(wi.current))},[wi,yi]),(0,P.useIsomorphicLayoutEffect)(()=>(yr({type:B.RegisterDroppable,element:{id:br,key:jr,disabled:Wt,node:wi,rect:Sn,data:li}}),()=>yr({type:B.UnregisterDroppable,key:jr,id:br})),[br]),(0,A.useEffect)(()=>{Wt!==Gr.current.disabled&&(yr({type:B.SetDroppableDisabled,id:br,key:jr,disabled:Wt}),Gr.current.disabled=Wt)},[br,jr,Wt,yr]),{active:Br,rect:Sn,isOver:(Nr==null?void 0:Nr.id)===br,node:wi,over:Nr,setNodeRef:oi}}function Ft(yt){let{animation:Ot,children:Wt}=yt;const[br,Sr]=(0,A.useState)(null),[jr,Br]=(0,A.useState)(null),yr=(0,P.usePrevious)(Wt);return Wt||br||!yr||Sr(yr),(0,P.useIsomorphicLayoutEffect)(()=>{if(!jr)return;const Nr=br==null?void 0:br.key,Hr=br==null?void 0:br.props.id;Nr!=null&&Hr!=null?Promise.resolve(Ot(Hr,jr)).then(()=>{Sr(null)}):Sr(null)},[Ot,br,jr]),T().createElement(T().Fragment,null,Wt,br?(0,A.cloneElement)(br,{ref:Br}):null)}const Dr={x:0,y:0,scaleX:1,scaleY:1};function nn(yt){let{children:Ot}=yt;return T().createElement(Ri.Provider,{value:ei},T().createElement(Tt.Provider,{value:Dr},Ot))}const _n={position:"fixed",touchAction:"none"},Nn=yt=>(0,P.isKeyboardEvent)(yt)?"transform 250ms ease":void 0,tr=(0,A.forwardRef)((yt,Ot)=>{let{as:Wt,activatorEvent:br,adjustScale:Sr,children:jr,className:Br,rect:yr,style:Nr,transform:Hr,transition:Gr=Nn}=yt;if(!yr)return null;const Yr=Sr?Hr:{...Hr,scaleX:1,scaleY:1},Sn={..._n,width:yr.width,height:yr.height,top:yr.top,left:yr.left,transform:P.CSS.Transform.toString(Yr),transformOrigin:Sr&&br?ee(br,yr):void 0,transition:typeof Gr=="function"?Gr(br):Gr,...Nr};return T().createElement(Wt,{className:Br,style:Sn,ref:Ot},jr)}),nr=yt=>Ot=>{let{active:Wt,dragOverlay:br}=Ot;const Sr={},{styles:jr,className:Br}=yt;if(jr!=null&&jr.active)for(const[yr,Nr]of Object.entries(jr.active))Nr!==void 0&&(Sr[yr]=Wt.node.style.getPropertyValue(yr),Wt.node.style.setProperty(yr,Nr));if(jr!=null&&jr.dragOverlay)for(const[yr,Nr]of Object.entries(jr.dragOverlay))Nr!==void 0&&br.node.style.setProperty(yr,Nr);return Br!=null&&Br.active&&Wt.node.classList.add(Br.active),Br!=null&&Br.dragOverlay&&br.node.classList.add(Br.dragOverlay),function(){for(const[yr,Nr]of Object.entries(Sr))Wt.node.style.setProperty(yr,Nr);Br!=null&&Br.active&&Wt.node.classList.remove(Br.active)}},en={duration:250,easing:"ease",keyframes:yt=>{let{transform:{initial:Ot,final:Wt}}=yt;return[{transform:P.CSS.Transform.toString(Ot)},{transform:P.CSS.Transform.toString(Wt)}]},sideEffects:nr({styles:{active:{opacity:"0"}}})};let cn=0;function Je(yt){return(0,A.useMemo)(()=>{if(yt!=null)return cn++,cn},[yt])}const Rt=T().memo(yt=>{let{adjustScale:Ot=!1,children:Wt,dropAnimation:br,style:Sr,transition:jr,modifiers:Br,wrapperElement:yr="div",className:Nr,zIndex:Hr=999}=yt;const{activatorEvent:Gr,active:Yr,activeNodeRect:Sn,containerNodeRect:Pn,draggableNodes:vn,droppableContainers:Mn,dragOverlay:Wn,over:pi,measuringConfiguration:yi,scrollableAncestors:Si,scrollableAncestorRects:wi,windowRect:oi}=Fr(),li=(0,A.useContext)(Tt),ot=Je(Yr==null?void 0:Yr.id),Lt=ut(Br,{activatorEvent:Gr,active:Yr,activeNodeRect:Sn,containerNodeRect:Pn,draggingNodeRect:Wn.rect,over:pi,overlayNodeRect:Wn.rect,scrollableAncestors:Si,scrollableAncestorRects:wi,transform:li,windowRect:oi}),sr=gn(Sn),wr=function(Ur){let{config:sn,draggableNodes:un,droppableContainers:Dn,measuringConfiguration:Fn}=Ur;return(0,P.useEvent)((ai,ui)=>{if(sn===null)return;const Gt=un.get(ai);if(!Gt)return;const Bt=Gt.node.current;if(!Bt)return;const Ht=qn(ui);if(!Ht)return;const{transform:qt}=(0,P.getWindow)(ui).getComputedStyle(ui),Jt=Te(qt);if(!Jt)return;const Tr=typeof sn=="function"?sn:function(Rr){const{duration:Kr,easing:on,sideEffects:yn,keyframes:fn}={...en,...Rr};return Rn=>{let{active:Hn,dragOverlay:Xn,transform:Zn,...ar}=Rn;if(!Kr)return;const gr=Xn.rect.left-Hn.rect.left,Pr=Xn.rect.top-Hn.rect.top,dr={scaleX:Zn.scaleX!==1?Hn.rect.width*Zn.scaleX/Xn.rect.width:1,scaleY:Zn.scaleY!==1?Hn.rect.height*Zn.scaleY/Xn.rect.height:1},Qr={x:Zn.x-gr,y:Zn.y-Pr,...dr},An=fn({...ar,active:Hn,dragOverlay:Xn,transform:{initial:Zn,final:Qr}}),[kn]=An,Tn=An[An.length-1];if(JSON.stringify(kn)===JSON.stringify(Tn))return;const Un=yn==null?void 0:yn({active:Hn,dragOverlay:Xn,...ar}),Jn=Xn.node.animate(An,{duration:Kr,easing:on,fill:"forwards"});return new Promise(ti=>{Jn.onfinish=()=>{Un==null||Un(),ti()}})}}(sn);return Be(Bt,Fn.draggable.measure),Tr({active:{id:ai,data:Gt.data,node:Bt,rect:Fn.draggable.measure(Bt)},draggableNodes:un,dragOverlay:{node:ui,rect:Fn.dragOverlay.measure(Ht)},droppableContainers:Dn,measuringConfiguration:Fn,transform:Jt})})}({config:br,draggableNodes:vn,droppableContainers:Mn,measuringConfiguration:yi}),pr=sr?Wn.setRef:void 0;return T().createElement(nn,null,T().createElement(Ft,{animation:wr},Yr&&ot?T().createElement(tr,{key:ot,id:Yr.id,ref:pr,as:yr,activatorEvent:Gr,adjustScale:Ot,className:Nr,transition:jr,rect:sr,style:{zIndex:Hr,...Sr},transform:Lt},Wt):null))})},88366:($,E,_)=>{_.r(E),_.d(E,{createSnapModifier:()=>T,restrictToFirstScrollableAncestor:()=>I,restrictToHorizontalAxis:()=>O,restrictToParentElement:()=>R,restrictToVerticalAxis:()=>N,restrictToWindowEdges:()=>j,snapCenterToCursor:()=>U});var A=_(82851);function T(z){return V=>{let{transform:F}=V;return{...F,x:Math.ceil(F.x/z)*z,y:Math.ceil(F.y/z)*z}}}const O=z=>{let{transform:V}=z;return{...V,y:0}};function P(z,V,F){const q={...z};return V.top+z.y<=F.top?q.y=F.top-V.top:V.bottom+z.y>=F.top+F.height&&(q.y=F.top+F.height-V.bottom),V.left+z.x<=F.left?q.x=F.left-V.left:V.right+z.x>=F.left+F.width&&(q.x=F.left+F.width-V.right),q}const R=z=>{let{containerNodeRect:V,draggingNodeRect:F,transform:q}=z;return F&&V?P(q,F,V):q},I=z=>{let{draggingNodeRect:V,transform:F,scrollableAncestorRects:q}=z;const B=q[0];return V&&B?P(F,V,B):F},N=z=>{let{transform:V}=z;return{...V,x:0}},j=z=>{let{transform:V,draggingNodeRect:F,windowRect:q}=z;return F&&q?P(V,F,q):V},U=z=>{let{activatorEvent:V,draggingNodeRect:F,transform:q}=z;if(F&&V){const B=(0,A.getEventCoordinates)(V);if(!B)return q;const W=B.x-F.left,H=B.y-F.top;return{...q,x:q.x+W-F.width/2,y:q.y+H-F.height/2}}return q}},66548:($,E,_)=>{_.r(E),_.d(E,{SortableContext:()=>G,arrayMove:()=>R,arraySwap:()=>I,defaultAnimateLayoutChanges:()=>Y,defaultNewIndexGetter:()=>Z,hasSortableData:()=>de,horizontalListSortingStrategy:()=>z,rectSortingStrategy:()=>V,rectSwappingStrategy:()=>F,sortableKeyboardCoordinates:()=>ve,useSortable:()=>se,verticalListSortingStrategy:()=>B});var A=_(12244),T=_.n(A),O=_(61540),P=_(82851);function R(ke,Ce,Oe){const Ae=ke.slice();return Ae.splice(Oe<0?Ae.length+Oe:Oe,0,Ae.splice(Ce,1)[0]),Ae}function I(ke,Ce,Oe){const Ae=ke.slice();return Ae[Ce]=ke[Oe],Ae[Oe]=ke[Ce],Ae}function N(ke,Ce){return ke.reduce((Oe,Ae,Pe)=>{const Ee=Ce.get(Ae);return Ee&&(Oe[Pe]=Ee),Oe},Array(ke.length))}function j(ke){return ke!==null&&ke>=0}const U={scaleX:1,scaleY:1},z=ke=>{var Ce;let{rects:Oe,activeNodeRect:Ae,activeIndex:Pe,overIndex:Ee,index:Te}=ke;const Re=(Ce=Oe[Pe])!=null?Ce:Ae;if(!Re)return null;const Me=function(ze,Le,je){const Ne=ze[Le],qe=ze[Le-1],Ye=ze[Le+1];return Ne&&(qe||Ye)?je<Le?qe?Ne.left-(qe.left+qe.width):Ye.left-(Ne.left+Ne.width):Ye?Ye.left-(Ne.left+Ne.width):Ne.left-(qe.left+qe.width):0}(Oe,Te,Pe);if(Te===Pe){const ze=Oe[Ee];return ze?{x:Pe<Ee?ze.left+ze.width-(Re.left+Re.width):ze.left-Re.left,y:0,...U}:null}return Te>Pe&&Te<=Ee?{x:-Re.width-Me,y:0,...U}:Te<Pe&&Te>=Ee?{x:Re.width+Me,y:0,...U}:{x:0,y:0,...U}},V=ke=>{let{rects:Ce,activeIndex:Oe,overIndex:Ae,index:Pe}=ke;const Ee=R(Ce,Ae,Oe),Te=Ce[Pe],Re=Ee[Pe];return Re&&Te?{x:Re.left-Te.left,y:Re.top-Te.top,scaleX:Re.width/Te.width,scaleY:Re.height/Te.height}:null},F=ke=>{let Ce,Oe,{activeIndex:Ae,index:Pe,rects:Ee,overIndex:Te}=ke;return Pe===Ae&&(Ce=Ee[Pe],Oe=Ee[Te]),Pe===Te&&(Ce=Ee[Pe],Oe=Ee[Ae]),Oe&&Ce?{x:Oe.left-Ce.left,y:Oe.top-Ce.top,scaleX:Oe.width/Ce.width,scaleY:Oe.height/Ce.height}:null},q={scaleX:1,scaleY:1},B=ke=>{var Ce;let{activeIndex:Oe,activeNodeRect:Ae,index:Pe,rects:Ee,overIndex:Te}=ke;const Re=(Ce=Ee[Oe])!=null?Ce:Ae;if(!Re)return null;if(Pe===Oe){const ze=Ee[Te];return ze?{x:0,y:Oe<Te?ze.top+ze.height-(Re.top+Re.height):ze.top-Re.top,...q}:null}const Me=function(ze,Le,je){const Ne=ze[Le],qe=ze[Le-1],Ye=ze[Le+1];return Ne?je<Le?qe?Ne.top-(qe.top+qe.height):Ye?Ye.top-(Ne.top+Ne.height):0:Ye?Ye.top-(Ne.top+Ne.height):qe?Ne.top-(qe.top+qe.height):0:0}(Ee,Pe,Oe);return Pe>Oe&&Pe<=Te?{x:0,y:-Re.height-Me,...q}:Pe<Oe&&Pe>=Te?{x:0,y:Re.height+Me,...q}:{x:0,y:0,...q}},W="Sortable",H=T().createContext({activeIndex:-1,containerId:W,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:V,disabled:{draggable:!1,droppable:!1}});function G(ke){let{children:Ce,id:Oe,items:Ae,strategy:Pe=V,disabled:Ee=!1}=ke;const{active:Te,dragOverlay:Re,droppableRects:Me,over:ze,measureDroppableContainers:Le}=(0,O.useDndContext)(),je=(0,P.useUniqueId)(W,Oe),Ne=Re.rect!==null,qe=(0,A.useMemo)(()=>Ae.map(Qe=>typeof Qe=="object"&&"id"in Qe?Qe.id:Qe),[Ae]),Ye=Te!=null,Ve=Te?qe.indexOf(Te.id):-1,tt=ze?qe.indexOf(ze.id):-1,it=(0,A.useRef)(qe),Ze=!function(Qe,Be){if(Qe===Be)return!0;if(Qe.length!==Be.length)return!1;for(let $e=0;$e<Qe.length;$e++)if(Qe[$e]!==Be[$e])return!1;return!0}(qe,it.current),We=tt!==-1&&Ve===-1||Ze,He=function(Qe){return typeof Qe=="boolean"?{draggable:Qe,droppable:Qe}:Qe}(Ee);(0,P.useIsomorphicLayoutEffect)(()=>{Ze&&Ye&&Le(qe)},[Ze,qe,Ye,Le]),(0,A.useEffect)(()=>{it.current=qe},[qe]);const Ue=(0,A.useMemo)(()=>({activeIndex:Ve,containerId:je,disabled:He,disableTransforms:We,items:qe,overIndex:tt,useDragOverlay:Ne,sortedRects:N(qe,Me),strategy:Pe}),[Ve,je,He.draggable,He.droppable,We,qe,tt,Me,Ne,Pe]);return T().createElement(H.Provider,{value:Ue},Ce)}const Z=ke=>{let{id:Ce,items:Oe,activeIndex:Ae,overIndex:Pe}=ke;return R(Oe,Ae,Pe).indexOf(Ce)},Y=ke=>{let{containerId:Ce,isSorting:Oe,wasDragging:Ae,index:Pe,items:Ee,newIndex:Te,previousItems:Re,previousContainerId:Me,transition:ze}=ke;return!(!ze||!Ae||Re!==Ee&&Pe===Te||!Oe&&(Te===Pe||Ce!==Me))},ee={duration:200,easing:"ease"},J="transform",Q=P.CSS.Transition.toString({property:J,duration:0,easing:"linear"}),te={roleDescription:"sortable"};function se(ke){let{animateLayoutChanges:Ce=Y,attributes:Oe,disabled:Ae,data:Pe,getNewIndex:Ee=Z,id:Te,strategy:Re,resizeObserverConfig:Me,transition:ze=ee}=ke;const{items:Le,containerId:je,activeIndex:Ne,disabled:qe,disableTransforms:Ye,sortedRects:Ve,overIndex:tt,useDragOverlay:it,strategy:Ze}=(0,A.useContext)(H),We=function($r,qr){var gn,or;return typeof $r=="boolean"?{draggable:$r,droppable:!1}:{draggable:(gn=$r==null?void 0:$r.draggable)!=null?gn:qr.draggable,droppable:(or=$r==null?void 0:$r.droppable)!=null?or:qr.droppable}}(Ae,qe),He=Le.indexOf(Te),Ue=(0,A.useMemo)(()=>({sortable:{containerId:je,index:He,items:Le},...Pe}),[je,Pe,He,Le]),Qe=(0,A.useMemo)(()=>Le.slice(Le.indexOf(Te)),[Le,Te]),{rect:Be,node:$e,isOver:Xe,setNodeRef:lt}=(0,O.useDroppable)({id:Te,data:Ue,disabled:We.droppable,resizeObserverConfig:{updateMeasurementsFor:Qe,...Me}}),{active:dt,activatorEvent:ft,activeNodeRect:St,attributes:Mt,setNodeRef:ht,listeners:ct,isDragging:vt,over:Et,setActivatorNodeRef:gt,transform:xt}=(0,O.useDraggable)({id:Te,data:Ue,attributes:{...te,...Oe},disabled:We.draggable}),at=(0,P.useCombinedRefs)(lt,ht),$t=!!dt,Qt=$t&&!Ye&&j(Ne)&&j(tt),Vt=!it&&vt,bt=Vt&&Qt?xt:null,wt=Qt?bt??(Re??Ze)({rects:Ve,activeNodeRect:St,activeIndex:Ne,overIndex:tt,index:He}):null,At=j(Ne)&&j(tt)?Ee({id:Te,items:Le,activeIndex:Ne,overIndex:tt}):He,Kt=dt==null?void 0:dt.id,Yt=(0,A.useRef)({activeId:Kt,items:Le,newIndex:At,containerId:je}),xr=Le!==Yt.current.items,Cr=Ce({active:dt,containerId:je,isDragging:vt,isSorting:$t,id:Te,index:He,items:Le,newIndex:Yt.current.newIndex,previousItems:Yt.current.items,previousContainerId:Yt.current.containerId,transition:ze,wasDragging:Yt.current.activeId!=null}),Mr=function($r){let{disabled:qr,index:gn,node:or,rect:Zr}=$r;const[bn,mn]=(0,A.useState)(null),jn=(0,A.useRef)(gn);return(0,P.useIsomorphicLayoutEffect)(()=>{if(!qr&&gn!==jn.current&&or.current){const ln=Zr.current;if(ln){const Cn=(0,O.getClientRect)(or.current,{ignoreTransform:!0}),qn={x:ln.left-Cn.left,y:ln.top-Cn.top,scaleX:ln.width/Cn.width,scaleY:ln.height/Cn.height};(qn.x||qn.y)&&mn(qn)}}gn!==jn.current&&(jn.current=gn)},[qr,gn,or,Zr]),(0,A.useEffect)(()=>{bn&&mn(null)},[bn]),bn}({disabled:!Cr,index:He,node:$e,rect:Be});return(0,A.useEffect)(()=>{$t&&Yt.current.newIndex!==At&&(Yt.current.newIndex=At),je!==Yt.current.containerId&&(Yt.current.containerId=je),Le!==Yt.current.items&&(Yt.current.items=Le)},[$t,At,je,Le]),(0,A.useEffect)(()=>{if(Kt===Yt.current.activeId)return;if(Kt&&!Yt.current.activeId)return void(Yt.current.activeId=Kt);const $r=setTimeout(()=>{Yt.current.activeId=Kt},50);return()=>clearTimeout($r)},[Kt]),{active:dt,activeIndex:Ne,attributes:Mt,data:Ue,rect:Be,index:He,newIndex:At,items:Le,isOver:Xe,isSorting:$t,isDragging:vt,listeners:ct,node:$e,overIndex:tt,over:Et,setNodeRef:at,setActivatorNodeRef:gt,setDroppableNodeRef:lt,setDraggableNodeRef:ht,transform:Mr??wt,transition:Mr||xr&&Yt.current.newIndex===He?Q:Vt&&!(0,P.isKeyboardEvent)(ft)||!ze?void 0:$t||Cr?P.CSS.Transition.toString({...ze,property:J}):void 0}}function de(ke){if(!ke)return!1;const Ce=ke.data.current;return!!(Ce&&"sortable"in Ce&&typeof Ce.sortable=="object"&&"containerId"in Ce.sortable&&"items"in Ce.sortable&&"index"in Ce.sortable)}const ie=[O.KeyboardCode.Down,O.KeyboardCode.Right,O.KeyboardCode.Up,O.KeyboardCode.Left],ve=(ke,Ce)=>{let{context:{active:Oe,collisionRect:Ae,droppableRects:Pe,droppableContainers:Ee,over:Te,scrollableAncestors:Re}}=Ce;if(ie.includes(ke.code)){if(ke.preventDefault(),!Oe||!Ae)return;const Le=[];Ee.getEnabled().forEach(qe=>{if(!qe||qe!=null&&qe.disabled)return;const Ye=Pe.get(qe.id);if(Ye)switch(ke.code){case O.KeyboardCode.Down:Ae.top<Ye.top&&Le.push(qe);break;case O.KeyboardCode.Up:Ae.top>Ye.top&&Le.push(qe);break;case O.KeyboardCode.Left:Ae.left>Ye.left&&Le.push(qe);break;case O.KeyboardCode.Right:Ae.left<Ye.left&&Le.push(qe)}});const je=(0,O.closestCorners)({active:Oe,collisionRect:Ae,droppableRects:Pe,droppableContainers:Le,pointerCoordinates:null});let Ne=(0,O.getFirstCollision)(je,"id");if(Ne===(Te==null?void 0:Te.id)&&je.length>1&&(Ne=je[1].id),Ne!=null){const qe=Ee.get(Oe.id),Ye=Ee.get(Ne),Ve=Ye?Pe.get(Ye.id):null,tt=Ye==null?void 0:Ye.node.current;if(tt&&Ve&&qe&&Ye){const it=(0,O.getScrollableAncestors)(tt).some((Qe,Be)=>Re[Be]!==Qe),Ze=xe(qe,Ye),We=(ze=Ye,!(!de(Me=qe)||!de(ze))&&!!xe(Me,ze)&&Me.data.current.sortable.index<ze.data.current.sortable.index),He=it||!Ze?{x:0,y:0}:{x:We?Ae.width-Ve.width:0,y:We?Ae.height-Ve.height:0},Ue={x:Ve.left,y:Ve.top};return He.x&&He.y?Ue:(0,P.subtract)(Ue,He)}}}var Me,ze};function xe(ke,Ce){return!(!de(ke)||!de(Ce))&&ke.data.current.sortable.containerId===Ce.data.current.sortable.containerId}},82851:($,E,_)=>{_.r(E),_.d(E,{CSS:()=>ve,add:()=>J,canUseDOM:()=>O,findFirstFocusableNode:()=>ke,getEventCoordinates:()=>ie,getOwnerDocument:()=>z,getWindow:()=>I,hasViewportRelativeCoordinates:()=>te,isDocument:()=>N,isHTMLElement:()=>j,isKeyboardEvent:()=>se,isNode:()=>R,isSVGElement:()=>U,isTouchEvent:()=>de,isWindow:()=>P,subtract:()=>Q,useCombinedRefs:()=>T,useEvent:()=>F,useInterval:()=>q,useIsomorphicLayoutEffect:()=>V,useLatestValue:()=>B,useLazyMemo:()=>W,useNodeRef:()=>H,usePrevious:()=>G,useUniqueId:()=>Y});var A=_(12244);function T(){for(var Ce=arguments.length,Oe=new Array(Ce),Ae=0;Ae<Ce;Ae++)Oe[Ae]=arguments[Ae];return(0,A.useMemo)(()=>Pe=>{Oe.forEach(Ee=>Ee(Pe))},Oe)}const O=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0;function P(Ce){const Oe=Object.prototype.toString.call(Ce);return Oe==="[object Window]"||Oe==="[object global]"}function R(Ce){return"nodeType"in Ce}function I(Ce){var Oe,Ae;return Ce?P(Ce)?Ce:R(Ce)&&(Oe=(Ae=Ce.ownerDocument)==null?void 0:Ae.defaultView)!=null?Oe:window:window}function N(Ce){const{Document:Oe}=I(Ce);return Ce instanceof Oe}function j(Ce){return!P(Ce)&&Ce instanceof I(Ce).HTMLElement}function U(Ce){return Ce instanceof I(Ce).SVGElement}function z(Ce){return Ce?P(Ce)?Ce.document:R(Ce)?N(Ce)?Ce:j(Ce)?Ce.ownerDocument:document:document:document}const V=O?A.useLayoutEffect:A.useEffect;function F(Ce){const Oe=(0,A.useRef)(Ce);return V(()=>{Oe.current=Ce}),(0,A.useCallback)(function(){for(var Ae=arguments.length,Pe=new Array(Ae),Ee=0;Ee<Ae;Ee++)Pe[Ee]=arguments[Ee];return Oe.current==null?void 0:Oe.current(...Pe)},[])}function q(){const Ce=(0,A.useRef)(null);return[(0,A.useCallback)((Oe,Ae)=>{Ce.current=setInterval(Oe,Ae)},[]),(0,A.useCallback)(()=>{Ce.current!==null&&(clearInterval(Ce.current),Ce.current=null)},[])]}function B(Ce,Oe){Oe===void 0&&(Oe=[Ce]);const Ae=(0,A.useRef)(Ce);return V(()=>{Ae.current!==Ce&&(Ae.current=Ce)},Oe),Ae}function W(Ce,Oe){const Ae=(0,A.useRef)();return(0,A.useMemo)(()=>{const Pe=Ce(Ae.current);return Ae.current=Pe,Pe},[...Oe])}function H(Ce){const Oe=F(Ce),Ae=(0,A.useRef)(null),Pe=(0,A.useCallback)(Ee=>{Ee!==Ae.current&&(Oe==null||Oe(Ee,Ae.current)),Ae.current=Ee},[]);return[Ae,Pe]}function G(Ce){const Oe=(0,A.useRef)();return(0,A.useEffect)(()=>{Oe.current=Ce},[Ce]),Oe.current}let Z={};function Y(Ce,Oe){return(0,A.useMemo)(()=>{if(Oe)return Oe;const Ae=Z[Ce]==null?0:Z[Ce]+1;return Z[Ce]=Ae,Ce+"-"+Ae},[Ce,Oe])}function ee(Ce){return function(Oe){for(var Ae=arguments.length,Pe=new Array(Ae>1?Ae-1:0),Ee=1;Ee<Ae;Ee++)Pe[Ee-1]=arguments[Ee];return Pe.reduce((Te,Re)=>{const Me=Object.entries(Re);for(const[ze,Le]of Me){const je=Te[ze];je!=null&&(Te[ze]=je+Ce*Le)}return Te},{...Oe})}}const J=ee(1),Q=ee(-1);function te(Ce){return"clientX"in Ce&&"clientY"in Ce}function se(Ce){if(!Ce)return!1;const{KeyboardEvent:Oe}=I(Ce.target);return Oe&&Ce instanceof Oe}function de(Ce){if(!Ce)return!1;const{TouchEvent:Oe}=I(Ce.target);return Oe&&Ce instanceof Oe}function ie(Ce){if(de(Ce)){if(Ce.touches&&Ce.touches.length){const{clientX:Oe,clientY:Ae}=Ce.touches[0];return{x:Oe,y:Ae}}if(Ce.changedTouches&&Ce.changedTouches.length){const{clientX:Oe,clientY:Ae}=Ce.changedTouches[0];return{x:Oe,y:Ae}}}return te(Ce)?{x:Ce.clientX,y:Ce.clientY}:null}const ve=Object.freeze({Translate:{toString(Ce){if(!Ce)return;const{x:Oe,y:Ae}=Ce;return"translate3d("+(Oe?Math.round(Oe):0)+"px, "+(Ae?Math.round(Ae):0)+"px, 0)"}},Scale:{toString(Ce){if(!Ce)return;const{scaleX:Oe,scaleY:Ae}=Ce;return"scaleX("+Oe+") scaleY("+Ae+")"}},Transform:{toString(Ce){if(Ce)return[ve.Translate.toString(Ce),ve.Scale.toString(Ce)].join(" ")}},Transition:{toString(Ce){let{property:Oe,duration:Ae,easing:Pe}=Ce;return Oe+" "+Ae+"ms "+Pe}}}),xe="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ke(Ce){return Ce.matches(xe)?Ce:Ce.querySelector(xe)}},39721:($,E,_)=>{_.d(E,{Z:()=>lt});var A=function(){function dt(St){var Mt=this;this._insertTag=function(ht){var ct;ct=Mt.tags.length===0?Mt.insertionPoint?Mt.insertionPoint.nextSibling:Mt.prepend?Mt.container.firstChild:Mt.before:Mt.tags[Mt.tags.length-1].nextSibling,Mt.container.insertBefore(ht,ct),Mt.tags.push(ht)},this.isSpeedy=St.speedy===void 0||St.speedy,this.tags=[],this.ctr=0,this.nonce=St.nonce,this.key=St.key,this.container=St.container,this.prepend=St.prepend,this.insertionPoint=St.insertionPoint,this.before=null}var ft=dt.prototype;return ft.hydrate=function(St){St.forEach(this._insertTag)},ft.insert=function(St){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(ct){var vt=document.createElement("style");return vt.setAttribute("data-emotion",ct.key),ct.nonce!==void 0&&vt.setAttribute("nonce",ct.nonce),vt.appendChild(document.createTextNode("")),vt.setAttribute("data-s",""),vt}(this));var Mt=this.tags[this.tags.length-1];if(this.isSpeedy){var ht=function(ct){if(ct.sheet)return ct.sheet;for(var vt=0;vt<document.styleSheets.length;vt++)if(document.styleSheets[vt].ownerNode===ct)return document.styleSheets[vt]}(Mt);try{ht.insertRule(St,ht.cssRules.length)}catch{}}else Mt.appendChild(document.createTextNode(St));this.ctr++},ft.flush=function(){this.tags.forEach(function(St){return St.parentNode&&St.parentNode.removeChild(St)}),this.tags=[],this.ctr=0},dt}(),T=Math.abs,O=String.fromCharCode,P=Object.assign;function R(dt){return dt.trim()}function I(dt,ft,St){return dt.replace(ft,St)}function N(dt,ft){return dt.indexOf(ft)}function j(dt,ft){return 0|dt.charCodeAt(ft)}function U(dt,ft,St){return dt.slice(ft,St)}function z(dt){return dt.length}function V(dt){return dt.length}function F(dt,ft){return ft.push(dt),dt}var q=1,B=1,W=0,H=0,G=0,Z="";function Y(dt,ft,St,Mt,ht,ct,vt){return{value:dt,root:ft,parent:St,type:Mt,props:ht,children:ct,line:q,column:B,length:vt,return:""}}function ee(dt,ft){return P(Y("",null,null,"",null,null,0),dt,{length:-dt.length},ft)}function J(){return G=H>0?j(Z,--H):0,B--,G===10&&(B=1,q--),G}function Q(){return G=H<W?j(Z,H++):0,B++,G===10&&(B=1,q++),G}function te(){return j(Z,H)}function se(){return H}function de(dt,ft){return U(Z,dt,ft)}function ie(dt){switch(dt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ve(dt){return q=B=1,W=z(Z=dt),H=0,[]}function xe(dt){return Z="",dt}function ke(dt){return R(de(H-1,Ae(dt===91?dt+2:dt===40?dt+1:dt)))}function Ce(dt){for(;(G=te())&&G<33;)Q();return ie(dt)>2||ie(G)>3?"":" "}function Oe(dt,ft){for(;--ft&&Q()&&!(G<48||G>102||G>57&&G<65||G>70&&G<97););return de(dt,se()+(ft<6&&te()==32&&Q()==32))}function Ae(dt){for(;Q();)switch(G){case dt:return H;case 34:case 39:dt!==34&&dt!==39&&Ae(G);break;case 40:dt===41&&Ae(dt);break;case 92:Q()}return H}function Pe(dt,ft){for(;Q()&&dt+G!==57&&(dt+G!==84||te()!==47););return"/*"+de(ft,H-1)+"*"+O(dt===47?dt:Q())}function Ee(dt){for(;!ie(te());)Q();return de(dt,H)}var Te="-ms-",Re="-moz-",Me="-webkit-",ze="comm",Le="rule",je="decl",Ne="@keyframes";function qe(dt,ft){for(var St="",Mt=V(dt),ht=0;ht<Mt;ht++)St+=ft(dt[ht],ht,dt,ft)||"";return St}function Ye(dt,ft,St,Mt){switch(dt.type){case"@layer":if(dt.children.length)break;case"@import":case je:return dt.return=dt.return||dt.value;case ze:return"";case Ne:return dt.return=dt.value+"{"+qe(dt.children,Mt)+"}";case Le:dt.value=dt.props.join(",")}return z(St=qe(dt.children,Mt))?dt.return=dt.value+"{"+St+"}":""}function Ve(dt){return xe(tt("",null,null,null,[""],dt=ve(dt),0,[0],dt))}function tt(dt,ft,St,Mt,ht,ct,vt,Et,gt){for(var xt=0,at=0,$t=vt,Qt=0,Vt=0,bt=0,wt=1,At=1,Kt=1,Yt=0,xr="",Cr=ht,Mr=ct,$r=Mt,qr=xr;At;)switch(bt=Yt,Yt=Q()){case 40:if(bt!=108&&j(qr,$t-1)==58){N(qr+=I(ke(Yt),"&","&\f"),"&\f")!=-1&&(Kt=-1);break}case 34:case 39:case 91:qr+=ke(Yt);break;case 9:case 10:case 13:case 32:qr+=Ce(bt);break;case 92:qr+=Oe(se()-1,7);continue;case 47:switch(te()){case 42:case 47:F(Ze(Pe(Q(),se()),ft,St),gt);break;default:qr+="/"}break;case 123*wt:Et[xt++]=z(qr)*Kt;case 125*wt:case 59:case 0:switch(Yt){case 0:case 125:At=0;case 59+at:Kt==-1&&(qr=I(qr,/\f/g,"")),Vt>0&&z(qr)-$t&&F(Vt>32?We(qr+";",Mt,St,$t-1):We(I(qr," ","")+";",Mt,St,$t-2),gt);break;case 59:qr+=";";default:if(F($r=it(qr,ft,St,xt,at,ht,Et,xr,Cr=[],Mr=[],$t),ct),Yt===123)if(at===0)tt(qr,ft,$r,$r,Cr,ct,$t,Et,Mr);else switch(Qt===99&&j(qr,3)===110?100:Qt){case 100:case 108:case 109:case 115:tt(dt,$r,$r,Mt&&F(it(dt,$r,$r,0,0,ht,Et,xr,ht,Cr=[],$t),Mr),ht,Mr,$t,Et,Mt?Cr:Mr);break;default:tt(qr,$r,$r,$r,[""],Mr,0,Et,Mr)}}xt=at=Vt=0,wt=Kt=1,xr=qr="",$t=vt;break;case 58:$t=1+z(qr),Vt=bt;default:if(wt<1){if(Yt==123)--wt;else if(Yt==125&&wt++==0&&J()==125)continue}switch(qr+=O(Yt),Yt*wt){case 38:Kt=at>0?1:(qr+="\f",-1);break;case 44:Et[xt++]=(z(qr)-1)*Kt,Kt=1;break;case 64:te()===45&&(qr+=ke(Q())),Qt=te(),at=$t=z(xr=qr+=Ee(se())),Yt++;break;case 45:bt===45&&z(qr)==2&&(wt=0)}}return ct}function it(dt,ft,St,Mt,ht,ct,vt,Et,gt,xt,at){for(var $t=ht-1,Qt=ht===0?ct:[""],Vt=V(Qt),bt=0,wt=0,At=0;bt<Mt;++bt)for(var Kt=0,Yt=U(dt,$t+1,$t=T(wt=vt[bt])),xr=dt;Kt<Vt;++Kt)(xr=R(wt>0?Qt[Kt]+" "+Yt:I(Yt,/&\f/g,Qt[Kt])))&&(gt[At++]=xr);return Y(dt,ft,St,ht===0?Le:Et,gt,xt,at)}function Ze(dt,ft,St){return Y(dt,ft,St,ze,O(G),U(dt,2,-2),0)}function We(dt,ft,St,Mt){return Y(dt,ft,St,je,U(dt,0,Mt),U(dt,Mt+1,-1),Mt)}var He=function(dt,ft,St){for(var Mt=0,ht=0;Mt=ht,ht=te(),Mt===38&&ht===12&&(ft[St]=1),!ie(ht);)Q();return de(dt,H)},Ue=new WeakMap,Qe=function(dt){if(dt.type==="rule"&&dt.parent&&!(dt.length<1)){for(var ft=dt.value,St=dt.parent,Mt=dt.column===St.column&&dt.line===St.line;St.type!=="rule";)if(!(St=St.parent))return;if((dt.props.length!==1||ft.charCodeAt(0)===58||Ue.get(St))&&!Mt){Ue.set(dt,!0);for(var ht=[],ct=function(at,$t){return xe(function(Qt,Vt){var bt=-1,wt=44;do switch(ie(wt)){case 0:wt===38&&te()===12&&(Vt[bt]=1),Qt[bt]+=He(H-1,Vt,bt);break;case 2:Qt[bt]+=ke(wt);break;case 4:if(wt===44){Qt[++bt]=te()===58?"&\f":"",Vt[bt]=Qt[bt].length;break}default:Qt[bt]+=O(wt)}while(wt=Q());return Qt}(ve(at),$t))}(ft,ht),vt=St.props,Et=0,gt=0;Et<ct.length;Et++)for(var xt=0;xt<vt.length;xt++,gt++)dt.props[gt]=ht[Et]?ct[Et].replace(/&\f/g,vt[xt]):vt[xt]+" "+ct[Et]}}},Be=function(dt){if(dt.type==="decl"){var ft=dt.value;ft.charCodeAt(0)===108&&ft.charCodeAt(2)===98&&(dt.return="",dt.value="")}};function $e(dt,ft){switch(function(St,Mt){return 45^j(St,0)?(((Mt<<2^j(St,0))<<2^j(St,1))<<2^j(St,2))<<2^j(St,3):0}(dt,ft)){case 5103:return Me+"print-"+dt+dt;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Me+dt+dt;case 5349:case 4246:case 4810:case 6968:case 2756:return Me+dt+Re+dt+Te+dt+dt;case 6828:case 4268:return Me+dt+Te+dt+dt;case 6165:return Me+dt+Te+"flex-"+dt+dt;case 5187:return Me+dt+I(dt,/(\w+).+(:[^]+)/,Me+"box-$1$2"+Te+"flex-$1$2")+dt;case 5443:return Me+dt+Te+"flex-item-"+I(dt,/flex-|-self/,"")+dt;case 4675:return Me+dt+Te+"flex-line-pack"+I(dt,/align-content|flex-|-self/,"")+dt;case 5548:return Me+dt+Te+I(dt,"shrink","negative")+dt;case 5292:return Me+dt+Te+I(dt,"basis","preferred-size")+dt;case 6060:return Me+"box-"+I(dt,"-grow","")+Me+dt+Te+I(dt,"grow","positive")+dt;case 4554:return Me+I(dt,/([^-])(transform)/g,"$1"+Me+"$2")+dt;case 6187:return I(I(I(dt,/(zoom-|grab)/,Me+"$1"),/(image-set)/,Me+"$1"),dt,"")+dt;case 5495:case 3959:return I(dt,/(image-set\([^]*)/,Me+"$1$`$1");case 4968:return I(I(dt,/(.+:)(flex-)?(.*)/,Me+"box-pack:$3"+Te+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Me+dt+dt;case 4095:case 3583:case 4068:case 2532:return I(dt,/(.+)-inline(.+)/,Me+"$1$2")+dt;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(z(dt)-1-ft>6)switch(j(dt,ft+1)){case 109:if(j(dt,ft+4)!==45)break;case 102:return I(dt,/(.+:)(.+)-([^]+)/,"$1"+Me+"$2-$3$1"+Re+(j(dt,ft+3)==108?"$3":"$2-$3"))+dt;case 115:return~N(dt,"stretch")?$e(I(dt,"stretch","fill-available"),ft)+dt:dt}break;case 4949:if(j(dt,ft+1)!==115)break;case 6444:switch(j(dt,z(dt)-3-(~N(dt,"!important")&&10))){case 107:return I(dt,":",":"+Me)+dt;case 101:return I(dt,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Me+(j(dt,14)===45?"inline-":"")+"box$3$1"+Me+"$2$3$1"+Te+"$2box$3")+dt}break;case 5936:switch(j(dt,ft+11)){case 114:return Me+dt+Te+I(dt,/[svh]\w+-[tblr]{2}/,"tb")+dt;case 108:return Me+dt+Te+I(dt,/[svh]\w+-[tblr]{2}/,"tb-rl")+dt;case 45:return Me+dt+Te+I(dt,/[svh]\w+-[tblr]{2}/,"lr")+dt}return Me+dt+Te+dt+dt}return dt}var Xe=[function(dt,ft,St,Mt){if(dt.length>-1&&!dt.return)switch(dt.type){case je:dt.return=$e(dt.value,dt.length);break;case Ne:return qe([ee(dt,{value:I(dt.value,"@","@"+Me)})],Mt);case Le:if(dt.length)return function(ht,ct){return ht.map(ct).join("")}(dt.props,function(ht){switch(function(ct,vt){return(ct=/(::plac\w+|:read-\w+)/.exec(ct))?ct[0]:ct}(ht)){case":read-only":case":read-write":return qe([ee(dt,{props:[I(ht,/:(read-\w+)/,":-moz-$1")]})],Mt);case"::placeholder":return qe([ee(dt,{props:[I(ht,/:(plac\w+)/,":"+Me+"input-$1")]}),ee(dt,{props:[I(ht,/:(plac\w+)/,":-moz-$1")]}),ee(dt,{props:[I(ht,/:(plac\w+)/,Te+"input-$1")]})],Mt)}return""})}}],lt=function(dt){var ft=dt.key;if(ft==="css"){var St=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(St,function(wt){wt.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(wt),wt.setAttribute("data-s",""))})}var Mt,ht,ct=dt.stylisPlugins||Xe,vt={},Et=[];Mt=dt.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+ft+' "]'),function(wt){for(var At=wt.getAttribute("data-emotion").split(" "),Kt=1;Kt<At.length;Kt++)vt[At[Kt]]=!0;Et.push(wt)});var gt,xt,at,$t,Qt=[Ye,($t=function(wt){gt.insert(wt)},function(wt){wt.root||(wt=wt.return)&&$t(wt)})],Vt=(xt=[Qe,Be].concat(ct,Qt),at=V(xt),function(wt,At,Kt,Yt){for(var xr="",Cr=0;Cr<at;Cr++)xr+=xt[Cr](wt,At,Kt,Yt)||"";return xr});ht=function(wt,At,Kt,Yt){gt=Kt,qe(Ve(wt?wt+"{"+At.styles+"}":At.styles),Vt),Yt&&(bt.inserted[At.name]=!0)};var bt={key:ft,sheet:new A({key:ft,container:Mt,nonce:dt.nonce,speedy:dt.speedy,prepend:dt.prepend,insertionPoint:dt.insertionPoint}),nonce:dt.nonce,inserted:vt,registered:{},insert:ht};return bt.sheet.hydrate(Et),bt}},86894:($,E,_)=>{function A(T){var O=Object.create(null);return function(P){return O[P]===void 0&&(O[P]=T(P)),O[P]}}_.d(E,{Z:()=>A})},33895:($,E,_)=>{_.d(E,{C:()=>B,E:()=>de,T:()=>G,_:()=>W,a:()=>ee,b:()=>J,c:()=>te,h:()=>F,i:()=>V,u:()=>Z,w:()=>H});var A=_(12244),T=_(39721),O=_(7896),P=function(ie){var ve=new WeakMap;return function(xe){if(ve.has(xe))return ve.get(xe);var ke=ie(xe);return ve.set(xe,ke),ke}},R=_(73463),I=_.n(R),N=function(ie,ve){return I()(ie,ve)},j=_(82792),U=_(44188),z=_(82668),V=!0,F={}.hasOwnProperty,q=A.createContext(typeof HTMLElement<"u"?(0,T.Z)({key:"css"}):null),B=q.Provider,W=function(){return(0,A.useContext)(q)},H=function(ie){return(0,A.forwardRef)(function(ve,xe){var ke=(0,A.useContext)(q);return ie(ve,ke,xe)})},G=A.createContext({}),Z=function(){return A.useContext(G)},Y=P(function(ie){return P(function(ve){return function(xe,ke){return typeof ke=="function"?ke(xe):(0,O.Z)({},xe,ke)}(ie,ve)})}),ee=function(ie){var ve=A.useContext(G);return ie.theme!==ve&&(ve=Y(ve)(ie.theme)),A.createElement(G.Provider,{value:ve},ie.children)};function J(ie){var ve=ie.displayName||ie.name||"Component",xe=function(Ce,Oe){var Ae=A.useContext(G);return A.createElement(ie,(0,O.Z)({theme:Ae,ref:Oe},Ce))},ke=A.forwardRef(xe);return ke.displayName="WithTheme("+ve+")",N(ke,ie)}var Q="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",te=function(ie,ve){var xe={};for(var ke in ve)F.call(ve,ke)&&(xe[ke]=ve[ke]);return xe[Q]=ie,xe},se=function(ie){var ve=ie.cache,xe=ie.serialized,ke=ie.isStringTag;return(0,j.hC)(ve,xe,ke),(0,z.L)(function(){return(0,j.My)(ve,xe,ke)}),null},de=H(function(ie,ve,xe){var ke=ie.css;typeof ke=="string"&&ve.registered[ke]!==void 0&&(ke=ve.registered[ke]);var Ce=ie[Q],Oe=[ke],Ae="";typeof ie.className=="string"?Ae=(0,j.fp)(ve.registered,Oe,ie.className):ie.className!=null&&(Ae=ie.className+" ");var Pe=(0,U.O)(Oe,void 0,A.useContext(G));Ae+=ve.key+"-"+Pe.name;var Ee={};for(var Te in ie)F.call(ie,Te)&&Te!=="css"&&Te!==Q&&(Ee[Te]=ie[Te]);return Ee.ref=xe,Ee.className=Ae,A.createElement(A.Fragment,null,A.createElement(se,{cache:ve,serialized:Pe,isStringTag:typeof Ce=="string"}),A.createElement(Ce,Ee))})},28165:($,E,_)=>{_.r(E),_.d(E,{CacheProvider:()=>A.C,ClassNames:()=>F,Global:()=>N,ThemeContext:()=>A.T,ThemeProvider:()=>A.a,__unsafe_useEmotionCache:()=>A._,createElement:()=>I,css:()=>j,jsx:()=>I,keyframes:()=>U,useTheme:()=>A.u,withEmotionCache:()=>A.w,withTheme:()=>A.b});var A=_(33895),T=_(12244),O=_(82792),P=_(82668),R=_(44188),I=(_(39721),_(73463),function(q,B){var W=arguments;if(B==null||!A.h.call(B,"css"))return T.createElement.apply(void 0,W);var H=W.length,G=new Array(H);G[0]=A.E,G[1]=(0,A.c)(q,B);for(var Z=2;Z<H;Z++)G[Z]=W[Z];return T.createElement.apply(null,G)}),N=(0,A.w)(function(q,B){var W=q.styles,H=(0,R.O)([W],void 0,T.useContext(A.T));if(!A.i){for(var G,Z=H.name,Y=H.styles,ee=H.next;ee!==void 0;)Z+=" "+ee.name,Y+=ee.styles,ee=ee.next;var J=B.compat===!0,Q=B.insert("",{name:Z,styles:Y},B.sheet,J);return J?null:T.createElement("style",((G={})["data-emotion"]=B.key+"-global "+Z,G.dangerouslySetInnerHTML={__html:Q},G.nonce=B.sheet.nonce,G))}var te=T.useRef();return(0,P.j)(function(){var se=B.key+"-global",de=new B.sheet.constructor({key:se,nonce:B.sheet.nonce,container:B.sheet.container,speedy:B.sheet.isSpeedy}),ie=!1,ve=document.querySelector('style[data-emotion="'+se+" "+H.name+'"]');return B.sheet.tags.length&&(de.before=B.sheet.tags[0]),ve!==null&&(ie=!0,ve.setAttribute("data-emotion",se),de.hydrate([ve])),te.current=[de,ie],function(){de.flush()}},[B]),(0,P.j)(function(){var se=te.current,de=se[0];if(se[1])se[1]=!1;else{if(H.next!==void 0&&(0,O.My)(B,H.next,!0),de.tags.length){var ie=de.tags[de.tags.length-1].nextElementSibling;de.before=ie,de.flush()}B.insert("",H,de,!1)}},[B,H.name]),null});function j(){for(var q=arguments.length,B=new Array(q),W=0;W<q;W++)B[W]=arguments[W];return(0,R.O)(B)}var U=function(){var q=j.apply(void 0,arguments),B="animation-"+q.name;return{name:B,styles:"@keyframes "+B+"{"+q.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},z=function q(B){for(var W=B.length,H=0,G="";H<W;H++){var Z=B[H];if(Z!=null){var Y=void 0;switch(typeof Z){case"boolean":break;case"object":if(Array.isArray(Z))Y=q(Z);else for(var ee in Y="",Z)Z[ee]&&ee&&(Y&&(Y+=" "),Y+=ee);break;default:Y=Z}Y&&(G&&(G+=" "),G+=Y)}}return G},V=function(q){var B=q.cache,W=q.serializedArr;return(0,P.L)(function(){for(var H=0;H<W.length;H++)(0,O.My)(B,W[H],!1)}),null},F=(0,A.w)(function(q,B){var W=[],H=function(){for(var Y=arguments.length,ee=new Array(Y),J=0;J<Y;J++)ee[J]=arguments[J];var Q=(0,R.O)(ee,B.registered);return W.push(Q),(0,O.hC)(B,Q,!1),B.key+"-"+Q.name},G={css:H,cx:function(){for(var Y=arguments.length,ee=new Array(Y),J=0;J<Y;J++)ee[J]=arguments[J];return function(Q,te,se){var de=[],ie=(0,O.fp)(Q,de,se);return de.length<2?se:ie+te(de)}(B.registered,H,z(ee))},theme:T.useContext(A.T)},Z=q.children(G);return T.createElement(T.Fragment,null,T.createElement(V,{cache:B,serializedArr:W}),Z)})},44188:($,E,_)=>{_.d(E,{O:()=>F});var A={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},T=_(86894),O=/[A-Z]|^ms/g,P=/_EMO_([^_]+?)_([^]*?)_EMO_/g,R=function(q){return q.charCodeAt(1)===45},I=function(q){return q!=null&&typeof q!="boolean"},N=(0,T.Z)(function(q){return R(q)?q:q.replace(O,"-$&").toLowerCase()}),j=function(q,B){switch(q){case"animation":case"animationName":if(typeof B=="string")return B.replace(P,function(W,H,G){return z={name:H,styles:G,next:z},H})}return A[q]===1||R(q)||typeof B!="number"||B===0?B:B+"px"};function U(q,B,W){if(W==null)return"";if(W.__emotion_styles!==void 0)return W;switch(typeof W){case"boolean":return"";case"object":if(W.anim===1)return z={name:W.name,styles:W.styles,next:z},W.name;if(W.styles!==void 0){var H=W.next;if(H!==void 0)for(;H!==void 0;)z={name:H.name,styles:H.styles,next:z},H=H.next;return W.styles+";"}return function(ee,J,Q){var te="";if(Array.isArray(Q))for(var se=0;se<Q.length;se++)te+=U(ee,J,Q[se])+";";else for(var de in Q){var ie=Q[de];if(typeof ie!="object")J!=null&&J[ie]!==void 0?te+=de+"{"+J[ie]+"}":I(ie)&&(te+=N(de)+":"+j(de,ie)+";");else if(!Array.isArray(ie)||typeof ie[0]!="string"||J!=null&&J[ie[0]]!==void 0){var ve=U(ee,J,ie);switch(de){case"animation":case"animationName":te+=N(de)+":"+ve+";";break;default:te+=de+"{"+ve+"}"}}else for(var xe=0;xe<ie.length;xe++)I(ie[xe])&&(te+=N(de)+":"+j(de,ie[xe])+";")}return te}(q,B,W);case"function":if(q!==void 0){var G=z,Z=W(q);return z=G,U(q,B,Z)}}if(B==null)return W;var Y=B[W];return Y!==void 0?Y:W}var z,V=/label:\s*([^\s;\n{]+)\s*(;|$)/g,F=function(q,B,W){if(q.length===1&&typeof q[0]=="object"&&q[0]!==null&&q[0].styles!==void 0)return q[0];var H=!0,G="";z=void 0;var Z=q[0];Z==null||Z.raw===void 0?(H=!1,G+=U(W,B,Z)):G+=Z[0];for(var Y=1;Y<q.length;Y++)G+=U(W,B,q[Y]),H&&(G+=Z[Y]);V.lastIndex=0;for(var ee,J="";(ee=V.exec(G))!==null;)J+="-"+ee[1];var Q=function(te){for(var se,de=0,ie=0,ve=te.length;ve>=4;++ie,ve-=4)se=1540483477*(65535&(se=255&te.charCodeAt(ie)|(255&te.charCodeAt(++ie))<<8|(255&te.charCodeAt(++ie))<<16|(255&te.charCodeAt(++ie))<<24))+(59797*(se>>>16)<<16),de=1540483477*(65535&(se^=se>>>24))+(59797*(se>>>16)<<16)^1540483477*(65535&de)+(59797*(de>>>16)<<16);switch(ve){case 3:de^=(255&te.charCodeAt(ie+2))<<16;case 2:de^=(255&te.charCodeAt(ie+1))<<8;case 1:de=1540483477*(65535&(de^=255&te.charCodeAt(ie)))+(59797*(de>>>16)<<16)}return(((de=1540483477*(65535&(de^=de>>>13))+(59797*(de>>>16)<<16))^de>>>15)>>>0).toString(36)}(G)+J;return{name:Q,styles:G,next:z}}},70894:($,E,_)=>{_.r(E),_.d(E,{default:()=>W});var A=_(7896),T=_(12244),O=_(86894),P=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,R=(0,O.Z)(function(H){return P.test(H)||H.charCodeAt(0)===111&&H.charCodeAt(1)===110&&H.charCodeAt(2)<91}),I=_(33895),N=_(82792),j=_(44188),U=_(82668),z=R,V=function(H){return H!=="theme"},F=function(H){return typeof H=="string"&&H.charCodeAt(0)>96?z:V},q=function(H,G,Z){var Y;if(G){var ee=G.shouldForwardProp;Y=H.__emotion_forwardProp&&ee?function(J){return H.__emotion_forwardProp(J)&&ee(J)}:ee}return typeof Y!="function"&&Z&&(Y=H.__emotion_forwardProp),Y},B=function(H){var G=H.cache,Z=H.serialized,Y=H.isStringTag;return(0,N.hC)(G,Z,Y),(0,U.L)(function(){return(0,N.My)(G,Z,Y)}),null},W=function H(G,Z){var Y,ee,J=G.__emotion_real===G,Q=J&&G.__emotion_base||G;Z!==void 0&&(Y=Z.label,ee=Z.target);var te=q(G,Z,J),se=te||F(Q),de=!se("as");return function(){var ie=arguments,ve=J&&G.__emotion_styles!==void 0?G.__emotion_styles.slice(0):[];if(Y!==void 0&&ve.push("label:"+Y+";"),ie[0]==null||ie[0].raw===void 0)ve.push.apply(ve,ie);else{ve.push(ie[0][0]);for(var xe=ie.length,ke=1;ke<xe;ke++)ve.push(ie[ke],ie[0][ke])}var Ce=(0,I.w)(function(Oe,Ae,Pe){var Ee=de&&Oe.as||Q,Te="",Re=[],Me=Oe;if(Oe.theme==null){for(var ze in Me={},Oe)Me[ze]=Oe[ze];Me.theme=T.useContext(I.T)}typeof Oe.className=="string"?Te=(0,N.fp)(Ae.registered,Re,Oe.className):Oe.className!=null&&(Te=Oe.className+" ");var Le=(0,j.O)(ve.concat(Re),Ae.registered,Me);Te+=Ae.key+"-"+Le.name,ee!==void 0&&(Te+=" "+ee);var je=de&&te===void 0?F(Ee):se,Ne={};for(var qe in Oe)de&&qe==="as"||je(qe)&&(Ne[qe]=Oe[qe]);return Ne.className=Te,Ne.ref=Pe,T.createElement(T.Fragment,null,T.createElement(B,{cache:Ae,serialized:Le,isStringTag:typeof Ee=="string"}),T.createElement(Ee,Ne))});return Ce.displayName=Y!==void 0?Y:"Styled("+(typeof Q=="string"?Q:Q.displayName||Q.name||"Component")+")",Ce.defaultProps=G.defaultProps,Ce.__emotion_real=Ce,Ce.__emotion_base=Q,Ce.__emotion_styles=ve,Ce.__emotion_forwardProp=te,Object.defineProperty(Ce,"toString",{value:function(){return"."+ee}}),Ce.withComponent=function(Oe,Ae){return H(Oe,(0,A.Z)({},Z,Ae,{shouldForwardProp:q(Ce,Ae,!0)})).apply(void 0,ve)},Ce}}},82668:($,E,_)=>{_.d(E,{L:()=>O,j:()=>P});var A=_(12244),T=!!A.useInsertionEffect&&A.useInsertionEffect,O=T||function(R){return R()},P=T||A.useLayoutEffect},82792:($,E,_)=>{function A(P,R,I){var N="";return I.split(" ").forEach(function(j){P[j]!==void 0?R.push(P[j]+";"):N+=j+" "}),N}_.d(E,{My:()=>O,fp:()=>A,hC:()=>T});var T=function(P,R,I){var N=P.key+"-"+R.name;I===!1&&P.registered[N]===void 0&&(P.registered[N]=R.styles)},O=function(P,R,I){T(P,R,I);var N=P.key+"-"+R.name;if(P.inserted[R.name]===void 0){var j=R;do P.insert(R===j?"."+N:"",j,P.sheet,!0),j=j.next;while(j!==void 0)}}},55034:($,E,_)=>{const A=_(11976),T=_.g.Date;class O extends T{constructor(R){super(R),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${A(2,this.getUTCMonth()+1)}-${A(2,this.getUTCDate())}`}}$.exports=P=>{const R=new O(P);if(isNaN(R))throw new TypeError("Invalid Datetime");return R}},59697:($,E,_)=>{const A=_(11976);class T extends Date{constructor(P){super(P+"Z"),this.isFloating=!0}toISOString(){return`${this.getUTCFullYear()}-${A(2,this.getUTCMonth()+1)}-${A(2,this.getUTCDate())}T${A(2,this.getUTCHours())}:${A(2,this.getUTCMinutes())}:${A(2,this.getUTCSeconds())}.${A(3,this.getUTCMilliseconds())}`}}$.exports=O=>{const P=new T(O);if(isNaN(P))throw new TypeError("Invalid Datetime");return P}},12446:$=>{$.exports=E=>{const _=new Date(E);if(isNaN(_))throw new TypeError("Invalid Datetime");return _}},70256:($,E,_)=>{const A=_(11976);class T extends Date{constructor(P){super(`0000-01-01T${P}Z`),this.isTime=!0}toISOString(){return`${A(2,this.getUTCHours())}:${A(2,this.getUTCMinutes())}:${A(2,this.getUTCSeconds())}.${A(3,this.getUTCMilliseconds())}`}}$.exports=O=>{const P=new T(O);if(isNaN(P))throw new TypeError("Invalid Datetime");return P}},11976:$=>{$.exports=(E,_)=>{for(_=String(_);_.length<E;)_="0"+_;return _}},86056:$=>{class _ extends Error{constructor(P,R,I){super("[ParserError] "+P,R,I),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,_)}}class A{constructor(P){this.parser=P,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class T{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new A(this.parseStart)}parse(P){if(P.length===0||P.length==null)return;let R;for(this._buf=String(P),this.ii=-1,this.char=-1;R===!1||this.nextChar();)R=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){let P;this.char=1114112;do P=this.state.parser,this.runOne();while(this.state.parser!==P);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(P){if(typeof P!="function")throw new _("Tried to set state to non-existent state: "+JSON.stringify(P));this.state.parser=P}goto(P){return this.next(P),this.runOne()}call(P,R){R&&this.next(R),this.stack.push(this.state),this.state=new A(P)}callNow(P,R){return this.call(P,R),this.runOne()}return(P){if(this.stack.length===0)throw this.error(new _("Stack underflow"));P===void 0&&(P=this.state.buf),this.state=this.stack.pop(),this.state.returned=P}returnNow(P){return this.return(P),this.runOne()}consume(){if(this.char===1114112)throw this.error(new _("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(P){return P.line=this.line,P.col=this.col,P.pos=this.pos,P}parseStart(){throw new _("Must declare a parseStart method")}}T.END=1114112,T.Error=_,$.exports=T},77146:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=makeParserClass(__webpack_require__(86056)),module.exports.makeParserClass=makeParserClass;class TomlError extends Error{constructor(E){super(E),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=$=>{const E=new TomlError($.message);return E.code=$.code,E.wrapped=$,E},module.exports.TomlError=TomlError;const createDateTime=__webpack_require__(12446),createDateTimeFloat=__webpack_require__(59697),createDate=__webpack_require__(55034),createTime=__webpack_require__(70256),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit($){return $>=CHAR_0&&$<=CHAR_9}function isHexit($){return $>=CHAR_A&&$<=CHAR_F||$>=CHAR_a&&$<=CHAR_f||$>=CHAR_0&&$<=CHAR_9}function isBit($){return $===CHAR_1||$===CHAR_0}function isOctit($){return $>=CHAR_0&&$<=CHAR_7}function isAlphaNumQuoteHyphen($){return $>=CHAR_A&&$<=CHAR_Z||$>=CHAR_a&&$<=CHAR_z||$>=CHAR_0&&$<=CHAR_9||$===CHAR_APOS||$===CHAR_QUOT||$===CHAR_LOWBAR||$===CHAR_HYPHEN}function isAlphaNumHyphen($){return $>=CHAR_A&&$<=CHAR_Z||$>=CHAR_a&&$<=CHAR_z||$>=CHAR_0&&$<=CHAR_9||$===CHAR_LOWBAR||$===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey($,E){return!!hasOwnProperty.call($,E)||(E==="__proto__"&&defineProperty($,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable($){return $!==null&&typeof $=="object"&&$[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable($){return $!==null&&typeof $=="object"&&$[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList($){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:$}})}function isInlineList($){return $!==null&&typeof $=="object"&&$[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList($){return $!==null&&typeof $=="object"&&$[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch($){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(E){try{this.value=__webpack_require__.g.BigInt.asIntN(64,E)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer($){let E=Number($);return Object.is(E,-0)&&(E=0),__webpack_require__.g.BigInt&&!Number.isSafeInteger(E)?new BoxedBigInt($):Object.defineProperties(new Number(E),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${$}]`}})}function isInteger($){return $!==null&&typeof $=="object"&&$[_type]===INTEGER}const FLOAT=Symbol("float");function Float($){return Object.defineProperties(new Number($),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${$}]`}})}function isFloat($){return $!==null&&typeof $=="object"&&$[_type]===FLOAT}function tomlType($){const E=typeof $;if(E==="object"){if($===null)return"null";if($ instanceof Date)return"datetime";if(_type in $)switch($[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return E}function makeParserClass($){return class extends ${constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===$.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===$.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===$.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(E){let _=this.ctx,A=E.key.pop();for(let T of E.key){if(hasKey(_,T)&&(!isTable(_[T])||_[T][_declared]))throw this.error(new TomlError("Can't redefine existing key"));_=_[T]=_[T]||Table()}if(hasKey(_,A))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(E.value)||isFloat(E.value)?_[A]=E.value.valueOf():_[A]=E.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(E){return this.state.resultTable?this.state.resultTable.push(E):this.state.resultTable=[E],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){return this.char===CHAR_PERIOD?this.next(this.parseAssignKeywordPostDot):this.char!==CHAR_SP&&this.char!==CTRL_I?this.goto(this.parseAssignEqual):void 0}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(E){return this.returnNow({key:this.state.resultTable,value:E})}parseComment(){do if(this.char===$.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char!==CHAR_LSQB)return this.goto(this.parseTable);this.next(this.parseList)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(E){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,E)&&(!isTable(this.ctx[E])||this.ctx[E][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[E]=this.ctx[E]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}if(this.char===CHAR_PERIOD){if(hasKey(this.ctx,E))if(isTable(this.ctx[E]))this.ctx=this.ctx[E];else{if(!isList(this.ctx[E]))throw this.error(new TomlError("Can't redefine existing key"));this.ctx=this.ctx[E][this.ctx[E].length-1]}else this.ctx=this.ctx[E]=Table();return this.next(this.parseTableNext)}throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(E){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,E)||(this.ctx[E]=List()),isInlineList(this.ctx[E]))throw this.error(new TomlError("Can't extend an inline array"));if(!isList(this.ctx[E]))throw this.error(new TomlError("Can't redefine an existing key"));{const _=Table();this.ctx[E].push(_),this.ctx=_}return this.next(this.parseListEnd)}if(this.char===CHAR_PERIOD){if(hasKey(this.ctx,E)){if(isInlineList(this.ctx[E]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[E]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[E]))this.ctx=this.ctx[E][this.ctx[E].length-1];else{if(!isTable(this.ctx[E]))throw this.error(new TomlError("Can't redefine an existing key"));this.ctx=this.ctx[E]}}else this.ctx=this.ctx[E]=Table();return this.next(this.parseListNext)}throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(E){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===$.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(E){return this.returnNow(E)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===$.END)throw this.error(new TomlError("Key ended without value"));if(!isAlphaNumHyphen(this.char)){if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}this.consume()}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===$.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(E){return this.state.buf+=E,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===$.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let E="\\u00";return this.char<16&&(E+="0"),E+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${E} instead`))}recordMultiEscapeReplacement(E){return this.state.buf+=E,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(E){try{const _=parseInt(E,16);if(_>=SURROGATE_FIRST&&_<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(_))}catch(_){throw this.error(TomlError.wrap(_))}}parseSmallUnicode(){if(!isHexit(this.char))throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"));if(this.consume(),this.state.buf.length>=4)return this.return()}parseLargeUnicode(){if(!isHexit(this.char))throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"));if(this.consume(),this.state.buf.length>=8)return this.return()}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(!isDigit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const E=Integer(this.state.buf);if(E.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(E)}}this.consume()}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder,this.parseNumberFloat):isDigit(this.char)?void this.consume():this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS)throw this.error(new TomlError("Unexpected character, expected -, + or digit"));this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent)}parseNumberExponent(){if(!isDigit(this.char))return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf));this.consume()}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder,this.parseNumberInteger):isDigit(this.char)?(this.consume(),void(this.state.buf.length>4&&this.next(this.parseNumberInteger))):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(!isHexit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const E=Integer(this.state.buf);if(E.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(E)}}this.consume()}parseIntegerOct(){if(!isOctit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const E=Integer(this.state.buf);if(E.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(E)}}this.consume()}parseIntegerBin(){if(!isBit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const E=Integer(this.state.buf);if(E.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(E)}}this.consume()}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseTimeMin(){if(!(this.state.buf.length<2&&isDigit(this.char))){if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}this.consume()}parseTimeSec(){if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(!(this.state.buf.length<2&&isDigit(this.char))){if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}this.consume()}parseOnlyTimeSec(){if(!isDigit(this.char))throw this.error(new TomlError("Incomplete time"));if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char!==CHAR_PERIOD)return this.return(createTime(this.state.result));this.state.buf="",this.next(this.parseOnlyTimeFraction)}parseOnlyTimeFraction(){if(!isDigit(this.char)){if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume()}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else{if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS){if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume(),this.next(this.parseTimeZoneHour)}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS){if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume(),this.next(this.parseTimeZoneHour)}}parseTimeZoneHour(){if(!isDigit(this.char))throw this.error(new TomlError("Unexpected character in datetime, expected digit"));if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}parseTimeZoneSep(){if(this.char!==CHAR_COLON)throw this.error(new TomlError("Unexpected character in datetime, expected colon"));this.consume(),this.next(this.parseTimeZoneMin)}parseTimeZoneMin(){if(!isDigit(this.char))throw this.error(new TomlError("Unexpected character in datetime, expected digit"));if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}parseBoolean(){return this.char===CHAR_t?(this.consume(),this.next(this.parseTrue_r)):this.char===CHAR_f?(this.consume(),this.next(this.parseFalse_a)):void 0}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===$.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(E){if(this.state.resultArr){const _=this.state.resultArr[_contentType],A=tomlType(E);if(_!==A)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${_} and ${A}`))}else this.state.resultArr=InlineList(tomlType(E));return isFloat(E)||isInteger(E)?this.state.resultArr.push(E.valueOf()):this.state.resultArr.push(E),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===$.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(E){let _=this.state.resultTable,A=E.key.pop();for(let T of E.key){if(hasKey(_,T)&&(!isTable(_[T])||_[T][_declared]))throw this.error(new TomlError("Can't redefine existing key"));_=_[T]=_[T]||Table()}if(hasKey(_,A))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(E.value)||isFloat(E.value)?_[A]=E.value.valueOf():_[A]=E.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===$.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}}},66615:($,E,_)=>{$.exports=function(O,P){P||(P={});const R=P.blocksize||40960,I=new A;return new Promise((j,U)=>{setImmediate(N,0,R,j,U)});function N(j,U,z,V){if(j>=O.length)try{return z(I.finish())}catch(F){return V(T(F,O))}try{I.parse(O.slice(j,j+U)),setImmediate(N,j+U,U,z,V)}catch(F){V(T(F,O))}}};const A=_(77146),T=_(53146)},53146:$=>{$.exports=function(E,_){if(E.pos==null||E.line==null)return E;let A=E.message;if(A+=` at row ${E.line+1}, col ${E.col+1}, pos ${E.pos}:
`,_&&_.split){const T=_.split(/\n/),O=String(Math.min(T.length,E.line+3)).length;let P=" ";for(;P.length<O;)P+=" ";for(let R=Math.max(0,E.line-1);R<Math.min(T.length,E.line+2);++R){let I=String(R+1);if(I.length<O&&(I=" "+I),E.line===R){A+=I+"> "+T[R]+`
`,A+=P+"  ";for(let N=0;N<E.col;++N)A+=" ";A+=`^
`}else A+=I+": "+T[R]+`
`}}return E.message=A+`
`,E}},24312:($,E,_)=>{$.exports=function(O){return O?function(P){const R=new T;return P.setEncoding("utf8"),new Promise((I,N)=>{let j,U=!1,z=!1;function V(){if(U=!0,!j)try{I(R.finish())}catch(q){N(q)}}function F(q){z=!0,N(q)}P.once("end",V),P.once("error",F),function q(){let B;for(j=!0;(B=P.read())!==null;)try{R.parse(B)}catch(W){return F(W)}if(j=!1,U)return V();z||P.once("readable",q)}()})}(O):function(){const P=new T;return new A.Transform({objectMode:!0,transform(R,I,N){try{P.parse(R.toString(I))}catch(j){this.emit("error",j)}N()},flush(R){try{this.push(P.finish())}catch(I){this.emit("error",I)}R()}})}()};const A=_(54851),T=_(77146)},13475:($,E,_)=>{$.exports=function(O){_.g.Buffer&&_.g.Buffer.isBuffer(O)&&(O=O.toString("utf8"));const P=new A;try{return P.parse(O),P.finish()}catch(R){throw T(R,O)}};const A=_(77146),T=_(53146)},53279:($,E,_)=>{$.exports=_(13475),$.exports.async=_(66615),$.exports.stream=_(24312),$.exports.prettyError=_(53146)},57573:$=>{function E(F){return new Error("Can only stringify objects, not "+F)}function _(F){return Object.keys(F).filter(q=>O(F[q]))}function A(F){let q=Array.isArray(F)?[]:Object.prototype.hasOwnProperty.call(F,"__proto__")?{["__proto__"]:void 0}:{};for(let B of Object.keys(F))F[B]&&typeof F[B].toJSON=="function"&&!("toISOString"in F[B])?q[B]=F[B].toJSON():q[B]=F[B];return q}function T(F,q,B){var W,H;W=_(B=A(B)),H=function(ee){return Object.keys(ee).filter(J=>!O(ee[J]))}(B);var G=[],Z=q||"";W.forEach(ee=>{var J=P(B[ee]);J!=="undefined"&&J!=="null"&&G.push(Z+R(ee)+" = "+j(B[ee],!0))}),G.length>0&&G.push("");var Y=F&&W.length>0?q+"  ":"";return H.forEach(ee=>{G.push(function(J,Q,te,se){var de=P(se);if(de==="array")return function(ie,ve,xe,ke){V(ke=A(ke));var Ce=P(ke[0]);if(Ce!=="table")throw E(Ce);var Oe=ie+R(xe),Ae="";return ke.forEach(Pe=>{Ae.length>0&&(Ae+=`
`),Ae+=ve+"[["+Oe+`]]
`,Ae+=T(Oe+".",ve,Pe)}),Ae}(J,Q,te,se);if(de==="table")return function(ie,ve,xe,ke){var Ce=ie+R(xe),Oe="";return _(ke).length>0&&(Oe+=ve+"["+Ce+`]
`),Oe+T(Ce+".",ve,ke)}(J,Q,te,se);throw E(de)}(F,Y,ee,B[ee]))}),G.join(`
`)}function O(F){switch(P(F)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return F.length===0||P(F[0])!=="table";case"table":return Object.keys(F).length===0;default:return!1}}function P(F){return F===void 0?"undefined":F===null?"null":typeof F=="bigint"||Number.isInteger(F)&&!Object.is(F,-0)?"integer":typeof F=="number"?"float":typeof F=="boolean"?"boolean":typeof F=="string"?"string":"toISOString"in F?isNaN(F)?"undefined":"datetime":Array.isArray(F)?"array":"table"}function R(F){var q=String(F);return/^[-A-Za-z0-9_]+$/.test(q)?q:I(q)}function I(F){return'"'+N(F).replace(/"/g,'\\"')+'"'}function N(F){return F.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,q=>"\\u"+function(B,W){for(;W.length<4;)W="0"+W;return W}(0,q.codePointAt(0).toString(16)))}function j(F,q){let B=P(F);return B==="string"&&(q&&/\n/.test(F)?B="string-multiline":!/[\b\t\n\f\r']/.test(F)&&/"/.test(F)&&(B="string-literal")),U(F,B)}function U(F,q){switch(q||(q=P(F)),q){case"string-multiline":return function(B){let W=B.split(/\n/).map(H=>N(H).replace(/"(?="")/g,'\\"')).join(`
`);return W.slice(-1)==='"'&&(W+=`\\
`),`"""
`+W+'"""'}(F);case"string":return I(F);case"string-literal":return"'"+F+"'";case"integer":return z(F);case"float":return function(B){if(B===1/0)return"inf";if(B===-1/0)return"-inf";if(Object.is(B,NaN))return"nan";if(Object.is(B,-0))return"-0.0";var W=String(B).split("."),H=W[0],G=W[1]||0;return z(H)+"."+G}(F);case"boolean":return function(B){return String(B)}(F);case"datetime":return function(B){return B.toISOString()}(F);case"array":return function(B){const W=V(B=A(B));var H="[",G=B.map(Z=>U(Z,W));return G.join(", ").length>60||/\n/.test(G)?H+=`
  `+G.join(`,
  `)+`
`:H+=" "+G.join(", ")+(G.length>0?" ":""),H+"]"}(F.filter(B=>P(B)!=="null"&&P(B)!=="undefined"&&P(B)!=="nan"));case"table":return function(B){B=A(B);var W=[];return Object.keys(B).forEach(H=>{W.push(R(H)+" = "+j(B[H],!1))}),"{ "+W.join(", ")+(W.length>0?" ":"")+"}"}(F);default:throw E(q)}}function z(F){return String(F).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function V(F){const q=function(B){var W=P(B[0]);return B.every(H=>P(H)===W)?W:B.every(H=>{return(G=P(H))==="float"||G==="integer";var G})?"float":"mixed"}(F);if(q==="mixed")throw new Error("Array values can't have mixed types");return q}$.exports=function(F){if(F===null)throw E("null");if(F===void 0)throw E("undefined");if(typeof F!="object")throw E(typeof F);if(typeof F.toJSON=="function"&&(F=F.toJSON()),F==null)return null;const q=P(F);if(q!=="table")throw E(q);return T("","",F)},$.exports.value=U},6901:($,E,_)=>{E.parse=_(53279),E.stringify=_(57573)},47988:($,E,_)=>{var A,T=Object.assign||function(P){for(var R=1;R<arguments.length;R++){var I=arguments[R];for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&(P[N]=I[N])}return P},O=(A=_(12244))&&A.__esModule?A:{default:A};E.Z=function(P){var R=P.fill,I=R===void 0?"currentColor":R,N=P.width,j=N===void 0?24:N,U=P.height,z=U===void 0?24:U,V=P.style,F=V===void 0?{}:V,q=function(B,W){var H={};for(var G in B)W.indexOf(G)>=0||Object.prototype.hasOwnProperty.call(B,G)&&(H[G]=B[G]);return H}(P,["fill","width","height","style"]);return O.default.createElement("svg",T({viewBox:"0 0 24 24",style:T({fill:I,width:j,height:z},F)},q),O.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},16331:($,E,_)=>{var A,T=Object.assign||function(P){for(var R=1;R<arguments.length;R++){var I=arguments[R];for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&(P[N]=I[N])}return P},O=(A=_(12244))&&A.__esModule?A:{default:A};E.Z=function(P){var R=P.fill,I=R===void 0?"currentColor":R,N=P.width,j=N===void 0?24:N,U=P.height,z=U===void 0?24:U,V=P.style,F=V===void 0?{}:V,q=function(B,W){var H={};for(var G in B)W.indexOf(G)>=0||Object.prototype.hasOwnProperty.call(B,G)&&(H[G]=B[G]);return H}(P,["fill","width","height","style"]);return O.default.createElement("svg",T({viewBox:"0 0 24 24",style:T({fill:I,width:j,height:z},F)},q),O.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},38229:($,E,_)=>{_.d(E,{D:()=>R});var A=Object.prototype,T=A.toString,O=A.hasOwnProperty,P=new Map;function R(j,U){try{return I(j,U)}finally{P.clear()}}function I(j,U){if(j===U)return!0;var z=T.call(j);if(z!==T.call(U))return!1;switch(z){case"[object Array]":if(j.length!==U.length)return!1;case"[object Object]":if(N(j,U))return!0;var V=Object.keys(j),F=Object.keys(U),q=V.length;if(q!==F.length)return!1;for(var B=0;B<q;++B)if(!O.call(U,V[B]))return!1;for(B=0;B<q;++B){var W=V[B];if(!I(j[W],U[W]))return!1}return!0;case"[object Error]":return j.name===U.name&&j.message===U.message;case"[object Number]":if(j!=j)return U!=U;case"[object Boolean]":case"[object Date]":return+j==+U;case"[object RegExp]":case"[object String]":return j==""+U;case"[object Map]":case"[object Set]":if(j.size!==U.size)return!1;if(N(j,U))return!0;for(var H=j.entries(),G=z==="[object Map]";;){var Z=H.next();if(Z.done)break;var Y=Z.value,ee=Y[0],J=Y[1];if(!U.has(ee)||G&&!I(J,U.get(ee)))return!1}return!0}return!1}function N(j,U){var z=P.get(j);if(z){if(z.has(U))return!0}else P.set(j,z=new Set);return z.add(U),!1}},70468:($,E,_)=>{_.r(E),_.d(E,{HeuristicFragmentMatcher:()=>qe,InMemoryCache:()=>Et,IntrospectionFragmentMatcher:()=>Ye,ObjectCache:()=>Qe,StoreReader:()=>Ze,StoreWriter:()=>lt,WriteError:()=>$e,assertIdValue:()=>Ue,defaultDataIdFromObject:()=>ht,defaultNormalizedCacheFactory:()=>Be,enhanceErrorWithDocument:()=>Xe});var A=function(gt,xt){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,$t){at.__proto__=$t}||function(at,$t){for(var Qt in $t)$t.hasOwnProperty(Qt)&&(at[Qt]=$t[Qt])},A(gt,xt)};function T(gt,xt){function at(){this.constructor=gt}A(gt,xt),gt.prototype=xt===null?Object.create(xt):(at.prototype=xt.prototype,new at)}var O=function(){return O=Object.assign||function(gt){for(var xt,at=1,$t=arguments.length;at<$t;at++)for(var Qt in xt=arguments[at])Object.prototype.hasOwnProperty.call(xt,Qt)&&(gt[Qt]=xt[Qt]);return gt},O.apply(this,arguments)},P=_(44441);function R(gt){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:I(gt)}]}}function I(gt){if(typeof gt=="number"||typeof gt=="boolean"||typeof gt=="string"||gt==null)return null;if(Array.isArray(gt))return I(gt[0]);var xt=[];return Object.keys(gt).forEach(function(at){var $t={kind:"Field",name:{kind:"Name",value:at},selectionSet:I(gt[at])||void 0};xt.push($t)}),{kind:"SelectionSet",selections:xt}}var N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},j=function(){function gt(){}return gt.prototype.transformDocument=function(xt){return xt},gt.prototype.transformForLink=function(xt){return xt},gt.prototype.readQuery=function(xt,at){return at===void 0&&(at=!1),this.read({query:xt.query,variables:xt.variables,optimistic:at})},gt.prototype.readFragment=function(xt,at){return at===void 0&&(at=!1),this.read({query:(0,P.Yk)(xt.fragment,xt.fragmentName),variables:xt.variables,rootId:xt.id,optimistic:at})},gt.prototype.writeQuery=function(xt){this.write({dataId:"ROOT_QUERY",result:xt.data,query:xt.query,variables:xt.variables})},gt.prototype.writeFragment=function(xt){this.write({dataId:xt.id,result:xt.data,variables:xt.variables,query:(0,P.Yk)(xt.fragment,xt.fragmentName)})},gt.prototype.writeData=function(xt){var at,$t,Qt=xt.id,Vt=xt.data;if(Qt!==void 0){var bt=null;try{bt=this.read({rootId:Qt,optimistic:!1,query:N})}catch{}var wt=bt&&bt.__typename||"__ClientData",At=Object.assign({__typename:wt},Vt);this.writeFragment({id:Qt,fragment:(at=At,$t=wt,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:$t||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:I(at)}]}),data:At})}else this.writeQuery({query:R(Vt),data:Vt})},gt}(),U=_(38229),z=null,V={},F=1,q="@wry/context:Slot",B=Array,W=B[q]||function(){var gt=function(){function xt(){this.id=["slot",F++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return xt.prototype.hasValue=function(){for(var at=z;at;at=at.parent)if(this.id in at.slots){var $t=at.slots[this.id];if($t===V)break;return at!==z&&(z.slots[this.id]=$t),!0}return z&&(z.slots[this.id]=V),!1},xt.prototype.getValue=function(){if(this.hasValue())return z.slots[this.id]},xt.prototype.withValue=function(at,$t,Qt,Vt){var bt,wt=((bt={__proto__:null})[this.id]=at,bt),At=z;z={parent:At,slots:wt};try{return $t.apply(Vt,Qt)}finally{z=At}},xt.bind=function(at){var $t=z;return function(){var Qt=z;try{return z=$t,at.apply(this,arguments)}finally{z=Qt}}},xt.noContext=function(at,$t,Qt){if(!z)return at.apply(Qt,$t);var Vt=z;try{return z=null,at.apply(Qt,$t)}finally{z=Vt}},xt}();try{Object.defineProperty(B,q,{value:B[q]=gt,enumerable:!1,writable:!1,configurable:!1})}finally{return gt}}();function H(){}W.bind,W.noContext;var G=function(){function gt(xt,at){xt===void 0&&(xt=1/0),at===void 0&&(at=H),this.max=xt,this.dispose=at,this.map=new Map,this.newest=null,this.oldest=null}return gt.prototype.has=function(xt){return this.map.has(xt)},gt.prototype.get=function(xt){var at=this.getEntry(xt);return at&&at.value},gt.prototype.getEntry=function(xt){var at=this.map.get(xt);if(at&&at!==this.newest){var $t=at.older,Qt=at.newer;Qt&&(Qt.older=$t),$t&&($t.newer=Qt),at.older=this.newest,at.older.newer=at,at.newer=null,this.newest=at,at===this.oldest&&(this.oldest=Qt)}return at},gt.prototype.set=function(xt,at){var $t=this.getEntry(xt);return $t?$t.value=at:($t={key:xt,value:at,newer:null,older:this.newest},this.newest&&(this.newest.newer=$t),this.newest=$t,this.oldest=this.oldest||$t,this.map.set(xt,$t),$t.value)},gt.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},gt.prototype.delete=function(xt){var at=this.map.get(xt);return!!at&&(at===this.newest&&(this.newest=at.older),at===this.oldest&&(this.oldest=at.newer),at.newer&&(at.newer.older=at.older),at.older&&(at.older.newer=at.newer),this.map.delete(xt),this.dispose(at.value,xt),!0)},gt}(),Z=new W,Y=[],ee=[],J=100;function Q(gt,xt){if(!gt)throw new Error(xt||"assertion failure")}function te(gt){switch(gt.length){case 0:throw new Error("unknown value");case 1:return gt[0];case 2:throw gt[1]}}var se=function(){function gt(xt,at){this.fn=xt,this.args=at,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++gt.count}return gt.prototype.recompute=function(){if(Q(!this.recomputing,"already recomputing"),function($t){var Qt=Z.getValue();if(Qt)return $t.parents.add(Qt),Qt.childValues.has($t)||Qt.childValues.set($t,[]),ie($t)?ke(Qt,$t):Ce(Qt,$t),Qt}(this)||!Ae(this))return ie(this)?(at=Pe(xt=this),Z.withValue(xt,de,[xt]),function($t){if(typeof $t.subscribe=="function")try{Te($t),$t.unsubscribe=$t.subscribe.apply(null,$t.args)}catch{return $t.setDirty(),!1}return!0}(xt)&&function($t){$t.dirty=!1,ie($t)||xe($t)}(xt),at.forEach(Ae),te(xt.value)):te(this.value);var xt,at},gt.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,ve(this),Te(this))},gt.prototype.dispose=function(){var xt=this;Pe(this).forEach(Ae),Te(this),this.parents.forEach(function(at){at.setDirty(),Ee(at,xt)})},gt.count=0,gt}();function de(gt){gt.recomputing=!0,gt.value.length=0;try{gt.value[0]=gt.fn.apply(null,gt.args)}catch(xt){gt.value[1]=xt}gt.recomputing=!1}function ie(gt){return gt.dirty||!(!gt.dirtyChildren||!gt.dirtyChildren.size)}function ve(gt){gt.parents.forEach(function(xt){return ke(xt,gt)})}function xe(gt){gt.parents.forEach(function(xt){return Ce(xt,gt)})}function ke(gt,xt){if(Q(gt.childValues.has(xt)),Q(ie(xt)),gt.dirtyChildren){if(gt.dirtyChildren.has(xt))return}else gt.dirtyChildren=ee.pop()||new Set;gt.dirtyChildren.add(xt),ve(gt)}function Ce(gt,xt){Q(gt.childValues.has(xt)),Q(!ie(xt));var at,$t,Qt,Vt=gt.childValues.get(xt);Vt.length===0?gt.childValues.set(xt,xt.value.slice(0)):(at=Vt,$t=xt.value,(Qt=at.length)>0&&Qt===$t.length&&at[Qt-1]===$t[Qt-1]||gt.setDirty()),Oe(gt,xt),ie(gt)||xe(gt)}function Oe(gt,xt){var at=gt.dirtyChildren;at&&(at.delete(xt),at.size===0&&(ee.length<J&&ee.push(at),gt.dirtyChildren=null))}function Ae(gt){return gt.parents.size===0&&typeof gt.reportOrphan=="function"&&gt.reportOrphan()===!0}function Pe(gt){var xt=Y;return gt.childValues.size>0&&(xt=[],gt.childValues.forEach(function(at,$t){Ee(gt,$t),xt.push($t)})),Q(gt.dirtyChildren===null),xt}function Ee(gt,xt){xt.parents.delete(gt),gt.childValues.delete(xt),Oe(gt,xt)}function Te(gt){var xt=gt.unsubscribe;typeof xt=="function"&&(gt.unsubscribe=void 0,xt())}var Re=function(){function gt(xt){this.weakness=xt}return gt.prototype.lookup=function(){for(var xt=[],at=0;at<arguments.length;at++)xt[at]=arguments[at];return this.lookupArray(xt)},gt.prototype.lookupArray=function(xt){var at=this;return xt.forEach(function($t){return at=at.getChildTrie($t)}),at.data||(at.data=Object.create(null))},gt.prototype.getChildTrie=function(xt){var at=this.weakness&&function(Qt){switch(typeof Qt){case"object":if(Qt===null)break;case"function":return!0}return!1}(xt)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),$t=at.get(xt);return $t||at.set(xt,$t=new gt(this.weakness)),$t},gt}(),Me=new Re(typeof WeakMap=="function");function ze(){for(var gt=[],xt=0;xt<arguments.length;xt++)gt[xt]=arguments[xt];return Me.lookupArray(gt)}var Le=new Set;function je(gt,xt){xt===void 0&&(xt=Object.create(null));var at=new G(xt.max||Math.pow(2,16),function(bt){return bt.dispose()}),$t=!!xt.disposable,Qt=xt.makeCacheKey||ze;function Vt(){if(!$t||Z.hasValue()){var bt=Qt.apply(null,arguments);if(bt===void 0)return gt.apply(null,arguments);var wt=Array.prototype.slice.call(arguments),At=at.get(bt);At?At.args=wt:(At=new se(gt,wt),at.set(bt,At),At.subscribe=xt.subscribe,$t&&(At.reportOrphan=function(){return at.delete(bt)}));var Kt=At.recompute();return at.set(bt,At),Le.add(at),Z.hasValue()||(Le.forEach(function(Yt){return Yt.clean()}),Le.clear()),$t?void 0:Kt}}return Vt.dirty=function(){var bt=Qt.apply(null,arguments),wt=bt!==void 0&&at.get(bt);wt&&wt.setDirty()},Vt}var Ne=_(21726),qe=function(){function gt(){}return gt.prototype.ensureReady=function(){return Promise.resolve()},gt.prototype.canBypassInit=function(){return!0},gt.prototype.match=function(xt,at,$t){var Qt=$t.store.get(xt.id),Vt=xt.id==="ROOT_QUERY";if(!Qt)return Vt;var bt=Qt.__typename,wt=bt===void 0?Vt&&"Query":bt;return wt&&wt===at||((0,P.Y8)(),"heuristic")},gt}(),Ye=function(){function gt(xt){xt&&xt.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(xt.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return gt.prototype.match=function(xt,at,$t){(0,Ne.kG)(this.isReady,1);var Qt=$t.store.get(xt.id),Vt=xt.id==="ROOT_QUERY";if(!Qt)return Vt;var bt=Qt.__typename,wt=bt===void 0?Vt&&"Query":bt;if((0,Ne.kG)(wt,2),wt===at)return!0;var At=this.possibleTypesMap[at];return!!(wt&&At&&At.indexOf(wt)>-1)},gt.prototype.parseIntrospectionResult=function(xt){var at={};return xt.__schema.types.forEach(function($t){$t.kind!=="UNION"&&$t.kind!=="INTERFACE"||(at[$t.name]=$t.possibleTypes.map(function(Qt){return Qt.name}))}),at},gt}(),Ve=Object.prototype.hasOwnProperty,tt=function(){function gt(xt){var at=this;xt===void 0&&(xt=Object.create(null)),this.data=xt,this.depend=je(function($t){return at.data[$t]},{disposable:!0,makeCacheKey:function($t){return $t}})}return gt.prototype.toObject=function(){return this.data},gt.prototype.get=function(xt){return this.depend(xt),this.data[xt]},gt.prototype.set=function(xt,at){at!==this.data[xt]&&(this.data[xt]=at,this.depend.dirty(xt))},gt.prototype.delete=function(xt){Ve.call(this.data,xt)&&(delete this.data[xt],this.depend.dirty(xt))},gt.prototype.clear=function(){this.replace(null)},gt.prototype.replace=function(xt){var at=this;xt?(Object.keys(xt).forEach(function($t){at.set($t,xt[$t])}),Object.keys(this.data).forEach(function($t){Ve.call(xt,$t)||at.delete($t)})):Object.keys(this.data).forEach(function($t){at.delete($t)})},gt}();function it(gt){return new tt(gt)}var Ze=function(){function gt(xt){var at=this,$t=xt===void 0?{}:xt,Qt=$t.cacheKeyRoot,Vt=Qt===void 0?new Re(P.mr):Qt,bt=$t.freezeResults,wt=bt!==void 0&&bt,At=this,Kt=At.executeStoreQuery,Yt=At.executeSelectionSet,xr=At.executeSubSelectedArray;this.freezeResults=wt,this.executeStoreQuery=je(function(Cr){return Kt.call(at,Cr)},{makeCacheKey:function(Cr){var Mr=Cr.query,$r=Cr.rootValue,qr=Cr.contextValue,gn=Cr.variableValues,or=Cr.fragmentMatcher;if(qr.store instanceof tt)return Vt.lookup(qr.store,Mr,or,JSON.stringify(gn),$r.id)}}),this.executeSelectionSet=je(function(Cr){return Yt.call(at,Cr)},{makeCacheKey:function(Cr){var Mr=Cr.selectionSet,$r=Cr.rootValue,qr=Cr.execContext;if(qr.contextValue.store instanceof tt)return Vt.lookup(qr.contextValue.store,Mr,qr.fragmentMatcher,JSON.stringify(qr.variableValues),$r.id)}}),this.executeSubSelectedArray=je(function(Cr){return xr.call(at,Cr)},{makeCacheKey:function(Cr){var Mr=Cr.field,$r=Cr.array,qr=Cr.execContext;if(qr.contextValue.store instanceof tt)return Vt.lookup(qr.contextValue.store,Mr,$r,JSON.stringify(qr.variableValues))}})}return gt.prototype.readQueryFromStore=function(xt){return this.diffQueryAgainstStore(O(O({},xt),{returnPartialData:!1})).result},gt.prototype.diffQueryAgainstStore=function(xt){var at=xt.store,$t=xt.query,Qt=xt.variables,Vt=xt.previousResult,bt=xt.returnPartialData,wt=bt===void 0||bt,At=xt.rootId,Kt=At===void 0?"ROOT_QUERY":At,Yt=xt.fragmentMatcherFunction,xr=xt.config,Cr=(0,P.iW)($t);Qt=(0,P.f0)({},(0,P.O4)(Cr),Qt);var Mr={store:at,dataIdFromObject:xr&&xr.dataIdFromObject,cacheRedirects:xr&&xr.cacheRedirects||{}},$r=this.executeStoreQuery({query:$t,rootValue:{type:"id",id:Kt,generated:!0,typename:"Query"},contextValue:Mr,variableValues:Qt,fragmentMatcher:Yt}),qr=$r.missing&&$r.missing.length>0;return qr&&!wt&&$r.missing.forEach(function(gn){if(!gn.tolerable)throw new Ne.ej(8)}),Vt&&(0,U.D)(Vt,$r.result)&&($r.result=Vt),{result:$r.result,complete:!qr}},gt.prototype.executeStoreQuery=function(xt){var at=xt.query,$t=xt.rootValue,Qt=xt.contextValue,Vt=xt.variableValues,bt=xt.fragmentMatcher,wt=bt===void 0?He:bt,At=(0,P.p$)(at),Kt=(0,P.kU)(at),Yt={query:at,fragmentMap:(0,P.F)(Kt),contextValue:Qt,variableValues:Vt,fragmentMatcher:wt};return this.executeSelectionSet({selectionSet:At.selectionSet,rootValue:$t,execContext:Yt})},gt.prototype.executeSelectionSet=function(xt){var at=this,$t=xt.selectionSet,Qt=xt.rootValue,Vt=xt.execContext,bt=Vt.fragmentMap,wt=Vt.contextValue,At=Vt.variableValues,Kt={result:null},Yt=[],xr=wt.store.get(Qt.id),Cr=xr&&xr.__typename||Qt.id==="ROOT_QUERY"&&"Query"||void 0;function Mr($r){var qr;return $r.missing&&(Kt.missing=Kt.missing||[],(qr=Kt.missing).push.apply(qr,$r.missing)),$r.result}return $t.selections.forEach(function($r){var qr;if((0,P.LZ)($r,At))if((0,P.My)($r)){var gn=Mr(at.executeField(xr,Cr,$r,Vt));gn!==void 0&&Yt.push(((qr={})[(0,P.u2)($r)]=gn,qr))}else{var or=void 0;if((0,P.Ao)($r))or=$r;else if(!(or=bt[$r.name.value]))throw new Ne.ej(9);var Zr=or.typeCondition&&or.typeCondition.name.value,bn=!Zr||Vt.fragmentMatcher(Qt,Zr,wt);if(bn){var mn=at.executeSelectionSet({selectionSet:or.selectionSet,rootValue:Qt,execContext:Vt});bn==="heuristic"&&mn.missing&&(mn=O(O({},mn),{missing:mn.missing.map(function(jn){return O(O({},jn),{tolerable:!0})})})),Yt.push(Mr(mn))}}}),Kt.result=(0,P.bw)(Yt),this.freezeResults,Kt},gt.prototype.executeField=function(xt,at,$t,Qt){var Vt=Qt.variableValues,bt=Qt.contextValue,wt=function(At,Kt,Yt,xr,Cr,Mr){var $r=Mr.directives,qr=Yt;(xr||$r)&&(qr=(0,P.PT)(qr,xr,$r));var gn=void 0;if(At&&(gn=At[qr])===void 0&&Cr.cacheRedirects&&typeof Kt=="string"){var or=Cr.cacheRedirects[Kt];if(or){var Zr=or[Yt];Zr&&(gn=Zr(At,xr,{getCacheKey:function(bn){var mn=Cr.dataIdFromObject(bn);return mn&&(0,P.aX)({id:mn,typename:bn.__typename})}}))}}return gn===void 0?{result:gn,missing:[{object:At,fieldName:qr,tolerable:!1}]}:((0,P.v4)(gn)&&(gn=gn.json),{result:gn})}(xt,at,$t.name.value,(0,P.NC)($t,Vt),bt,{resultKey:(0,P.u2)($t),directives:(0,P.Qy)($t,Vt)});return Array.isArray(wt.result)?this.combineExecResults(wt,this.executeSubSelectedArray({field:$t,array:wt.result,execContext:Qt})):$t.selectionSet?wt.result==null?wt:this.combineExecResults(wt,this.executeSelectionSet({selectionSet:$t.selectionSet,rootValue:wt.result,execContext:Qt})):(We($t,wt.result),this.freezeResults,wt)},gt.prototype.combineExecResults=function(){for(var xt,at=[],$t=0;$t<arguments.length;$t++)at[$t]=arguments[$t];return at.forEach(function(Qt){Qt.missing&&(xt=xt||[]).push.apply(xt,Qt.missing)}),{result:at.pop().result,missing:xt}},gt.prototype.executeSubSelectedArray=function(xt){var at,$t=this,Qt=xt.field,Vt=xt.array,bt=xt.execContext;function wt(At){return At.missing&&(at=at||[]).push.apply(at,At.missing),At.result}return Vt=Vt.map(function(At){return At===null?null:Array.isArray(At)?wt($t.executeSubSelectedArray({field:Qt,array:At,execContext:bt})):Qt.selectionSet?wt($t.executeSelectionSet({selectionSet:Qt.selectionSet,rootValue:At,execContext:bt})):(We(Qt,At),At)}),this.freezeResults,{result:Vt,missing:at}},gt}();function We(gt,xt){if(!gt.selectionSet&&(0,P.cQ)(xt))throw new Ne.ej(10)}function He(){return!0}function Ue(gt){(0,Ne.kG)((0,P.cQ)(gt),11)}var Qe=function(){function gt(xt){xt===void 0&&(xt=Object.create(null)),this.data=xt}return gt.prototype.toObject=function(){return this.data},gt.prototype.get=function(xt){return this.data[xt]},gt.prototype.set=function(xt,at){this.data[xt]=at},gt.prototype.delete=function(xt){this.data[xt]=void 0},gt.prototype.clear=function(){this.data=Object.create(null)},gt.prototype.replace=function(xt){this.data=xt||Object.create(null)},gt}();function Be(gt){return new Qe(gt)}var $e=function(gt){function xt(){var at=gt!==null&&gt.apply(this,arguments)||this;return at.type="WriteError",at}return T(xt,gt),xt}(Error);function Xe(gt,xt){var at=new $e(`Error writing result to store for query:
 `+JSON.stringify(xt));return at.message+=`
`+gt.message,at.stack=gt.stack,at}var lt=function(){function gt(){}return gt.prototype.writeQueryToStore=function(xt){var at=xt.query,$t=xt.result,Qt=xt.store,Vt=Qt===void 0?it():Qt,bt=xt.variables,wt=xt.dataIdFromObject,At=xt.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:$t,document:at,store:Vt,variables:bt,dataIdFromObject:wt,fragmentMatcherFunction:At})},gt.prototype.writeResultToStore=function(xt){var at=xt.dataId,$t=xt.result,Qt=xt.document,Vt=xt.store,bt=Vt===void 0?it():Vt,wt=xt.variables,At=xt.dataIdFromObject,Kt=xt.fragmentMatcherFunction,Yt=(0,P.$H)(Qt);try{return this.writeSelectionSetToStore({result:$t,dataId:at,selectionSet:Yt.selectionSet,context:{store:bt,processedData:{},variables:(0,P.f0)({},(0,P.O4)(Yt),wt),dataIdFromObject:At,fragmentMap:(0,P.F)((0,P.kU)(Qt)),fragmentMatcherFunction:Kt}})}catch(xr){throw Xe(xr,Qt)}},gt.prototype.writeSelectionSetToStore=function(xt){var at=this,$t=xt.result,Qt=xt.dataId,Vt=xt.selectionSet,bt=xt.context,wt=bt.variables,At=bt.store,Kt=bt.fragmentMap;return Vt.selections.forEach(function(Yt){var xr;if((0,P.LZ)(Yt,wt))if((0,P.My)(Yt)){var Cr=(0,P.u2)(Yt),Mr=$t[Cr];if(Mr!==void 0)at.writeFieldToStore({dataId:Qt,value:Mr,field:Yt,context:bt});else{var $r=!1,qr=!1;Yt.directives&&Yt.directives.length&&($r=Yt.directives.some(function(ln){return ln.name&&ln.name.value==="defer"}),qr=Yt.directives.some(function(ln){return ln.name&&ln.name.value==="client"})),!$r&&!qr&&bt.fragmentMatcherFunction}}else{var gn=void 0;(0,P.Ao)(Yt)?gn=Yt:(gn=(Kt||{})[Yt.name.value],(0,Ne.kG)(gn,3));var or=!0;if(bt.fragmentMatcherFunction&&gn.typeCondition){var Zr=Qt||"self",bn=(0,P.aX)({id:Zr,typename:void 0}),mn={store:new Qe((xr={},xr[Zr]=$t,xr)),cacheRedirects:{}},jn=bt.fragmentMatcherFunction(bn,gn.typeCondition.name.value,mn);(0,P.yv)(),or=!!jn}or&&at.writeSelectionSetToStore({result:$t,selectionSet:gn.selectionSet,dataId:Qt,context:bt})}}),At},gt.prototype.writeFieldToStore=function(xt){var at,$t,Qt,Vt=xt.field,bt=xt.value,wt=xt.dataId,At=xt.context,Kt=At.variables,Yt=At.dataIdFromObject,xr=At.store,Cr=(0,P.vf)(Vt,Kt);if(Vt.selectionSet&&bt!==null)if(Array.isArray(bt)){var Mr=wt+"."+Cr;$t=this.processArrayValue(bt,Mr,Vt.selectionSet,At)}else{var $r=wt+"."+Cr,qr=!0;if(dt($r)||($r="$"+$r),Yt){var gn=Yt(bt);(0,Ne.kG)(!gn||!dt(gn),4),(gn||typeof gn=="number"&&gn===0)&&($r=gn,qr=!1)}St($r,Vt,At.processedData)||this.writeSelectionSetToStore({dataId:$r,result:bt,selectionSet:Vt.selectionSet,context:At});var or=bt.__typename;$t=(0,P.aX)({id:$r,typename:or},qr);var Zr=(Qt=xr.get(wt))&&Qt[Cr];if(Zr!==$t&&(0,P.cQ)(Zr)){var bn=Zr.typename!==void 0,mn=or!==void 0,jn=bn&&mn&&Zr.typename!==or;(0,Ne.kG)(!qr||Zr.generated||jn,5),(0,Ne.kG)(!bn||mn,6),Zr.generated&&(jn?qr||xr.delete(Zr.id):ft(Zr.id,$t.id,xr))}}else $t=bt!=null&&typeof bt=="object"?{type:"json",json:bt}:bt;(Qt=xr.get(wt))&&(0,U.D)($t,Qt[Cr])||xr.set(wt,O(O({},Qt),((at={})[Cr]=$t,at)))},gt.prototype.processArrayValue=function(xt,at,$t,Qt){var Vt=this;return xt.map(function(bt,wt){if(bt===null)return null;var At=at+"."+wt;if(Array.isArray(bt))return Vt.processArrayValue(bt,At,$t,Qt);var Kt=!0;if(Qt.dataIdFromObject){var Yt=Qt.dataIdFromObject(bt);Yt&&(At=Yt,Kt=!1)}return St(At,$t,Qt.processedData)||Vt.writeSelectionSetToStore({dataId:At,result:bt,selectionSet:$t,context:Qt}),(0,P.aX)({id:At,typename:bt.__typename},Kt)})},gt}();function dt(gt){return gt[0]==="$"}function ft(gt,xt,at){if(gt===xt)return!1;var $t=at.get(gt),Qt=at.get(xt),Vt=!1;Object.keys($t).forEach(function(wt){var At=$t[wt],Kt=Qt[wt];(0,P.cQ)(At)&&dt(At.id)&&(0,P.cQ)(Kt)&&!(0,U.D)(At,Kt)&&ft(At.id,Kt.id,at)&&(Vt=!0)}),at.delete(gt);var bt=O(O({},$t),Qt);return(0,U.D)(bt,Qt)?Vt:(at.set(xt,bt),!0)}function St(gt,xt,at){if(!at)return!1;if(at[gt]){if(at[gt].indexOf(xt)>=0)return!0;at[gt].push(xt)}else at[gt]=[xt];return!1}var Mt={fragmentMatcher:new qe,dataIdFromObject:ht,addTypename:!0,resultCaching:!0,freezeResults:!1};function ht(gt){if(gt.__typename){if(gt.id!==void 0)return gt.__typename+":"+gt.id;if(gt._id!==void 0)return gt.__typename+":"+gt._id}return null}var ct=Object.prototype.hasOwnProperty,vt=function(gt){function xt(at,$t,Qt){var Vt=gt.call(this,Object.create(null))||this;return Vt.optimisticId=at,Vt.parent=$t,Vt.transaction=Qt,Vt}return T(xt,gt),xt.prototype.toObject=function(){return O(O({},this.parent.toObject()),this.data)},xt.prototype.get=function(at){return ct.call(this.data,at)?this.data[at]:this.parent.get(at)},xt}(Qe),Et=function(gt){function xt(at){at===void 0&&(at={});var $t=gt.call(this)||this;$t.watches=new Set,$t.typenameDocumentCache=new Map,$t.cacheKeyRoot=new Re(P.mr),$t.silenceBroadcast=!1,$t.config=O(O({},Mt),at),$t.config.customResolvers&&($t.config.cacheRedirects=$t.config.customResolvers),$t.config.cacheResolvers&&($t.config.cacheRedirects=$t.config.cacheResolvers),$t.addTypename=!!$t.config.addTypename,$t.data=$t.config.resultCaching?new tt:new Qe,$t.optimisticData=$t.data,$t.storeWriter=new lt,$t.storeReader=new Ze({cacheKeyRoot:$t.cacheKeyRoot,freezeResults:at.freezeResults});var Qt=$t,Vt=Qt.maybeBroadcastWatch;return $t.maybeBroadcastWatch=je(function(bt){return Vt.call($t,bt)},{makeCacheKey:function(bt){if(!bt.optimistic&&!bt.previousResult)return Qt.data instanceof tt?Qt.cacheKeyRoot.lookup(bt.query,JSON.stringify(bt.variables)):void 0}}),$t}return T(xt,gt),xt.prototype.restore=function(at){return at&&this.data.replace(at),this},xt.prototype.extract=function(at){return at===void 0&&(at=!1),(at?this.optimisticData:this.data).toObject()},xt.prototype.read=function(at){if(typeof at.rootId=="string"&&this.data.get(at.rootId)===void 0)return null;var $t=this.config.fragmentMatcher,Qt=$t&&$t.match;return this.storeReader.readQueryFromStore({store:at.optimistic?this.optimisticData:this.data,query:this.transformDocument(at.query),variables:at.variables,rootId:at.rootId,fragmentMatcherFunction:Qt,previousResult:at.previousResult,config:this.config})||null},xt.prototype.write=function(at){var $t=this.config.fragmentMatcher,Qt=$t&&$t.match;this.storeWriter.writeResultToStore({dataId:at.dataId,result:at.result,variables:at.variables,document:this.transformDocument(at.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:Qt}),this.broadcastWatches()},xt.prototype.diff=function(at){var $t=this.config.fragmentMatcher,Qt=$t&&$t.match;return this.storeReader.diffQueryAgainstStore({store:at.optimistic?this.optimisticData:this.data,query:this.transformDocument(at.query),variables:at.variables,returnPartialData:at.returnPartialData,previousResult:at.previousResult,fragmentMatcherFunction:Qt,config:this.config})},xt.prototype.watch=function(at){var $t=this;return this.watches.add(at),function(){$t.watches.delete(at)}},xt.prototype.evict=function(at){throw new Ne.ej(7)},xt.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},xt.prototype.removeOptimistic=function(at){for(var $t=[],Qt=0,Vt=this.optimisticData;Vt instanceof vt;)Vt.optimisticId===at?++Qt:$t.push(Vt),Vt=Vt.parent;if(Qt>0){for(this.optimisticData=Vt;$t.length>0;){var bt=$t.pop();this.performTransaction(bt.transaction,bt.optimisticId)}this.broadcastWatches()}},xt.prototype.performTransaction=function(at,$t){var Qt=this.data,Vt=this.silenceBroadcast;this.silenceBroadcast=!0,typeof $t=="string"&&(this.data=this.optimisticData=new vt($t,this.optimisticData,at));try{at(this)}finally{this.silenceBroadcast=Vt,this.data=Qt}this.broadcastWatches()},xt.prototype.recordOptimisticTransaction=function(at,$t){return this.performTransaction(at,$t)},xt.prototype.transformDocument=function(at){if(this.addTypename){var $t=this.typenameDocumentCache.get(at);return $t||($t=(0,P.Gw)(at),this.typenameDocumentCache.set(at,$t),this.typenameDocumentCache.set($t,$t)),$t}return at},xt.prototype.broadcastWatches=function(){var at=this;this.silenceBroadcast||this.watches.forEach(function($t){return at.maybeBroadcastWatch($t)})},xt.prototype.maybeBroadcastWatch=function(at){at.callback(this.diff({query:at.query,variables:at.variables,previousResult:at.previousResult&&at.previousResult(),optimistic:at.optimistic}))},xt}(j)},34600:($,E,_)=>{_.r(E),_.d(E,{ApolloClient:()=>Oe,ApolloError:()=>Y,FetchType:()=>Z,NetworkStatus:()=>I,ObservableQuery:()=>ee,default:()=>Ae,isApolloError:()=>G});var A=function(Pe,Ee){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,Re){Te.__proto__=Re}||function(Te,Re){for(var Me in Re)Re.hasOwnProperty(Me)&&(Te[Me]=Re[Me])},A(Pe,Ee)};function T(Pe,Ee){function Te(){this.constructor=Pe}A(Pe,Ee),Pe.prototype=Ee===null?Object.create(Ee):(Te.prototype=Ee.prototype,new Te)}var O=function(){return O=Object.assign||function(Pe){for(var Ee,Te=1,Re=arguments.length;Te<Re;Te++)for(var Me in Ee=arguments[Te])Object.prototype.hasOwnProperty.call(Ee,Me)&&(Pe[Me]=Ee[Me]);return Pe},O.apply(this,arguments)};function P(Pe,Ee,Te,Re){return new(Te||(Te=Promise))(function(Me,ze){function Le(qe){try{Ne(Re.next(qe))}catch(Ye){ze(Ye)}}function je(qe){try{Ne(Re.throw(qe))}catch(Ye){ze(Ye)}}function Ne(qe){var Ye;qe.done?Me(qe.value):(Ye=qe.value,Ye instanceof Te?Ye:new Te(function(Ve){Ve(Ye)})).then(Le,je)}Ne((Re=Re.apply(Pe,[])).next())})}function R(Pe,Ee){var Te,Re,Me,ze,Le={label:0,sent:function(){if(1&Me[0])throw Me[1];return Me[1]},trys:[],ops:[]};return ze={next:je(0),throw:je(1),return:je(2)},typeof Symbol=="function"&&(ze[Symbol.iterator]=function(){return this}),ze;function je(Ne){return function(qe){return function(Ye){if(Te)throw new TypeError("Generator is already executing.");for(;Le;)try{if(Te=1,Re&&(Me=2&Ye[0]?Re.return:Ye[0]?Re.throw||((Me=Re.return)&&Me.call(Re),0):Re.next)&&!(Me=Me.call(Re,Ye[1])).done)return Me;switch(Re=0,Me&&(Ye=[2&Ye[0],Me.value]),Ye[0]){case 0:case 1:Me=Ye;break;case 4:return Le.label++,{value:Ye[1],done:!1};case 5:Le.label++,Re=Ye[1],Ye=[0];continue;case 7:Ye=Le.ops.pop(),Le.trys.pop();continue;default:if(!((Me=(Me=Le.trys).length>0&&Me[Me.length-1])||Ye[0]!==6&&Ye[0]!==2)){Le=0;continue}if(Ye[0]===3&&(!Me||Ye[1]>Me[0]&&Ye[1]<Me[3])){Le.label=Ye[1];break}if(Ye[0]===6&&Le.label<Me[1]){Le.label=Me[1],Me=Ye;break}if(Me&&Le.label<Me[2]){Le.label=Me[2],Le.ops.push(Ye);break}Me[2]&&Le.ops.pop(),Le.trys.pop();continue}Ye=Ee.call(Pe,Le)}catch(Ve){Ye=[6,Ve],Re=0}finally{Te=Me=0}if(5&Ye[0])throw Ye[1];return{value:Ye[0]?Ye[1]:void 0,done:!0}}([Ne,qe])}}}var I,N=_(44441),j=_(38229),U=_(45526),z=_(38249),V=_(7288),F=_(21726),q=_(82624);function B(Pe){return Pe<7}(function(Pe){Pe[Pe.loading=1]="loading",Pe[Pe.setVariables=2]="setVariables",Pe[Pe.fetchMore=3]="fetchMore",Pe[Pe.refetch=4]="refetch",Pe[Pe.poll=6]="poll",Pe[Pe.ready=7]="ready",Pe[Pe.error=8]="error"})(I||(I={}));var W=function(Pe){function Ee(){return Pe!==null&&Pe.apply(this,arguments)||this}return T(Ee,Pe),Ee.prototype[V.Z]=function(){return this},Ee.prototype["@@observable"]=function(){return this},Ee}(U.Z);function H(Pe){return Array.isArray(Pe)&&Pe.length>0}function G(Pe){return Pe.hasOwnProperty("graphQLErrors")}var Z,Y=function(Pe){function Ee(Te){var Re,Me,ze=Te.graphQLErrors,Le=Te.networkError,je=Te.errorMessage,Ne=Te.extraInfo,qe=Pe.call(this,je)||this;return qe.graphQLErrors=ze||[],qe.networkError=Le||null,qe.message=je||(Me="",H((Re=qe).graphQLErrors)&&Re.graphQLErrors.forEach(function(Ye){var Ve=Ye?Ye.message:"Error message not found.";Me+="GraphQL error: "+Ve+`
`}),Re.networkError&&(Me+="Network error: "+Re.networkError.message+`
`),Me=Me.replace(/\n$/,"")),qe.extraInfo=Ne,qe.__proto__=Ee.prototype,qe}return T(Ee,Pe),Ee}(Error);(function(Pe){Pe[Pe.normal=1]="normal",Pe[Pe.refetch=2]="refetch",Pe[Pe.poll=3]="poll"})(Z||(Z={}));var ee=function(Pe){function Ee(Te){var Re=Te.queryManager,Me=Te.options,ze=Te.shouldSubscribe,Le=ze===void 0||ze,je=Pe.call(this,function(qe){return je.onSubscribe(qe)})||this;je.observers=new Set,je.subscriptions=new Set,je.isTornDown=!1,je.options=Me,je.variables=Me.variables||{},je.queryId=Re.generateQueryId(),je.shouldSubscribe=Le;var Ne=(0,N.$H)(Me.query);return je.queryName=Ne&&Ne.name&&Ne.name.value,je.queryManager=Re,je}return T(Ee,Pe),Ee.prototype.result=function(){var Te=this;return new Promise(function(Re,Me){var ze={next:function(je){Re(je),Te.observers.delete(ze),Te.observers.size||Te.queryManager.removeQuery(Te.queryId),setTimeout(function(){Le.unsubscribe()},0)},error:Me},Le=Te.subscribe(ze)})},Ee.prototype.currentResult=function(){var Te=this.getCurrentResult();return Te.data===void 0&&(Te.data={}),Te},Ee.prototype.getCurrentResult=function(){if(this.isTornDown){var Te=this.lastResult;return{data:!this.lastError&&Te&&Te.data||void 0,error:this.lastError,loading:!1,networkStatus:I.error}}var Re,Me,ze,Le=this.queryManager.getCurrentQueryResult(this),je=Le.data,Ne=Le.partial,qe=this.queryManager.queryStore.get(this.queryId),Ye=this.options.fetchPolicy,Ve=Ye==="network-only"||Ye==="no-cache";if(qe){var tt=qe.networkStatus;if(Me=qe,(ze=this.options.errorPolicy)===void 0&&(ze="none"),Me&&(Me.networkError||ze==="none"&&H(Me.graphQLErrors)))return{data:void 0,loading:!1,networkStatus:tt,error:new Y({graphQLErrors:qe.graphQLErrors,networkError:qe.networkError})};qe.variables&&(this.options.variables=O(O({},this.options.variables),qe.variables),this.variables=this.options.variables),Re={data:je,loading:B(tt),networkStatus:tt},qe.graphQLErrors&&this.options.errorPolicy==="all"&&(Re.errors=qe.graphQLErrors)}else{var it=Ve||Ne&&Ye!=="cache-only";Re={data:je,loading:it,networkStatus:it?I.loading:I.ready}}return Ne||this.updateLastResult(O(O({},Re),{stale:!1})),O(O({},Re),{partial:Ne})},Ee.prototype.isDifferentFromLastResult=function(Te){var Re=this.lastResultSnapshot;return!(Re&&Te&&Re.networkStatus===Te.networkStatus&&Re.stale===Te.stale&&(0,j.D)(Re.data,Te.data))},Ee.prototype.getLastResult=function(){return this.lastResult},Ee.prototype.getLastError=function(){return this.lastError},Ee.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},Ee.prototype.resetQueryStoreErrors=function(){var Te=this.queryManager.queryStore.get(this.queryId);Te&&(Te.networkError=null,Te.graphQLErrors=[])},Ee.prototype.refetch=function(Te){var Re=this.options.fetchPolicy;return Re==="cache-only"?Promise.reject(new F.ej(1)):(Re!=="no-cache"&&Re!=="cache-and-network"&&(Re="network-only"),(0,j.D)(this.variables,Te)||(this.variables=O(O({},this.variables),Te)),(0,j.D)(this.options.variables,this.variables)||(this.options.variables=O(O({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,O(O({},this.options),{fetchPolicy:Re}),Z.refetch))},Ee.prototype.fetchMore=function(Te){var Re=this;(0,F.kG)(Te.updateQuery,2);var Me=O(O({},Te.query?Te:O(O(O({},this.options),Te),{variables:O(O({},this.variables),Te.variables)})),{fetchPolicy:"network-only"}),ze=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(ze,Me,Z.normal,this.queryId).then(function(Le){return Re.updateQuery(function(je){return Te.updateQuery(je,{fetchMoreResult:Le.data,variables:Me.variables})}),Re.queryManager.stopQuery(ze),Le},function(Le){throw Re.queryManager.stopQuery(ze),Le})},Ee.prototype.subscribeToMore=function(Te){var Re=this,Me=this.queryManager.startGraphQLSubscription({query:Te.document,variables:Te.variables}).subscribe({next:function(ze){var Le=Te.updateQuery;Le&&Re.updateQuery(function(je,Ne){var qe=Ne.variables;return Le(je,{subscriptionData:ze,variables:qe})})},error:function(ze){Te.onError&&Te.onError(ze)}});return this.subscriptions.add(Me),function(){Re.subscriptions.delete(Me)&&Me.unsubscribe()}},Ee.prototype.setOptions=function(Te){var Re=this.options.fetchPolicy;this.options=O(O({},this.options),Te),Te.pollInterval?this.startPolling(Te.pollInterval):Te.pollInterval===0&&this.stopPolling();var Me=Te.fetchPolicy;return this.setVariables(this.options.variables,Re!==Me&&(Re==="cache-only"||Re==="standby"||Me==="network-only"),Te.fetchResults)},Ee.prototype.setVariables=function(Te,Re,Me){return Re===void 0&&(Re=!1),Me===void 0&&(Me=!0),this.isTornDown=!1,Te=Te||this.variables,!Re&&(0,j.D)(Te,this.variables)?this.observers.size&&Me?this.result():Promise.resolve():(this.variables=this.options.variables=Te,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},Ee.prototype.updateQuery=function(Te){var Re=this.queryManager,Me=Re.getQueryWithPreviousResult(this.queryId),ze=Me.previousResult,Le=Me.variables,je=Me.document,Ne=(0,N.XY)(function(){return Te(ze,{variables:Le})});Ne&&(Re.dataStore.markUpdateQueryResult(je,Le,Ne),Re.broadcastQueries())},Ee.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},Ee.prototype.startPolling=function(Te){te(this),this.options.pollInterval=Te,this.queryManager.startPollingQuery(this.options,this.queryId)},Ee.prototype.updateLastResult=function(Te){var Re=this.lastResult;return this.lastResult=Te,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?Te:(0,N.Xh)(Te),Re},Ee.prototype.onSubscribe=function(Te){var Re=this;try{var Me=Te._subscription._observer;Me&&!Me.error&&(Me.error=J)}catch{}var ze=!this.observers.size;return this.observers.add(Te),Te.next&&this.lastResult&&Te.next(this.lastResult),Te.error&&this.lastError&&Te.error(this.lastError),ze&&this.setUpQuery(),function(){Re.observers.delete(Te)&&!Re.observers.size&&Re.tearDownQuery()}},Ee.prototype.setUpQuery=function(){var Te=this,Re=this.queryManager,Me=this.queryId;this.shouldSubscribe&&Re.addObservableQuery(Me,this),this.options.pollInterval&&(te(this),Re.startPollingQuery(this.options,Me));var ze=function(Le){Te.updateLastResult(O(O({},Te.lastResult),{errors:Le.graphQLErrors,networkStatus:I.error,loading:!1})),Q(Te.observers,"error",Te.lastError=Le)};Re.observeQuery(Me,this.options,{next:function(Le){if(Te.lastError||Te.isDifferentFromLastResult(Le)){var je=Te.updateLastResult(Le),Ne=Te.options,qe=Ne.query,Ye=Ne.variables,Ve=Ne.fetchPolicy;Re.transform(qe).hasClientExports?Re.getLocalState().addExportedVariables(qe,Ye).then(function(tt){var it=Te.variables;Te.variables=Te.options.variables=tt,!Le.loading&&je&&Ve!=="cache-only"&&Re.transform(qe).serverQuery&&!(0,j.D)(it,tt)?Te.refetch():Q(Te.observers,"next",Le)}):Q(Te.observers,"next",Le)}},error:ze}).catch(ze)},Ee.prototype.tearDownQuery=function(){var Te=this.queryManager;this.isTornDown=!0,Te.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(Re){return Re.unsubscribe()}),this.subscriptions.clear(),Te.removeObservableQuery(this.queryId),Te.stopQuery(this.queryId),this.observers.clear()},Ee}(W);function J(Pe){}function Q(Pe,Ee,Te){var Re=[];Pe.forEach(function(Me){return Me[Ee]&&Re.push(Me)}),Re.forEach(function(Me){return Me[Ee](Te)})}function te(Pe){var Ee=Pe.options.fetchPolicy;(0,F.kG)(Ee!=="cache-first"&&Ee!=="cache-only",3)}var se=function(){function Pe(){this.store={}}return Pe.prototype.getStore=function(){return this.store},Pe.prototype.get=function(Ee){return this.store[Ee]},Pe.prototype.initMutation=function(Ee,Te,Re){this.store[Ee]={mutation:Te,variables:Re||{},loading:!0,error:null}},Pe.prototype.markMutationError=function(Ee,Te){var Re=this.store[Ee];Re&&(Re.loading=!1,Re.error=Te)},Pe.prototype.markMutationResult=function(Ee){var Te=this.store[Ee];Te&&(Te.loading=!1,Te.error=null)},Pe.prototype.reset=function(){this.store={}},Pe}(),de=function(){function Pe(){this.store={}}return Pe.prototype.getStore=function(){return this.store},Pe.prototype.get=function(Ee){return this.store[Ee]},Pe.prototype.initQuery=function(Ee){var Te=this.store[Ee.queryId];(0,F.kG)(!Te||Te.document===Ee.document||(0,j.D)(Te.document,Ee.document),19);var Re,Me=!1,ze=null;Ee.storePreviousVariables&&Te&&Te.networkStatus!==I.loading&&((0,j.D)(Te.variables,Ee.variables)||(Me=!0,ze=Te.variables)),Re=Me?I.setVariables:Ee.isPoll?I.poll:Ee.isRefetch?I.refetch:I.loading;var Le=[];Te&&Te.graphQLErrors&&(Le=Te.graphQLErrors),this.store[Ee.queryId]={document:Ee.document,variables:Ee.variables,previousVariables:ze,networkError:null,graphQLErrors:Le,networkStatus:Re,metadata:Ee.metadata},typeof Ee.fetchMoreForQueryId=="string"&&this.store[Ee.fetchMoreForQueryId]&&(this.store[Ee.fetchMoreForQueryId].networkStatus=I.fetchMore)},Pe.prototype.markQueryResult=function(Ee,Te,Re){this.store&&this.store[Ee]&&(this.store[Ee].networkError=null,this.store[Ee].graphQLErrors=H(Te.errors)?Te.errors:[],this.store[Ee].previousVariables=null,this.store[Ee].networkStatus=I.ready,typeof Re=="string"&&this.store[Re]&&(this.store[Re].networkStatus=I.ready))},Pe.prototype.markQueryError=function(Ee,Te,Re){this.store&&this.store[Ee]&&(this.store[Ee].networkError=Te,this.store[Ee].networkStatus=I.error,typeof Re=="string"&&this.markQueryResultClient(Re,!0))},Pe.prototype.markQueryResultClient=function(Ee,Te){var Re=this.store&&this.store[Ee];Re&&(Re.networkError=null,Re.previousVariables=null,Te&&(Re.networkStatus=I.ready))},Pe.prototype.stopQuery=function(Ee){delete this.store[Ee]},Pe.prototype.reset=function(Ee){var Te=this;Object.keys(this.store).forEach(function(Re){Ee.indexOf(Re)<0?Te.stopQuery(Re):Te.store[Re].networkStatus=I.loading})},Pe}(),ie=function(){function Pe(Ee){var Te=Ee.cache,Re=Ee.client,Me=Ee.resolvers,ze=Ee.fragmentMatcher;this.cache=Te,Re&&(this.client=Re),Me&&this.addResolvers(Me),ze&&this.setFragmentMatcher(ze)}return Pe.prototype.addResolvers=function(Ee){var Te=this;this.resolvers=this.resolvers||{},Array.isArray(Ee)?Ee.forEach(function(Re){Te.resolvers=(0,N.Ee)(Te.resolvers,Re)}):this.resolvers=(0,N.Ee)(this.resolvers,Ee)},Pe.prototype.setResolvers=function(Ee){this.resolvers={},this.addResolvers(Ee)},Pe.prototype.getResolvers=function(){return this.resolvers||{}},Pe.prototype.runResolvers=function(Ee){var Te=Ee.document,Re=Ee.remoteResult,Me=Ee.context,ze=Ee.variables,Le=Ee.onlyRunForcedResolvers,je=Le!==void 0&&Le;return P(this,void 0,void 0,function(){return R(this,function(Ne){return Te?[2,this.resolveDocument(Te,Re.data,Me,ze,this.fragmentMatcher,je).then(function(qe){return O(O({},Re),{data:qe.result})})]:[2,Re]})})},Pe.prototype.setFragmentMatcher=function(Ee){this.fragmentMatcher=Ee},Pe.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},Pe.prototype.clientQuery=function(Ee){return(0,N.FS)(["client"],Ee)&&this.resolvers?Ee:null},Pe.prototype.serverQuery=function(Ee){return this.resolvers?(0,N.ob)(Ee):Ee},Pe.prototype.prepareContext=function(Ee){Ee===void 0&&(Ee={});var Te=this.cache;return O(O({},Ee),{cache:Te,getCacheKey:function(Re){if(Te.config)return Te.config.dataIdFromObject(Re);(0,F.kG)(!1,6)}})},Pe.prototype.addExportedVariables=function(Ee,Te,Re){return Te===void 0&&(Te={}),Re===void 0&&(Re={}),P(this,void 0,void 0,function(){return R(this,function(Me){return Ee?[2,this.resolveDocument(Ee,this.buildRootValueFromCache(Ee,Te)||{},this.prepareContext(Re),Te).then(function(ze){return O(O({},Te),ze.exportedVariables)})]:[2,O({},Te)]})})},Pe.prototype.shouldForceResolvers=function(Ee){var Te=!1;return(0,q.visit)(Ee,{Directive:{enter:function(Re){if(Re.name.value==="client"&&Re.arguments&&(Te=Re.arguments.some(function(Me){return Me.name.value==="always"&&Me.value.kind==="BooleanValue"&&Me.value.value===!0})))return q.BREAK}}}),Te},Pe.prototype.buildRootValueFromCache=function(Ee,Te){return this.cache.diff({query:(0,N.aL)(Ee),variables:Te,returnPartialData:!0,optimistic:!1}).result},Pe.prototype.resolveDocument=function(Ee,Te,Re,Me,ze,Le){return Re===void 0&&(Re={}),Me===void 0&&(Me={}),ze===void 0&&(ze=function(){return!0}),Le===void 0&&(Le=!1),P(this,void 0,void 0,function(){var je,Ne,qe,Ye,Ve,tt,it,Ze,We;return R(this,function(He){var Ue;return je=(0,N.p$)(Ee),Ne=(0,N.kU)(Ee),qe=(0,N.F)(Ne),Ye=je.operation,Ve=Ye?(Ue=Ye).charAt(0).toUpperCase()+Ue.slice(1):"Query",it=(tt=this).cache,Ze=tt.client,We={fragmentMap:qe,context:O(O({},Re),{cache:it,client:Ze}),variables:Me,fragmentMatcher:ze,defaultOperationType:Ve,exportedVariables:{},onlyRunForcedResolvers:Le},[2,this.resolveSelectionSet(je.selectionSet,Te,We).then(function(Qe){return{result:Qe,exportedVariables:We.exportedVariables}})]})})},Pe.prototype.resolveSelectionSet=function(Ee,Te,Re){return P(this,void 0,void 0,function(){var Me,ze,Le,je,Ne,qe=this;return R(this,function(Ye){return Me=Re.fragmentMap,ze=Re.context,Le=Re.variables,je=[Te],Ne=function(Ve){return P(qe,void 0,void 0,function(){var tt,it;return R(this,function(Ze){return(0,N.LZ)(Ve,Le)?(0,N.My)(Ve)?[2,this.resolveField(Ve,Te,Re).then(function(We){var He;We!==void 0&&je.push(((He={})[(0,N.u2)(Ve)]=We,He))})]:((0,N.Ao)(Ve)?tt=Ve:(tt=Me[Ve.name.value],(0,F.kG)(tt,7)),tt&&tt.typeCondition&&(it=tt.typeCondition.name.value,Re.fragmentMatcher(Te,it,ze))?[2,this.resolveSelectionSet(tt.selectionSet,Te,Re).then(function(We){je.push(We)})]:[2]):[2]})})},[2,Promise.all(Ee.selections.map(Ne)).then(function(){return(0,N.bw)(je)})]})})},Pe.prototype.resolveField=function(Ee,Te,Re){return P(this,void 0,void 0,function(){var Me,ze,Le,je,Ne,qe,Ye,Ve,tt,it=this;return R(this,function(Ze){return Me=Re.variables,ze=Ee.name.value,Le=(0,N.u2)(Ee),je=ze!==Le,Ne=Te[Le]||Te[ze],qe=Promise.resolve(Ne),Re.onlyRunForcedResolvers&&!this.shouldForceResolvers(Ee)||(Ye=Te.__typename||Re.defaultOperationType,(Ve=this.resolvers&&this.resolvers[Ye])&&(tt=Ve[je?ze:Le])&&(qe=Promise.resolve(tt(Te,(0,N.NC)(Ee,Me),Re.context,{field:Ee,fragmentMap:Re.fragmentMap})))),[2,qe.then(function(We){return We===void 0&&(We=Ne),Ee.directives&&Ee.directives.forEach(function(He){He.name.value==="export"&&He.arguments&&He.arguments.forEach(function(Ue){Ue.name.value==="as"&&Ue.value.kind==="StringValue"&&(Re.exportedVariables[Ue.value.value]=We)})}),Ee.selectionSet?We==null?We:Array.isArray(We)?it.resolveSubSelectedArray(Ee,We,Re):Ee.selectionSet?it.resolveSelectionSet(Ee.selectionSet,We,Re):void 0:We})]})})},Pe.prototype.resolveSubSelectedArray=function(Ee,Te,Re){var Me=this;return Promise.all(Te.map(function(ze){return ze===null?null:Array.isArray(ze)?Me.resolveSubSelectedArray(Ee,ze,Re):Ee.selectionSet?Me.resolveSelectionSet(Ee.selectionSet,ze,Re):void 0}))},Pe}();function ve(Pe){var Ee=new Set,Te=null;return new W(function(Re){return Ee.add(Re),Te=Te||Pe.subscribe({next:function(Me){Ee.forEach(function(ze){return ze.next&&ze.next(Me)})},error:function(Me){Ee.forEach(function(ze){return ze.error&&ze.error(Me)})},complete:function(){Ee.forEach(function(Me){return Me.complete&&Me.complete()})}}),function(){Ee.delete(Re)&&!Ee.size&&Te&&(Te.unsubscribe(),Te=null)}})}var xe=Object.prototype.hasOwnProperty,ke=function(){function Pe(Ee){var Te=Ee.link,Re=Ee.queryDeduplication,Me=Re!==void 0&&Re,ze=Ee.store,Le=Ee.onBroadcast,je=Le===void 0?function(){}:Le,Ne=Ee.ssrMode,qe=Ne!==void 0&&Ne,Ye=Ee.clientAwareness,Ve=Ye===void 0?{}:Ye,tt=Ee.localState,it=Ee.assumeImmutableResults;this.mutationStore=new se,this.queryStore=new de,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(N.mr?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=Te,this.queryDeduplication=Me,this.dataStore=ze,this.onBroadcast=je,this.clientAwareness=Ve,this.localState=tt||new ie({cache:ze.getCache()}),this.ssrMode=qe,this.assumeImmutableResults=!!it}return Pe.prototype.stop=function(){var Ee=this;this.queries.forEach(function(Te,Re){Ee.stopQueryNoBroadcast(Re)}),this.fetchQueryRejectFns.forEach(function(Te){Te(new F.ej(8))})},Pe.prototype.mutate=function(Ee){var Te=Ee.mutation,Re=Ee.variables,Me=Ee.optimisticResponse,ze=Ee.updateQueries,Le=Ee.refetchQueries,je=Le===void 0?[]:Le,Ne=Ee.awaitRefetchQueries,qe=Ne!==void 0&&Ne,Ye=Ee.update,Ve=Ee.errorPolicy,tt=Ve===void 0?"none":Ve,it=Ee.fetchPolicy,Ze=Ee.context,We=Ze===void 0?{}:Ze;return P(this,void 0,void 0,function(){var He,Ue,Qe,Be=this;return R(this,function($e){switch($e.label){case 0:return(0,F.kG)(Te,9),(0,F.kG)(!it||it==="no-cache",10),He=this.generateQueryId(),Te=this.transform(Te).document,this.setQuery(He,function(){return{document:Te}}),Re=this.getVariables(Te,Re),this.transform(Te).hasClientExports?[4,this.localState.addExportedVariables(Te,Re,We)]:[3,2];case 1:Re=$e.sent(),$e.label=2;case 2:return Ue=function(){var Xe={};return ze&&Be.queries.forEach(function(lt,dt){var ft=lt.observableQuery;if(ft){var St=ft.queryName;St&&xe.call(ze,St)&&(Xe[dt]={updater:ze[St],query:Be.queryStore.get(dt)})}}),Xe},this.mutationStore.initMutation(He,Te,Re),this.dataStore.markMutationInit({mutationId:He,document:Te,variables:Re,updateQueries:Ue(),update:Ye,optimisticResponse:Me}),this.broadcastQueries(),Qe=this,[2,new Promise(function(Xe,lt){var dt,ft;Qe.getObservableFromLink(Te,O(O({},We),{optimisticResponse:Me}),Re,!1).subscribe({next:function(St){(0,N.d2)(St)&&tt==="none"?ft=new Y({graphQLErrors:St.errors}):(Qe.mutationStore.markMutationResult(He),it!=="no-cache"&&Qe.dataStore.markMutationResult({mutationId:He,result:St,document:Te,variables:Re,updateQueries:Ue(),update:Ye}),dt=St)},error:function(St){Qe.mutationStore.markMutationError(He,St),Qe.dataStore.markMutationComplete({mutationId:He,optimisticResponse:Me}),Qe.broadcastQueries(),Qe.setQuery(He,function(){return{document:null}}),lt(new Y({networkError:St}))},complete:function(){if(ft&&Qe.mutationStore.markMutationError(He,ft),Qe.dataStore.markMutationComplete({mutationId:He,optimisticResponse:Me}),Qe.broadcastQueries(),ft)lt(ft);else{typeof je=="function"&&(je=je(dt));var St=[];H(je)&&je.forEach(function(Mt){if(typeof Mt=="string")Qe.queries.forEach(function(ct){var vt=ct.observableQuery;vt&&vt.queryName===Mt&&St.push(vt.refetch())});else{var ht={query:Mt.query,variables:Mt.variables,fetchPolicy:"network-only"};Mt.context&&(ht.context=Mt.context),St.push(Qe.query(ht))}}),Promise.all(qe?St:[]).then(function(){Qe.setQuery(He,function(){return{document:null}}),tt==="ignore"&&dt&&(0,N.d2)(dt)&&delete dt.errors,Xe(dt)})}}})})]}})})},Pe.prototype.fetchQuery=function(Ee,Te,Re,Me){return P(this,void 0,void 0,function(){var ze,Le,je,Ne,qe,Ye,Ve,tt,it,Ze,We,He,Ue,Qe,Be,$e,Xe,lt,dt=this;return R(this,function(ft){switch(ft.label){case 0:return ze=Te.metadata,Le=ze===void 0?null:ze,je=Te.fetchPolicy,Ne=je===void 0?"cache-first":je,qe=Te.context,Ye=qe===void 0?{}:qe,Ve=this.transform(Te.query).document,tt=this.getVariables(Ve,Te.variables),this.transform(Ve).hasClientExports?[4,this.localState.addExportedVariables(Ve,tt,Ye)]:[3,2];case 1:tt=ft.sent(),ft.label=2;case 2:if(Te=O(O({},Te),{variables:tt}),We=Ze=Ne==="network-only"||Ne==="no-cache",Ze||(He=this.dataStore.getCache().diff({query:Ve,variables:tt,returnPartialData:!0,optimistic:!1}),Ue=He.complete,Qe=He.result,We=!Ue||Ne==="cache-and-network",it=Qe),Be=We&&Ne!=="cache-only"&&Ne!=="standby",(0,N.FS)(["live"],Ve)&&(Be=!0),$e=this.idCounter++,Xe=Ne!=="no-cache"?this.updateQueryWatch(Ee,Ve,Te):void 0,this.setQuery(Ee,function(){return{document:Ve,lastRequestId:$e,invalidated:!0,cancel:Xe}}),this.invalidate(Me),this.queryStore.initQuery({queryId:Ee,document:Ve,storePreviousVariables:Be,variables:tt,isPoll:Re===Z.poll,isRefetch:Re===Z.refetch,metadata:Le,fetchMoreForQueryId:Me}),this.broadcastQueries(),Be){if(lt=this.fetchRequest({requestId:$e,queryId:Ee,document:Ve,options:Te,fetchMoreForQueryId:Me}).catch(function(St){throw G(St)?St:($e>=dt.getQuery(Ee).lastRequestId&&(dt.queryStore.markQueryError(Ee,St,Me),dt.invalidate(Ee),dt.invalidate(Me),dt.broadcastQueries()),new Y({networkError:St}))}),Ne!=="cache-and-network")return[2,lt];lt.catch(function(){})}return this.queryStore.markQueryResultClient(Ee,!Be),this.invalidate(Ee),this.invalidate(Me),this.transform(Ve).hasForcedResolvers?[2,this.localState.runResolvers({document:Ve,remoteResult:{data:it},context:Ye,variables:tt,onlyRunForcedResolvers:!0}).then(function(St){return dt.markQueryResult(Ee,St,Te,Me),dt.broadcastQueries(),St})]:(this.broadcastQueries(),[2,{data:it}])}})})},Pe.prototype.markQueryResult=function(Ee,Te,Re,Me){var ze=Re.fetchPolicy,Le=Re.variables,je=Re.errorPolicy;ze==="no-cache"?this.setQuery(Ee,function(){return{newData:{result:Te.data,complete:!0}}}):this.dataStore.markQueryResult(Te,this.getQuery(Ee).document,Le,Me,je==="ignore"||je==="all")},Pe.prototype.queryListenerForObserver=function(Ee,Te,Re){var Me=this;function ze(Le,je){if(Re[Le])try{Re[Le](je)}catch{}}return function(Le,je){if(Me.invalidate(Ee,!1),Le){var Ne=Me.getQuery(Ee),qe=Ne.observableQuery,Ye=Ne.document,Ve=qe?qe.options.fetchPolicy:Te.fetchPolicy;if(Ve!=="standby"){var tt=B(Le.networkStatus),it=qe&&qe.getLastResult(),Ze=!(!it||it.networkStatus===Le.networkStatus),We=Te.returnPartialData||!je&&Le.previousVariables||Ze&&Te.notifyOnNetworkStatusChange||Ve==="cache-only"||Ve==="cache-and-network";if(!tt||We){var He=H(Le.graphQLErrors),Ue=qe&&qe.options.errorPolicy||Te.errorPolicy||"none";if(Ue==="none"&&He||Le.networkError)return ze("error",new Y({graphQLErrors:Le.graphQLErrors,networkError:Le.networkError}));try{var Qe=void 0,Be=void 0;if(je)Ve!=="no-cache"&&Ve!=="network-only"&&Me.setQuery(Ee,function(){return{newData:null}}),Qe=je.result,Be=!je.complete;else{var $e=qe&&qe.getLastError(),Xe=Ue!=="none"&&($e&&$e.graphQLErrors)!==Le.graphQLErrors;if(it&&it.data&&!Xe)Qe=it.data,Be=!1;else{var lt=Me.dataStore.getCache().diff({query:Ye,variables:Le.previousVariables||Le.variables,returnPartialData:!0,optimistic:!0});Qe=lt.result,Be=!lt.complete}}var dt=Be&&!(Te.returnPartialData||Ve==="cache-only"),ft={data:dt?it&&it.data:Qe,loading:tt,networkStatus:Le.networkStatus,stale:dt};Ue==="all"&&He&&(ft.errors=Le.graphQLErrors),ze("next",ft)}catch(St){ze("error",new Y({networkError:St}))}}}}}},Pe.prototype.transform=function(Ee){var Te=this.transformCache;if(!Te.has(Ee)){var Re=this.dataStore.getCache(),Me=Re.transformDocument(Ee),ze=(0,N.Fo)(Re.transformForLink(Me)),Le=this.localState.clientQuery(Me),je=this.localState.serverQuery(ze),Ne={document:Me,hasClientExports:(0,N.mj)(Me),hasForcedResolvers:this.localState.shouldForceResolvers(Me),clientQuery:Le,serverQuery:je,defaultVars:(0,N.O4)((0,N.$H)(Me))},qe=function(Ye){Ye&&!Te.has(Ye)&&Te.set(Ye,Ne)};qe(Ee),qe(Me),qe(Le),qe(je)}return Te.get(Ee)},Pe.prototype.getVariables=function(Ee,Te){return O(O({},this.transform(Ee).defaultVars),Te)},Pe.prototype.watchQuery=function(Ee,Te){Te===void 0&&(Te=!0),(0,F.kG)(Ee.fetchPolicy!=="standby",11),Ee.variables=this.getVariables(Ee.query,Ee.variables),Ee.notifyOnNetworkStatusChange===void 0&&(Ee.notifyOnNetworkStatusChange=!1);var Re=O({},Ee);return new ee({queryManager:this,options:Re,shouldSubscribe:Te})},Pe.prototype.query=function(Ee){var Te=this;return(0,F.kG)(Ee.query,12),(0,F.kG)(Ee.query.kind==="Document",13),(0,F.kG)(!Ee.returnPartialData,14),(0,F.kG)(!Ee.pollInterval,15),new Promise(function(Re,Me){var ze=Te.watchQuery(Ee,!1);Te.fetchQueryRejectFns.set("query:"+ze.queryId,Me),ze.result().then(Re,Me).then(function(){return Te.fetchQueryRejectFns.delete("query:"+ze.queryId)})})},Pe.prototype.generateQueryId=function(){return String(this.idCounter++)},Pe.prototype.stopQueryInStore=function(Ee){this.stopQueryInStoreNoBroadcast(Ee),this.broadcastQueries()},Pe.prototype.stopQueryInStoreNoBroadcast=function(Ee){this.stopPollingQuery(Ee),this.queryStore.stopQuery(Ee),this.invalidate(Ee)},Pe.prototype.addQueryListener=function(Ee,Te){this.setQuery(Ee,function(Re){return Re.listeners.add(Te),{invalidated:!1}})},Pe.prototype.updateQueryWatch=function(Ee,Te,Re){var Me=this,ze=this.getQuery(Ee).cancel;return ze&&ze(),this.dataStore.getCache().watch({query:Te,variables:Re.variables,optimistic:!0,previousResult:function(){var Le=null,je=Me.getQuery(Ee).observableQuery;if(je){var Ne=je.getLastResult();Ne&&(Le=Ne.data)}return Le},callback:function(Le){Me.setQuery(Ee,function(){return{invalidated:!0,newData:Le}})}})},Pe.prototype.addObservableQuery=function(Ee,Te){this.setQuery(Ee,function(){return{observableQuery:Te}})},Pe.prototype.removeObservableQuery=function(Ee){var Te=this.getQuery(Ee).cancel;this.setQuery(Ee,function(){return{observableQuery:null}}),Te&&Te()},Pe.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(Te){Te(new F.ej(16))});var Ee=[];return this.queries.forEach(function(Te,Re){Te.observableQuery&&Ee.push(Re)}),this.queryStore.reset(Ee),this.mutationStore.reset(),this.dataStore.reset()},Pe.prototype.resetStore=function(){var Ee=this;return this.clearStore().then(function(){return Ee.reFetchObservableQueries()})},Pe.prototype.reFetchObservableQueries=function(Ee){var Te=this;Ee===void 0&&(Ee=!1);var Re=[];return this.queries.forEach(function(Me,ze){var Le=Me.observableQuery;if(Le){var je=Le.options.fetchPolicy;Le.resetLastResults(),je==="cache-only"||!Ee&&je==="standby"||Re.push(Le.refetch()),Te.setQuery(ze,function(){return{newData:null}}),Te.invalidate(ze)}}),this.broadcastQueries(),Promise.all(Re)},Pe.prototype.observeQuery=function(Ee,Te,Re){return this.addQueryListener(Ee,this.queryListenerForObserver(Ee,Te,Re)),this.fetchQuery(Ee,Te)},Pe.prototype.startQuery=function(Ee,Te,Re){return this.addQueryListener(Ee,Re),this.fetchQuery(Ee,Te).catch(function(){}),Ee},Pe.prototype.startGraphQLSubscription=function(Ee){var Te=this,Re=Ee.query,Me=Ee.fetchPolicy,ze=Ee.variables;Re=this.transform(Re).document,ze=this.getVariables(Re,ze);var Le=function(Ne){return Te.getObservableFromLink(Re,{},Ne,!1).map(function(qe){if(Me&&Me==="no-cache"||(Te.dataStore.markSubscriptionResult(qe,Re,Ne),Te.broadcastQueries()),(0,N.d2)(qe))throw new Y({graphQLErrors:qe.errors});return qe})};if(this.transform(Re).hasClientExports){var je=this.localState.addExportedVariables(Re,ze).then(Le);return new W(function(Ne){var qe=null;return je.then(function(Ye){return qe=Ye.subscribe(Ne)},Ne.error),function(){return qe&&qe.unsubscribe()}})}return Le(ze)},Pe.prototype.stopQuery=function(Ee){this.stopQueryNoBroadcast(Ee),this.broadcastQueries()},Pe.prototype.stopQueryNoBroadcast=function(Ee){this.stopQueryInStoreNoBroadcast(Ee),this.removeQuery(Ee)},Pe.prototype.removeQuery=function(Ee){this.fetchQueryRejectFns.delete("query:"+Ee),this.fetchQueryRejectFns.delete("fetchRequest:"+Ee),this.getQuery(Ee).subscriptions.forEach(function(Te){return Te.unsubscribe()}),this.queries.delete(Ee)},Pe.prototype.getCurrentQueryResult=function(Ee,Te){Te===void 0&&(Te=!0);var Re=Ee.options,Me=Re.variables,ze=Re.query,Le=Re.fetchPolicy,je=Re.returnPartialData,Ne=Ee.getLastResult(),qe=this.getQuery(Ee.queryId).newData;if(qe&&qe.complete)return{data:qe.result,partial:!1};if(Le==="no-cache"||Le==="network-only")return{data:void 0,partial:!1};var Ye=this.dataStore.getCache().diff({query:ze,variables:Me,previousResult:Ne?Ne.data:void 0,returnPartialData:!0,optimistic:Te}),Ve=Ye.result,tt=Ye.complete;return{data:tt||je?Ve:void 0,partial:!tt}},Pe.prototype.getQueryWithPreviousResult=function(Ee){var Te;if(typeof Ee=="string"){var Re=this.getQuery(Ee).observableQuery;(0,F.kG)(Re,17),Te=Re}else Te=Ee;var Me=Te.options,ze=Me.variables,Le=Me.query;return{previousResult:this.getCurrentQueryResult(Te,!1).data,variables:ze,document:Le}},Pe.prototype.broadcastQueries=function(){var Ee=this;this.onBroadcast(),this.queries.forEach(function(Te,Re){Te.invalidated&&Te.listeners.forEach(function(Me){Me&&Me(Ee.queryStore.get(Re),Te.newData)})})},Pe.prototype.getLocalState=function(){return this.localState},Pe.prototype.getObservableFromLink=function(Ee,Te,Re,Me){var ze,Le=this;Me===void 0&&(Me=this.queryDeduplication);var je=this.transform(Ee).serverQuery;if(je){var Ne=this.inFlightLinkObservables,qe=this.link,Ye={query:je,variables:Re,operationName:(0,N.rY)(je)||void 0,context:this.prepareContext(O(O({},Te),{forceFetch:!Me}))};if(Te=Ye.context,Me){var Ve=Ne.get(je)||new Map;Ne.set(je,Ve);var tt=JSON.stringify(Re);if(!(ze=Ve.get(tt))){Ve.set(tt,ze=ve((0,z.ht)(qe,Ye)));var it=function(){Ve.delete(tt),Ve.size||Ne.delete(je),Ze.unsubscribe()},Ze=ze.subscribe({next:it,error:it,complete:it})}}else ze=ve((0,z.ht)(qe,Ye))}else ze=W.of({data:{}}),Te=this.prepareContext(Te);var We=this.transform(Ee).clientQuery;return We&&(ze=function(He,Ue){return new W(function(Qe){var Be=Qe.next,$e=Qe.error,Xe=Qe.complete,lt=0,dt=!1,ft={next:function(Mt){++lt,new Promise(function(ht){var ct;ht((ct=Mt,Le.localState.runResolvers({document:We,remoteResult:ct,context:Te,variables:Re})))}).then(function(ht){--lt,Be&&Be.call(Qe,ht),dt&&ft.complete()},function(ht){--lt,$e&&$e.call(Qe,ht)})},error:function(Mt){$e&&$e.call(Qe,Mt)},complete:function(){dt=!0,lt||Xe&&Xe.call(Qe)}},St=He.subscribe(ft);return function(){return St.unsubscribe()}})}(ze)),ze},Pe.prototype.fetchRequest=function(Ee){var Te,Re,Me=this,ze=Ee.requestId,Le=Ee.queryId,je=Ee.document,Ne=Ee.options,qe=Ee.fetchMoreForQueryId,Ye=Ne.variables,Ve=Ne.errorPolicy,tt=Ve===void 0?"none":Ve,it=Ne.fetchPolicy;return new Promise(function(Ze,We){var He=Me.getObservableFromLink(je,Ne.context,Ye),Ue="fetchRequest:"+Le;Me.fetchQueryRejectFns.set(Ue,We);var Qe=function(){Me.fetchQueryRejectFns.delete(Ue),Me.setQuery(Le,function($e){$e.subscriptions.delete(Be)})},Be=He.map(function($e){if(ze>=Me.getQuery(Le).lastRequestId&&(Me.markQueryResult(Le,$e,Ne,qe),Me.queryStore.markQueryResult(Le,$e,qe),Me.invalidate(Le),Me.invalidate(qe),Me.broadcastQueries()),tt==="none"&&H($e.errors))return We(new Y({graphQLErrors:$e.errors}));if(tt==="all"&&(Re=$e.errors),qe||it==="no-cache")Te=$e.data;else{var Xe=Me.dataStore.getCache().diff({variables:Ye,query:je,optimistic:!1,returnPartialData:!0}),lt=Xe.result;(Xe.complete||Ne.returnPartialData)&&(Te=lt)}}).subscribe({error:function($e){Qe(),We($e)},complete:function(){Qe(),Ze({data:Te,errors:Re,loading:!1,networkStatus:I.ready,stale:!1})}});Me.setQuery(Le,function($e){$e.subscriptions.add(Be)})})},Pe.prototype.getQuery=function(Ee){return this.queries.get(Ee)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},Pe.prototype.setQuery=function(Ee,Te){var Re=this.getQuery(Ee),Me=O(O({},Re),Te(Re));this.queries.set(Ee,Me)},Pe.prototype.invalidate=function(Ee,Te){Te===void 0&&(Te=!0),Ee&&this.setQuery(Ee,function(){return{invalidated:Te}})},Pe.prototype.prepareContext=function(Ee){Ee===void 0&&(Ee={});var Te=this.localState.prepareContext(Ee);return O(O({},Te),{clientAwareness:this.clientAwareness})},Pe.prototype.checkInFlight=function(Ee){var Te=this.queryStore.get(Ee);return Te&&Te.networkStatus!==I.ready&&Te.networkStatus!==I.error},Pe.prototype.startPollingQuery=function(Ee,Te,Re){var Me=this,ze=Ee.pollInterval;if((0,F.kG)(ze,18),!this.ssrMode){var Le=this.pollingInfoByQueryId.get(Te);Le||this.pollingInfoByQueryId.set(Te,Le={}),Le.interval=ze,Le.options=O(O({},Ee),{fetchPolicy:"network-only"});var je=function(){var qe=Me.pollingInfoByQueryId.get(Te);qe&&(Me.checkInFlight(Te)?Ne():Me.fetchQuery(Te,qe.options,Z.poll).then(Ne,Ne))},Ne=function(){var qe=Me.pollingInfoByQueryId.get(Te);qe&&(clearTimeout(qe.timeout),qe.timeout=setTimeout(je,qe.interval))};Re&&this.addQueryListener(Te,Re),Ne()}return Te},Pe.prototype.stopPollingQuery=function(Ee){this.pollingInfoByQueryId.delete(Ee)},Pe}(),Ce=function(){function Pe(Ee){this.cache=Ee}return Pe.prototype.getCache=function(){return this.cache},Pe.prototype.markQueryResult=function(Ee,Te,Re,Me,ze){ze===void 0&&(ze=!1);var Le=!(0,N.d2)(Ee);ze&&(0,N.d2)(Ee)&&Ee.data&&(Le=!0),!Me&&Le&&this.cache.write({result:Ee.data,dataId:"ROOT_QUERY",query:Te,variables:Re})},Pe.prototype.markSubscriptionResult=function(Ee,Te,Re){(0,N.d2)(Ee)||this.cache.write({result:Ee.data,dataId:"ROOT_SUBSCRIPTION",query:Te,variables:Re})},Pe.prototype.markMutationInit=function(Ee){var Te,Re=this;Ee.optimisticResponse&&(Te=typeof Ee.optimisticResponse=="function"?Ee.optimisticResponse(Ee.variables):Ee.optimisticResponse,this.cache.recordOptimisticTransaction(function(Me){var ze=Re.cache;Re.cache=Me;try{Re.markMutationResult({mutationId:Ee.mutationId,result:{data:Te},document:Ee.document,variables:Ee.variables,updateQueries:Ee.updateQueries,update:Ee.update})}finally{Re.cache=ze}},Ee.mutationId))},Pe.prototype.markMutationResult=function(Ee){var Te=this;if(!(0,N.d2)(Ee.result)){var Re=[{result:Ee.result.data,dataId:"ROOT_MUTATION",query:Ee.document,variables:Ee.variables}],Me=Ee.updateQueries;Me&&Object.keys(Me).forEach(function(ze){var Le=Me[ze],je=Le.query,Ne=Le.updater,qe=Te.cache.diff({query:je.document,variables:je.variables,returnPartialData:!0,optimistic:!1}),Ye=qe.result;if(qe.complete){var Ve=(0,N.XY)(function(){return Ne(Ye,{mutationResult:Ee.result,queryName:(0,N.rY)(je.document)||void 0,queryVariables:je.variables})});Ve&&Re.push({result:Ve,dataId:"ROOT_QUERY",query:je.document,variables:je.variables})}}),this.cache.performTransaction(function(ze){Re.forEach(function(je){return ze.write(je)});var Le=Ee.update;Le&&(0,N.XY)(function(){return Le(ze,Ee.result)})})}},Pe.prototype.markMutationComplete=function(Ee){var Te=Ee.mutationId;Ee.optimisticResponse&&this.cache.removeOptimistic(Te)},Pe.prototype.markUpdateQueryResult=function(Ee,Te,Re){this.cache.write({result:Re,dataId:"ROOT_QUERY",variables:Te,query:Ee})},Pe.prototype.reset=function(){return this.cache.reset()},Pe}(),Oe=function(){function Pe(Ee){var Te=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var Re=Ee.cache,Me=Ee.ssrMode,ze=Me!==void 0&&Me,Le=Ee.ssrForceFetchDelay,je=Le===void 0?0:Le,Ne=Ee.connectToDevTools,qe=Ee.queryDeduplication,Ye=qe===void 0||qe,Ve=Ee.defaultOptions,tt=Ee.assumeImmutableResults,it=tt!==void 0&&tt,Ze=Ee.resolvers,We=Ee.typeDefs,He=Ee.fragmentMatcher,Ue=Ee.name,Qe=Ee.version,Be=Ee.link;if(!Be&&Ze&&(Be=z.i0.empty()),!Be||!Re)throw new F.ej(4);this.link=Be,this.cache=Re,this.store=new Ce(Re),this.disableNetworkFetches=ze||je>0,this.queryDeduplication=Ye,this.defaultOptions=Ve||{},this.typeDefs=We,je&&setTimeout(function(){return Te.disableNetworkFetches=!1},je),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),Ne!==void 0&&Ne&&typeof window<"u"&&(window.__APOLLO_CLIENT__=this),this.version="2.6.10",this.localState=new ie({cache:Re,client:this,resolvers:Ze,fragmentMatcher:He}),this.queryManager=new ke({link:this.link,store:this.store,queryDeduplication:Ye,ssrMode:ze,clientAwareness:{name:Ue,version:Qe},localState:this.localState,assumeImmutableResults:it,onBroadcast:function(){Te.devToolsHookCb&&Te.devToolsHookCb({action:{},state:{queries:Te.queryManager.queryStore.getStore(),mutations:Te.queryManager.mutationStore.getStore()},dataWithOptimisticResults:Te.cache.extract(!0)})}})}return Pe.prototype.stop=function(){this.queryManager.stop()},Pe.prototype.watchQuery=function(Ee){return this.defaultOptions.watchQuery&&(Ee=O(O({},this.defaultOptions.watchQuery),Ee)),!this.disableNetworkFetches||Ee.fetchPolicy!=="network-only"&&Ee.fetchPolicy!=="cache-and-network"||(Ee=O(O({},Ee),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(Ee)},Pe.prototype.query=function(Ee){return this.defaultOptions.query&&(Ee=O(O({},this.defaultOptions.query),Ee)),(0,F.kG)(Ee.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&Ee.fetchPolicy==="network-only"&&(Ee=O(O({},Ee),{fetchPolicy:"cache-first"})),this.queryManager.query(Ee)},Pe.prototype.mutate=function(Ee){return this.defaultOptions.mutate&&(Ee=O(O({},this.defaultOptions.mutate),Ee)),this.queryManager.mutate(Ee)},Pe.prototype.subscribe=function(Ee){return this.queryManager.startGraphQLSubscription(Ee)},Pe.prototype.readQuery=function(Ee,Te){return Te===void 0&&(Te=!1),this.cache.readQuery(Ee,Te)},Pe.prototype.readFragment=function(Ee,Te){return Te===void 0&&(Te=!1),this.cache.readFragment(Ee,Te)},Pe.prototype.writeQuery=function(Ee){var Te=this.cache.writeQuery(Ee);return this.queryManager.broadcastQueries(),Te},Pe.prototype.writeFragment=function(Ee){var Te=this.cache.writeFragment(Ee);return this.queryManager.broadcastQueries(),Te},Pe.prototype.writeData=function(Ee){var Te=this.cache.writeData(Ee);return this.queryManager.broadcastQueries(),Te},Pe.prototype.__actionHookForDevTools=function(Ee){this.devToolsHookCb=Ee},Pe.prototype.__requestRaw=function(Ee){return(0,z.ht)(this.link,Ee)},Pe.prototype.initQueryManager=function(){return this.queryManager},Pe.prototype.resetStore=function(){var Ee=this;return Promise.resolve().then(function(){return Ee.queryManager.clearStore()}).then(function(){return Promise.all(Ee.resetStoreCallbacks.map(function(Te){return Te()}))}).then(function(){return Ee.reFetchObservableQueries()})},Pe.prototype.clearStore=function(){var Ee=this;return Promise.resolve().then(function(){return Ee.queryManager.clearStore()}).then(function(){return Promise.all(Ee.clearStoreCallbacks.map(function(Te){return Te()}))})},Pe.prototype.onResetStore=function(Ee){var Te=this;return this.resetStoreCallbacks.push(Ee),function(){Te.resetStoreCallbacks=Te.resetStoreCallbacks.filter(function(Re){return Re!==Ee})}},Pe.prototype.onClearStore=function(Ee){var Te=this;return this.clearStoreCallbacks.push(Ee),function(){Te.clearStoreCallbacks=Te.clearStoreCallbacks.filter(function(Re){return Re!==Ee})}},Pe.prototype.reFetchObservableQueries=function(Ee){return this.queryManager.reFetchObservableQueries(Ee)},Pe.prototype.extract=function(Ee){return this.cache.extract(Ee)},Pe.prototype.restore=function(Ee){return this.cache.restore(Ee)},Pe.prototype.addResolvers=function(Ee){this.localState.addResolvers(Ee)},Pe.prototype.setResolvers=function(Ee){this.localState.setResolvers(Ee)},Pe.prototype.getResolvers=function(){return this.localState.getResolvers()},Pe.prototype.setLocalStateFragmentMatcher=function(Ee){this.localState.setFragmentMatcher(Ee)},Pe}();const Ae=Oe},96044:($,E,_)=>{_.r(E),_.d(E,{setContext:()=>O});var A=_(38249),T=_(45526);function O(P){return new A.i0(function(R,I){var N=function(j,U){var z={};for(var V in j)Object.prototype.hasOwnProperty.call(j,V)&&U.indexOf(V)<0&&(z[V]=j[V]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function"){var F=0;for(V=Object.getOwnPropertySymbols(j);F<V.length;F++)U.indexOf(V[F])<0&&Object.prototype.propertyIsEnumerable.call(j,V[F])&&(z[V[F]]=j[V[F]])}return z}(R,[]);return new T.Z(function(j){var U;return Promise.resolve(N).then(function(z){return P(z,R.getContext())}).then(R.setContext).then(function(){U=I(R).subscribe({next:j.next.bind(j),error:j.error.bind(j),complete:j.complete.bind(j)})}).catch(j.error.bind(j)),function(){U&&U.unsubscribe()}})})}},29206:($,E,_)=>{_.r(E),_.d(E,{HttpLink:()=>F,createHttpLink:()=>V});var A=function(q,B){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,H){W.__proto__=H}||function(W,H){for(var G in H)H.hasOwnProperty(G)&&(W[G]=H[G])},A(q,B)},T=function(){return T=Object.assign||function(q){for(var B,W=1,H=arguments.length;W<H;W++)for(var G in B=arguments[W])Object.prototype.hasOwnProperty.call(B,G)&&(q[G]=B[G]);return q},T.apply(this,arguments)},O=_(38249),P=_(45526),R=function(){return R=Object.assign||function(q){for(var B,W=1,H=arguments.length;W<H;W++)for(var G in B=arguments[W])Object.prototype.hasOwnProperty.call(B,G)&&(q[G]=B[G]);return q},R.apply(this,arguments)},I=_(33083),N=_(21726),j={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},U=function(q,B,W){var H=new Error(W);throw H.name="ServerError",H.response=q,H.statusCode=q.status,H.result=B,H},z=function(q,B){var W;try{W=JSON.stringify(q)}catch(G){var H=new N.ej(2);throw H.parseError=G,H}return W},V=function(q){q===void 0&&(q={});var B=q.uri,W=B===void 0?"/graphql":B,H=q.fetch,G=q.includeExtensions,Z=q.useGETForQueries,Y=function(J,Q){var te={};for(var se in J)Object.prototype.hasOwnProperty.call(J,se)&&Q.indexOf(se)<0&&(te[se]=J[se]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function"){var de=0;for(se=Object.getOwnPropertySymbols(J);de<se.length;de++)Q.indexOf(se[de])<0&&Object.prototype.propertyIsEnumerable.call(J,se[de])&&(te[se[de]]=J[se[de]])}return te}(q,["uri","fetch","includeExtensions","useGETForQueries"]);(function(J){if(!J&&typeof fetch>"u")throw new N.ej(1)})(H),H||(H=fetch);var ee={http:{includeExtensions:G},options:Y.fetchOptions,credentials:Y.credentials,headers:Y.headers};return new O.i0(function(J){var Q=function(je,Ne){return je.getContext().uri||(typeof Ne=="function"?Ne(je):Ne||"/graphql")}(J,W),te=J.getContext(),se={};if(te.clientAwareness){var de=te.clientAwareness,ie=de.name,ve=de.version;ie&&(se["apollographql-client-name"]=ie),ve&&(se["apollographql-client-version"]=ve)}var xe,ke=T({},se,te.headers),Ce={http:te.http,options:te.fetchOptions,credentials:te.credentials,headers:ke},Oe=function(je,Ne){for(var qe=[],Ye=2;Ye<arguments.length;Ye++)qe[Ye-2]=arguments[Ye];var Ve=R({},Ne.options,{headers:Ne.headers,credentials:Ne.credentials}),tt=Ne.http;qe.forEach(function(Qe){Ve=R({},Ve,Qe.options,{headers:R({},Ve.headers,Qe.headers)}),Qe.credentials&&(Ve.credentials=Qe.credentials),tt=R({},tt,Qe.http)});var it=je.operationName,Ze=je.extensions,We=je.variables,He=je.query,Ue={operationName:it,variables:We};return tt.includeExtensions&&(Ue.extensions=Ze),tt.includeQuery&&(Ue.query=(0,I.S)(He)),{options:Ve,body:Ue}}(J,j,ee,Ce),Ae=Oe.options,Pe=Oe.body;if(!Ae.signal){var Ee=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var je=new AbortController;return{controller:je,signal:je.signal}}(),Te=Ee.controller,Re=Ee.signal;(xe=Te)&&(Ae.signal=Re)}if(Z&&!J.query.definitions.some(function(je){return je.kind==="OperationDefinition"&&je.operation==="mutation"})&&(Ae.method="GET"),Ae.method==="GET"){var Me=function(je,Ne){var qe=[],Ye=function(Ue,Qe){qe.push(Ue+"="+encodeURIComponent(Qe))};if("query"in Ne&&Ye("query",Ne.query),Ne.operationName&&Ye("operationName",Ne.operationName),Ne.variables){var Ve=void 0;try{Ve=z(Ne.variables)}catch(Ue){return{parseError:Ue}}Ye("variables",Ve)}if(Ne.extensions){var tt=void 0;try{tt=z(Ne.extensions)}catch(Ue){return{parseError:Ue}}Ye("extensions",tt)}var it="",Ze=je,We=je.indexOf("#");We!==-1&&(it=je.substr(We),Ze=je.substr(0,We));var He=Ze.indexOf("?")===-1?"?":"&";return{newURI:Ze+He+qe.join("&")+it}}(Q,Pe),ze=Me.newURI,Le=Me.parseError;if(Le)return(0,O.Qc)(Le);Q=ze}else try{Ae.body=z(Pe)}catch(je){return(0,O.Qc)(je)}return new P.Z(function(je){var Ne;return H(Q,Ae).then(function(qe){return J.setContext({response:qe}),qe}).then((Ne=J,function(qe){return qe.text().then(function(Ye){try{return JSON.parse(Ye)}catch(tt){var Ve=tt;return Ve.name="ServerParseError",Ve.response=qe,Ve.statusCode=qe.status,Ve.bodyText=Ye,Promise.reject(Ve)}}).then(function(Ye){return qe.status>=300&&U(qe,Ye,"Response not successful: Received status code "+qe.status),Array.isArray(Ye)||Ye.hasOwnProperty("data")||Ye.hasOwnProperty("errors")||U(qe,Ye,"Server response was missing for query '"+(Array.isArray(Ne)?Ne.map(function(Ve){return Ve.operationName}):Ne.operationName)+"'."),Ye})})).then(function(qe){return je.next(qe),je.complete(),qe}).catch(function(qe){qe.name!=="AbortError"&&(qe.result&&qe.result.errors&&qe.result.data&&je.next(qe.result),je.error(qe))}),function(){xe&&xe.abort()}})})},F=function(q){function B(W){return q.call(this,V(W).request)||this}return function(W,H){function G(){this.constructor=W}A(W,H),W.prototype=H===null?Object.create(H):(G.prototype=H.prototype,new G)}(B,q),B}(O.i0)},38249:($,E,_)=>{_.d(E,{i0:()=>W,ht:()=>H,Qc:()=>j});var A,T=_(45526),O=_(21726),P=function(G,Z){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ee){Y.__proto__=ee}||function(Y,ee){for(var J in ee)ee.hasOwnProperty(J)&&(Y[J]=ee[J])},P(G,Z)},R=function(){return R=Object.assign||function(G){for(var Z,Y=1,ee=arguments.length;Y<ee;Y++)for(var J in Z=arguments[Y])Object.prototype.hasOwnProperty.call(Z,J)&&(G[J]=Z[J]);return G},R.apply(this,arguments)},I=_(44441);function N(G){return G.request.length<=1}function j(G){return new T.Z(function(Z){Z.error(G)})}function U(G,Z){return Z?Z(G):T.Z.of()}function z(G){return typeof G=="function"?new W(G):G}function V(){return new W(function(){return T.Z.of()})}function F(G){return G.length===0?V():G.map(z).reduce(function(Z,Y){return Z.concat(Y)})}function q(G,Z,Y){var ee=z(Z),J=z(Y||new W(U));return N(ee)&&N(J)?new W(function(Q){return G(Q)?ee.request(Q)||T.Z.of():J.request(Q)||T.Z.of()}):new W(function(Q,te){return G(Q)?ee.request(Q,te)||T.Z.of():J.request(Q,te)||T.Z.of()})}(function(G,Z){function Y(){this.constructor=G}P(G,Z),G.prototype=Z===null?Object.create(Z):(Y.prototype=Z.prototype,new Y)})(function(G,Z){var Y=A.call(this,G)||this;return Y.link=Z,Y},A=Error);var B=function(G,Z){var Y=z(G);if(N(Y))return Y;var ee=z(Z);return N(ee)?new W(function(J){return Y.request(J,function(Q){return ee.request(Q)||T.Z.of()})||T.Z.of()}):new W(function(J,Q){return Y.request(J,function(te){return ee.request(te,Q)||T.Z.of()})||T.Z.of()})},W=function(){function G(Z){Z&&(this.request=Z)}return G.prototype.split=function(Z,Y,ee){return this.concat(q(Z,Y,ee||new G(U)))},G.prototype.concat=function(Z){return B(this,Z)},G.prototype.request=function(Z,Y){throw new O.ej(1)},G.empty=V,G.from=F,G.split=q,G.execute=H,G}();function H(G,Z){return G.request(function(Y,ee){var J=R({},Y);return Object.defineProperty(ee,"setContext",{enumerable:!1,value:function(Q){J=R({},J,typeof Q=="function"?Q(J):Q)}}),Object.defineProperty(ee,"getContext",{enumerable:!1,value:function(){return R({},J)}}),Object.defineProperty(ee,"toKey",{enumerable:!1,value:function(){return function(Q){var te=Q.query,se=Q.variables,de=Q.operationName;return JSON.stringify([de,te,se])}(ee)}}),ee}(Z.context,function(Y){var ee={variables:Y.variables||{},extensions:Y.extensions||{},operationName:Y.operationName,query:Y.query};return ee.operationName||(ee.operationName=typeof ee.query!="string"?(0,I.rY)(ee.query):""),ee}(function(Y){for(var ee=["query","operationName","variables","extensions","context"],J=0,Q=Object.keys(Y);J<Q.length;J++){var te=Q[J];if(ee.indexOf(te)<0)throw new O.ej(2)}return Y}(Z))))||T.Z.of()}},44441:($,E,_)=>{_.d(E,{Gw:()=>Le,NC:()=>V,f0:()=>se,aL:()=>Ye,mr:()=>tt,Xh:()=>Ze,F:()=>Oe,O4:()=>Ae,Qy:()=>Z,kU:()=>xe,Yk:()=>te,p$:()=>Ce,$H:()=>ie,rY:()=>ve,iW:()=>ke,PT:()=>z,d2:()=>$e,mj:()=>J,FS:()=>ee,My:()=>q,cQ:()=>W,Ao:()=>B,v4:()=>G,yv:()=>Ue,Y8:()=>Qe,Ee:()=>lt,bw:()=>dt,ob:()=>Ve,Fo:()=>Ne,u2:()=>F,LZ:()=>Y,vf:()=>j,aX:()=>H,XY:()=>Be});var A=_(82624),T=_(21726),O=function(){return O=Object.assign||function(ht){for(var ct,vt=1,Et=arguments.length;vt<Et;vt++)for(var gt in ct=arguments[vt])Object.prototype.hasOwnProperty.call(ct,gt)&&(ht[gt]=ct[gt]);return ht},O.apply(this,arguments)};function P(){for(var ht=0,ct=0,vt=arguments.length;ct<vt;ct++)ht+=arguments[ct].length;var Et=Array(ht),gt=0;for(ct=0;ct<vt;ct++)for(var xt=arguments[ct],at=0,$t=xt.length;at<$t;at++,gt++)Et[gt]=xt[at];return Et}var R=_(85695),I=_.n(R);function N(ht,ct,vt,Et){if(function(at){return at.kind==="IntValue"}(vt)||function(at){return at.kind==="FloatValue"}(vt))ht[ct.value]=Number(vt.value);else if(function(at){return at.kind==="BooleanValue"}(vt)||function(at){return at.kind==="StringValue"}(vt))ht[ct.value]=vt.value;else if(function(at){return at.kind==="ObjectValue"}(vt)){var gt={};vt.fields.map(function(at){return N(gt,at.name,at.value,Et)}),ht[ct.value]=gt}else if(function(at){return at.kind==="Variable"}(vt)){var xt=(Et||{})[vt.name.value];ht[ct.value]=xt}else if(function(at){return at.kind==="ListValue"}(vt))ht[ct.value]=vt.values.map(function(at){var $t={};return N($t,ct,at,Et),$t[ct.value]});else if(function(at){return at.kind==="EnumValue"}(vt))ht[ct.value]=vt.value;else{if(!function(at){return at.kind==="NullValue"}(vt))throw new T.ej(17);ht[ct.value]=null}}function j(ht,ct){var vt=null;ht.directives&&(vt={},ht.directives.forEach(function(gt){vt[gt.name.value]={},gt.arguments&&gt.arguments.forEach(function(xt){var at=xt.name,$t=xt.value;return N(vt[gt.name.value],at,$t,ct)})}));var Et=null;return ht.arguments&&ht.arguments.length&&(Et={},ht.arguments.forEach(function(gt){var xt=gt.name,at=gt.value;return N(Et,xt,at,ct)})),z(ht.name.value,Et,vt)}_(38229);var U=["connection","include","skip","client","rest","export"];function z(ht,ct,vt){if(vt&&vt.connection&&vt.connection.key){if(vt.connection.filter&&vt.connection.filter.length>0){var Et=vt.connection.filter?vt.connection.filter:[];Et.sort();var gt=ct,xt={};return Et.forEach(function(Qt){xt[Qt]=gt[Qt]}),vt.connection.key+"("+JSON.stringify(xt)+")"}return vt.connection.key}var at=ht;if(ct){var $t=I()(ct);at+="("+$t+")"}return vt&&Object.keys(vt).forEach(function(Qt){U.indexOf(Qt)===-1&&(vt[Qt]&&Object.keys(vt[Qt]).length?at+="@"+Qt+"("+JSON.stringify(vt[Qt])+")":at+="@"+Qt)}),at}function V(ht,ct){if(ht.arguments&&ht.arguments.length){var vt={};return ht.arguments.forEach(function(Et){var gt=Et.name,xt=Et.value;return N(vt,gt,xt,ct)}),vt}return null}function F(ht){return ht.alias?ht.alias.value:ht.name.value}function q(ht){return ht.kind==="Field"}function B(ht){return ht.kind==="InlineFragment"}function W(ht){return ht&&ht.type==="id"&&typeof ht.generated=="boolean"}function H(ht,ct){return ct===void 0&&(ct=!1),O({type:"id",generated:ct},typeof ht=="string"?{id:ht,typename:void 0}:ht)}function G(ht){return ht!=null&&typeof ht=="object"&&ht.type==="json"}function Z(ht,ct){if(ht.directives&&ht.directives.length){var vt={};return ht.directives.forEach(function(Et){vt[Et.name.value]=V(Et,ct)}),vt}return null}function Y(ht,ct){return ct===void 0&&(ct={}),(vt=ht.directives,vt?vt.filter(Q).map(function(Et){var gt=Et.arguments;Et.name.value,(0,T.kG)(gt&&gt.length===1,14);var xt=gt[0];(0,T.kG)(xt.name&&xt.name.value==="if",15);var at=xt.value;return(0,T.kG)(at&&(at.kind==="Variable"||at.kind==="BooleanValue"),16),{directive:Et,ifArgument:xt}}):[]).every(function(Et){var gt=Et.directive,xt=Et.ifArgument,at=!1;return xt.value.kind==="Variable"?(at=ct[xt.value.name.value],(0,T.kG)(at!==void 0,13)):at=xt.value.value,gt.name.value==="skip"?!at:at});var vt}function ee(ht,ct){return function(vt){var Et=[];return(0,A.visit)(vt,{Directive:function(gt){Et.push(gt.name.value)}}),Et}(ct).some(function(vt){return ht.indexOf(vt)>-1})}function J(ht){return ht&&ee(["client"],ht)&&ee(["export"],ht)}function Q(ht){var ct=ht.name.value;return ct==="skip"||ct==="include"}function te(ht,ct){var vt=ct,Et=[];return ht.definitions.forEach(function(gt){if(gt.kind==="OperationDefinition")throw new T.ej(11);gt.kind==="FragmentDefinition"&&Et.push(gt)}),vt===void 0&&((0,T.kG)(Et.length===1,12),vt=Et[0].name.value),O(O({},ht),{definitions:P([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:vt}}]}}],ht.definitions)})}function se(ht){for(var ct=[],vt=1;vt<arguments.length;vt++)ct[vt-1]=arguments[vt];return ct.forEach(function(Et){Et!=null&&Object.keys(Et).forEach(function(gt){ht[gt]=Et[gt]})}),ht}function de(ht){(0,T.kG)(ht&&ht.kind==="Document",2);var ct=ht.definitions.filter(function(vt){return vt.kind!=="FragmentDefinition"}).map(function(vt){if(vt.kind!=="OperationDefinition")throw new T.ej(3);return vt});return(0,T.kG)(ct.length<=1,4),ht}function ie(ht){return de(ht),ht.definitions.filter(function(ct){return ct.kind==="OperationDefinition"})[0]}function ve(ht){return ht.definitions.filter(function(ct){return ct.kind==="OperationDefinition"&&ct.name}).map(function(ct){return ct.name.value})[0]||null}function xe(ht){return ht.definitions.filter(function(ct){return ct.kind==="FragmentDefinition"})}function ke(ht){var ct=ie(ht);return(0,T.kG)(ct&&ct.operation==="query",6),ct}function Ce(ht){var ct;de(ht);for(var vt=0,Et=ht.definitions;vt<Et.length;vt++){var gt=Et[vt];if(gt.kind==="OperationDefinition"){var xt=gt.operation;if(xt==="query"||xt==="mutation"||xt==="subscription")return gt}gt.kind!=="FragmentDefinition"||ct||(ct=gt)}if(ct)return ct;throw new T.ej(10)}function Oe(ht){ht===void 0&&(ht=[]);var ct={};return ht.forEach(function(vt){ct[vt.name.value]=vt}),ct}function Ae(ht){if(ht&&ht.variableDefinitions&&ht.variableDefinitions.length){var ct=ht.variableDefinitions.filter(function(vt){return vt.defaultValue}).map(function(vt){var Et=vt.variable,gt=vt.defaultValue,xt={};return N(xt,Et.name,gt),xt});return se.apply(void 0,P([{}],ct))}return{}}function Pe(ht,ct,vt){var Et=0;return ht.forEach(function(gt,xt){ct.call(this,gt,xt,ht)&&(ht[Et++]=gt)},vt),ht.length=Et,ht}var Ee={kind:"Field",name:{kind:"Name",value:"__typename"}};function Te(ht,ct){return ht.selectionSet.selections.every(function(vt){return vt.kind==="FragmentSpread"&&Te(ct[vt.name.value],ct)})}function Re(ht){return Te(ie(ht)||function(ct){(0,T.kG)(ct.kind==="Document",7),(0,T.kG)(ct.definitions.length<=1,8);var vt=ct.definitions[0];return(0,T.kG)(vt.kind==="FragmentDefinition",9),vt}(ht),Oe(xe(ht)))?null:ht}function Me(ht){return function(ct){return ht.some(function(vt){return vt.name&&vt.name===ct.name.value||vt.test&&vt.test(ct)})}}function ze(ht,ct){var vt=Object.create(null),Et=[],gt=Object.create(null),xt=[],at=Re((0,A.visit)(ct,{Variable:{enter:function($t,Qt,Vt){Vt.kind!=="VariableDefinition"&&(vt[$t.name.value]=!0)}},Field:{enter:function($t){if(ht&&$t.directives&&ht.some(function(Qt){return Qt.remove})&&$t.directives&&$t.directives.some(Me(ht)))return $t.arguments&&$t.arguments.forEach(function(Qt){Qt.value.kind==="Variable"&&Et.push({name:Qt.value.name.value})}),$t.selectionSet&&qe($t.selectionSet).forEach(function(Qt){xt.push({name:Qt.name.value})}),null}},FragmentSpread:{enter:function($t){gt[$t.name.value]=!0}},Directive:{enter:function($t){if(Me(ht)($t))return null}}}));return at&&Pe(Et,function($t){return!vt[$t.name]}).length&&(at=function($t,Qt){var Vt=function(bt){return function(wt){return bt.some(function(At){return wt.value&&wt.value.kind==="Variable"&&wt.value.name&&(At.name===wt.value.name.value||At.test&&At.test(wt))})}}($t);return Re((0,A.visit)(Qt,{OperationDefinition:{enter:function(bt){return O(O({},bt),{variableDefinitions:bt.variableDefinitions.filter(function(wt){return!$t.some(function(At){return At.name===wt.variable.name.value})})})}},Field:{enter:function(bt){if($t.some(function(At){return At.remove})){var wt=0;if(bt.arguments.forEach(function(At){Vt(At)&&(wt+=1)}),wt===1)return null}}},Argument:{enter:function(bt){if(Vt(bt))return null}}}))}(Et,at)),at&&Pe(xt,function($t){return!gt[$t.name]}).length&&(at=function($t,Qt){function Vt(bt){if($t.some(function(wt){return wt.name===bt.name.value}))return null}return Re((0,A.visit)(Qt,{FragmentSpread:{enter:Vt},FragmentDefinition:{enter:Vt}}))}(xt,at)),at}function Le(ht){return(0,A.visit)(de(ht),{SelectionSet:{enter:function(ct,vt,Et){if(!Et||Et.kind!=="OperationDefinition"){var gt=ct.selections;if(gt&&!gt.some(function(at){return q(at)&&(at.name.value==="__typename"||at.name.value.lastIndexOf("__",0)===0)})){var xt=Et;if(!(q(xt)&&xt.directives&&xt.directives.some(function(at){return at.name.value==="export"})))return O(O({},ct),{selections:P(gt,[Ee])})}}}}})}var je={test:function(ht){var ct=ht.name.value==="connection";return ct&&(!ht.arguments||ht.arguments.some(function(vt){return vt.name.value==="key"})),ct}};function Ne(ht){return ze([je],de(ht))}function qe(ht){var ct=[];return ht.selections.forEach(function(vt){(q(vt)||B(vt))&&vt.selectionSet?qe(vt.selectionSet).forEach(function(Et){return ct.push(Et)}):vt.kind==="FragmentSpread"&&ct.push(vt)}),ct}function Ye(ht){return Ce(ht).operation==="query"?ht:(0,A.visit)(ht,{OperationDefinition:{enter:function(ct){return O(O({},ct),{operation:"query"})}}})}function Ve(ht){de(ht);var ct=ze([{test:function(vt){return vt.name.value==="client"},remove:!0}],ht);return ct&&(ct=(0,A.visit)(ct,{FragmentDefinition:{enter:function(vt){if(vt.selectionSet&&vt.selectionSet.selections.every(function(Et){return q(Et)&&Et.name.value==="__typename"}))return null}}})),ct}var tt=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),it=Object.prototype.toString;function Ze(ht){return We(ht,new Map)}function We(ht,ct){switch(it.call(ht)){case"[object Array]":if(ct.has(ht))return ct.get(ht);var vt=ht.slice(0);return ct.set(ht,vt),vt.forEach(function(gt,xt){vt[xt]=We(gt,ct)}),vt;case"[object Object]":if(ct.has(ht))return ct.get(ht);var Et=Object.create(Object.getPrototypeOf(ht));return ct.set(ht,Et),Object.keys(ht).forEach(function(gt){Et[gt]=We(ht[gt],ct)}),Et;default:return ht}}function He(ht){return(typeof process<"u"?"production":"development")===ht}function Ue(){return He("production")===!0}function Qe(){return He("test")===!0}function Be(ht){try{return ht()}catch(ct){console.error&&console.error(ct)}}function $e(ht){return ht.errors&&ht.errors.length}var Xe=Object.prototype.hasOwnProperty;function lt(){for(var ht=[],ct=0;ct<arguments.length;ct++)ht[ct]=arguments[ct];return dt(ht)}function dt(ht){var ct=ht[0]||{},vt=ht.length;if(vt>1){var Et=[];ct=Mt(ct,Et);for(var gt=1;gt<vt;++gt)ct=St(ct,ht[gt],Et)}return ct}function ft(ht){return ht!==null&&typeof ht=="object"}function St(ht,ct,vt){return ft(ct)&&ft(ht)?(Object.isExtensible&&!Object.isExtensible(ht)&&(ht=Mt(ht,vt)),Object.keys(ct).forEach(function(Et){var gt=ct[Et];if(Xe.call(ht,Et)){var xt=ht[Et];gt!==xt&&(ht[Et]=St(Mt(xt,vt),gt,vt))}else ht[Et]=gt}),ht):ct}function Mt(ht,ct){return ht!==null&&typeof ht=="object"&&ct.indexOf(ht)<0&&(ht=Array.isArray(ht)?ht.slice(0):O({__proto__:Object.getPrototypeOf(ht)},ht),ct.push(ht)),ht}},79710:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=N(_(70894)),T=N(_(12244)),O=N(_(13980)),P=_(76320),R=_(30762),I=_(28165);function N(V){return V&&V.__esModule?V:{default:V}}function j(V,F,q){var B;return(F=typeof(B=function(W,H){if(typeof W!="object"||!W)return W;var G=W[Symbol.toPrimitive];if(G!==void 0){var Z=G.call(W,"string");if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(F))=="symbol"?B:String(B))in V?Object.defineProperty(V,F,{value:q,enumerable:!0,configurable:!0,writable:!0}):V[F]=q,V}const U=(0,A.default)(R.Icon,{target:"e1eykva80",label:"LoginButtonIcon"})({name:"1gnqu05",styles:"margin-right:18px"});class z extends T.default.Component{constructor(...F){super(...F),j(this,"state",{}),j(this,"handleLogin",q=>{q.preventDefault(),this.auth.authenticate({scope:"https://api.github.com/repo openid email"},(B,W)=>{B?this.setState({loginError:B.toString()}):this.props.onLogin(W)})})}componentDidMount(){const{base_url:F="",app_id:q="",auth_endpoint:B="oauth2/authorize",auth_token_endpoint:W="oauth2/token"}=this.props.config.backend;this.auth=new P.PkceAuthenticator({base_url:F,auth_endpoint:B,app_id:q,auth_token_endpoint:W,auth_token_endpoint_content_type:"application/x-www-form-urlencoded; charset=utf-8"}),this.auth.completeAuth((H,G)=>{H?this.setState({loginError:H.toString()}):this.props.onLogin(G)})}render(){const{inProgress:F,config:q,t:B}=this.props;return(0,I.jsx)(R.AuthenticationPage,{onLogin:this.handleLogin,loginDisabled:F,loginErrorMessage:this.state.loginError,logoUrl:q.logo_url,siteUrl:q.site_url,renderButtonContent:()=>(0,I.jsx)(T.default.Fragment,null,(0,I.jsx)(U,{type:"link"})," ",B(F?"auth.loggingIn":"auth.login")),t:B})}}E.default=z,j(z,"propTypes",{inProgress:O.default.bool,config:O.default.object.isRequired,onLogin:O.default.func.isRequired,t:O.default.func.isRequired})},43642:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,function(j,U){if(j&&j.__esModule)return j;if(j===null||typeof j!="object"&&typeof j!="function")return{default:j};var z=R(U);if(z&&z.has(j))return z.get(j);var V={__proto__:null},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in j)if(q!=="default"&&Object.prototype.hasOwnProperty.call(j,q)){var B=F?Object.getOwnPropertyDescriptor(j,q):null;B&&(B.get||B.set)?Object.defineProperty(V,q,B):V[q]=j[q]}V.default=j,z&&z.set(j,V)}(_(12244));var A,T=_(48638),O=(A=_(79710))&&A.__esModule?A:{default:A},P=_(28165);function R(j){if(typeof WeakMap!="function")return null;var U=new WeakMap,z=new WeakMap;return(R=function(V){return V?z:U})(j)}function I(){return I=Object.assign?Object.assign.bind():function(j){for(var U=1;U<arguments.length;U++){var z=arguments[U];for(var V in z)Object.prototype.hasOwnProperty.call(z,V)&&(j[V]=z[V])}return j},I.apply(this,arguments)}class N extends T.GitHubBackend{constructor(U,z={}){super(U,z),this.bypassWriteAccessCheckForAppTokens=!0,this.tokenKeyword="Bearer"}authComponent(){const U=z=>(0,P.jsx)(O.default,I({},z,{backend:this}));return U.displayName="AuthenticationPage",U}async currentUser({token:U}){return this._currentUserPromise||(this._currentUserPromise=fetch(this.baseUrl+"/oauth2/userInfo",{headers:{Authorization:`${this.tokenKeyword} ${U}`}}).then(async z=>{if(z.status==401)return this.logout(),Promise.reject("Token expired");const V=await z.json(),F=this.originRepo.split("/")[1];return{name:V.email,login:F,avatar_url:`https://github.com/${F}.png`}})),this._currentUserPromise}async getPullRequestAuthor(U){var z;return(z=U.user)===null||z===void 0?void 0:z.login}}E.default=N},59405:($,E,_)=>{Object.defineProperty(E,"ON",{enumerable:!0,get:function(){return T.default}});var A=_(48638),T=P(_(43642)),O=P(_(79710));function P(R){return R&&R.__esModule?R:{default:R}}T.default,A.API,O.default},96667:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.API_NAME=void 0;var A=j(_(93433)),T=j(_(5648)),O=j(_(36346)),P=j(_(83465)),R=_(95978),I=_(33806),N=_(21023);function j(Q){return Q&&Q.__esModule?Q:{default:Q}}function U(Q,te){var se=Object.keys(Q);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(Q);te&&(de=de.filter(function(ie){return Object.getOwnPropertyDescriptor(Q,ie).enumerable})),se.push.apply(se,de)}return se}function z(Q){for(var te=1;te<arguments.length;te++){var se=arguments[te]!=null?arguments[te]:{};te%2?U(Object(se),!0).forEach(function(de){V(Q,de,se[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(se)):U(Object(se)).forEach(function(de){Object.defineProperty(Q,de,Object.getOwnPropertyDescriptor(se,de))})}return Q}function V(Q,te,se){var de;return(te=typeof(de=function(ie,ve){if(typeof ie!="object"||!ie)return ie;var xe=ie[Symbol.toPrimitive];if(xe!==void 0){var ke=xe.call(ie,"string");if(typeof ke!="object")return ke;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ie)}(te))=="symbol"?de:String(de))in Q?Object.defineProperty(Q,te,{value:se,enumerable:!0,configurable:!0,writable:!0}):Q[te]=se,Q}const F=E.API_NAME="Azure DevOps",q="api-version";var B=function(Q){return Q.ERROR="error",Q.FAILED="failed",Q.NOT_APPLICABLE="notApplicable",Q.NOT_SET="notSet",Q.PENDING="pending",Q.SUCCEEDED="succeeded",Q}(B||{}),W=function(Q){return Q.ADD="add",Q.DELETE="delete",Q.RENAME="rename",Q.EDIT="edit",Q}(W||{}),H=function(Q){return Q.BASE64="base64encoded",Q}(H||{}),G=function(Q){return Q.ACTIVE="active",Q.COMPLETED="completed",Q.ABANDONED="abandoned",Q}(G||{}),Z=function(Q){return Q.CONFLICTS="conflicts",Q.FAILURE="failure",Q.QUEUED="queued",Q.REJECTED="rejectedByPolicy",Q.SUCCEEDED="succeeded",Q}(Z||{}),Y=function(Q){return Q.BLOB="blob",Q.TREE="tree",Q}(Y||{});function ee(Q){return new Promise(te=>setTimeout(te,Q))}function J(Q){switch(Q.action){case W.ADD:return{changeType:W.ADD,item:{path:Q.path},newContent:{content:Q.base64Content,contentType:H.BASE64}};case W.EDIT:return{changeType:W.EDIT,item:{path:Q.path},newContent:{content:Q.base64Content,contentType:H.BASE64}};case W.DELETE:return{changeType:W.DELETE,item:{path:Q.path}};case W.RENAME:return{changeType:W.RENAME,item:{path:Q.path},sourceServerItem:Q.oldPath};default:return{}}}E.default=class{constructor(Q,te){V(this,"apiVersion",void 0),V(this,"token",void 0),V(this,"branch",void 0),V(this,"mergeStrategy",void 0),V(this,"endpointUrl",void 0),V(this,"initialWorkflowStatus",void 0),V(this,"cmsLabelPrefix",void 0),V(this,"withHeaders",ie=>I.unsentRequest.withHeaders({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json; charset=utf-8"},ie)),V(this,"withAzureFeatures",ie=>ie.hasIn(["params",q])?ie:I.unsentRequest.withParams({[q]:`${this.apiVersion}`},ie)),V(this,"buildRequest",ie=>{const ve=this.withHeaders(ie),xe=this.withAzureFeatures(ve);return xe.has("cache")?xe:I.unsentRequest.withNoCache(xe)}),V(this,"request",ie=>{try{return(0,I.requestWithBackoff)(this,ie)}catch(ve){throw new I.APIError(ve.message,null,F)}}),V(this,"responseToJSON",(0,I.responseParser)({format:"json",apiName:F})),V(this,"responseToBlob",(0,I.responseParser)({format:"blob",apiName:F})),V(this,"responseToText",(0,I.responseParser)({format:"text",apiName:F})),V(this,"requestJSON",ie=>this.request(ie).then(this.responseToJSON)),V(this,"requestText",ie=>this.request(ie).then(this.responseToText)),V(this,"toBase64",ie=>Promise.resolve(R.Base64.encode(ie))),V(this,"fromBase64",ie=>R.Base64.decode(ie)),V(this,"branchToRef",ie=>`refs/heads/${ie}`),V(this,"refToBranch",ie=>ie.slice(11)),V(this,"user",async()=>{var ie,ve,xe,ke,Ce,Oe,Ae;const Pe=await this.requestJSON({url:"https://app.vssps.visualstudio.com/_apis/profile/profiles/me",params:{[q]:"6.1-preview.2"}}),Ee=(ie=Pe.coreAttributes)===null||ie===void 0||(ve=ie.DisplayName)===null||ve===void 0?void 0:ve.value,Te=(xe=Pe.coreAttributes)===null||xe===void 0||(ke=xe.EmailAddress)===null||ke===void 0?void 0:ke.value;return{name:Ee||Te||"",avatar_url:`data:image/png;base64,${(Ce=Pe.coreAttributes)===null||Ce===void 0||(Oe=Ce.Avatar)===null||Oe===void 0||(Ae=Oe.value)===null||Ae===void 0?void 0:Ae.value}`,email:Te}}),V(this,"readFile",(ie,ve,{parseText:xe=!0,branch:ke=this.branch}={})=>(0,I.readFile)(ve,()=>this.request({url:`${this.endpointUrl}/items/`,params:{version:ke,path:ie},cache:"no-store"}).then(xe?this.responseToText:this.responseToBlob),I.localForage,xe)),V(this,"listFiles",async(ie,ve,xe=this.branch)=>{try{const{value:ke}=await this.requestJSON({url:`${this.endpointUrl}/items/`,params:{version:xe,scopePath:ie,recursionLevel:ve?"full":"oneLevel"}});return ke.filter(Ce=>Ce.gitObjectType===Y.BLOB).map(Ce=>({id:Ce.objectId,path:(0,A.default)(Ce.path,"/"),name:(0,N.basename)(Ce.path)}))}catch(ke){if(ke&&ke.status===404)return console.log("This 404 was expected and handled appropriately."),[];throw ke}});const{repo:se}=Q,de=(0,T.default)(Q.apiRoot,"/");this.endpointUrl=`${de}/${se.org}/${se.project}/_apis/git/repositories/${se.repoName}`,this.token=te,this.branch=Q.branch,this.mergeStrategy=Q.squashMerges?"squash":"noFastForward",this.initialWorkflowStatus=Q.initialWorkflowStatus,this.apiVersion=Q.apiVersion,this.cmsLabelPrefix=Q.cmsLabelPrefix}async readFileMetadata(Q,te,{branch:se=this.branch}={}){return await(0,I.readFileMetadata)(te,async()=>{try{const{value:de}=await this.requestJSON({url:`${this.endpointUrl}/commits/`,params:{"searchCriteria.itemPath":Q,"searchCriteria.itemVersion.version":se,"searchCriteria.$top":1}}),[ie]=de;return{author:ie.author.name||ie.author.email,updatedOn:ie.author.date}}catch{return{author:"",updatedOn:""}}},I.localForage)}async getRef(Q=this.branch){const{value:te}=await this.requestJSON({url:`${this.endpointUrl}/refs`,params:{$top:"1",filter:"heads/"+Q}});return te.find(se=>se.name==this.branchToRef(Q))}async deleteRef(Q){const te=[{name:Q.name,oldObjectId:Q.objectId,newObjectId:"0000000000000000000000000000000000000000"}];await this.requestJSON({method:"POST",url:`${this.endpointUrl}/refs`,body:JSON.stringify(te)})}async uploadAndCommit(Q,te,se,de){const ie=await this.getRef(de?this.branch:se),ve={refUpdates:[{name:this.branchToRef(se),oldObjectId:ie.objectId}],commits:[{comment:te,changes:Q.map(xe=>J(xe))}]};return this.requestJSON({url:`${this.endpointUrl}/pushes`,method:"POST",body:JSON.stringify(ve)})}async retrieveUnpublishedEntryData(Q){var te,se;const{collection:de,slug:ie}=(0,I.parseContentKey)(Q),ve=(0,I.branchFromContentKey)(Q),xe=await this.getBranchPullRequest(ve),ke=await this.getDifferences(xe.sourceRefName),Ce=await Promise.all(ke.map(async Pe=>{const Ee=(0,A.default)(Pe.item.path,"/"),Te=Pe.changeType===W.ADD;return{id:Pe.item.objectId,path:Ee,newFile:Te}})),Oe=xe.labels.find(Pe=>(0,I.isCMSLabel)(Pe.name,this.cmsLabelPrefix)),Ae=Oe&&Oe.name?Oe.name:this.cmsLabelPrefix;return{collection:de,slug:ie,status:(0,I.labelToStatus)(Ae,this.cmsLabelPrefix),diffs:Ce,updatedAt:xe.closedDate?xe.closedDate:xe.creationDate,pullRequestAuthor:((te=xe.createdBy)===null||te===void 0?void 0:te.displayName)||((se=xe.createdBy)===null||se===void 0?void 0:se.uniqueName)}}async getPullRequestStatues(Q){const{value:te}=await this.requestJSON({url:`${this.endpointUrl}/pullrequests/${Q.pullRequestId}/commits`,params:{$top:1}}),{value:se}=await this.requestJSON({url:`${this.endpointUrl}/commits/${te[0].commitId}/statuses`,params:{latestOnly:!0}});return se}async getStatuses(Q,te){const se=(0,I.generateContentKey)(Q,te),de=(0,I.branchFromContentKey)(se),ie=await this.getBranchPullRequest(de);return(await this.getPullRequestStatues(ie)).map(({context:ve,state:xe,targetUrl:ke})=>({context:ve.name,state:xe===B.SUCCEEDED?I.PreviewState.Success:I.PreviewState.Other,target_url:ke}))}async getCommitItems(Q,te){const se=await Promise.all(Q.map(async de=>{const[ie,ve]=await Promise.all([(0,O.default)(de,"toBase64",(0,P.default)(this.toBase64,de.raw)),this.isFileExists(de.path,te)]),xe=de.newPath||de.path,ke=de.path,Ce=xe!==ke?W.RENAME:W.EDIT;return{action:ve?Ce:W.ADD,base64Content:ie,path:xe,oldPath:ke}}));for(const de of se.filter(ie=>ie.oldPath&&ie.action===W.RENAME)){const ie=(0,N.dirname)(de.oldPath),ve=(0,N.dirname)(de.path);(await this.listFiles(ie,!0,te)).filter(xe=>xe.path!==de.oldPath).forEach(xe=>{se.push({action:W.RENAME,path:xe.path.replace(ie,ve),oldPath:xe.path})})}return se}async persistFiles(Q,te,se){const de=[...Q,...te];if(se.useWorkflow){const ie=Q[0].slug;return this.editorialWorkflowGit(de,ie,se)}{const ie=await this.getCommitItems(de,this.branch);return this.uploadAndCommit(ie,se.commitMessage,this.branch,!0)}}async deleteFiles(Q,te){const se=await this.getRef(this.branch),de={refUpdates:[{name:se.name,oldObjectId:se.objectId}],commits:[{comment:te,changes:Q.map(ie=>J({action:W.DELETE,path:ie}))}]};return this.requestJSON({url:`${this.endpointUrl}/pushes`,method:"POST",body:JSON.stringify(de)})}async getPullRequests(Q){const{value:te}=await this.requestJSON({url:`${this.endpointUrl}/pullrequests`,params:z({"searchCriteria.status":"active","searchCriteria.targetRefName":this.branchToRef(this.branch),"searchCriteria.includeLinks":!1},Q?{"searchCriteria.sourceRefName":this.branchToRef(Q)}:{})});return te.filter(se=>se.labels.some(de=>(0,I.isCMSLabel)(de.name,this.cmsLabelPrefix)))}async listUnpublishedBranches(){return(await this.getPullRequests()).map(Q=>this.refToBranch(Q.sourceRefName))}async isFileExists(Q,te){try{return await this.requestText({url:`${this.endpointUrl}/items/`,params:{version:te,path:Q},cache:"no-store"}),!0}catch(se){if(se instanceof I.APIError&&se.status===404)return!1;throw se}}async createPullRequest(Q,te,se){const de={sourceRefName:this.branchToRef(Q),targetRefName:this.branchToRef(this.branch),title:te,description:I.DEFAULT_PR_BODY,labels:[{name:(0,I.statusToLabel)(se,this.cmsLabelPrefix)}]};await this.requestJSON({method:"POST",url:`${this.endpointUrl}/pullrequests`,params:{supportsIterations:!1},body:JSON.stringify(de)})}async getBranchPullRequest(Q){const te=await this.getPullRequests(Q);if(te.length<=0)throw new I.EditorialWorkflowError("content is not under editorial workflow",!0);return te[0]}async getDifferences(Q){return(await this.requestJSON({url:`${this.endpointUrl}/diffs/commits`,params:{baseVersion:this.branch,targetVersion:this.refToBranch(Q)}})).changes.filter(te=>te.item.gitObjectType===Y.BLOB&&Object.values(W).includes(te.changeType))}async editorialWorkflowGit(Q,te,se){const de=(0,I.generateContentKey)(se.collectionName,te),ie=(0,I.branchFromContentKey)(de);if(se.unpublished){const ve=await this.getCommitItems(Q,ie);await this.uploadAndCommit(ve,se.commitMessage,ie,!1)}else{const ve=await this.getCommitItems(Q,this.branch);await this.uploadAndCommit(ve,se.commitMessage,ie,!0),await this.createPullRequest(ie,se.commitMessage,se.status||this.initialWorkflowStatus)}}async updateUnpublishedEntryStatus(Q,te,se){const de=(0,I.generateContentKey)(Q,te),ie=(0,I.branchFromContentKey)(de),ve=await this.getBranchPullRequest(ie),xe=[...ve.labels.filter(ke=>!(0,I.isCMSLabel)(ke.name,this.cmsLabelPrefix)).map(ke=>ke.name),(0,I.statusToLabel)(se,this.cmsLabelPrefix)];await this.updatePullRequestLabels(ve,xe)}async deleteUnpublishedEntry(Q,te){const se=(0,I.generateContentKey)(Q,te),de=(0,I.branchFromContentKey)(se),ie=await this.getBranchPullRequest(de);await this.abandonPullRequest(ie)}async publishUnpublishedEntry(Q,te){const se=(0,I.generateContentKey)(Q,te),de=(0,I.branchFromContentKey)(se),ie=await this.getBranchPullRequest(de);await this.completePullRequest(ie)}async updatePullRequestLabels(Q,te){const se=Q.labels.filter(de=>(0,I.isCMSLabel)(de.name,this.cmsLabelPrefix));await Promise.all(se.map(de=>this.requestText({method:"DELETE",url:`${this.endpointUrl}/pullrequests/${encodeURIComponent(Q.pullRequestId)}/labels/${encodeURIComponent(de.id)}`}))),await Promise.all(te.map(de=>this.requestText({method:"POST",url:`${this.endpointUrl}/pullrequests/${encodeURIComponent(Q.pullRequestId)}/labels`,body:JSON.stringify({name:de})})))}async completePullRequest(Q){const te={status:G.COMPLETED,lastMergeSourceCommit:Q.lastMergeSourceCommit,completionOptions:{deleteSourceBranch:!0,mergeCommitMessage:I.MERGE_COMMIT_MESSAGE,mergeStrategy:this.mergeStrategy}};let se=await this.requestJSON({method:"PATCH",url:`${this.endpointUrl}/pullrequests/${encodeURIComponent(Q.pullRequestId)}`,body:JSON.stringify(te)}),de=1;for(;se.mergeStatus===Z.QUEUED&&de<=10;)await ee(500),se=await this.requestJSON({url:`${this.endpointUrl}/pullrequests/${encodeURIComponent(Q.pullRequestId)}`}),de+=1}async abandonPullRequest(Q){const te={status:G.ABANDONED};await this.requestJSON({method:"PATCH",url:`${this.endpointUrl}/pullrequests/${encodeURIComponent(Q.pullRequestId)}`,body:JSON.stringify(te)}),await this.deleteRef({name:Q.sourceRefName,objectId:Q.lastMergeSourceCommit.commitId})}}},61325:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=N(_(70894)),T=N(_(12244)),O=N(_(13980)),P=_(76320),R=_(30762),I=_(28165);function N(V){return V&&V.__esModule?V:{default:V}}function j(V,F,q){var B;return(F=typeof(B=function(W,H){if(typeof W!="object"||!W)return W;var G=W[Symbol.toPrimitive];if(G!==void 0){var Z=G.call(W,"string");if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(F))=="symbol"?B:String(B))in V?Object.defineProperty(V,F,{value:q,enumerable:!0,configurable:!0,writable:!0}):V[F]=q,V}const U=(0,A.default)(R.Icon,{target:"e1n0346u0",label:"LoginButtonIcon"})({name:"1gnqu05",styles:"margin-right:18px"});class z extends T.default.Component{constructor(...F){super(...F),j(this,"state",{}),j(this,"handleLogin",q=>{q.preventDefault(),this.auth.authenticate({scope:"vso.code_full,user.read",resource:"499b84ac-1321-427f-aa17-267ca6975798",prompt:"select_account"},(B,W)=>{B?this.setState({loginError:B.toString()}):this.props.onLogin(W)})})}componentDidMount(){this.auth=new P.ImplicitAuthenticator({base_url:`https://login.microsoftonline.com/${this.props.config.backend.tenant_id}`,auth_endpoint:"oauth2/authorize",app_id:this.props.config.backend.app_id,clearHash:this.props.clearHash}),this.auth.completeAuth((F,q)=>{F?alert(F):this.props.onLogin(q)})}render(){const{inProgress:F,config:q,t:B}=this.props;return(0,I.jsx)(R.AuthenticationPage,{onLogin:this.handleLogin,loginDisabled:F,loginErrorMessage:this.state.loginError,logoUrl:q.logo_url,renderButtonContent:()=>(0,I.jsx)(T.default.Fragment,null,(0,I.jsx)(U,{type:"azure"}),B(F?"auth.loggingIn":"auth.loginWithAzure")),t:B})}}E.default=z,j(z,"propTypes",{onLogin:O.default.func.isRequired,inProgress:O.default.bool,base_url:O.default.string,siteId:O.default.string,authEndpoint:O.default.string,config:O.default.object.isRequired,clearHash:O.default.func,t:O.default.func.isRequired})},52141:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=j(_(5648)),T=j(_(93433)),O=j(_(63252)),P=_(33806),R=j(_(61325)),I=function(F,q){if(F&&F.__esModule)return F;if(F===null||typeof F!="object"&&typeof F!="function")return{default:F};var B=N(q);if(B&&B.has(F))return B.get(F);var W={__proto__:null},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in F)if(G!=="default"&&Object.prototype.hasOwnProperty.call(F,G)){var Z=H?Object.getOwnPropertyDescriptor(F,G):null;Z&&(Z.get||Z.set)?Object.defineProperty(W,G,Z):W[G]=F[G]}return W.default=F,B&&B.set(F,W),W}(_(96667));function N(F){if(typeof WeakMap!="function")return null;var q=new WeakMap,B=new WeakMap;return(N=function(W){return W?B:q})(F)}function j(F){return F&&F.__esModule?F:{default:F}}function U(F,q){var B=Object.keys(F);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(F);q&&(W=W.filter(function(H){return Object.getOwnPropertyDescriptor(F,H).enumerable})),B.push.apply(B,W)}return B}function z(F){for(var q=1;q<arguments.length;q++){var B=arguments[q]!=null?arguments[q]:{};q%2?U(Object(B),!0).forEach(function(W){V(F,W,B[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(B)):U(Object(B)).forEach(function(W){Object.defineProperty(F,W,Object.getOwnPropertyDescriptor(B,W))})}return F}function V(F,q,B){var W;return(q=typeof(W=function(H,G){if(typeof H!="object"||!H)return H;var Z=H[Symbol.toPrimitive];if(Z!==void 0){var Y=Z.call(H,"string");if(typeof Y!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(q))=="symbol"?W:String(W))in F?Object.defineProperty(F,q,{value:B,enumerable:!0,configurable:!0,writable:!0}):F[q]=B,F}E.default=class{constructor(F,q={}){V(this,"lock",void 0),V(this,"api",void 0),V(this,"options",void 0),V(this,"repo",void 0),V(this,"branch",void 0),V(this,"apiRoot",void 0),V(this,"apiVersion",void 0),V(this,"token",void 0),V(this,"squashMerges",void 0),V(this,"cmsLabelPrefix",void 0),V(this,"mediaFolder",void 0),V(this,"previewContext",void 0),V(this,"_mediaDisplayURLSem",void 0),this.options=z({initialWorkflowStatus:""},q),this.repo=function(B){const{repo:W}=B.backend;if(typeof W!="string")throw new Error('The Azure backend needs a "repo" in the backend configuration.');const H=W.split("/");if(H.length!==3)throw new Error("The Azure backend must be in a the format of {org}/{project}/{repo}");const[G,Z,Y]=H;return{org:G,project:Z,repoName:Y}}(F),this.branch=F.backend.branch||"master",this.apiRoot=F.backend.api_root||"https://dev.azure.com",this.apiVersion=F.backend.api_version||"6.1-preview",this.token="",this.squashMerges=F.backend.squash_merges||!1,this.cmsLabelPrefix=F.backend.cms_label_prefix||"",this.mediaFolder=(0,A.default)(F.media_folder,"/"),this.previewContext=F.backend.preview_context||"",this.lock=(0,P.asyncLock)()}isGitBackend(){return!0}async status(){return{auth:{status:await this.api.user().then(F=>!!F).catch(F=>(console.warn("Failed getting Azure user",F),!1))||!1},api:{status:!0,statusPage:""}}}authComponent(){return R.default}restoreUser(F){return this.authenticate(F)}async authenticate(F){this.token=F.token,this.api=new I.default({apiRoot:this.apiRoot,apiVersion:this.apiVersion,repo:this.repo,branch:this.branch,squashMerges:this.squashMerges,cmsLabelPrefix:this.cmsLabelPrefix,initialWorkflowStatus:this.options.initialWorkflowStatus},this.token);const q=await this.api.user();return z({token:F.token},q)}logout(){this.token=null}getToken(){return Promise.resolve(this.token)}async entriesByFolder(F,q,B){return await(0,P.entriesByFolder)(async()=>(await this.api.listFiles(F,B>1)).filter(W=>(0,P.filterByExtension)({path:W.path},q)).map(W=>({id:W.id,path:W.path})),this.api.readFile.bind(this.api),this.api.readFileMetadata.bind(this.api),I.API_NAME)}entriesByFiles(F){return(0,P.entriesByFiles)(F,this.api.readFile.bind(this.api),this.api.readFileMetadata.bind(this.api),I.API_NAME)}async getEntry(F){return{file:{path:F},data:await this.api.readFile(F)}}async getMedia(){const F=await this.api.listFiles(this.mediaFolder,!1);return await Promise.all(F.map(async({id:q,path:B,name:W})=>({id:q,name:W,displayURL:await this.getMediaDisplayURL({id:q,path:B}),path:B})))}getMediaDisplayURL(F){return this._mediaDisplayURLSem=this._mediaDisplayURLSem||(0,O.default)(10),(0,P.getMediaDisplayURL)(F,this.api.readFile.bind(this.api),this._mediaDisplayURLSem)}async getMediaFile(F){const q=(0,P.basename)(F),B=await(0,P.getMediaAsBlob)(F,null,this.api.readFile.bind(this.api)),W=new File([B],q),H=URL.createObjectURL(W);return{id:await(0,P.getBlobSHA)(B),displayURL:H,path:F,name:q,size:W.size,file:W,url:H}}async persistEntry(F,q){const B=F.assets;await this.api.persistFiles(F.dataFiles,B,q)}async persistMedia(F,q){const B=F.fileObj,[W]=await Promise.all([(0,P.getBlobSHA)(B),this.api.persistFiles([],[F],q)]),{path:H}=F,G=URL.createObjectURL(B);return{displayURL:G,path:(0,T.default)(H,"/"),name:B.name,size:B.size,file:B,url:G,id:W}}async deleteFiles(F,q){await this.api.deleteFiles(F,q)}async loadMediaFile(F,q){const B=await(0,P.getMediaAsBlob)(q.path,null,(G,Z,{parseText:Y})=>this.api.readFile(G,Z,{branch:F,parseText:Y})),W=(0,P.basename)(q.path),H=new File([B],W);return{id:q.path,displayURL:URL.createObjectURL(H),path:q.path,name:W,size:H.size,file:H}}async loadEntryMediaFiles(F,q){return await Promise.all(q.map(B=>this.loadMediaFile(F,B)))}async unpublishedEntries(){return await(0,P.unpublishedEntries)(()=>this.api.listUnpublishedBranches().then(F=>F.map(q=>(0,P.contentKeyFromBranch)(q))))}async unpublishedEntry({id:F,collection:q,slug:B}){if(F)return await this.api.retrieveUnpublishedEntryData(F);if(q&&B){const W=(0,P.generateContentKey)(q,B);return await this.api.retrieveUnpublishedEntryData(W)}throw new Error("Missing unpublished entry id or collection and slug")}getBranch(F,q){const B=(0,P.generateContentKey)(F,q);return(0,P.branchFromContentKey)(B)}async unpublishedEntryMediaFile(F,q,B,W){const H=this.getBranch(F,q);return await this.loadMediaFile(H,{path:B,id:W})}async unpublishedEntryDataFile(F,q,B,W){const H=this.getBranch(F,q);return await this.api.readFile(B,W,{branch:H})}updateUnpublishedEntryStatus(F,q,B){return(0,P.runWithLock)(this.lock,()=>this.api.updateUnpublishedEntryStatus(F,q,B),"Failed to acquire update entry status lock")}deleteUnpublishedEntry(F,q){return(0,P.runWithLock)(this.lock,()=>this.api.deleteUnpublishedEntry(F,q),"Failed to acquire delete entry lock")}publishUnpublishedEntry(F,q){return(0,P.runWithLock)(this.lock,()=>this.api.publishUnpublishedEntry(F,q),"Failed to acquire publish entry lock")}async getDeployPreview(F,q){try{const B=await this.api.getStatuses(F,q),W=(0,P.getPreviewStatus)(B,this.previewContext);if(W){const{target_url:H,state:G}=W;return{url:H,status:G}}return null}catch{return null}}}},55281:($,E,_)=>{Object.defineProperty(E,"XK",{enumerable:!0,get:function(){return A.default}});var A=P(_(52141)),T=P(_(96667)),O=P(_(61325));function P(R){return R&&R.__esModule?R:{default:R}}A.default,T.default,O.default},84280:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.API_NAME=void 0;var A=N(_(72579)),T=N(_(85395)),O=_(33806),P=_(21023),R=_(13856),I=_(99776);function N(W){return W&&W.__esModule?W:{default:W}}function j(W,H){var G=Object.keys(W);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(W);H&&(Z=Z.filter(function(Y){return Object.getOwnPropertyDescriptor(W,Y).enumerable})),G.push.apply(G,Z)}return G}function U(W,H,G){var Z;return(H=typeof(Z=function(Y,ee){if(typeof Y!="object"||!Y)return Y;var J=Y[Symbol.toPrimitive];if(J!==void 0){var Q=J.call(Y,"string");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(H))=="symbol"?Z:String(Z))in W?Object.defineProperty(W,H,{value:G,enumerable:!0,configurable:!0,writable:!0}):W[H]=G,W}var z=function(W){return W.MERGED="MERGED",W.SUPERSEDED="SUPERSEDED",W.OPEN="OPEN",W.DECLINED="DECLINED",W}(z||{}),V=function(W){return W.Successful="SUCCESSFUL",W.Failed="FAILED",W.InProgress="INPROGRESS",W.Stopped="STOPPED",W}(V||{});const F=E.API_NAME="Bitbucket",q="application/json; charset=utf-8";function B(W){return W&&W.status===404?(console.log("This 404 was expected and handled appropriately."),{size:0,values:[]}):Promise.reject(W)}E.default=class{constructor(W){U(this,"apiRoot",void 0),U(this,"branch",void 0),U(this,"repo",void 0),U(this,"requestFunction",void 0),U(this,"repoURL",void 0),U(this,"commitAuthor",void 0),U(this,"mergeStrategy",void 0),U(this,"initialWorkflowStatus",void 0),U(this,"cmsLabelPrefix",void 0),U(this,"buildRequest",H=>{const G=O.unsentRequest.withRoot(this.apiRoot)(H);return G.has("cache")?G:O.unsentRequest.withNoCache(G)}),U(this,"request",H=>{try{return(0,O.requestWithBackoff)(this,H)}catch(G){throw new O.APIError(G.message,null,F)}}),U(this,"responseToJSON",(0,O.responseParser)({format:"json",apiName:F})),U(this,"responseToBlob",(0,O.responseParser)({format:"blob",apiName:F})),U(this,"responseToText",(0,O.responseParser)({format:"text",apiName:F})),U(this,"requestJSON",H=>this.request(H).then(this.responseToJSON)),U(this,"requestText",H=>this.request(H).then(this.responseToText)),U(this,"user",()=>this.requestJSON("/user")),U(this,"hasWriteAccess",async()=>{const H=await this.request(this.repoURL);if(H.status===404)throw Error("Repo not found");return H.ok}),U(this,"getBranch",async H=>await this.requestJSON(`${this.repoURL}/refs/branches/${H}`)),U(this,"branchCommitSha",async H=>{const{target:{hash:G}}=await this.getBranch(H);return G}),U(this,"defaultBranchCommitSha",()=>this.branchCommitSha(this.branch)),U(this,"isFile",({type:H})=>H==="commit_file"),U(this,"getFileId",(H,G)=>`${H}/${G}`),U(this,"processFile",H=>function(G){for(var Z=1;Z<arguments.length;Z++){var Y=arguments[Z]!=null?arguments[Z]:{};Z%2?j(Object(Y),!0).forEach(function(ee){U(G,ee,Y[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(Y)):j(Object(Y)).forEach(function(ee){Object.defineProperty(G,ee,Object.getOwnPropertyDescriptor(Y,ee))})}return G}({id:H.id,type:H.type,path:H.path,name:(0,O.basename)(H.path)},H.commit&&H.commit.hash?{id:this.getFileId(H.commit.hash,H.path)}:{})),U(this,"processFiles",H=>H.filter(this.isFile).map(this.processFile)),U(this,"readFile",async(H,G,{parseText:Z=!0,branch:Y=this.branch,head:ee=""}={})=>await(0,O.readFile)(G,async()=>{const J=ee||await this.branchCommitSha(Y);return await this.request({url:`${this.repoURL}/src/${J}/${H}`,cache:"no-store"}).then(Z?this.responseToText:this.responseToBlob)},O.localForage,Z)),U(this,"getEntriesAndCursor",H=>{const{size:G,page:Z,pagelen:Y,next:ee,previous:J,values:Q}=H,te=Y&&G?Math.ceil(G/Y):void 0;return{entries:Q,cursor:O.Cursor.create({actions:[...ee?["next"]:[],...J?["prev"]:[]],meta:{page:Z,count:G,pageSize:Y,pageCount:te},data:{links:{next:ee,prev:J}}})}}),U(this,"listFiles",async(H,G=1,Z,Y)=>{const ee=await this.branchCommitSha(Y),J=await this.requestJSON({url:`${this.repoURL}/src/${ee}/${H}`,params:{max_depth:G,pagelen:Z}}).catch(B),{entries:Q,cursor:te}=this.getEntriesAndCursor(J);return{entries:this.processFiles(Q),cursor:te}}),U(this,"traverseCursor",async(H,G)=>(0,T.default)([this.requestJSON,(0,O.then)(this.getEntriesAndCursor),(0,O.then)(({cursor:Z,entries:Y})=>({cursor:Z,entries:this.processFiles(Y)}))])(H.data.getIn(["links",G]))),U(this,"listAllFiles",async(H,G,Z)=>{const{cursor:Y,entries:ee}=await this.listFiles(H,G,100,Z),J=[...ee];let Q=Y;for(;Q&&Q.actions.has("next");){const{cursor:te,entries:se}=await this.traverseCursor(Q,"next");J.push(...se),Q=te}return this.processFiles(J)}),U(this,"deleteFiles",(H,G)=>{const Z=new FormData;if(H.forEach(Y=>{Z.append("files",Y)}),Z.append("branch",this.branch),G&&Z.append("message",G),this.commitAuthor){const{name:Y,email:ee}=this.commitAuthor;Z.append("author",`${Y} <${ee}>`)}return(0,T.default)([O.unsentRequest.withMethod("POST"),O.unsentRequest.withBody(Z),this.request])(`${this.repoURL}/src`)}),this.apiRoot=W.apiRoot||"https://api.bitbucket.org/2.0",this.branch=W.branch||"master",this.repo=W.repo||"",this.requestFunction=W.requestFunction||O.unsentRequest.performRequest,this.hasWriteAccess=W.hasWriteAccess||this.hasWriteAccess,this.repoURL=this.repo?`/repositories/${this.repo}`:"",this.mergeStrategy=W.squashMerges?"squash":"merge_commit",this.initialWorkflowStatus=W.initialWorkflowStatus,this.cmsLabelPrefix=W.cmsLabelPrefix}async readFileMetadata(W,H){return await(0,O.readFileMetadata)(H,async()=>{try{const{values:G}=await this.requestJSON({url:`${this.repoURL}/commits`,params:{path:W,include:this.branch}}),Z=G[0];return{author:Z.author.user?Z.author.user.display_name||Z.author.user.nickname:Z.author.raw,updatedOn:Z.date}}catch{return{author:"",updatedOn:""}}},O.localForage)}async isShaExistsInBranch(W,H){const{values:G}=await this.requestJSON({url:`${this.repoURL}/commits`,params:{include:W,pagelen:100}}).catch(Z=>(console.log(`Failed getting commits for branch '${W}'`,Z),[]));return G.some(Z=>Z.hash===H)}async uploadFiles(W,{commitMessage:H,branch:G,parentSha:Z}){const Y=new FormData,ee=[];W.forEach(J=>{if(J.delete)Y.append("files",J.path);else if(J.newPath){const Q=(0,A.default)(J,"fileObj",new Blob([J.raw]));ee.push({from:J.path,to:J.newPath,contentBlob:Q})}else{const Q=(0,A.default)(J,"fileObj",new Blob([J.raw]));Y.append(J.path,Q,(0,O.basename)(J.path))}});for(const{from:J,to:Q,contentBlob:te}of ee){const se=(0,P.dirname)(J),de=(0,P.dirname)(Q),ie=Z?this.branch:G,ve=await this.listAllFiles(se,100,ie);for(const xe of ve){Y.append("files",xe.path);const ke=xe.path===J?te:await this.readFile(xe.path,null,{branch:ie,parseText:!1});Y.append(xe.path.replace(se,de),ke,(0,O.basename)(xe.path))}}if(H&&Y.append("message",H),this.commitAuthor){const{name:J,email:Q}=this.commitAuthor;Y.append("author",`${J} <${Q}>`)}Y.append("branch",G),Z&&Y.append("parents",Z);try{await this.requestText({url:`${this.repoURL}/src`,method:"POST",body:Y})}catch(J){const Q=J.message||"";throw Z&&Q.includes("Something went wrong")&&await(0,O.throwOnConflictingBranches)(G,te=>this.getBranch(te),F),J}return W}async persistFiles(W,H,G){const Z=[...W,...H];if(G.useWorkflow){const Y=W[0].slug;return this.editorialWorkflowGit(Z,Y,G)}return this.uploadFiles(Z,{commitMessage:G.commitMessage,branch:this.branch})}async addPullRequestComment(W,H){await this.requestJSON({method:"POST",url:`${this.repoURL}/pullrequests/${W.id}/comments`,headers:{"Content-Type":q},body:JSON.stringify({content:{raw:H}})})}async getPullRequestLabel(W){const H=await this.requestJSON({url:`${this.repoURL}/pullrequests/${W}/comments`,params:{pagelen:100}});return H.values.map(G=>G.content.raw)[H.values.length-1]}async createPullRequest(W,H,G){const Z=await this.requestJSON({method:"POST",url:`${this.repoURL}/pullrequests`,headers:{"Content-Type":q},body:JSON.stringify({title:H,source:{branch:{name:W}},destination:{branch:{name:this.branch}},description:O.DEFAULT_PR_BODY,close_source_branch:!0})});await this.addPullRequestComment(Z,(0,O.statusToLabel)(G,this.cmsLabelPrefix))}async getDifferences(W,H=this.branch){if(W===H)return[];const G=await this.requestText({url:`${this.repoURL}/diff/${W}..${H}`,params:{binary:!1}});return(0,I.parse)(G).map(Z=>{var Y,ee;const J=((Y=Z.oldPath)===null||Y===void 0?void 0:Y.replace(/b\//,""))||"",Q=((ee=Z.newPath)===null||ee===void 0?void 0:ee.replace(/b\//,""))||"",te=Q||J;return{oldPath:J,newPath:Q,status:Z.status,newFile:Z.status==="added",path:te,binary:Z.binary||/.svg$/.test(te)}})}async editorialWorkflowGit(W,H,G){const Z=(0,O.generateContentKey)(G.collectionName,H),Y=(0,O.branchFromContentKey)(Z);if(G.unpublished){const ee=await this.getDifferences(Y),J=[];for(const Q of ee.filter(te=>te.binary&&te.status!=="deleted"))W.some(te=>te.path===Q.path)||J.push({path:Q.path,delete:!0});await this.uploadFiles([...W,...J],{commitMessage:G.commitMessage,branch:Y})}else{const ee=await this.branchCommitSha(this.branch);await this.uploadFiles(W,{commitMessage:G.commitMessage,branch:Y,parentSha:ee}),await this.createPullRequest(Y,G.commitMessage,G.status||this.initialWorkflowStatus)}}async getPullRequests(W){const H=W?`source.branch.name = "${W}"`:`source.branch.name ~ "${O.CMS_BRANCH_PREFIX}/"`,G=await this.requestJSON({url:`${this.repoURL}/pullrequests`,params:{pagelen:50,q:R.oneLine`
        source.repository.full_name = "${this.repo}"
        AND state = "${z.OPEN}"
        AND destination.branch.name = "${this.branch}"
        AND comment_count > 0
        AND ${H}
        `}}),Z=await Promise.all(G.values.map(Y=>this.getPullRequestLabel(Y.id)));return G.values.filter((Y,ee)=>(0,O.isCMSLabel)(Z[ee],this.cmsLabelPrefix))}async getBranchPullRequest(W){const H=await this.getPullRequests(W);if(H.length<=0)throw new O.EditorialWorkflowError("content is not under editorial workflow",!0);return H[0]}async listUnpublishedBranches(){return console.log("%c Checking for Unpublished entries","line-height: 30px;text-align: center;font-weight: bold"),(await this.getPullRequests()).map(W=>W.source.branch.name)}async retrieveUnpublishedEntryData(W){const{collection:H,slug:G}=(0,O.parseContentKey)(W),Z=(0,O.branchFromContentKey)(W),Y=await this.getBranchPullRequest(Z),ee=await this.getDifferences(Z),J=await this.getPullRequestLabel(Y.id),Q=(0,O.labelToStatus)(J,this.cmsLabelPrefix),te=Y.updated_on,se=Y.author.display_name;return{collection:H,slug:G,status:Q,diffs:ee.filter(de=>de.status!=="deleted").map(de=>({path:de.path,newFile:de.newFile,id:""})),updatedAt:te,pullRequestAuthor:se}}async updateUnpublishedEntryStatus(W,H,G){const Z=(0,O.generateContentKey)(W,H),Y=(0,O.branchFromContentKey)(Z),ee=await this.getBranchPullRequest(Y);await this.addPullRequestComment(ee,(0,O.statusToLabel)(G,this.cmsLabelPrefix))}async mergePullRequest(W){await this.requestJSON({method:"POST",url:`${this.repoURL}/pullrequests/${W.id}/merge`,headers:{"Content-Type":q},body:JSON.stringify({message:O.MERGE_COMMIT_MESSAGE,close_source_branch:!0,merge_strategy:this.mergeStrategy})})}async publishUnpublishedEntry(W,H){const G=(0,O.generateContentKey)(W,H),Z=(0,O.branchFromContentKey)(G),Y=await this.getBranchPullRequest(Z);await this.mergePullRequest(Y)}async declinePullRequest(W){await this.requestJSON({method:"POST",url:`${this.repoURL}/pullrequests/${W.id}/decline`})}async deleteBranch(W){await this.request({method:"DELETE",url:`${this.repoURL}/refs/branches/${W}`})}async deleteUnpublishedEntry(W,H){const G=(0,O.generateContentKey)(W,H),Z=(0,O.branchFromContentKey)(G),Y=await this.getBranchPullRequest(Z);await this.declinePullRequest(Y),await this.deleteBranch(Z)}async getPullRequestStatuses(W){return(await this.requestJSON({url:`${this.repoURL}/pullrequests/${W.id}/statuses`,params:{pagelen:100}})).values}async getStatuses(W,H){const G=(0,O.generateContentKey)(W,H),Z=(0,O.branchFromContentKey)(G),Y=await this.getBranchPullRequest(Z);return(await this.getPullRequestStatuses(Y)).map(({key:ee,state:J,url:Q})=>({context:ee,state:J===V.Successful?O.PreviewState.Success:O.PreviewState.Other,target_url:Q}))}async getUnpublishedEntrySha(W,H){const G=(0,O.generateContentKey)(W,H),Z=(0,O.branchFromContentKey)(G);return(await this.getBranchPullRequest(Z)).destination.commit.hash}}},8387:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=N(_(70894)),T=N(_(12244)),O=N(_(13980)),P=_(76320),R=_(30762),I=_(28165);function N(V){return V&&V.__esModule?V:{default:V}}function j(V,F,q){var B;return(F=typeof(B=function(W,H){if(typeof W!="object"||!W)return W;var G=W[Symbol.toPrimitive];if(G!==void 0){var Z=G.call(W,"string");if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(F))=="symbol"?B:String(B))in V?Object.defineProperty(V,F,{value:q,enumerable:!0,configurable:!0,writable:!0}):V[F]=q,V}const U=(0,A.default)(R.Icon,{target:"e15sc0jo0",label:"LoginButtonIcon"})({name:"1gnqu05",styles:"margin-right:18px"});class z extends T.default.Component{constructor(...F){super(...F),j(this,"state",{}),j(this,"handleLogin",q=>{q.preventDefault(),this.auth.authenticate(this.authSettings,(B,W)=>{B?this.setState({loginError:B.toString()}):this.props.onLogin(W)})})}componentDidMount(){const{auth_type:F=""}=this.props.config.backend;if(F==="implicit"){const{base_url:q="https://bitbucket.org",auth_endpoint:B="site/oauth2/authorize",app_id:W=""}=this.props.config.backend;this.auth=new P.ImplicitAuthenticator({base_url:q,auth_endpoint:B,app_id:W,clearHash:this.props.clearHash}),this.auth.completeAuth((H,G)=>{H?this.setState({loginError:H.toString()}):this.props.onLogin(G)}),this.authSettings={scope:"repository:write"}}else this.auth=new P.NetlifyAuthenticator({base_url:this.props.base_url,site_id:document.location.host.split(":")[0]==="localhost"?"demo.decapcms.org":this.props.siteId,auth_endpoint:this.props.authEndpoint}),this.authSettings={provider:"bitbucket",scope:"repo"}}render(){const{inProgress:F,config:q,t:B}=this.props;return(0,I.jsx)(R.AuthenticationPage,{onLogin:this.handleLogin,loginDisabled:F,loginErrorMessage:this.state.loginError,logoUrl:q.logo_url,siteUrl:q.site_url,renderButtonContent:()=>(0,I.jsx)(T.default.Fragment,null,(0,I.jsx)(U,{type:"bitbucket"}),B(F?"auth.loggingIn":"auth.loginWithBitbucket")),t:B})}}E.default=z,j(z,"propTypes",{onLogin:O.default.func.isRequired,inProgress:O.default.bool,base_url:O.default.string,siteId:O.default.string,authEndpoint:O.default.string,config:O.default.object.isRequired,clearHash:O.default.func,t:O.default.func.isRequired})},88115:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.GitLfsClient=void 0;var A,T=(A=_(77339))&&A.__esModule?A:{default:A},O=_(33806);const P=["sha"];function R(U,z){var V=Object.keys(U);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(U);z&&(F=F.filter(function(q){return Object.getOwnPropertyDescriptor(U,q).enumerable})),V.push.apply(V,F)}return V}function I(U){for(var z=1;z<arguments.length;z++){var V=arguments[z]!=null?arguments[z]:{};z%2?R(Object(V),!0).forEach(function(F){N(U,F,V[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(V)):R(Object(V)).forEach(function(F){Object.defineProperty(U,F,Object.getOwnPropertyDescriptor(V,F))})}return U}function N(U,z,V){var F;return(z=typeof(F=function(q,B){if(typeof q!="object"||!q)return q;var W=q[Symbol.toPrimitive];if(W!==void 0){var H=W.call(q,"string");if(typeof H!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(q)}(z))=="symbol"?F:String(F))in U?Object.defineProperty(U,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):U[z]=V,U}class j{constructor(z,V,F,q){this.enabled=z,this.rootURL=V,this.patterns=F,this.makeAuthorizedRequest=q}matchPath(z){return this.patterns.some(V=>(0,T.default)(z,V,{matchBase:!0}))}async uploadResource(z,V){const F=await this.getResourceUploadRequests([z]);for(const q of F)await this.doUpload(q.actions.upload,V),q.actions.verify&&await this.doVerify(q.actions.verify,q);return z.sha}async doUpload(z,V){await O.unsentRequest.fetchWithTimeout(decodeURI(z.href),{method:"PUT",body:V,headers:z.header})}async doVerify(z,V){this.makeAuthorizedRequest({url:decodeURI(z.href),method:"POST",headers:I(I({},j.defaultContentHeaders),z.header),body:JSON.stringify({oid:V.oid,size:V.size})})}async getResourceUploadRequests(z){return(await(await this.makeAuthorizedRequest({url:`${this.rootURL}/objects/batch`,method:"POST",headers:j.defaultContentHeaders,body:JSON.stringify({operation:"upload",transfers:["basic"],objects:z.map(F=>{let{sha:q}=F;return I(I({},function(B,W){if(B==null)return{};var H,G,Z=function(ee,J){if(ee==null)return{};var Q,te,se={},de=Object.keys(ee);for(te=0;te<de.length;te++)Q=de[te],J.indexOf(Q)>=0||(se[Q]=ee[Q]);return se}(B,W);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(B);for(G=0;G<Y.length;G++)H=Y[G],W.indexOf(H)>=0||Object.prototype.propertyIsEnumerable.call(B,H)&&(Z[H]=B[H])}return Z}(F,P)),{},{oid:q})})})})).json()).objects.filter(F=>"error"in F?(console.error(F.error),!1):F.actions)}}E.GitLfsClient=j,N(j,"defaultContentHeaders",{Accept:"application/vnd.git-lfs+json","Content-Type":"application/vnd.git-lfs+json"})},28521:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=z(_(93433)),T=z(_(63252)),O=_(13856),P=_(33806),R=_(76320),I=z(_(8387)),N=function(Z,Y){if(Z&&Z.__esModule)return Z;if(Z===null||typeof Z!="object"&&typeof Z!="function")return{default:Z};var ee=U(Y);if(ee&&ee.has(Z))return ee.get(Z);var J={__proto__:null},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var te in Z)if(te!=="default"&&Object.prototype.hasOwnProperty.call(Z,te)){var se=Q?Object.getOwnPropertyDescriptor(Z,te):null;se&&(se.get||se.set)?Object.defineProperty(J,te,se):J[te]=Z[te]}return J.default=Z,ee&&ee.set(Z,J),J}(_(84280)),j=_(88115);function U(Z){if(typeof WeakMap!="function")return null;var Y=new WeakMap,ee=new WeakMap;return(U=function(J){return J?ee:Y})(Z)}function z(Z){return Z&&Z.__esModule?Z:{default:Z}}function V(Z,Y){var ee=Object.keys(Z);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Z);Y&&(J=J.filter(function(Q){return Object.getOwnPropertyDescriptor(Z,Q).enumerable})),ee.push.apply(ee,J)}return ee}function F(Z){for(var Y=1;Y<arguments.length;Y++){var ee=arguments[Y]!=null?arguments[Y]:{};Y%2?V(Object(ee),!0).forEach(function(J){q(Z,J,ee[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(ee)):V(Object(ee)).forEach(function(J){Object.defineProperty(Z,J,Object.getOwnPropertyDescriptor(ee,J))})}return Z}function q(Z,Y,ee){var J;return(Y=typeof(J=function(Q,te){if(typeof Q!="object"||!Q)return Q;var se=Q[Symbol.toPrimitive];if(se!==void 0){var de=se.call(Q,"string");if(typeof de!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(Y))=="symbol"?J:String(J))in Z?Object.defineProperty(Z,Y,{value:ee,enumerable:!0,configurable:!0,writable:!0}):Z[Y]=ee,Z}const B="https://bitbucket.status.atlassian.com",W=`${B}/api/v2/components.json`,H=["API","Authentication and user management","Git LFS"],{fetchWithTimeout:G}=P.unsentRequest;E.default=class{constructor(Z,Y={}){if(q(this,"lock",void 0),q(this,"api",void 0),q(this,"updateUserCredentials",void 0),q(this,"options",void 0),q(this,"repo",void 0),q(this,"isBranchConfigured",void 0),q(this,"branch",void 0),q(this,"apiRoot",void 0),q(this,"baseUrl",void 0),q(this,"siteId",void 0),q(this,"token",void 0),q(this,"mediaFolder",void 0),q(this,"refreshToken",void 0),q(this,"refreshedTokenPromise",void 0),q(this,"authenticator",void 0),q(this,"_mediaDisplayURLSem",void 0),q(this,"squashMerges",void 0),q(this,"cmsLabelPrefix",void 0),q(this,"previewContext",void 0),q(this,"largeMediaURL",void 0),q(this,"_largeMediaClientPromise",void 0),q(this,"authType",void 0),q(this,"requestFunction",async ee=>{const J=await this.getToken(),Q=P.unsentRequest.withHeaders({Authorization:`Bearer ${J}`},ee);return P.unsentRequest.performRequest(Q)}),q(this,"apiRequestFunction",async ee=>{const J=this.refreshedTokenPromise?await this.refreshedTokenPromise:this.token,Q=P.unsentRequest.withHeaders({Authorization:`Bearer ${J}`},ee),te=await P.unsentRequest.performRequest(Q);if(te.status===401){const se=await te.json().catch(()=>null);if(se&&se.type==="error"&&/^access token expired/i.test(se.error.message)){const de=await this.getRefreshedAccessToken(),ie=P.unsentRequest.withHeaders({Authorization:`Bearer ${de}`},ee);return P.unsentRequest.performRequest(ie)}}return te}),this.options=F({proxied:!1,API:null,updateUserCredentials:async()=>null,initialWorkflowStatus:""},Y),!this.options.proxied&&(Z.backend.repo===null||Z.backend.repo===void 0))throw new Error('The BitBucket backend needs a "repo" in the backend configuration.');this.api=this.options.API||null,this.updateUserCredentials=this.options.updateUserCredentials,this.repo=Z.backend.repo||"",this.branch=Z.backend.branch||"master",this.isBranchConfigured=!!Z.backend.branch,this.apiRoot=Z.backend.api_root||"https://api.bitbucket.org/2.0",this.baseUrl=Z.base_url||"",this.siteId=Z.site_id||"",this.largeMediaURL=Z.backend.large_media_url||`https://bitbucket.org/${Z.backend.repo}/info/lfs`,this.token="",this.mediaFolder=Z.media_folder,this.squashMerges=Z.backend.squash_merges||!1,this.cmsLabelPrefix=Z.backend.cms_label_prefix||"",this.previewContext=Z.backend.preview_context||"",this.lock=(0,P.asyncLock)(),this.authType=Z.backend.auth_type||""}isGitBackend(){return!0}async status(){const Z=await G(W).then(J=>J.json()).then(J=>J.components.filter(Q=>H.includes(Q.name)).every(Q=>Q.status==="operational")).catch(J=>(console.warn("Failed getting BitBucket status",J),!0));let Y=!1;var ee;return Z&&(Y=await((ee=this.api)===null||ee===void 0?void 0:ee.user().then(J=>!!J).catch(J=>(console.warn("Failed getting Bitbucket user",J),!1)))||!1),{auth:{status:Y},api:{status:Z,statusPage:B}}}authComponent(){return I.default}setUser(Z){this.token=Z.token,this.api=new N.default({requestFunction:this.apiRequestFunction,branch:this.branch,repo:this.repo,squashMerges:this.squashMerges,cmsLabelPrefix:this.cmsLabelPrefix,initialWorkflowStatus:this.options.initialWorkflowStatus})}restoreUser(Z){return this.authenticate(Z)}async authenticate(Z){if(this.token=Z.token,!this.isBranchConfigured){const ee=await G(`${this.apiRoot}/repositories/${this.repo}`,{headers:{Authorization:`token ${this.token}`}}).then(J=>J.json()).catch(()=>null);ee&&(this.branch=ee.mainbranch.name)}if(this.refreshToken=Z.refresh_token,this.api=new N.default({requestFunction:this.apiRequestFunction,branch:this.branch,repo:this.repo,apiRoot:this.apiRoot,squashMerges:this.squashMerges,cmsLabelPrefix:this.cmsLabelPrefix,initialWorkflowStatus:this.options.initialWorkflowStatus}),!await this.api.hasWriteAccess().catch(ee=>{throw ee.message=O.stripIndent`
        Repo "${this.repo}" not found.

        Please ensure the repo information is spelled correctly.

        If the repo is private, make sure you're logged into a Bitbucket account with access.
      `,ee}))throw new Error("Your BitBucket user account does not have access to this repo.");const Y=await this.api.user();return F(F({},Y),{},{name:Y.display_name,login:Y.username,token:Z.token,avatar_url:Y.links.avatar.href,refresh_token:Z.refresh_token})}getRefreshedAccessToken(){if(this.authType==="implicit")throw new P.AccessTokenError("Can't refresh access token when using implicit auth");if(this.refreshedTokenPromise)return this.refreshedTokenPromise;if(!this.authenticator){const Z={base_url:this.baseUrl,site_id:this.siteId};this.authenticator=new R.NetlifyAuthenticator(Z)}return this.refreshedTokenPromise=this.authenticator.refresh({provider:"bitbucket",refresh_token:this.refreshToken}).then(({token:Z,refresh_token:Y})=>(this.token=Z,this.refreshToken=Y,this.refreshedTokenPromise=void 0,this.updateUserCredentials({token:Z,refresh_token:Y}),Z)),this.refreshedTokenPromise}logout(){this.token=null}getToken(){return this.refreshedTokenPromise?this.refreshedTokenPromise:Promise.resolve(this.token)}async entriesByFolder(Z,Y,ee){let J;const Q=await this.api.defaultBranchCommitSha(),te=await(0,P.entriesByFolder)(()=>this.api.listFiles(Z,ee,20,this.branch).then(({entries:se,cursor:de})=>(J=de.mergeMeta({extension:Y}),se.filter(ie=>(0,P.filterByExtension)(ie,Y)))),(se,de)=>this.api.readFile(se,de,{head:Q}),this.api.readFileMetadata.bind(this.api),N.API_NAME);return te[P.CURSOR_COMPATIBILITY_SYMBOL]=J,te}async listAllFiles(Z,Y,ee){return(await this.api.listAllFiles(Z,ee,this.branch)).filter(J=>(0,P.filterByExtension)(J,Y))}async allEntriesByFolder(Z,Y,ee){const J=await this.api.defaultBranchCommitSha();return await(0,P.allEntriesByFolder)({listAllFiles:()=>this.listAllFiles(Z,Y,ee),readFile:(Q,te)=>this.api.readFile(Q,te,{head:J}),readFileMetadata:this.api.readFileMetadata.bind(this.api),apiName:N.API_NAME,branch:this.branch,localForage:P.localForage,folder:Z,extension:Y,depth:ee,getDefaultBranch:()=>Promise.resolve({name:this.branch,sha:J}),isShaExistsInBranch:this.api.isShaExistsInBranch.bind(this.api),getDifferences:(Q,te)=>this.api.getDifferences(Q,te),getFileId:Q=>Promise.resolve(this.api.getFileId(J,Q)),filterFile:Q=>(0,P.filterByExtension)(Q,Y)})}async entriesByFiles(Z){const Y=await this.api.defaultBranchCommitSha();return(0,P.entriesByFiles)(Z,(ee,J)=>this.api.readFile(ee,J,{head:Y}),this.api.readFileMetadata.bind(this.api),N.API_NAME)}getEntry(Z){return this.api.readFile(Z).then(Y=>({file:{path:Z,id:null},data:Y}))}getMedia(Z=this.mediaFolder){return this.api.listAllFiles(Z,1,this.branch).then(Y=>Y.map(({id:ee,name:J,path:Q})=>({id:ee,name:J,path:Q,displayURL:{id:ee,path:Q}})))}getLargeMediaClient(){return this._largeMediaClientPromise||(this._largeMediaClientPromise=(async()=>{const Z=await this.api.readFile(".gitattributes").then(Y=>(0,P.getLargeMediaPatternsFromGitAttributesFile)(Y)).catch(Y=>(Y.status===404?console.log("This 404 was expected and handled appropriately."):console.error(Y),[]));return new j.GitLfsClient(!!(this.largeMediaURL&&Z.length>0),this.largeMediaURL,Z,this.requestFunction)})()),this._largeMediaClientPromise}getMediaDisplayURL(Z){return this._mediaDisplayURLSem=this._mediaDisplayURLSem||(0,T.default)(10),(0,P.getMediaDisplayURL)(Z,this.api.readFile.bind(this.api),this._mediaDisplayURLSem)}async getMediaFile(Z){const Y=(0,P.basename)(Z),ee=await(0,P.getMediaAsBlob)(Z,null,this.api.readFile.bind(this.api)),J=(0,P.blobToFileObj)(Y,ee),Q=URL.createObjectURL(J);return{id:await(0,P.getBlobSHA)(J),displayURL:Q,path:Z,name:Y,size:J.size,file:J,url:Q}}async persistEntry(Z,Y){const ee=await this.getLargeMediaClient();return(0,P.runWithLock)(this.lock,async()=>this.api.persistFiles(Z.dataFiles,ee.enabled?await(0,P.getLargeMediaFilteredMediaFiles)(ee,Z.assets):Z.assets,Y),"Failed to acquire persist entry lock")}async persistMedia(Z,Y){const{fileObj:ee,path:J}=Z,Q=ee?URL.createObjectURL(ee):"",te=await this.getLargeMediaClient(),se=J.startsWith("/")?J.slice(1):J;if(!te.enabled||!te.matchPath(se))return this._persistMedia(Z,Y);const de=await(0,P.getPointerFileForMediaFileObj)(te,ee,J);return F(F({},await this._persistMedia(de,Y)),{},{displayURL:Q})}async _persistMedia(Z,Y){const ee=Z.fileObj,[J]=await Promise.all([(0,P.getBlobSHA)(ee),this.api.persistFiles([],[Z],Y)]),Q=URL.createObjectURL(ee);return{displayURL:Q,path:(0,A.default)(Z.path,"/k"),name:ee.name,size:ee.size,id:J,file:ee,url:Q}}deleteFiles(Z,Y){return this.api.deleteFiles(Z,Y)}traverseCursor(Z,Y){return this.api.traverseCursor(Z,Y).then(async({entries:ee,cursor:J})=>{var Q;const te=(Q=Z.meta)===null||Q===void 0?void 0:Q.get("extension");te&&(ee=ee.filter(de=>(0,P.filterByExtension)(de,te)),J=J.mergeMeta({extension:te}));const se=await this.api.defaultBranchCommitSha();return{entries:await(0,P.entriesByFiles)(ee,(de,ie)=>this.api.readFile(de,ie,{head:se}),this.api.readFileMetadata.bind(this.api),N.API_NAME),cursor:J}})}async loadMediaFile(Z,Y,{branch:ee}){const J=await(0,P.getMediaAsBlob)(Z,Y,async(se,de,{parseText:ie})=>await this.api.readFile(se,de,{branch:ee,parseText:ie})),Q=(0,P.basename)(Z),te=(0,P.blobToFileObj)(Q,J);return{id:Z,displayURL:URL.createObjectURL(te),path:Z,name:Q,size:te.size,file:te}}async unpublishedEntries(){return await(0,P.unpublishedEntries)(()=>this.api.listUnpublishedBranches().then(Z=>Z.map(Y=>(0,P.contentKeyFromBranch)(Y))))}async unpublishedEntry({id:Z,collection:Y,slug:ee}){if(Z)return await this.api.retrieveUnpublishedEntryData(Z);if(Y&&ee){const J=(0,P.generateContentKey)(Y,ee);return await this.api.retrieveUnpublishedEntryData(J)}throw new Error("Missing unpublished entry id or collection and slug")}getBranch(Z,Y){const ee=(0,P.generateContentKey)(Z,Y);return(0,P.branchFromContentKey)(ee)}async unpublishedEntryDataFile(Z,Y,ee,J){const Q=this.getBranch(Z,Y);return await this.api.readFile(ee,J,{branch:Q})}async unpublishedEntryMediaFile(Z,Y,ee,J){const Q=this.getBranch(Z,Y);return await this.loadMediaFile(ee,J,{branch:Q})}async updateUnpublishedEntryStatus(Z,Y,ee){return(0,P.runWithLock)(this.lock,()=>this.api.updateUnpublishedEntryStatus(Z,Y,ee),"Failed to acquire update entry status lock")}async deleteUnpublishedEntry(Z,Y){return(0,P.runWithLock)(this.lock,()=>this.api.deleteUnpublishedEntry(Z,Y),"Failed to acquire delete entry lock")}async publishUnpublishedEntry(Z,Y){return(0,P.runWithLock)(this.lock,()=>this.api.publishUnpublishedEntry(Z,Y),"Failed to acquire publish entry lock")}async getDeployPreview(Z,Y){try{const ee=await this.api.getStatuses(Z,Y),J=(0,P.getPreviewStatus)(ee,this.previewContext);if(J){const{target_url:Q,state:te}=J;return{url:Q,status:te}}return null}catch{return null}}}},17134:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),Object.defineProperty(E,"API",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(E,"AuthenticationPage",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(E,"BitbucketBackend",{enumerable:!0,get:function(){return A.default}}),E.DecapCmsBackendBitbucket=void 0;var A=P(_(28521)),T=P(_(84280)),O=P(_(8387));function P(R){return R&&R.__esModule?R:{default:R}}E.DecapCmsBackendBitbucket={BitbucketBackend:A.default,API:T.default,AuthenticationPage:O.default}},17930:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=N(_(70894)),T=N(_(83465)),O=N(_(13980)),P=N(_(12244)),R=_(30762),I=_(28165);function N(G){return G&&G.__esModule?G:{default:G}}function j(G,Z){var Y=Object.keys(G);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(G);Z&&(ee=ee.filter(function(J){return Object.getOwnPropertyDescriptor(G,J).enumerable})),Y.push.apply(Y,ee)}return Y}function U(G){for(var Z=1;Z<arguments.length;Z++){var Y=arguments[Z]!=null?arguments[Z]:{};Z%2?j(Object(Y),!0).forEach(function(ee){z(G,ee,Y[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(Y)):j(Object(Y)).forEach(function(ee){Object.defineProperty(G,ee,Object.getOwnPropertyDescriptor(Y,ee))})}return G}function z(G,Z,Y){var ee;return(Z=typeof(ee=function(J,Q){if(typeof J!="object"||!J)return J;var te=J[Symbol.toPrimitive];if(te!==void 0){var se=te.call(J,"string");if(typeof se!="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}(Z))=="symbol"?ee:String(ee))in G?Object.defineProperty(G,Z,{value:Y,enumerable:!0,configurable:!0,writable:!0}):G[Z]=Y,G}const V=(0,A.default)("button",{target:"e1fncu5t3",label:"LoginButton"})(R.buttons.button,";",R.shadows.dropDeep,";",R.buttons.default,";",R.buttons.gray,";padding:0 30px;display:block;margin-top:20px;margin-left:auto;"),F=(0,A.default)("form",{target:"e1fncu5t2",label:"AuthForm"})({name:"bjv45a",styles:"width:350px;margin-top:-80px"}),q=(0,A.default)("input",{target:"e1fncu5t1",label:"AuthInput"})("background-color:",R.colorsRaw.white,";border-radius:",R.lengths.borderRadius,";font-size:14px;padding:10px;margin-bottom:15px;margin-top:6px;width:100%;position:relative;z-index:",R.zIndex.zIndex1,";&:focus{outline:none;box-shadow:inset 0 0 0 2px ",R.colors.active,";}"),B=(0,A.default)("p",{target:"e1fncu5t0",label:"ErrorMessage"})("color:",R.colors.errorText,";");let W=null;window.netlifyIdentity&&(window.netlifyIdentity.on("login",G=>{W&&W.handleIdentityLogin(G)}),window.netlifyIdentity.on("logout",()=>{W&&W.handleIdentityLogout()}),window.netlifyIdentity.on("error",G=>{W&&W.handleIdentityError(G)}));class H extends P.default.Component{constructor(Z){super(Z),z(this,"handleIdentityLogin",Y=>{this.props.onLogin(Y),window.netlifyIdentity.close()}),z(this,"handleIdentityLogout",()=>{window.netlifyIdentity.open()}),z(this,"handleIdentityError",Y=>{var ee;Y!=null&&(ee=Y.message)!==null&&ee!==void 0&&ee.match(/^Failed to load settings from.+\.netlify\/identity$/)&&(window.netlifyIdentity.close(),this.setState({errors:{identity:this.props.t("auth.errors.identitySettings")}}))}),z(this,"handleIdentity",()=>{const Y=window.netlifyIdentity.currentUser();Y?this.props.onLogin(Y):window.netlifyIdentity.open()}),z(this,"state",{email:"",password:"",errors:{}}),z(this,"handleChange",(Y,ee)=>{this.setState(U(U({},this.state),{},{[Y]:ee.target.value}))}),z(this,"handleLogin",async Y=>{Y.preventDefault();const{email:ee,password:J}=this.state,{t:Q}=this.props,te={};if(ee||(te.email=Q("auth.errors.email")),J||(te.password=Q("auth.errors.password")),Object.keys(te).length>0)this.setState({errors:te});else try{const se=await H.authClient(),de=await se.login(this.state.email,this.state.password,!0);this.props.onLogin(de)}catch(se){this.setState({errors:{server:se.description||se.msg||se},loggingIn:!1})}}),W=this}componentDidMount(){!this.loggedIn&&window.netlifyIdentity&&window.netlifyIdentity.currentUser()&&(this.props.onLogin(window.netlifyIdentity.currentUser()),window.netlifyIdentity.close())}componentWillUnmount(){W=null}render(){const{errors:Z}=this.state,{error:Y,inProgress:ee,config:J,t:Q}=this.props;return window.netlifyIdentity?Z.identity?(0,I.jsx)(R.AuthenticationPage,{logoUrl:J.logo_url,siteUrl:J.site_url,onLogin:this.handleIdentity,renderPageContent:()=>(0,I.jsx)("a",{href:"https://docs.netlify.com/visitor-access/git-gateway/#setup-and-settings",target:"_blank",rel:"noopener noreferrer"},Z.identity),t:Q}):(0,I.jsx)(R.AuthenticationPage,{logoUrl:J.logo_url,siteUrl:J.site_url,onLogin:this.handleIdentity,renderButtonContent:()=>Q("auth.loginWithNetlifyIdentity"),t:Q}):(0,I.jsx)(R.AuthenticationPage,{logoUrl:J.logo_url,siteUrl:J.site_url,renderPageContent:()=>(0,I.jsx)(F,{onSubmit:this.handleLogin},Y?(0,I.jsx)(B,null,Y):null,Z.server?(0,I.jsx)(B,null,String(Z.server)):null,(0,I.jsx)(B,null,Z.email||null),(0,I.jsx)(q,{type:"text",name:"email",placeholder:"Email",value:this.state.email,onChange:(0,T.default)(this.handleChange,"email")}),(0,I.jsx)(B,null,Z.password||null),(0,I.jsx)(q,{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:(0,T.default)(this.handleChange,"password")}),(0,I.jsx)(V,{disabled:ee},Q(ee?"auth.loggingIn":"auth.login"))),t:Q})}}E.default=H,z(H,"authClient",void 0),z(H,"propTypes",{onLogin:O.default.func.isRequired,inProgress:O.default.bool.isRequired,error:O.default.node,config:O.default.object.isRequired,t:O.default.func.isRequired})},25299:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=_(48638),T=_(33806);function O(N,j){var U=Object.keys(N);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(N);j&&(z=z.filter(function(V){return Object.getOwnPropertyDescriptor(N,V).enumerable})),U.push.apply(U,z)}return U}function P(N){for(var j=1;j<arguments.length;j++){var U=arguments[j]!=null?arguments[j]:{};j%2?O(Object(U),!0).forEach(function(z){R(N,z,U[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(U)):O(Object(U)).forEach(function(z){Object.defineProperty(N,z,Object.getOwnPropertyDescriptor(U,z))})}return N}function R(N,j,U){var z;return(j=typeof(z=function(V,F){if(typeof V!="object"||!V)return V;var q=V[Symbol.toPrimitive];if(q!==void 0){var B=q.call(V,"string");if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)}(j))=="symbol"?z:String(z))in N?Object.defineProperty(N,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):N[j]=U,N}class I extends A.API{constructor(j){super(P({getUser:()=>Promise.reject("Never used")},j)),R(this,"tokenPromise",void 0),R(this,"commitAuthor",void 0),R(this,"isLargeMedia",void 0),this.apiRoot=j.apiRoot,this.tokenPromise=j.tokenPromise,this.commitAuthor=j.commitAuthor,this.isLargeMedia=j.isLargeMedia,this.repoURL="",this.originRepoURL=""}hasWriteAccess(){return this.getDefaultBranch().then(()=>!0).catch(j=>{if(j.status===401){if(j.message==="Bad credentials")throw new T.APIError("Git Gateway Error: Please ask your site administrator to reissue the Git Gateway token.",j.status,"Git Gateway");return!1}throw j.status!==404||j.message!==void 0&&j.message!=="Unable to locate site configuration"?(console.error("Problem fetching repo data from Git Gateway"),j):new T.APIError("Git Gateway Error: Please make sure Git Gateway is enabled on your site.",j.status,"Git Gateway")})}requestHeaders(j={}){return this.tokenPromise().then(U=>P({Authorization:`Bearer ${U}`,"Content-Type":"application/json; charset=utf-8"},j))}handleRequestError(j,U){throw new T.APIError(j.message||j.msg,U,"Git Gateway")}user(){return Promise.resolve(P({login:""},this.commitAuthor))}async getHeadReference(j){if(!this.repoOwner){const U=(await this.getDefaultBranch())._links.self,z=new RegExp("https?://.+?/repos/(.+?)/"),V=U.match(z);this.repoOwner=V?V[1]:""}return super.getHeadReference(j)}commit(j,U){const z={message:j,tree:U.sha,parents:U.parentSha?[U.parentSha]:[]};return this.commitAuthor&&(z.author=P(P({},this.commitAuthor),{},{date:new Date().toISOString()})),this.request("/git/commits",{method:"POST",body:JSON.stringify(z)})}nextUrlProcessor(){return j=>j.replace(/^(?:[a-z]+:\/\/.+?\/.+?\/.+?\/)/,`${this.apiRoot}/`)}async diffFromFile(j){const U=await super.diffFromFile(j);return P(P({},U),{},{binary:U.binary||await this.isLargeMedia(j.filename)})}}E.default=I},76749:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=_(34554),T=_(33806);function O(R,I,N){var j;return(I=typeof(j=function(U,z){if(typeof U!="object"||!U)return U;var V=U[Symbol.toPrimitive];if(V!==void 0){var F=V.call(U,"string");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(I))=="symbol"?j:String(j))in R?Object.defineProperty(R,I,{value:N,enumerable:!0,configurable:!0,writable:!0}):R[I]=N,R}class P extends A.API{constructor(I){super(I),O(this,"tokenPromise",void 0),O(this,"withAuthorizationHeaders",async N=>{const j=await this.tokenPromise();return T.unsentRequest.withHeaders({Authorization:`Bearer ${j}`},N)}),O(this,"hasWriteAccess",()=>Promise.resolve(!0)),this.tokenPromise=I.tokenPromise,this.commitAuthor=I.commitAuthor,this.repoURL=""}}E.default=P},77188:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=W(_(30898)),T=W(_(13888)),O=W(_(72579)),P=W(_(28005)),R=W(_(51949)),I=W(_(52939)),N=_(33806),j=_(48638),U=_(34554),z=_(17134),V=W(_(25299)),F=W(_(76749)),q=W(_(17930)),B=_(71213);function W(ie){return ie&&ie.__esModule?ie:{default:ie}}function H(ie,ve){var xe=Object.keys(ie);if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(ie);ve&&(ke=ke.filter(function(Ce){return Object.getOwnPropertyDescriptor(ie,Ce).enumerable})),xe.push.apply(xe,ke)}return xe}function G(ie){for(var ve=1;ve<arguments.length;ve++){var xe=arguments[ve]!=null?arguments[ve]:{};ve%2?H(Object(xe),!0).forEach(function(ke){Z(ie,ke,xe[ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(xe)):H(Object(xe)).forEach(function(ke){Object.defineProperty(ie,ke,Object.getOwnPropertyDescriptor(xe,ke))})}return ie}function Z(ie,ve,xe){var ke;return(ve=typeof(ke=function(Ce,Oe){if(typeof Ce!="object"||!Ce)return Ce;var Ae=Ce[Symbol.toPrimitive];if(Ae!==void 0){var Pe=Ae.call(Ce,"string");if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(ve))=="symbol"?ke:String(ke))in ie?Object.defineProperty(ie,ve,{value:xe,enumerable:!0,configurable:!0,writable:!0}):ie[ve]=xe,ie}const Y="https://www.netlifystatus.com",ee=`${Y}/api/v2/components.json`,J=["Git Gateway"],Q={localhost:!0,"127.0.0.1":!0,"0.0.0.0":!0};function te(ie,ve){if(Q[document.location.host.split(":").shift()]&&ve&&ie.match(/^\/\.netlify\//)){const xe=[];return ve&&(xe.push(ve),ve.match(/\/$/)||xe.push("/")),xe.push(ie.replace(/^\//,"")),xe.join("")}return ie}let se=Promise.resolve();if(window.netlifyIdentity){let ie=!1;se=Promise.race([new Promise(ve=>{var xe;(xe=window.netlifyIdentity)===null||xe===void 0||xe.on("init",()=>{ie=!0,ve()})}),new Promise(ve=>setTimeout(ve,2500)).then(()=>{var ve;ie||(console.log("Manually initializing identity widget"),(ve=window.netlifyIdentity)===null||ve===void 0||ve.init())})])}async function de(ie){return await fetch(`https://api.netlify.com/api/v1/sites/${ie}`).then(ve=>ve.json())}E.default=class{constructor(ie,ve={}){var xe;Z(this,"config",void 0),Z(this,"api",void 0),Z(this,"branch",void 0),Z(this,"squashMerges",void 0),Z(this,"cmsLabelPrefix",void 0),Z(this,"mediaFolder",void 0),Z(this,"transformImages",void 0),Z(this,"gatewayUrl",void 0),Z(this,"netlifyLargeMediaURL",void 0),Z(this,"backendType",void 0),Z(this,"apiUrl",void 0),Z(this,"authClient",void 0),Z(this,"backend",void 0),Z(this,"acceptRoles",void 0),Z(this,"tokenPromise",void 0),Z(this,"_largeMediaClientPromise",void 0),Z(this,"options",void 0),Z(this,"requestFunction",Pe=>this.tokenPromise().then(Ee=>N.unsentRequest.withHeaders({Authorization:`Bearer ${Ee}`},Pe)).then(N.unsentRequest.performRequest)),this.options=G({proxied:!0,API:null,initialWorkflowStatus:""},ve),this.config=ie,this.branch=((xe=ie.backend.branch)===null||xe===void 0?void 0:xe.trim())||"master",this.squashMerges=ie.backend.squash_merges||!1,this.cmsLabelPrefix=ie.backend.cms_label_prefix||"",this.mediaFolder=ie.media_folder;const{use_large_media_transforms_in_media_library:ke=!0}=ie.backend;this.transformImages=ke;const Ce=localStorage.getItem("netlifySiteURL");this.apiUrl=te(ie.backend.identity_url||"/.netlify/identity",Ce),this.gatewayUrl=te(ie.backend.gateway_url||"/.netlify/git",Ce),this.netlifyLargeMediaURL=te(ie.backend.large_media_url||"/.netlify/large-media",Ce);const Oe=/\/(github|gitlab|bitbucket)\/?$/,Ae=this.gatewayUrl.match(Oe);Ae?(this.backendType=Ae[1],this.gatewayUrl=this.gatewayUrl.replace(Oe,"")):this.backendType=null,this.backend=null,q.default.authClient=()=>this.getAuthClient()}isGitBackend(){return!0}async status(){const ie=await fetch(ee).then(ke=>ke.json()).then(ke=>ke.components.filter(Ce=>J.includes(Ce.name)).every(Ce=>Ce.status==="operational")).catch(ke=>(console.warn("Failed getting Git Gateway status",ke),!0));let ve=!1;var xe;return ie&&(ve=await((xe=this.tokenPromise)===null||xe===void 0?void 0:xe.call(this).then(ke=>!!ke).catch(ke=>(console.warn("Failed getting Identity token",ke),!1)))||!1),{auth:{status:ve},api:{status:ie,statusPage:Y}}}async getAuthClient(){if(this.authClient)return this.authClient;if(await se,window.netlifyIdentity)this.authClient={logout:()=>{var ie;return(ie=window.netlifyIdentity)===null||ie===void 0?void 0:ie.logout()},currentUser:()=>{var ie;return(ie=window.netlifyIdentity)===null||ie===void 0?void 0:ie.currentUser()},clearStore:()=>{var ie;const ve=(ie=window.netlifyIdentity)===null||ie===void 0?void 0:ie.store;ve&&(ve.user=null,ve.modal.page="login",ve.saving=!1)}};else{const ie=new P.default({APIUrl:this.apiUrl});this.authClient={logout:()=>{const ve=ie.currentUser();if(ve)return ve.logout()},currentUser:()=>ie.currentUser(),login:ie.login.bind(ie),clearStore:()=>{}}}return this.authClient}authenticate(ie){const ve=ie;return this.tokenPromise=async()=>{try{return await ve.jwt.bind(ve)()}catch(xe){throw new N.AccessTokenError(`Failed getting access token: ${xe.message}`)}},this.tokenPromise().then(async xe=>{if(!this.backendType){const{github_enabled:Oe,gitlab_enabled:Ae,bitbucket_enabled:Pe,roles:Ee}=await N.unsentRequest.fetchWithTimeout(`${this.gatewayUrl}/settings`,{headers:{Authorization:`Bearer ${xe}`}}).then(async Te=>{const Re=Te.headers.get("Content-Type")||"";if(!Re.includes("application/json")&&!Re.includes("text/json"))throw new N.APIError("Your Git Gateway backend is not returning valid settings. Please make sure it is enabled.",Te.status,"Git Gateway");const Me=await Te.json();if(!Te.ok)throw new N.APIError(`Git Gateway Error: ${Me.message?Me.message:Me}`,Te.status,"Git Gateway");return Me});this.acceptRoles=Ee,Oe?this.backendType="github":Ae?this.backendType="gitlab":Pe&&(this.backendType="bitbucket")}if(this.acceptRoles&&this.acceptRoles.length>0){const Oe=(0,O.default)((0,R.default)(xe),"app_metadata.roles",[]);if(!((0,A.default)(Oe,this.acceptRoles).length>0))throw new Error("You don't have sufficient permissions to access Decap CMS")}const ke={name:ve.user_metadata.full_name||ve.email.split("@").shift(),email:ve.email,avatar_url:ve.user_metadata.avatar_url,metadata:ve.user_metadata},Ce={apiRoot:`${this.gatewayUrl}/${this.backendType}`,branch:this.branch,tokenPromise:this.tokenPromise,commitAuthor:(0,T.default)(ke,["name","email"]),isLargeMedia:Oe=>this.isLargeMediaFile(Oe),squashMerges:this.squashMerges,cmsLabelPrefix:this.cmsLabelPrefix,initialWorkflowStatus:this.options.initialWorkflowStatus};if(this.backendType==="github"?(this.api=new V.default(Ce),this.backend=new j.GitHubBackend(this.config,G(G({},this.options),{},{API:this.api}))):this.backendType==="gitlab"?(this.api=new F.default(Ce),this.backend=new U.GitLabBackend(this.config,G(G({},this.options),{},{API:this.api}))):this.backendType==="bitbucket"&&(this.api=new z.API(G(G({},Ce),{},{requestFunction:this.requestFunction,hasWriteAccess:async()=>!0})),this.backend=new z.BitbucketBackend(this.config,G(G({},this.options),{},{API:this.api}))),!await this.api.hasWriteAccess())throw new Error("You don't have sufficient permissions to access Decap CMS");return{name:ke.name,login:ke.email,avatar_url:ke.avatar_url}})}async restoreUser(){const ie=(await this.getAuthClient()).currentUser();return ie?this.authenticate(ie):Promise.reject()}authComponent(){return q.default}async logout(){const ie=await this.getAuthClient();try{ie.logout()}catch{ie.clearStore()}}getToken(){return this.tokenPromise()}async entriesByFolder(ie,ve,xe){return this.backend.entriesByFolder(ie,ve,xe)}allEntriesByFolder(ie,ve,xe,ke){return this.backend.allEntriesByFolder(ie,ve,xe,ke)}entriesByFiles(ie){return this.backend.entriesByFiles(ie)}getEntry(ie){return this.backend.getEntry(ie)}async unpublishedEntryDataFile(ie,ve,xe,ke){return this.backend.unpublishedEntryDataFile(ie,ve,xe,ke)}async isLargeMediaFile(ie){const ve=await this.getLargeMediaClient();return ve.enabled&&ve.matchPath(ie)}async unpublishedEntryMediaFile(ie,ve,xe,ke){if(await this.isLargeMediaFile(xe)){const Ce=this.backend.getBranch(ie,ve),{url:Oe,blob:Ae}=await this.getLargeMediaDisplayURL({path:xe,id:ke},Ce);return{id:ke,name:(0,N.basename)(xe),path:xe,url:Oe,displayURL:Oe,file:new File([Ae],(0,N.basename)(xe)),size:Ae.size}}return this.backend.unpublishedEntryMediaFile(ie,ve,xe,ke)}getMedia(ie=this.mediaFolder){return this.backend.getMedia(ie)}getLargeMediaClient(){return this._largeMediaClientPromise||(this._largeMediaClientPromise=this._getLargeMediaClient()),this._largeMediaClientPromise}_getLargeMediaClient(){const ie=this.api.readFile(".lfsconfig").then(xe=>I.default.decode(xe)).then(({lfs:{url:xe}})=>new URL(xe)).then(xe=>({enabled:xe.hostname.endsWith("netlify.com")||xe.hostname.endsWith("netlify.app")})).catch(xe=>({enabled:!1,err:xe})),ve=this.api.readFile(".gitattributes").then(xe=>(0,N.getLargeMediaPatternsFromGitAttributesFile)(xe)).then(xe=>({err:null,patterns:xe})).catch(xe=>xe.message.includes("404")?(console.log("This 404 was expected and handled appropriately."),{err:null,patterns:[]}):{err:xe,patterns:[]});return Promise.all([ie,ve]).then(([{enabled:xe},{patterns:ke,err:Ce}])=>{const Oe=xe&&!Ce;return xe&&Ce&&console.error(Ce),(0,B.getClient)({enabled:Oe,rootURL:this.netlifyLargeMediaURL,makeAuthorizedRequest:this.requestFunction,patterns:ke,transformImages:!!this.transformImages&&{nf_resize:"fit",w:560,h:320}})})}async getLargeMediaDisplayURL({path:ie,id:ve},xe=this.branch){const ke=await(0,N.entriesByFiles)([{path:ie,id:ve}],(Te,Re,{parseText:Me})=>this.api.readFile(Te,Re,{branch:xe,parseText:Me}),this.api.readFileMetadata.bind(this.api),"Git-Gateway"),Ce=ke[0],Oe=(0,N.parsePointerFile)(Ce.data);if(!Oe.sha)return console.warn(`Failed parsing pointer file ${ie}`),{url:ie,blob:new Blob};const Ae=await this.getLargeMediaClient(),{url:Pe,blob:Ee}=await Ae.getDownloadURL(Oe);return{url:Pe,blob:Ee}}async getMediaDisplayURL(ie){const{path:ve,id:xe}=ie;if(await this.isLargeMediaFile(ve)){const{url:ke}=await this.getLargeMediaDisplayURL({path:ve,id:xe});return ke}return typeof ie=="string"?ie:await this.backend.getMediaDisplayURL(ie)}async getMediaFile(ie){if(await this.isLargeMediaFile(ie)){const{url:ve,blob:xe}=await this.getLargeMediaDisplayURL({path:ie,id:null});return{id:ve,name:(0,N.basename)(ie),path:ie,url:ve,displayURL:ve,file:new File([xe],(0,N.basename)(ie)),size:xe.size}}return this.backend.getMediaFile(ie)}async persistEntry(ie,ve){const xe=await this.getLargeMediaClient();if(xe.enabled){const ke=await(0,N.getLargeMediaFilteredMediaFiles)(xe,ie.assets);return this.backend.persistEntry(G(G({},ie),{},{assets:ke}),ve)}return this.backend.persistEntry(ie,ve)}async persistMedia(ie,ve){const{fileObj:xe,path:ke}=ie,Ce=xe?URL.createObjectURL(xe):"",Oe=await this.getLargeMediaClient(),Ae=ke.startsWith("/")?ke.slice(1):ke;if(await this.isLargeMediaFile(Ae)){const Pe=await(0,N.getPointerFileForMediaFileObj)(Oe,xe,ke);return G(G({},await this.backend.persistMedia(Pe,ve)),{},{displayURL:Ce})}return await this.backend.persistMedia(ie,ve)}deleteFiles(ie,ve){return this.backend.deleteFiles(ie,ve)}async getDeployPreview(ie,ve){let xe=await this.backend.getDeployPreview(ie,ve);if(!xe)try{const ke=new URL(localStorage.getItem("netlifySiteURL")||"").hostname,Ce=await de(ke),Oe=await de(`${Ce.id}/deploys?per_page=100`);if(Oe.length>0){const Ae=await this.api.getUnpublishedEntrySha(ie,ve),Pe=Oe.find(Ee=>Ee.commit_ref===Ae);Pe&&(xe={status:Pe.state==="ready"?N.PreviewState.Success:N.PreviewState.Other,url:Pe.deploy_url})}}catch{}return xe}unpublishedEntries(){return this.backend.unpublishedEntries()}unpublishedEntry({id:ie,collection:ve,slug:xe}){return this.backend.unpublishedEntry({id:ie,collection:ve,slug:xe})}updateUnpublishedEntryStatus(ie,ve,xe){return this.backend.updateUnpublishedEntryStatus(ie,ve,xe)}deleteUnpublishedEntry(ie,ve){return this.backend.deleteUnpublishedEntry(ie,ve)}publishUnpublishedEntry(ie,ve){return this.backend.publishUnpublishedEntry(ie,ve)}traverseCursor(ie,ve){return this.backend.traverseCursor(ie,ve)}}},12318:($,E,_)=>{Object.defineProperty(E,"UU",{enumerable:!0,get:function(){return A.default}});var A=O(_(77188)),T=O(_(17930));function O(P){return P&&P.__esModule?P:{default:P}}A.default,T.default},71213:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.getClient=function(Z){return(0,R.default)([Object.keys,(0,O.default)(Y=>{return[Y,(ee=Z,J=G[Y],(...Q)=>J(ee,...Q))];var ee,J}),P.default,Y=>V(V({},Y),{},{patterns:Z.patterns,enabled:Z.enabled})])(G)},E.matchPath=F;var A=U(_(45455)),T=U(_(97030)),O=U(_(65159)),P=U(_(23162)),R=U(_(10094)),I=U(_(77339)),N=_(33806);const j=["sha"];function U(Z){return Z&&Z.__esModule?Z:{default:Z}}function z(Z,Y){var ee=Object.keys(Z);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Z);Y&&(J=J.filter(function(Q){return Object.getOwnPropertyDescriptor(Z,Q).enumerable})),ee.push.apply(ee,J)}return ee}function V(Z){for(var Y=1;Y<arguments.length;Y++){var ee=arguments[Y]!=null?arguments[Y]:{};Y%2?z(Object(ee),!0).forEach(function(J){var Q,te,se,de;Q=Z,te=J,se=ee[J],(te=typeof(de=function(ie,ve){if(typeof ie!="object"||!ie)return ie;var xe=ie[Symbol.toPrimitive];if(xe!==void 0){var ke=xe.call(ie,"string");if(typeof ke!="object")return ke;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ie)}(te))=="symbol"?de:String(de))in Q?Object.defineProperty(Q,te,{value:se,enumerable:!0,configurable:!0,writable:!0}):Q[te]=se}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(ee)):z(Object(ee)).forEach(function(J){Object.defineProperty(Z,J,Object.getOwnPropertyDescriptor(ee,J))})}return Z}function F({patterns:Z},Y){return Z.some(ee=>(0,I.default)(Y,ee,{matchBase:!0}))}const q={Accept:"application/vnd.git-lfs+json","Content-Type":"application/vnd.git-lfs+json"};async function B({rootURL:Z,makeAuthorizedRequest:Y},{sha:ee,size:J}){const Q=await Y({url:`${Z}/verify`,method:"POST",headers:q,body:JSON.stringify({oid:ee,size:J})});return!!Q.ok||Q.status!==404&&void 0}function W(Z){return{operation:"upload",transfers:["basic"],objects:Z.map(Y=>{let{sha:ee}=Y;return V(V({},function(J,Q){if(J==null)return{};var te,se,de=function(ve,xe){if(ve==null)return{};var ke,Ce,Oe={},Ae=Object.keys(ve);for(Ce=0;Ce<Ae.length;Ce++)ke=Ae[Ce],xe.indexOf(ke)>=0||(Oe[ke]=ve[ke]);return Oe}(J,Q);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(J);for(se=0;se<ie.length;se++)te=ie[se],Q.indexOf(te)>=0||Object.prototype.propertyIsEnumerable.call(J,te)&&(de[te]=J[te])}return de}(Y,j)),{},{oid:ee})})}}async function H({rootURL:Z,makeAuthorizedRequest:Y},ee){const J=await Y({url:`${Z}/objects/batch`,method:"POST",headers:q,body:JSON.stringify(W(ee))}),{objects:Q}=await J.json();return Q.map(te=>{if(te.error)throw new Error(te.error.message);return te.actions.upload.href})}const G={resourceExists:B,getResourceUploadURLs:H,getDownloadURL:async function({rootURL:Z,transformImages:Y,makeAuthorizedRequest:ee},{sha:J}){try{const Q=function(ve){if((0,T.default)(ve)&&!(0,A.default)(ve)){const{nf_resize:xe,w:ke,h:Ce}=ve;return`?nf_resize=${xe}&w=${ke}&h=${Ce}`}return""}(Y),te=ee(`${Z}/origin/${J}${Q}`),[se,de]=await Promise.all([te,Q?ee(`${Z}/origin/${J}`):te]);if(!se.ok){const ve=await se.json();throw new Error(`Failed getting large media for sha '${J}': '${ve.code} - ${ve.msg}'`)}const ie=await se.blob();return{url:URL.createObjectURL(ie),blob:Q?await de.blob():ie}}catch(Q){return console.error(Q),{url:"",blob:new Blob}}},uploadResource:async function(Z,{sha:Y,size:ee},J){if(await B(Z,{sha:Y,size:ee}))return Y;const[Q]=await H(Z,[{sha:Y,size:ee}]);return await function(te,se){return N.unsentRequest.fetchWithTimeout(te,{method:"PUT",body:se})}(Q,J),Y},matchPath:F}},66141:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.API_NAME=void 0;var A=U(_(87613)),T=U(_(56974)),O=U(_(83465)),P=U(_(36346)),R=U(_(5648)),I=U(_(93433)),N=_(95978),j=_(33806);function U(H){return H&&H.__esModule?H:{default:H}}function z(H,G){var Z=Object.keys(H);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(H);G&&(Y=Y.filter(function(ee){return Object.getOwnPropertyDescriptor(H,ee).enumerable})),Z.push.apply(Z,Y)}return Z}function V(H){for(var G=1;G<arguments.length;G++){var Z=arguments[G]!=null?arguments[G]:{};G%2?z(Object(Z),!0).forEach(function(Y){F(H,Y,Z[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(Z)):z(Object(Z)).forEach(function(Y){Object.defineProperty(H,Y,Object.getOwnPropertyDescriptor(Z,Y))})}return H}function F(H,G,Z){var Y;return(G=typeof(Y=function(ee,J){if(typeof ee!="object"||!ee)return ee;var Q=ee[Symbol.toPrimitive];if(Q!==void 0){var te=Q.call(ee,"string");if(typeof te!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}(G))=="symbol"?Y:String(Y))in H?Object.defineProperty(H,G,{value:Z,enumerable:!0,configurable:!0,writable:!0}):H[G]=Z,H}const q=E.API_NAME="Gitea";var B=function(H){return H.CREATE="create",H.DELETE="delete",H.UPDATE="update",H}(B||{});class W{constructor(G){F(this,"apiRoot",void 0),F(this,"token",void 0),F(this,"branch",void 0),F(this,"repo",void 0),F(this,"originRepo",void 0),F(this,"repoOwner",void 0),F(this,"repoName",void 0),F(this,"originRepoOwner",void 0),F(this,"originRepoName",void 0),F(this,"repoURL",void 0),F(this,"originRepoURL",void 0),F(this,"_userPromise",void 0),F(this,"_metadataSemaphore",void 0),F(this,"commitAuthor",void 0),this.apiRoot=G.apiRoot||"https://try.gitea.io/api/v1",this.token=G.token||"",this.branch=G.branch||"master",this.repo=G.repo||"",this.originRepo=G.originRepo||this.repo,this.repoURL=`/repos/${this.repo}`,this.originRepoURL=`/repos/${this.originRepo}`;const[Z,Y]=[this.repo.split("/"),this.originRepo.split("/")];this.repoOwner=Z[0],this.repoName=Z[1],this.originRepoOwner=Y[0],this.originRepoName=Y[1]}user(){return this._userPromise||(this._userPromise=this.getUser()),this._userPromise}getUser(){return this.request("/user")}async hasWriteAccess(){try{const G=await this.request(this.repoURL);return this.repoOwner=G.owner.login,G.permissions.push}catch(G){throw console.error("Problem fetching repo data from Gitea"),G}}reset(){}requestHeaders(G={}){const Z=V({"Content-Type":"application/json; charset=utf-8"},G);return this.token&&(Z.Authorization=`token ${this.token}`),Promise.resolve(Z)}async parseJsonResponse(G){const Z=await G.json();return G.ok?Z:Promise.reject(Z)}urlFor(G,Z){const Y=[];if(Z.params)for(const ee in Z.params)Y.push(`${ee}=${encodeURIComponent(Z.params[ee])}`);return Y.length&&(G+=`?${Y.join("&")}`),this.apiRoot+G}parseResponse(G){const Z=G.headers.get("Content-Type");return Z&&Z.match(/json/)?this.parseJsonResponse(G):G.text().then(Y=>G.ok?Y:Promise.reject(Y))}handleRequestError(G,Z){throw new j.APIError(G.message,Z,q)}buildRequest(G){return G}async request(G,Z={},Y=ee=>this.parseResponse(ee)){Z=V({cache:"no-cache"},Z);const ee=await this.requestHeaders(Z.headers||{}),J=this.urlFor(G,Z);let Q=500;try{const te=j.unsentRequest.fromFetchArguments(J,V(V({},Z),{},{headers:ee})),se=await(0,j.requestWithBackoff)(this,te);return Q=se.status,await Y(se)}catch(te){return this.handleRequestError(te,Q)}}nextUrlProcessor(){return G=>G}async requestAllPages(G,Z={}){Z=V({cache:"no-cache"},Z);const Y=await this.requestHeaders(Z.headers||{}),ee=this.urlFor(G,Z),J=await(0,j.getAllResponses)(ee,V(V({},Z),{},{headers:Y}),"next",this.nextUrlProcessor()),Q=await Promise.all(J.map(te=>this.parseResponse(te)));return[].concat(...Q)}generateContentKey(G,Z){return(0,j.generateContentKey)(G,Z)}parseContentKey(G){return(0,j.parseContentKey)(G)}async readFile(G,Z,{branch:Y=this.branch,repoURL:ee=this.repoURL,parseText:J=!0}={}){return Z||(Z=await this.getFileSha(G,{repoURL:ee,branch:Y})),await this.fetchBlobContent({sha:Z,repoURL:ee,parseText:J})}async readFileMetadata(G,Z){return await(0,j.readFileMetadata)(Z,async()=>{try{const Y=await this.request(`${this.originRepoURL}/commits`,{params:{path:G,sha:this.branch,stat:"false"}}),{commit:ee}=Y[0];return{author:ee.author.name||ee.author.email,updatedOn:ee.author.date}}catch{return{author:"",updatedOn:""}}},j.localForage)}async fetchBlobContent({sha:G,repoURL:Z,parseText:Y}){const ee=await this.request(`${Z}/git/blobs/${G}`,{cache:"force-cache"});if(Y)return N.Base64.decode(ee.content);{const J=N.Base64.atob(ee.content),Q=new Uint8Array(J.length);for(let te=0;te<J.length;te++)Q[te]=J.charCodeAt(te);return new Blob([Q])}}async listFiles(G,{repoURL:Z=this.repoURL,branch:Y=this.branch,depth:ee=1}={},J){const Q=(0,R.default)(G,"/");try{return(await this.request(`${Z}/git/trees/${Y}:${encodeURIComponent(Q)}`,{params:ee>1?{recursive:1}:{}})).tree.filter(te=>(!!J||te.type==="blob")&&decodeURIComponent(te.path).split("/").length<=ee).map(te=>({type:te.type,id:te.sha,name:(0,j.basename)(te.path),path:`${Q}/${te.path}`,size:te.size}))}catch(te){if(te&&te.status===404)return console.info("[StaticCMS] This 404 was expected and handled appropriately."),[];throw te}}async persistFiles(G,Z,Y){const ee=Z.concat(G),J=await this.getChangeFileOperations(ee,this.branch);return this.changeFiles(J,Y)}async changeFiles(G,Z){return await this.request(`${this.repoURL}/contents`,{method:"POST",body:JSON.stringify({branch:this.branch,files:G,message:Z.commitMessage})})}async getChangeFileOperations(G,Z){return await Promise.all(G.map(async Y=>{const ee=await(0,P.default)(Y,"toBase64",(0,O.default)(this.toBase64,Y.raw));let J,Q,te,se=(0,I.default)(Y.path,"/");try{J=await this.getFileSha(Y.path,{branch:Z}),Q=B.UPDATE,te=Y.newPath&&se,se=Y.newPath?(0,I.default)(Y.newPath,"/"):se}catch{J=void 0,Q=B.CREATE}return{operation:Q,content:ee,path:se,from_path:te,sha:J}}))}async getFileSha(G,{repoURL:Z=this.repoURL,branch:Y=this.branch}={}){const ee=G.split("/"),J=(0,T.default)(ee),Q=(0,A.default)(ee).join("/"),te=`${Z}/git/trees/${Y}:${encodeURIComponent(Q)}`,se=(await this.request(te)).tree.find(de=>de.path===J);if(se)return se.sha;throw new j.APIError("Not Found",404,q)}async deleteFiles(G,Z){const Y=await Promise.all(G.map(async ee=>{const J=await this.getFileSha(ee);return{operation:B.DELETE,path:ee,sha:J}}));this.changeFiles(Y,{commitMessage:Z})}toBase64(G){return Promise.resolve(N.Base64.encode(G))}}E.default=W,F(W,"DEFAULT_COMMIT_MESSAGE","Automatically generated by Static CMS")},29961:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=N(_(70894)),T=N(_(12244)),O=N(_(13980)),P=_(76320),R=_(30762),I=_(28165);function N(V){return V&&V.__esModule?V:{default:V}}function j(V,F,q){var B;return(F=typeof(B=function(W,H){if(typeof W!="object"||!W)return W;var G=W[Symbol.toPrimitive];if(G!==void 0){var Z=G.call(W,"string");if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(F))=="symbol"?B:String(B))in V?Object.defineProperty(V,F,{value:q,enumerable:!0,configurable:!0,writable:!0}):V[F]=q,V}const U=(0,A.default)(R.Icon,{target:"es1j68m0",label:"LoginButtonIcon"})({name:"1gnqu05",styles:"margin-right:18px"});class z extends T.default.Component{constructor(...F){super(...F),j(this,"state",{}),j(this,"handleLogin",q=>{q.preventDefault(),this.auth.authenticate({scope:"repository"},(B,W)=>{B?this.setState({loginError:B.toString()}):this.props.onLogin(W)})})}componentDidMount(){const{base_url:F="https://try.gitea.io",app_id:q=""}=this.props.config.backend;this.auth=new P.PkceAuthenticator({base_url:F,auth_endpoint:"login/oauth/authorize",app_id:q,auth_token_endpoint:"login/oauth/access_token",auth_token_endpoint_content_type:"application/json; charset=utf-8"}),this.auth.completeAuth((B,W)=>{B?this.setState({loginError:B.toString()}):W&&this.props.onLogin(W)})}render(){const{inProgress:F,config:q,t:B}=this.props;return(0,I.jsx)(R.AuthenticationPage,{onLogin:this.handleLogin,loginDisabled:F,loginErrorMessage:this.state.loginError,logoUrl:q.logo_url,siteUrl:q.site_url,renderButtonContent:()=>(0,I.jsx)(T.default.Fragment,null,(0,I.jsx)(U,{type:"gitea"})," ",B(F?"auth.loggingIn":"auth.loginWithGitea")),t:B})}}E.default=z,j(z,"propTypes",{inProgress:O.default.bool,config:O.default.object.isRequired,onLogin:O.default.func.isRequired,t:O.default.func.isRequired})},83972:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=_(13856),T=j(_(93433)),O=j(_(63252)),P=_(33806),R=function(F,q){if(F&&F.__esModule)return F;if(F===null||typeof F!="object"&&typeof F!="function")return{default:F};var B=N(q);if(B&&B.has(F))return B.get(F);var W={__proto__:null},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in F)if(G!=="default"&&Object.prototype.hasOwnProperty.call(F,G)){var Z=H?Object.getOwnPropertyDescriptor(F,G):null;Z&&(Z.get||Z.set)?Object.defineProperty(W,G,Z):W[G]=F[G]}return W.default=F,B&&B.set(F,W),W}(_(66141)),I=j(_(29961));function N(F){if(typeof WeakMap!="function")return null;var q=new WeakMap,B=new WeakMap;return(N=function(W){return W?B:q})(F)}function j(F){return F&&F.__esModule?F:{default:F}}function U(F,q){var B=Object.keys(F);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(F);q&&(W=W.filter(function(H){return Object.getOwnPropertyDescriptor(F,H).enumerable})),B.push.apply(B,W)}return B}function z(F,q,B){var W;return(q=typeof(W=function(H,G){if(typeof H!="object"||!H)return H;var Z=H[Symbol.toPrimitive];if(Z!==void 0){var Y=Z.call(H,"string");if(typeof Y!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(q))=="symbol"?W:String(W))in F?Object.defineProperty(F,q,{value:B,enumerable:!0,configurable:!0,writable:!0}):F[q]=B,F}const{fetchWithTimeout:V}=P.unsentRequest;E.default=class{constructor(F,q={}){var B;if(z(this,"lock",void 0),z(this,"api",void 0),z(this,"options",void 0),z(this,"originRepo",void 0),z(this,"repo",void 0),z(this,"branch",void 0),z(this,"apiRoot",void 0),z(this,"mediaFolder",void 0),z(this,"token",void 0),z(this,"_currentUserPromise",void 0),z(this,"_userIsOriginMaintainerPromises",void 0),z(this,"_mediaDisplayURLSem",void 0),z(this,"getCursorAndFiles",(W,H)=>{const G=W.length,Z=Math.ceil(W.length/20),Y=[];return H>1&&(Y.push("prev"),Y.push("first")),H<Z&&(Y.push("next"),Y.push("last")),{cursor:P.Cursor.create({actions:Y,meta:{page:H,count:G,pageSize:20,pageCount:Z},data:{files:W}}),files:W.slice(20*(H-1),20*H)}}),this.options=function(W){for(var H=1;H<arguments.length;H++){var G=arguments[H]!=null?arguments[H]:{};H%2?U(Object(G),!0).forEach(function(Z){z(W,Z,G[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(G)):U(Object(G)).forEach(function(Z){Object.defineProperty(W,Z,Object.getOwnPropertyDescriptor(G,Z))})}return W}({proxied:!1,API:null,useWorkflow:!1},q),!this.options.proxied&&(F.backend.repo===null||F.backend.repo===void 0))throw new Error('The Gitea backend needs a "repo" in the backend configuration.');if(this.options.useWorkflow)throw new Error("The Gitea backend does not support editorial workflow.");this.api=this.options.API||null,this.repo=this.originRepo=F.backend.repo||"",this.branch=((B=F.backend.branch)===null||B===void 0?void 0:B.trim())||"master",this.apiRoot=F.backend.api_root||"https://try.gitea.io/api/v1",this.token="",this.mediaFolder=F.media_folder,this.lock=(0,P.asyncLock)()}isGitBackend(){return!0}async status(){var F;return{auth:{status:await((F=this.api)===null||F===void 0?void 0:F.user().then(q=>!!q).catch(q=>(console.warn("[StaticCMS] Failed getting Gitea user",q),!1)))||!1},api:{status:!0,statusPage:""}}}authComponent(){return I.default}restoreUser(F){return this.authenticate(F)}async currentUser({token:F}){return this._currentUserPromise||(this._currentUserPromise=V(`${this.apiRoot}/user`,{headers:{Authorization:`token ${F}`}}).then(q=>q.json())),this._currentUserPromise}async userIsOriginMaintainer({username:F,token:q}){const B=F||(await this.currentUser({token:q})).login;return this._userIsOriginMaintainerPromises=this._userIsOriginMaintainerPromises||{},this._userIsOriginMaintainerPromises[B]||(this._userIsOriginMaintainerPromises[B]=V(`${this.apiRoot}/repos/${this.originRepo}/collaborators/${B}/permission`,{headers:{Authorization:`token ${q}`}}).then(W=>W.json()).then(({permission:W})=>W==="admin"||W==="write")),this._userIsOriginMaintainerPromises[B]}async authenticate(F){this.token=F.token;const q=R.default;this.api=new q({token:this.token,branch:this.branch,repo:this.repo,originRepo:this.originRepo,apiRoot:this.apiRoot});const B=await this.api.user();if(!await this.api.hasWriteAccess().catch(W=>{throw W.message=A.stripIndent`
        Repo "${this.repo}" not found.

        Please ensure the repo information is spelled correctly.

        If the repo is private, make sure you're logged into a Gitea account with access.

        If your repo is under an organization, ensure the organization has granted access to Static
        CMS.
      `,W}))throw new Error("Your Gitea user account does not have access to this repo.");return{name:B.full_name,login:B.login,avatar_url:B.avatar_url,token:F.token}}logout(){if(this.token=null,this.api&&this.api.reset&&typeof this.api.reset=="function")return this.api.reset()}getToken(){return Promise.resolve(this.token)}async entriesByFolder(F,q,B){const W=this.api.originRepoURL;let H;const G=await(0,P.entriesByFolder)(()=>this.api.listFiles(F,{repoURL:W,depth:B}).then(Z=>{const Y=Z.filter(J=>(0,P.filterByExtension)(J,q)),ee=this.getCursorAndFiles(Y,1);return H=ee.cursor,ee.files}),(Z,Y)=>this.api.readFile(Z,Y,{repoURL:W}),this.api.readFileMetadata.bind(this.api),R.API_NAME);return G[P.CURSOR_COMPATIBILITY_SYMBOL]=H,G}async allEntriesByFolder(F,q,B){const W=this.api.originRepoURL;return await(0,P.entriesByFolder)(()=>this.api.listFiles(F,{repoURL:W,depth:B}).then(H=>H.filter(G=>(0,P.filterByExtension)(G,q))),(H,G)=>this.api.readFile(H,G,{repoURL:W}),this.api.readFileMetadata.bind(this.api),R.API_NAME)}entriesByFiles(F){const q=this.api.repoURL;return(0,P.entriesByFiles)(F,(B,W)=>this.api.readFile(B,W,{repoURL:q}).catch(()=>""),this.api.readFileMetadata.bind(this.api),R.API_NAME)}getEntry(F){const q=this.api.originRepoURL;return this.api.readFile(F,null,{repoURL:q}).then(B=>({file:{path:F,id:null},data:B})).catch(()=>({file:{path:F,id:null},data:""}))}async getMedia(F=this.mediaFolder,q){return F?this.api.listFiles(F,void 0,q).then(B=>B.map(({id:W,name:H,size:G,path:Z,type:Y})=>({id:W,name:H,size:G,displayURL:{id:W,path:Z},path:Z,isDirectory:Y==="tree"}))):[]}async getMediaFile(F){const q=await(0,P.getMediaAsBlob)(F,null,this.api.readFile.bind(this.api)),B=(0,P.basename)(F),W=(0,P.blobToFileObj)(B,q),H=URL.createObjectURL(W);return{id:await(0,P.getBlobSHA)(q),displayURL:H,path:F,name:B,size:W.size,file:W,url:H}}getMediaDisplayURL(F){return this._mediaDisplayURLSem=this._mediaDisplayURLSem||(0,O.default)(10),(0,P.getMediaDisplayURL)(F,this.api.readFile.bind(this.api),this._mediaDisplayURLSem)}persistEntry(F,q){return(0,P.runWithLock)(this.lock,()=>this.api.persistFiles(F.dataFiles,F.assets,q),"Failed to acquire persist entry lock")}async persistMedia(F,q){try{await this.api.persistFiles([],[F],q);const{sha:B,path:W,fileObj:H}=F,G=URL.createObjectURL(H);return{id:B,name:H.name,size:H.size,displayURL:G,path:(0,T.default)(W,"/")}}catch(B){throw console.error(B),B}}deleteFiles(F,q){return this.api.deleteFiles(F,q)}async traverseCursor(F,q){const B=F.meta,W=F.data.get("files").toJS();let H;switch(q){case"first":default:H=this.getCursorAndFiles(W,1);break;case"last":H=this.getCursorAndFiles(W,B.get("pageCount"));break;case"next":H=this.getCursorAndFiles(W,B.get("page")+1);break;case"prev":H=this.getCursorAndFiles(W,B.get("page")-1)}return{entries:await(0,P.entriesByFiles)(H.files,(G,Z)=>this.api.readFile(G,Z,{repoURL:this.api.originRepoURL}).catch(()=>""),this.api.readFileMetadata.bind(this.api),R.API_NAME),cursor:H.cursor}}async unpublishedEntries(){return{}}async unpublishedEntry(){return{}}async unpublishedEntryDataFile(){return{}}async unpublishedEntryMediaFile(){return{}}async updateUnpublishedEntryStatus(){}async publishUnpublishedEntry(){}async deleteUnpublishedEntry(){}async getDeployPreview(){return{}}}},38589:($,E,_)=>{Object.defineProperty(E,"bu",{enumerable:!0,get:function(){return A.default}});var A=T(_(83972));T(_(66141)),T(_(29961));function T(O){return O&&O.__esModule?O:{default:O}}},33870:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.PullRequestState=E.MOCK_PULL_REQUEST=E.API_NAME=void 0;var A=F(_(5648)),T=F(_(93433)),O=F(_(36346)),P=F(_(83465)),R=F(_(56974)),I=F(_(87613)),N=_(95978),j=F(_(63252)),U=_(13856),z=_(33806),V=_(21023);function F(se){return se&&se.__esModule?se:{default:se}}function q(se,de){var ie=Object.keys(se);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(se);de&&(ve=ve.filter(function(xe){return Object.getOwnPropertyDescriptor(se,xe).enumerable})),ie.push.apply(ie,ve)}return ie}function B(se){for(var de=1;de<arguments.length;de++){var ie=arguments[de]!=null?arguments[de]:{};de%2?q(Object(ie),!0).forEach(function(ve){W(se,ve,ie[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(ie)):q(Object(ie)).forEach(function(ve){Object.defineProperty(se,ve,Object.getOwnPropertyDescriptor(ie,ve))})}return se}function W(se,de,ie){var ve;return(de=typeof(ve=function(xe,ke){if(typeof xe!="object"||!xe)return xe;var Ce=xe[Symbol.toPrimitive];if(Ce!==void 0){var Oe=Ce.call(xe,"string");if(typeof Oe!="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(xe)}(de))=="symbol"?ve:String(ve))in se?Object.defineProperty(se,de,{value:ie,enumerable:!0,configurable:!0,writable:!0}):se[de]=ie,se}const H=E.API_NAME="GitHub",G=E.MOCK_PULL_REQUEST=-1;var Z=function(se){return se.Error="error",se.Failure="failure",se.Pending="pending",se.Success="success",se}(Z||{});let Y=E.PullRequestState=function(se){return se.Open="open",se.Closed="closed",se.All="all",se}({});function ee(se,de){return se.labels.some(ie=>(0,z.isCMSLabel)(ie.name,de))}function J(se){return se.reduce((de,ie)=>(ie.status==="removed"?de.push({sha:null,path:ie.filename}):ie.status==="renamed"?(de.push({sha:null,path:ie.previous_filename}),de.push({sha:ie.sha,path:ie.filename})):de.push({sha:ie.sha,path:ie.filename}),de),[])}let Q=!1;class te{constructor(de){W(this,"apiRoot",void 0),W(this,"token",void 0),W(this,"tokenKeyword",void 0),W(this,"branch",void 0),W(this,"useOpenAuthoring",void 0),W(this,"repo",void 0),W(this,"originRepo",void 0),W(this,"repoOwner",void 0),W(this,"repoName",void 0),W(this,"originRepoOwner",void 0),W(this,"originRepoName",void 0),W(this,"repoURL",void 0),W(this,"originRepoURL",void 0),W(this,"mergeMethod",void 0),W(this,"initialWorkflowStatus",void 0),W(this,"cmsLabelPrefix",void 0),W(this,"baseUrl",void 0),W(this,"getUser",void 0),W(this,"_userPromise",void 0),W(this,"_metadataSemaphore",void 0),W(this,"commitAuthor",void 0),W(this,"filterOpenAuthoringBranches",async xe=>{try{const ke=await this.getBranchPullRequest(xe),{state:Ce,merged_at:Oe}=ke;return ke.number!==G&&Ce===Y.Closed&&Oe?(await this.deleteBranch(xe),{branch:xe,filter:!1}):{branch:xe,filter:!0}}catch{return{branch:xe,filter:!1}}}),this.apiRoot=de.apiRoot||"https://api.github.com",this.token=de.token||"",this.tokenKeyword=de.tokenKeyword||"token",this.branch=de.branch||"master",this.useOpenAuthoring=de.useOpenAuthoring,this.repo=de.repo||"",this.originRepo=de.originRepo||this.repo,this.repoURL=`/repos/${this.repo}`,this.originRepoURL=`/repos/${this.originRepo}`;const[ie,ve]=[this.repo.split("/"),this.originRepo.split("/")];this.repoOwner=ie[0],this.repoName=ie[1],this.originRepoOwner=ve[0],this.originRepoName=ve[1],this.mergeMethod=de.squashMerges?"squash":"merge",this.cmsLabelPrefix=de.cmsLabelPrefix,this.initialWorkflowStatus=de.initialWorkflowStatus,this.baseUrl=de.baseUrl,this.getUser=de.getUser}user(){return this._userPromise||(this._userPromise=this.getUser({token:this.token})),this._userPromise}async hasWriteAccess(){try{const de=await this.request(this.repoURL);return this.repoOwner=de.owner.login,de.permissions.push}catch(de){throw console.error("Problem fetching repo data from GitHub"),de}}reset(){}requestHeaders(de={}){const ie=B({"Content-Type":"application/json; charset=utf-8"},de);return this.token&&(ie.Authorization=`${this.tokenKeyword} ${this.token}`),Promise.resolve(ie)}parseJsonResponse(de){return de.json().then(ie=>de.ok?ie:Promise.reject(ie))}urlFor(de,ie){const ve=[];if(ie.params)for(const xe in ie.params)ve.push(`${xe}=${encodeURIComponent(ie.params[xe])}`);return ve.length&&(de+=`?${ve.join("&")}`),this.apiRoot+de}parseResponse(de){const ie=de.headers.get("Content-Type");return ie&&ie.match(/json/)?this.parseJsonResponse(de):de.text().then(ve=>de.ok?ve:Promise.reject(ve))}handleRequestError(de,ie){throw new z.APIError(de.message,ie,H)}buildRequest(de){return de}async request(de,ie={},ve=xe=>this.parseResponse(xe)){ie=B({cache:"no-cache"},ie);const xe=await this.requestHeaders(ie.headers||{}),ke=this.urlFor(de,ie);let Ce=500;try{const Oe=z.unsentRequest.fromFetchArguments(ke,B(B({},ie),{},{headers:xe})),Ae=await(0,z.requestWithBackoff)(this,Oe);return Ce=Ae.status,await ve(Ae)}catch(Oe){return this.handleRequestError(Oe,Ce)}}nextUrlProcessor(){return de=>de}async requestAllPages(de,ie={}){ie=B({cache:"no-cache"},ie);const ve=await this.requestHeaders(ie.headers||{}),xe=this.urlFor(de,ie),ke=await(0,z.getAllResponses)(xe,B(B({},ie),{},{headers:ve}),"next",this.nextUrlProcessor()),Ce=await Promise.all(ke.map(Oe=>this.parseResponse(Oe)));return[].concat(...Ce)}generateContentKey(de,ie){const ve=(0,z.generateContentKey)(de,ie);return this.useOpenAuthoring?`${this.repo}/${ve}`:ve}parseContentKey(de){return this.useOpenAuthoring?(0,z.parseContentKey)(de.slice(this.repo.length+1)):(0,z.parseContentKey)(de)}checkMetadataRef(){return this.request(`${this.repoURL}/git/refs/meta/_decap_cms`).then(de=>de.object).catch(()=>this.uploadBlob({raw:`# Decap CMS

This tree is used by the Decap CMS to store metadata information for specific files and branches.`}).then(de=>this.request(`${this.repoURL}/git/trees`,{method:"POST",body:JSON.stringify({tree:[{path:"README.md",mode:"100644",type:"blob",sha:de.sha}]})})).then(de=>this.commit("First Commit",de)).then(de=>this.createRef("meta","_decap_cms",de.sha)).then(de=>de.object))}async storeMetadata(de,ie){return this._metadataSemaphore||(this._metadataSemaphore=(0,j.default)(1)),new Promise((ve,xe)=>{var ke;return(ke=this._metadataSemaphore)===null||ke===void 0?void 0:ke.take(async()=>{try{var Ce;const Oe=await this.checkMetadataRef(),Ae={path:`${de}.json`,raw:JSON.stringify(ie)};await this.uploadBlob(Ae);const Pe=await this.updateTree(Oe.sha,[Ae]),{sha:Ee}=await this.commit(`Updating “${de}” metadata`,Pe);await this.patchRef("meta","_decap_cms",Ee),await z.localForage.setItem(`gh.meta.${de}`,{expires:Date.now()+3e5,data:ie}),(Ce=this._metadataSemaphore)===null||Ce===void 0||Ce.leave(),ve()}catch(Oe){xe(Oe)}})})}deleteMetadata(de){return this._metadataSemaphore||(this._metadataSemaphore=(0,j.default)(1)),new Promise(ie=>{var ve;return(ve=this._metadataSemaphore)===null||ve===void 0?void 0:ve.take(async()=>{try{var xe;const Ce=await this.checkMetadataRef(),Oe={path:`${de}.json`,sha:null},Ae=await this.updateTree(Ce.sha,[Oe]),{sha:Pe}=await this.commit(`Deleting “${de}” metadata`,Ae);await this.patchRef("meta","_decap_cms",Pe),(xe=this._metadataSemaphore)===null||xe===void 0||xe.leave(),ie()}catch{var ke;(ke=this._metadataSemaphore)===null||ke===void 0||ke.leave(),ie()}})})}async retrieveMetadataOld(de){console.log("%c Checking for MetaData files","line-height: 30px;text-align: center;font-weight: bold");const ie={params:{ref:"refs/meta/_decap_cms"},headers:{Accept:"application/vnd.github.v3.raw"}};function ve(Ce){throw Ce.message==="Not Found"&&console.log("%c %s does not have metadata","line-height: 30px;text-align: center;font-weight: bold",de),Ce}if(!this.useOpenAuthoring)return await this.request(`${this.repoURL}/contents/${de}.json`,ie).then(Ce=>JSON.parse(Ce)).catch(ve);const[xe,ke]=de.split("/");return this.request(`/repos/${xe}/${ke}/contents/${de}.json`,ie).then(Ce=>JSON.parse(Ce)).catch(ve)}async getPullRequests(de,ie,ve){return(await this.requestAllPages(`${this.originRepoURL}/pulls`,{params:B(B({},de?{head:await this.getHeadReference(de)}:{}),{},{base:this.branch,state:ie,per_page:100})})).filter(xe=>xe.head.ref.startsWith(`${z.CMS_BRANCH_PREFIX}/`)&&ve(xe))}async getOpenAuthoringPullRequest(de,ie){const ve=await this.getBranch(de).catch(()=>{throw new z.EditorialWorkflowError("content is not under editorial workflow",!0)}),xe=ie.filter(ke=>ke.head.sha===ve.commit.sha)[0];if(xe){xe.labels=xe.labels.filter(Ce=>!(0,z.isCMSLabel)(Ce.name,this.cmsLabelPrefix));const ke=xe.state===Y.Closed?{name:(0,z.statusToLabel)(this.initialWorkflowStatus,this.cmsLabelPrefix)}:{name:(0,z.statusToLabel)("pending_review",this.cmsLabelPrefix)};return xe.labels.push(ke),xe}try{return{head:{sha:ve.commit.sha},number:G,labels:[{name:(0,z.statusToLabel)(this.initialWorkflowStatus,this.cmsLabelPrefix)}],state:Y.Open}}catch{throw new z.EditorialWorkflowError("content is not under editorial workflow",!0)}}async getBranchPullRequest(de){if(this.useOpenAuthoring){const ie=await this.getPullRequests(de,Y.All,()=>!0);return this.getOpenAuthoringPullRequest(de,ie)}{const ie=await this.getPullRequests(de,Y.Open,ve=>ee(ve,this.cmsLabelPrefix));if(ie.length<=0)throw new z.EditorialWorkflowError("content is not under editorial workflow",!0);return ie[0]}}async getPullRequestCommits(de){if(de===G)return[];try{return await this.request(`${this.originRepoURL}/pulls/${de}/commits`)}catch(ie){return console.log(ie),[]}}async getPullRequestAuthor(de){var ie;if((ie=de.user)!==null&&ie!==void 0&&ie.login)try{const ve=await this.request(`/users/${de.user.login}`);return ve.name||ve.login}catch{return}}async retrieveUnpublishedEntryData(de){const{collection:ie,slug:ve}=this.parseContentKey(de),xe=(0,z.branchFromContentKey)(de),ke=await this.getBranchPullRequest(xe),[{files:Ce},Oe]=await Promise.all([this.getDifferences(this.branch,ke.head.sha),this.getPullRequestAuthor(ke)]),Ae=await Promise.all(Ce.map(Re=>this.diffFromFile(Re))),Pe=ke.labels.find(Re=>(0,z.isCMSLabel)(Re.name,this.cmsLabelPrefix)),Ee=(0,z.labelToStatus)(Pe.name,this.cmsLabelPrefix),Te=ke.updated_at;return{collection:ie,slug:ve,status:Ee,diffs:Ae.map(Re=>({path:Re.path,newFile:Re.newFile,id:Re.sha})),updatedAt:Te,pullRequestAuthor:Oe}}async readFile(de,ie,{branch:ve=this.branch,repoURL:xe=this.repoURL,parseText:ke=!0}={}){return ie||(ie=await this.getFileSha(de,{repoURL:xe,branch:ve})),await this.fetchBlobContent({sha:ie,repoURL:xe,parseText:ke})}async readFileMetadata(de,ie){return await(0,z.readFileMetadata)(ie,async()=>{try{const ve=await this.request(`${this.originRepoURL}/commits`,{params:{path:de,sha:this.branch}}),{commit:xe}=ve[0];return{author:xe.author.name||xe.author.email,updatedOn:xe.author.date}}catch{return{author:"",updatedOn:""}}},z.localForage)}async fetchBlobContent({sha:de,repoURL:ie,parseText:ve}){const xe=await this.request(`${ie}/git/blobs/${de}`,{cache:"force-cache"});if(ve)return N.Base64.decode(xe.content);{const ke=N.Base64.atob(xe.content),Ce=new Uint8Array(ke.length);for(let Oe=0;Oe<ke.length;Oe++)Ce[Oe]=ke.charCodeAt(Oe);return new Blob([Ce])}}async listFiles(de,{repoURL:ie=this.repoURL,branch:ve=this.branch,depth:xe=1}={}){const ke=(0,A.default)(de,"/");try{return(await this.request(`${ie}/git/trees/${ve}:${ke}`,{params:xe>1?{recursive:1}:{}})).tree.filter(Ce=>Ce.type==="blob"&&Ce.path.split("/").length<=xe).map(Ce=>({type:Ce.type,id:Ce.sha,name:(0,z.basename)(Ce.path),path:`${ke}/${Ce.path}`,size:Ce.size}))}catch(Ce){if(Ce&&Ce.status===404)return console.log("This 404 was expected and handled appropriately."),[];throw Ce}}async migrateToVersion1(de,ie){const ve=de.head.ref.slice(4),xe=`${ie.collection}/${ve}`,ke=`cms/${xe}`;await this.getBranch(ke).catch(()=>{})||await this.createBranch(ke,de.head.sha);const Ce=(await this.getPullRequests(ke,Y.All,()=>!0))[0]||await this.createPR(de.title,ke),Oe=B(B({},ie),{},{pr:{number:Ce.number,head:Ce.head.sha},branch:ke,version:"1"});return await this.storeMetadata(xe,Oe),await this.closePR(de.number),await this.deleteBranch(de.head.ref),await this.deleteMetadata(ve),{metadata:Oe,pullRequest:Ce}}async migrateToPullRequestLabels(de,ie){await this.setPullRequestStatus(de,ie.status);const ve=de.head.ref.slice(4);await this.deleteMetadata(ve)}async migratePullRequest(de,ie){const{number:ve}=de;console.log(`Migrating Pull Request '${ve}' (${ie})`);const xe=(0,z.contentKeyFromBranch)(de.head.ref);let ke=await this.retrieveMetadataOld(xe).catch(()=>{});if(!ke)return void console.log(`Skipped migrating Pull Request '${ve}' (${ie})`);let Ce=ve;if(!ke.version){console.log(`Migrating Pull Request '${ve}' to version 1`);try{({metadata:ke,pullRequest:de}=await this.migrateToVersion1(de,ke))}catch(Oe){return console.log(`Failed to migrate Pull Request '${ve}' to version 1. See error below.`),void console.error(Oe)}Ce=de.number,console.log(`Done migrating Pull Request '${ve}' to version 1. New pull request '${Ce}' created.`)}ke.version==="1"&&(console.log(`Migrating Pull Request '${Ce}' to labels`),await this.migrateToPullRequestLabels(de,ke),console.log(`Done migrating Pull Request '${Ce}' to labels`)),console.log(`Done migrating Pull Request '${ve===Ce?Ce:`${ve} => ${Ce}`}'`)}async getOpenAuthoringBranches(){return await this.requestAllPages(`${this.repoURL}/git/refs/heads/cms/${this.repo}`).catch(()=>[])}async listUnpublishedBranches(){let de;if(console.log("%c Checking for Unpublished entries","line-height: 30px;text-align: center;font-weight: bold"),this.useOpenAuthoring)de=(await this.getOpenAuthoringBranches()).map(ve=>ve.ref.slice(11)),de=(await Promise.all(de.map(ve=>this.filterOpenAuthoringBranches(ve)))).filter(ve=>ve.filter).map(ve=>ve.branch);else{const ie=await this.getPullRequests(void 0,Y.Open,xe=>!xe.head.repo.fork&&function(ke,Ce){return ke.labels.every(Oe=>!(0,z.isCMSLabel)(Oe.name,Ce))}(xe,this.cmsLabelPrefix));let ve=0;for(const xe of ie)Q||(Q=!0,alert(U.oneLine`
            Decap CMS is adding labels to ${ie.length} of your Editorial Workflow
            entries. The "Workflow" tab will be unavailable during this migration. You may use other
            areas of the CMS during this time. Note that closing the CMS will pause the migration.
          `)),ve+=1,await this.migratePullRequest(xe,`${ve} of ${ie.length}`);de=(await this.getPullRequests(void 0,Y.Open,xe=>ee(xe,this.cmsLabelPrefix))).map(xe=>xe.head.ref)}return de}async getStatuses(de,ie){const ve=this.generateContentKey(de,ie),xe=(0,z.branchFromContentKey)(ve),ke=(await this.getBranchPullRequest(xe)).head.sha;return(await this.request(`${this.originRepoURL}/commits/${ke}/status`)).statuses.map(Ce=>({context:Ce.context,target_url:Ce.target_url,state:Ce.state===Z.Success?z.PreviewState.Success:z.PreviewState.Other}))}async persistFiles(de,ie,ve){const xe=ie.concat(de),ke=xe.map(Ce=>this.uploadBlob(Ce));if(await Promise.all(ke),ve.useWorkflow){const Ce=ie.map(({sha:Ae,path:Pe})=>({path:(0,T.default)(Pe,"/"),sha:Ae})),Oe=de[0].slug;return this.editorialWorkflowGit(xe,Oe,Ce,ve)}return this.getDefaultBranch().then(Ce=>this.updateTree(Ce.commit.sha,xe)).then(Ce=>this.commit(ve.commitMessage,Ce)).then(Ce=>this.patchBranch(this.branch,Ce.sha))}async getFileSha(de,{repoURL:ie=this.repoURL,branch:ve=this.branch}={}){const xe=de.split("/"),ke=(0,R.default)(xe),Ce=(0,I.default)(xe).join("/"),Oe=`${ie}/git/trees/${ve}:${encodeURIComponent(Ce)}`,Ae=(await this.request(Oe)).tree.find(Pe=>Pe.path===ke);if(Ae)return Ae.sha;throw new z.APIError("Not Found",404,H)}async deleteFiles(de,ie){if(this.useOpenAuthoring)return Promise.reject("Cannot delete published entries as an Open Authoring user!");const ve=await this.getDefaultBranch(),xe=de.map(Oe=>({path:Oe,sha:null})),ke=await this.updateTree(ve.commit.sha,xe),Ce=await this.commit(ie,ke);await this.patchBranch(this.branch,Ce.sha)}async createBranchAndPullRequest(de,ie,ve){return await this.createBranch(de,ie),this.createPR(ve,de)}async updatePullRequestLabels(de,ie){await this.request(`${this.repoURL}/issues/${de}/labels`,{method:"PUT",body:JSON.stringify({labels:ie})})}async diffFromFile(de){return{path:de.filename,newFile:de.status==="added",sha:de.sha,binary:de.status!=="renamed"&&!de.patch||de.filename.endsWith(".svg")}}async editorialWorkflowGit(de,ie,ve,xe){const ke=this.generateContentKey(xe.collectionName,ie),Ce=(0,z.branchFromContentKey)(ke);if(xe.unpublished){const{files:Oe}=await this.getDifferences(this.branch,await this.getHeadReference(Ce)),Ae=await Promise.all(Oe.map(ze=>this.diffFromFile(ze))),Pe=[];for(const ze of Ae.filter(Le=>Le.binary))ve.some(Le=>Le.path===ze.path)||Pe.push({path:ze.path,sha:null});const Ee=await this.rebaseBranch(Ce),Te=Pe.concat(de),Re=await this.updateTree(Ee.sha,Te,Ce),Me=await this.commit(xe.commitMessage,Re);return this.patchBranch(Ce,Me.sha,{force:!0})}{const Oe=await this.getDefaultBranch(),Ae=await this.updateTree(Oe.commit.sha,de),Pe=await this.commit(xe.commitMessage,Ae);if(this.useOpenAuthoring)await this.createBranch(Ce,Pe.sha);else{const Ee=await this.createBranchAndPullRequest(Ce,Pe.sha,xe.commitMessage);await this.setPullRequestStatus(Ee,xe.status||this.initialWorkflowStatus)}}}async getDifferences(de,ie){const ve=this.useOpenAuthoring?10:1;for(let xe=1;xe<=ve;xe++)try{return await this.request(`${this.originRepoURL}/compare/${de}...${ie}`)}catch(ke){if(xe===ve)throw console.warn(`Reached maximum number of attempts '${ve}' for getDifferences`),ke;await new Promise(Ce=>setTimeout(Ce,500*xe))}throw new z.APIError("Not Found",404,H)}async rebaseSingleCommit(de,ie){const ve=J((await this.getDifferences(ie.parents[0].sha,ie.sha)).files);if(ve.length>0){const xe=await this.updateTree(de.sha,ve),{message:ke,author:Ce,committer:Oe}=ie.commit;return await this.createCommit(ke,xe.sha,[de.sha],Ce,Oe)}return ie}async rebaseCommits(de,ie){return ie.length===0||ie[0].parents[0].sha===de.sha?(0,R.default)(ie):ie.reduce((ve,xe)=>ve.then(ke=>{const Ce=ke,Oe=xe;return this.rebaseSingleCommit(Ce,Oe)}),Promise.resolve(de))}async rebaseBranch(de){try{const{base_commit:ie,commits:ve}=await this.getDifferences(this.branch,await this.getHeadReference(de));return await this.rebaseCommits(ie,ve)}catch(ie){throw console.error(ie),ie}}async setPullRequestStatus(de,ie){const ve=[...de.labels.filter(xe=>!(0,z.isCMSLabel)(xe.name,this.cmsLabelPrefix)).map(xe=>xe.name),(0,z.statusToLabel)(ie,this.cmsLabelPrefix)];await this.updatePullRequestLabels(de.number,ve)}async updateUnpublishedEntryStatus(de,ie,ve){const xe=this.generateContentKey(de,ie),ke=(0,z.branchFromContentKey)(xe),Ce=await this.getBranchPullRequest(ke);if(this.useOpenAuthoring){if(status==="pending_publish")throw new Error('Open Authoring entries may not be set to the status "pending_publish".');if(Ce.number!==G){const{state:Pe}=Ce;Pe===Y.Open&&ve==="draft"&&await this.closePR(Ce.number),Pe===Y.Closed&&ve==="pending_review"&&await this.openPR(Ce.number)}else if(ve==="pending_review"){var Oe,Ae;const Pe=(0,z.branchFromContentKey)(xe),Ee=((Oe=(await this.getDifferences(this.branch,await this.getHeadReference(Pe))).commits[0])===null||Oe===void 0||(Ae=Oe.commit)===null||Ae===void 0?void 0:Ae.message)||te.DEFAULT_COMMIT_MESSAGE;await this.createPR(Ee,Pe)}}else await this.setPullRequestStatus(Ce,ve)}async deleteUnpublishedEntry(de,ie){const ve=this.generateContentKey(de,ie),xe=(0,z.branchFromContentKey)(ve),ke=await this.getBranchPullRequest(xe);ke.number!==G&&await this.closePR(ke.number),await this.deleteBranch(xe)}async publishUnpublishedEntry(de,ie){const ve=this.generateContentKey(de,ie),xe=(0,z.branchFromContentKey)(ve),ke=await this.getBranchPullRequest(xe);await this.mergePR(ke),await this.deleteBranch(xe)}async createRef(de,ie,ve){return await this.request(`${this.repoURL}/git/refs`,{method:"POST",body:JSON.stringify({ref:`refs/${de}/${ie}`,sha:ve})})}async patchRef(de,ie,ve,xe={}){const ke=xe.force||!1;return await this.request(`${this.repoURL}/git/refs/${de}/${encodeURIComponent(ie)}`,{method:"PATCH",body:JSON.stringify({sha:ve,force:ke})})}deleteRef(de,ie){return this.request(`${this.repoURL}/git/refs/${de}/${encodeURIComponent(ie)}`,{method:"DELETE"})}async getBranch(de){return await this.request(`${this.repoURL}/branches/${encodeURIComponent(de)}`)}async getDefaultBranch(){return await this.request(`${this.originRepoURL}/branches/${encodeURIComponent(this.branch)}`)}async backupBranch(de){try{const ie=await this.getBranch(de);await this.createBranch(ie.name.replace(new RegExp(`${z.CMS_BRANCH_PREFIX}/`),`${z.CMS_BRANCH_PREFIX}_${Date.now()}/`),ie.commit.sha)}catch(ie){console.warn(ie)}}async createBranch(de,ie){try{return await this.createRef("heads",de,ie)}catch(ve){const xe=String(ve.message||"");if(xe==="Reference update failed")await(0,z.throwOnConflictingBranches)(de,ke=>this.getBranch(ke),H);else if(xe==="Reference already exists"&&de.startsWith(`${z.CMS_BRANCH_PREFIX}/`))try{return await this.backupBranch(de),await this.patchBranch(de,ie,{force:!0})}catch(ke){console.log(ke)}throw ve}}assertCmsBranch(de){return de.startsWith(`${z.CMS_BRANCH_PREFIX}/`)}patchBranch(de,ie,ve={}){const xe=ve.force||!1;if(xe&&!this.assertCmsBranch(de))throw Error(`Only CMS branches can be force updated, cannot force update ${de}`);return this.patchRef("heads",de,ie,{force:xe})}deleteBranch(de){return this.deleteRef("heads",de).catch(ie=>ie.message==="Reference does not exist"?Promise.resolve():(console.error(ie),Promise.reject(ie)))}async getHeadReference(de){return`${this.repoOwner}:${de}`}async createPR(de,ie){return await this.request(`${this.originRepoURL}/pulls`,{method:"POST",body:JSON.stringify({title:de,body:z.DEFAULT_PR_BODY,head:await this.getHeadReference(ie),base:this.branch})})}async openPR(de){return console.log("%c Re-opening PR","line-height: 30px;text-align: center;font-weight: bold"),await this.request(`${this.originRepoURL}/pulls/${de}`,{method:"PATCH",body:JSON.stringify({state:Y.Open})})}async closePR(de){return console.log("%c Deleting PR","line-height: 30px;text-align: center;font-weight: bold"),await this.request(`${this.originRepoURL}/pulls/${de}`,{method:"PATCH",body:JSON.stringify({state:Y.Closed})})}async mergePR(de){console.log("%c Merging PR","line-height: 30px;text-align: center;font-weight: bold");try{return await this.request(`${this.originRepoURL}/pulls/${de.number}/merge`,{method:"PUT",body:JSON.stringify({commit_message:z.MERGE_COMMIT_MESSAGE,sha:de.head.sha,merge_method:this.mergeMethod})})}catch(ie){if(ie instanceof z.APIError&&ie.status===405)return this.forceMergePR(de);throw ie}}async forceMergePR(de){const ie=J((await this.getDifferences(de.base.sha,de.head.sha)).files);let ve=`Automatically generated. Merged on Decap CMS

Force merge of:`;return ie.forEach(xe=>{ve+=`
* "${xe.path}"`}),console.log("%c Automatic merge not possible - Forcing merge.","line-height: 30px;text-align: center;font-weight: bold"),this.getDefaultBranch().then(xe=>this.updateTree(xe.commit.sha,ie)).then(xe=>this.commit(ve,xe)).then(xe=>this.patchBranch(this.branch,xe.sha))}toBase64(de){return Promise.resolve(N.Base64.encode(de))}async uploadBlob(de){const ie=await(0,O.default)(de,"toBase64",(0,P.default)(this.toBase64,de.raw)),ve=await this.request(`${this.repoURL}/git/blobs`,{method:"POST",body:JSON.stringify({content:ie,encoding:"base64"})});return de.sha=ve.sha,de}async updateTree(de,ie,ve=this.branch){const xe=[],ke=ie.reduce((Ce,Oe)=>{const Ae={path:(0,T.default)(Oe.path,"/"),mode:"100644",type:"blob",sha:Oe.sha};return Oe.newPath?xe.push({from:Oe.path,to:Oe.newPath,sha:Oe.sha}):Ce.push(Ae),Ce},[]);for(const{from:Ce,to:Oe,sha:Ae}of xe){const Pe=(0,V.dirname)(Ce),Ee=(0,V.dirname)(Oe),Te=await this.listFiles(Pe,{branch:ve,depth:100});for(const Re of Te)ke.push({path:Re.path,mode:"100644",type:"blob",sha:null}),ke.push({path:Re.path.replace(Pe,Ee),mode:"100644",type:"blob",sha:Re.path===Ce?Ae:Re.id})}return B(B({},await this.createTree(de,ke)),{},{parentSha:de})}async createTree(de,ie){return await this.request(`${this.repoURL}/git/trees`,{method:"POST",body:JSON.stringify({base_tree:de,tree:ie})})}commit(de,ie){const ve=ie.parentSha?[ie.parentSha]:[];return this.createCommit(de,ie.sha,ve)}async createCommit(de,ie,ve,xe,ke){return await this.request(`${this.repoURL}/git/commits`,{method:"POST",body:JSON.stringify({message:de,tree:ie,parents:ve,author:xe,committer:ke})})}async getUnpublishedEntrySha(de,ie){const ve=this.generateContentKey(de,ie),xe=(0,z.branchFromContentKey)(ve);return(await this.getBranchPullRequest(xe)).head.sha}}E.default=te,W(te,"DEFAULT_COMMIT_MESSAGE","Automatically generated by Decap CMS")},99312:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=N(_(70894)),T=N(_(12244)),O=N(_(13980)),P=_(76320),R=_(30762),I=_(28165);function N(B){return B&&B.__esModule?B:{default:B}}function j(){return j=Object.assign?Object.assign.bind():function(B){for(var W=1;W<arguments.length;W++){var H=arguments[W];for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&(B[G]=H[G])}return B},j.apply(this,arguments)}function U(B,W,H){var G;return(W=typeof(G=function(Z,Y){if(typeof Z!="object"||!Z)return Z;var ee=Z[Symbol.toPrimitive];if(ee!==void 0){var J=ee.call(Z,"string");if(typeof J!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(W))=="symbol"?G:String(G))in B?Object.defineProperty(B,W,{value:H,enumerable:!0,configurable:!0,writable:!0}):B[W]=H,B}const z=(0,A.default)(R.Icon,{target:"e1ko648l2",label:"LoginButtonIcon"})({name:"1gnqu05",styles:"margin-right:18px"}),V=(0,A.default)("div",{target:"e1ko648l1",label:"ForkApprovalContainer"})({name:"13alw87",styles:"display:flex;flex-flow:column nowrap;justify-content:space-around;flex-grow:0.2"}),F=(0,A.default)("div",{target:"e1ko648l0",label:"ForkButtonsContainer"})({name:"125bg8c",styles:"display:flex;flex-flow:column nowrap;justify-content:space-around;align-items:center"});class q extends T.default.Component{constructor(...W){super(...W),U(this,"state",{}),U(this,"getPermissionToFork",()=>new Promise((H,G)=>{this.setState({requestingFork:!0,approveFork:()=>{this.setState({requestingFork:!1}),H()},refuseFork:()=>{this.setState({requestingFork:!1}),G()}})})),U(this,"handleLogin",H=>{H.preventDefault();const G={base_url:this.props.base_url,site_id:document.location.host.split(":")[0]==="localhost"?"demo.decapcms.org":this.props.siteId,auth_endpoint:this.props.authEndpoint},Z=new P.NetlifyAuthenticator(G),{open_authoring:Y=!1,auth_scope:ee=""}=this.props.config.backend,J=ee||(Y?"public_repo":"repo");Z.authenticate({provider:"github",scope:J},(Q,te)=>{if(!Q)return Y?this.loginWithOpenAuthoring(te).then(()=>this.props.onLogin(te)):void this.props.onLogin(te);this.setState({loginError:Q.toString()})})}),U(this,"renderLoginButton",()=>{const{inProgress:H,t:G}=this.props;return H||this.state.findingFork?G("auth.loggingIn"):(0,I.jsx)(T.default.Fragment,null,(0,I.jsx)(z,{type:"github"}),G("auth.loginWithGitHub"))})}loginWithOpenAuthoring(W){const{backend:H}=this.props;return this.setState({findingFork:!0}),H.authenticateWithFork({userData:W,getPermissionToFork:this.getPermissionToFork}).catch(G=>{throw this.setState({findingFork:!1}),console.error(G),G})}getAuthenticationPageRenderArgs(){const{requestingFork:W}=this.state;if(W){const{approveFork:H,refuseFork:G}=this.state;return{renderPageContent:({LoginButton:Z,TextButton:Y,showAbortButton:ee})=>(0,I.jsx)(V,null,(0,I.jsx)("p",null,"Open Authoring is enabled: we need to use a fork on your github account. (If a fork already exists, we'll use that.)"),(0,I.jsx)(F,null,(0,I.jsx)(Z,{onClick:H},"Fork the repo"),ee&&(0,I.jsx)(Y,{onClick:G},"Don't fork the repo")))}}return{renderButtonContent:this.renderLoginButton}}render(){const{inProgress:W,config:H,t:G}=this.props,{loginError:Z,requestingFork:Y,findingFork:ee}=this.state;return(0,I.jsx)(R.AuthenticationPage,j({onLogin:this.handleLogin,loginDisabled:W||ee||Y,loginErrorMessage:Z,logoUrl:H.logo_url,siteUrl:H.site_url},this.getAuthenticationPageRenderArgs(),{t:G}))}}E.default=q,U(q,"propTypes",{onLogin:O.default.func.isRequired,inProgress:O.default.bool,base_url:O.default.string,siteId:O.default.string,authEndpoint:O.default.string,config:O.default.object.isRequired,clearHash:O.default.func,t:O.default.func.isRequired})},24759:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=B(_(93433)),T=B(_(5648)),O=_(34600),P=_(70468),R=_(29206),I=_(96044),N=_(33806),j=B(_(16336)),U=q(_(33870)),z=q(_(66654)),V=q(_(61526));function F(te){if(typeof WeakMap!="function")return null;var se=new WeakMap,de=new WeakMap;return(F=function(ie){return ie?de:se})(te)}function q(te,se){if(te&&te.__esModule)return te;if(te===null||typeof te!="object"&&typeof te!="function")return{default:te};var de=F(se);if(de&&de.has(te))return de.get(te);var ie={__proto__:null},ve=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var xe in te)if(xe!=="default"&&Object.prototype.hasOwnProperty.call(te,xe)){var ke=ve?Object.getOwnPropertyDescriptor(te,xe):null;ke&&(ke.get||ke.set)?Object.defineProperty(ie,xe,ke):ie[xe]=te[xe]}return ie.default=te,de&&de.set(te,ie),ie}function B(te){return te&&te.__esModule?te:{default:te}}function W(te,se){var de=Object.keys(te);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(te);se&&(ie=ie.filter(function(ve){return Object.getOwnPropertyDescriptor(te,ve).enumerable})),de.push.apply(de,ie)}return de}function H(te){for(var se=1;se<arguments.length;se++){var de=arguments[se]!=null?arguments[se]:{};se%2?W(Object(de),!0).forEach(function(ie){G(te,ie,de[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(de)):W(Object(de)).forEach(function(ie){Object.defineProperty(te,ie,Object.getOwnPropertyDescriptor(de,ie))})}return te}function G(te,se,de){var ie;return(se=typeof(ie=function(ve,xe){if(typeof ve!="object"||!ve)return ve;var ke=ve[Symbol.toPrimitive];if(ke!==void 0){var Ce=ke.call(ve,"string");if(typeof Ce!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(se))=="symbol"?ie:String(ie))in te?Object.defineProperty(te,se,{value:de,enumerable:!0,configurable:!0,writable:!0}):te[se]=de,te}const Z="no-cache",Y="cache-first",ee=new P.IntrospectionFragmentMatcher({introspectionQueryResultData:j.default});function J(te){return H(H({},te),{},{labels:te.labels.nodes,head:{ref:te.headRefName,sha:te.headRefOid,repo:{fork:te.repository.isFork}},base:{ref:te.baseRefName,sha:te.baseRefOid}})}class Q extends U.default{constructor(se){super(se),G(this,"client",void 0),this.client=this.getApolloClient()}getApolloClient(){const se=(0,I.setContext)((ie,{headers:ve})=>({headers:H(H({"Content-Type":"application/json; charset=utf-8"},ve),{},{authorization:this.token?`${this.tokenKeyword} ${this.token}`:""})})),de=(0,R.createHttpLink)({uri:`${this.apiRoot}/graphql`});return new O.ApolloClient({link:se.concat(de),cache:new P.InMemoryCache({fragmentMatcher:ee}),defaultOptions:{watchQuery:{fetchPolicy:Z,errorPolicy:"ignore"},query:{fetchPolicy:Z,errorPolicy:"all"}}})}reset(){return this.client.resetStore()}async getRepository(se,de){const{data:ie}=await this.query({query:z.repository,variables:{owner:se,name:de},fetchPolicy:Y});return ie.repository}query(se){return this.client.query(se).catch(de=>{throw new N.APIError(de.message,500,"GitHub")})}async mutate(se){try{return await this.client.mutate(se)}catch(Oe){const Ae=Oe.graphQLErrors;if(Array.isArray(Ae)&&Ae.some(Pe=>Pe.message==="Ref cannot be created.")){var de,ie;const Pe=(se==null||(de=se.variables)===null||de===void 0||(ie=de.createRefInput)===null||ie===void 0?void 0:ie.name)||"",Ee=(0,A.default)(Pe,"refs/heads/");Ee&&await(0,N.throwOnConflictingBranches)(Ee,Te=>this.getBranch(Te),U.API_NAME)}else if(Array.isArray(Ae)&&Ae.some(Pe=>new RegExp(`A ref named "refs/heads/${N.CMS_BRANCH_PREFIX}/.+?" already exists in the repository.`).test(Pe.message))){var ve,xe,ke,Ce;const Pe=(se==null||(ve=se.variables)===null||ve===void 0||(xe=ve.createRefInput)===null||xe===void 0?void 0:xe.name)||"",Ee=(se==null||(ke=se.variables)===null||ke===void 0||(Ce=ke.createRefInput)===null||Ce===void 0?void 0:Ce.oid)||"",Te=(0,A.default)(Pe,"refs/heads/");if(Te&&Te.startsWith(`${N.CMS_BRANCH_PREFIX}/`)&&Ee)try{return await this.backupBranch(Te),await this.deleteBranch(Te),await this.client.mutate(se)}catch(Re){console.log(Re)}}throw new N.APIError(Oe.message,500,"GitHub")}}async hasWriteAccess(){const{repoOwner:se,repoName:de}=this;try{const{data:ie}=await this.query({query:z.repoPermission,variables:{owner:se,name:de},fetchPolicy:Y}),{viewerPermission:ve}=ie.repository;return["ADMIN","MAINTAIN","WRITE"].includes(ve)}catch(ie){throw console.error("Problem fetching repo data from GitHub"),ie}}async user(){const{data:se}=await this.query({query:z.user,fetchPolicy:Y});return se.viewer}async retrieveBlobObject(se,de,ie,ve={}){const{data:xe}=await this.query(H({query:z.blob,variables:{owner:se,name:de,expression:ie}},ve));if(xe.repository.object){const{is_binary:ke,text:Ce}=xe.repository.object;return{isNull:!1,isBinary:ke,text:Ce}}return{isNull:!0}}getOwnerAndNameFromRepoUrl(se){let{repoOwner:de,repoName:ie}=this;return se===this.originRepoURL&&({originRepoOwner:de,originRepoName:ie}=this),{owner:de,name:ie}}async readFile(se,de,{branch:ie=this.branch,repoURL:ve=this.repoURL,parseText:xe=!0}={}){return de||(de=await this.getFileSha(se,{repoURL:ve,branch:ie})),await(0,N.readFile)(de,()=>this.fetchBlobContent({sha:de,repoURL:ve,parseText:xe}),N.localForage,xe)}async fetchBlobContent({sha:se,repoURL:de,parseText:ie}){if(!ie)return super.fetchBlobContent({sha:se,repoURL:de,parseText:ie});const{owner:ve,name:xe}=this.getOwnerAndNameFromRepoUrl(de),{isNull:ke,isBinary:Ce,text:Oe}=await this.retrieveBlobObject(ve,xe,se,{fetchPolicy:Y});if(ke)throw new N.APIError("Not Found",404,"GitHub");return Ce?super.fetchBlobContent({sha:se,repoURL:de,parseText:ie}):Oe}async getPullRequestAuthor(se){const de=se.user;return(de==null?void 0:de.name)||(de==null?void 0:de.login)}async getPullRequests(se,de,ie){const{originRepoOwner:ve,originRepoName:xe}=this;let ke;ke=de===U.PullRequestState.Open?["OPEN"]:de===U.PullRequestState.Closed?["CLOSED","MERGED"]:["OPEN","CLOSED","MERGED"];const{data:Ce}=await this.query({query:z.pullRequests,variables:H(H({owner:ve,name:xe},se?{head:se}:{}),{},{states:ke})}),{pullRequests:Oe}=Ce.repository;return Oe.nodes.map(J).filter(Ae=>Ae.head.ref.startsWith(`${N.CMS_BRANCH_PREFIX}/`)&&ie(Ae))}async getOpenAuthoringBranches(){const{repoOwner:se,repoName:de}=this,{data:ie}=await this.query({query:z.openAuthoringBranches,variables:{owner:se,name:de,refPrefix:`refs/heads/cms/${this.repo}/`}});return ie.repository.refs.nodes.map(({name:ve,prefix:xe})=>({ref:`${xe}${ve}`}))}async getStatuses(se,de){const ie=this.generateContentKey(se,de),ve=(0,N.branchFromContentKey)(ie),xe=(await this.getBranchPullRequest(ve)).head.sha,{originRepoOwner:ke,originRepoName:Ce}=this,{data:Oe}=await this.query({query:z.statues,variables:{owner:ke,name:Ce,sha:xe}});if(Oe.repository.object){const{status:Ae}=Oe.repository.object,{contexts:Pe}=Ae||{contexts:[]};return Pe}return[]}getAllFiles(se,de){return se.reduce((ie,ve)=>{if(ve.type==="tree"){var xe;const ke=((xe=ve.object)===null||xe===void 0?void 0:xe.entries)||[];return[...ie,...this.getAllFiles(ke,`${de}/${ve.name}`)]}return ve.type==="blob"?[...ie,{name:ve.name,type:ve.type,id:ve.sha,path:`${de}/${ve.name}`,size:ve.blob?ve.blob.size:0}]:ie},[])}async listFiles(se,{repoURL:de=this.repoURL,branch:ie=this.branch,depth:ve=1}={}){const{owner:xe,name:ke}=this.getOwnerAndNameFromRepoUrl(de),Ce=(0,T.default)(se,"/"),{data:Oe}=await this.query({query:z.files(ve),variables:{owner:xe,name:ke,expression:`${ie}:${Ce}`}});return Oe.repository.object?this.getAllFiles(Oe.repository.object.entries,Ce):[]}getBranchQualifiedName(se){return`refs/heads/${se}`}getBranchQuery(se,de,ie){return{query:z.branch,variables:{owner:de,name:ie,qualifiedName:this.getBranchQualifiedName(se)}}}async getDefaultBranch(){const{data:se}=await this.query(H({},this.getBranchQuery(this.branch,this.originRepoOwner,this.originRepoName)));return se.repository.branch}async getBranch(se){const{data:de}=await this.query(H(H({},this.getBranchQuery(se,this.repoOwner,this.repoName)),{},{fetchPolicy:Y}));if(!de.repository.branch)throw new N.APIError("Branch not found",404,U.API_NAME);return de.repository.branch}async patchRef(se,de,ie,ve={}){if(se!=="heads")return super.patchRef(se,de,ie,ve);const xe=ve.force||!1,ke=await this.getBranch(de),{data:Ce}=await this.mutate({mutation:V.updateBranch,variables:{input:{oid:ie,refId:ke.id,force:xe}}});return Ce.updateRef.branch}async deleteBranch(se){const de=await this.getBranch(se),{data:ie}=await this.mutate({mutation:V.deleteBranch,variables:{deleteRefInput:{refId:de.id}},update:ve=>ve.data.delete((0,P.defaultDataIdFromObject)(de))});return ie.deleteRef}getPullRequestQuery(se){const{originRepoOwner:de,originRepoName:ie}=this;return{query:z.pullRequest,variables:{owner:de,name:ie,number:se}}}async getPullRequest(se){const{data:de}=await this.query(H(H({},this.getPullRequestQuery(se)),{},{fetchPolicy:Y})),ie=de.repository.pullRequest.state==="OPEN"?U.PullRequestState.Open:U.PullRequestState.Closed;return H(H({},de.repository.pullRequest),{},{state:ie})}getPullRequestAndBranchQuery(se,de){const{repoOwner:ie,repoName:ve}=this,{originRepoOwner:xe,originRepoName:ke}=this;return{query:z.pullRequestAndBranch,variables:{owner:ie,name:ve,originRepoOwner:xe,originRepoName:ke,number:de,qualifiedName:this.getBranchQualifiedName(se)}}}async getPullRequestAndBranch(se,de){const{data:ie}=await this.query(H(H({},this.getPullRequestAndBranchQuery(se,de)),{},{fetchPolicy:Y})),{repository:ve,origin:xe}=ie;return{branch:ve.branch,pullRequest:xe.pullRequest}}async openPR(se){const de=await this.getPullRequest(se),{data:ie}=await this.mutate({mutation:V.reopenPullRequest,variables:{reopenPullRequestInput:{pullRequestId:de.id}},update:(ve,{data:xe})=>{const{pullRequest:ke}=xe.reopenPullRequest,Ce={repository:H(H({},ke.repository),{},{pullRequest:ke})};ve.writeQuery(H(H({},this.getPullRequestQuery(ke.number)),{},{data:Ce}))}});return ie.reopenPullRequest}async closePR(se){const de=await this.getPullRequest(se),{data:ie}=await this.mutate({mutation:V.closePullRequest,variables:{closePullRequestInput:{pullRequestId:de.id}},update:(ve,{data:xe})=>{const{pullRequest:ke}=xe.closePullRequest,Ce={repository:H(H({},ke.repository),{},{pullRequest:ke})};ve.writeQuery(H(H({},this.getPullRequestQuery(ke.number)),{},{data:Ce}))}});return ie.closePullRequest}async deleteUnpublishedEntry(se,de){try{const ie=this.generateContentKey(se,de),ve=(0,N.branchFromContentKey)(ie),xe=await this.getBranchPullRequest(ve);if(xe.number!==U.MOCK_PULL_REQUEST){const{branch:ke,pullRequest:Ce}=await this.getPullRequestAndBranch(ve,xe.number),{data:Oe}=await this.mutate({mutation:V.closePullRequestAndDeleteBranch,variables:{deleteRefInput:{refId:ke.id},closePullRequestInput:{pullRequestId:Ce.id}},update:Ae=>{Ae.data.delete((0,P.defaultDataIdFromObject)(ke)),Ae.data.delete((0,P.defaultDataIdFromObject)(Ce))}});return Oe.closePullRequest}return await this.deleteBranch(ve)}catch(ie){const{graphQLErrors:ve}=ie;if(ve&&ve.length>0&&ve.some(ke=>ke.type==="NOT_FOUND"))return;throw ie}}async createPR(se,de){const[ie,ve]=await Promise.all([this.getRepository(this.originRepoOwner,this.originRepoName),this.useOpenAuthoring?`${(await this.user()).login}:${de}`:de]),{data:xe}=await this.mutate({mutation:V.createPullRequest,variables:{createPullRequestInput:{baseRefName:this.branch,body:N.DEFAULT_PR_BODY,title:se,headRefName:ve,repositoryId:ie.id}},update:(Ce,{data:Oe})=>{const{pullRequest:Ae}=Oe.createPullRequest,Pe={repository:H(H({},Ae.repository),{},{pullRequest:Ae})};Ce.writeQuery(H(H({},this.getPullRequestQuery(Ae.number)),{},{data:Pe}))}}),{pullRequest:ke}=xe.createPullRequest;return H(H({},ke),{},{head:{sha:ke.headRefOid}})}async createBranch(se,de){const ie=this.repoOwner,ve=this.repoName,xe=await this.getRepository(ie,ve),{data:ke}=await this.mutate({mutation:V.createBranch,variables:{createRefInput:{name:this.getBranchQualifiedName(se),oid:de,repositoryId:xe.id}},update:(Oe,{data:Ae})=>{const{branch:Pe}=Ae.createRef,Ee={repository:H(H({},Pe.repository),{},{branch:Pe})};Oe.writeQuery(H(H({},this.getBranchQuery(se,ie,ve)),{},{data:Ee}))}}),{branch:Ce}=ke.createRef;return H(H({},Ce),{},{ref:`${Ce.prefix}${Ce.name}`})}async createBranchAndPullRequest(se,de,ie){const ve=this.originRepoOwner,xe=this.originRepoName,ke=await this.getRepository(ve,xe),{data:Ce}=await this.mutate({mutation:V.createBranchAndPullRequest,variables:{createRefInput:{name:this.getBranchQualifiedName(se),oid:de,repositoryId:ke.id},createPullRequestInput:{baseRefName:this.branch,body:N.DEFAULT_PR_BODY,title:ie,headRefName:se,repositoryId:ke.id}},update:(Ae,{data:Pe})=>{const{branch:Ee}=Pe.createRef,{pullRequest:Te}=Pe.createPullRequest,Re={repository:H(H({},Ee.repository),{},{branch:Ee})},Me={repository:H(H({},Te.repository),{},{branch:Ee}),origin:H(H({},Te.repository),{},{pullRequest:Te})};Ae.writeQuery(H(H({},this.getBranchQuery(se,ve,xe)),{},{data:Re})),Ae.writeQuery(H(H({},this.getPullRequestAndBranchQuery(se,Te.number)),{},{data:Me}))}}),{pullRequest:Oe}=Ce.createPullRequest;return J(Oe)}async getFileSha(se,{repoURL:de=this.repoURL,branch:ie=this.branch}={}){const{owner:ve,name:xe}=this.getOwnerAndNameFromRepoUrl(de),{data:ke}=await this.query({query:z.fileSha,variables:{owner:ve,name:xe,expression:`${ie}:${se}`}});if(ke.repository.file)return ke.repository.file.sha;throw new N.APIError("Not Found",404,U.API_NAME)}}E.default=Q},16336:$=>{$.exports={__schema:{types:[{kind:"INTERFACE",name:"Node",possibleTypes:[{name:"AddedToProjectEvent"},{name:"App"},{name:"AssignedEvent"},{name:"BaseRefChangedEvent"},{name:"BaseRefForcePushedEvent"},{name:"Blob"},{name:"Bot"},{name:"BranchProtectionRule"},{name:"ClosedEvent"},{name:"CodeOfConduct"},{name:"CommentDeletedEvent"},{name:"Commit"},{name:"CommitComment"},{name:"CommitCommentThread"},{name:"ConvertedNoteToIssueEvent"},{name:"CrossReferencedEvent"},{name:"DemilestonedEvent"},{name:"DeployKey"},{name:"DeployedEvent"},{name:"Deployment"},{name:"DeploymentEnvironmentChangedEvent"},{name:"DeploymentStatus"},{name:"ExternalIdentity"},{name:"Gist"},{name:"GistComment"},{name:"HeadRefDeletedEvent"},{name:"HeadRefForcePushedEvent"},{name:"HeadRefRestoredEvent"},{name:"Issue"},{name:"IssueComment"},{name:"Label"},{name:"LabeledEvent"},{name:"Language"},{name:"License"},{name:"LockedEvent"},{name:"Mannequin"},{name:"MarketplaceCategory"},{name:"MarketplaceListing"},{name:"MentionedEvent"},{name:"MergedEvent"},{name:"Milestone"},{name:"MilestonedEvent"},{name:"MovedColumnsInProjectEvent"},{name:"Organization"},{name:"OrganizationIdentityProvider"},{name:"OrganizationInvitation"},{name:"PinnedEvent"},{name:"Project"},{name:"ProjectCard"},{name:"ProjectColumn"},{name:"PublicKey"},{name:"PullRequest"},{name:"PullRequestCommit"},{name:"PullRequestCommitCommentThread"},{name:"PullRequestReview"},{name:"PullRequestReviewComment"},{name:"PullRequestReviewThread"},{name:"PushAllowance"},{name:"Reaction"},{name:"ReadyForReviewEvent"},{name:"Ref"},{name:"ReferencedEvent"},{name:"RegistryPackage"},{name:"RegistryPackageDependency"},{name:"RegistryPackageFile"},{name:"RegistryPackageTag"},{name:"RegistryPackageVersion"},{name:"Release"},{name:"ReleaseAsset"},{name:"RemovedFromProjectEvent"},{name:"RenamedTitleEvent"},{name:"ReopenedEvent"},{name:"Repository"},{name:"RepositoryInvitation"},{name:"RepositoryTopic"},{name:"ReviewDismissalAllowance"},{name:"ReviewDismissedEvent"},{name:"ReviewRequest"},{name:"ReviewRequestRemovedEvent"},{name:"ReviewRequestedEvent"},{name:"SavedReply"},{name:"SecurityAdvisory"},{name:"SponsorsListing"},{name:"Sponsorship"},{name:"Status"},{name:"StatusContext"},{name:"SubscribedEvent"},{name:"Tag"},{name:"Team"},{name:"Topic"},{name:"TransferredEvent"},{name:"Tree"},{name:"UnassignedEvent"},{name:"UnlabeledEvent"},{name:"UnlockedEvent"},{name:"UnpinnedEvent"},{name:"UnsubscribedEvent"},{name:"User"},{name:"UserBlockedEvent"},{name:"UserContentEdit"},{name:"UserStatus"}]},{kind:"INTERFACE",name:"UniformResourceLocatable",possibleTypes:[{name:"Bot"},{name:"ClosedEvent"},{name:"Commit"},{name:"CrossReferencedEvent"},{name:"Gist"},{name:"Issue"},{name:"Mannequin"},{name:"MergedEvent"},{name:"Milestone"},{name:"Organization"},{name:"PullRequest"},{name:"PullRequestCommit"},{name:"ReadyForReviewEvent"},{name:"Release"},{name:"Repository"},{name:"RepositoryTopic"},{name:"ReviewDismissedEvent"},{name:"User"}]},{kind:"INTERFACE",name:"Actor",possibleTypes:[{name:"Bot"},{name:"Mannequin"},{name:"Organization"},{name:"User"}]},{kind:"INTERFACE",name:"RegistryPackageOwner",possibleTypes:[{name:"Organization"},{name:"Repository"},{name:"User"}]},{kind:"INTERFACE",name:"ProjectOwner",possibleTypes:[{name:"Organization"},{name:"Repository"},{name:"User"}]},{kind:"INTERFACE",name:"Closable",possibleTypes:[{name:"Issue"},{name:"Milestone"},{name:"Project"},{name:"PullRequest"}]},{kind:"INTERFACE",name:"Updatable",possibleTypes:[{name:"CommitComment"},{name:"GistComment"},{name:"Issue"},{name:"IssueComment"},{name:"Project"},{name:"PullRequest"},{name:"PullRequestReview"},{name:"PullRequestReviewComment"}]},{kind:"UNION",name:"ProjectCardItem",possibleTypes:[{name:"Issue"},{name:"PullRequest"}]},{kind:"INTERFACE",name:"Assignable",possibleTypes:[{name:"Issue"},{name:"PullRequest"}]},{kind:"INTERFACE",name:"Comment",possibleTypes:[{name:"CommitComment"},{name:"GistComment"},{name:"Issue"},{name:"IssueComment"},{name:"PullRequest"},{name:"PullRequestReview"},{name:"PullRequestReviewComment"}]},{kind:"INTERFACE",name:"UpdatableComment",possibleTypes:[{name:"CommitComment"},{name:"GistComment"},{name:"Issue"},{name:"IssueComment"},{name:"PullRequest"},{name:"PullRequestReview"},{name:"PullRequestReviewComment"}]},{kind:"INTERFACE",name:"Labelable",possibleTypes:[{name:"Issue"},{name:"PullRequest"}]},{kind:"INTERFACE",name:"Lockable",possibleTypes:[{name:"Issue"},{name:"PullRequest"}]},{kind:"INTERFACE",name:"RegistryPackageSearch",possibleTypes:[{name:"Organization"},{name:"User"}]},{kind:"INTERFACE",name:"RepositoryOwner",possibleTypes:[{name:"Organization"},{name:"User"}]},{kind:"INTERFACE",name:"MemberStatusable",possibleTypes:[{name:"Organization"},{name:"Team"}]},{kind:"INTERFACE",name:"ProfileOwner",possibleTypes:[{name:"Organization"},{name:"User"}]},{kind:"UNION",name:"PinnableItem",possibleTypes:[{name:"Gist"},{name:"Repository"}]},{kind:"INTERFACE",name:"Starrable",possibleTypes:[{name:"Gist"},{name:"Repository"},{name:"Topic"}]},{kind:"INTERFACE",name:"RepositoryInfo",possibleTypes:[{name:"Repository"}]},{kind:"INTERFACE",name:"GitObject",possibleTypes:[{name:"Blob"},{name:"Commit"},{name:"Tag"},{name:"Tree"}]},{kind:"INTERFACE",name:"RepositoryNode",possibleTypes:[{name:"CommitComment"},{name:"CommitCommentThread"},{name:"Issue"},{name:"IssueComment"},{name:"PullRequest"},{name:"PullRequestCommitCommentThread"},{name:"PullRequestReview"},{name:"PullRequestReviewComment"}]},{kind:"INTERFACE",name:"Subscribable",possibleTypes:[{name:"Commit"},{name:"Issue"},{name:"PullRequest"},{name:"Repository"},{name:"Team"}]},{kind:"INTERFACE",name:"Deletable",possibleTypes:[{name:"CommitComment"},{name:"GistComment"},{name:"IssueComment"},{name:"PullRequestReview"},{name:"PullRequestReviewComment"}]},{kind:"INTERFACE",name:"Reactable",possibleTypes:[{name:"CommitComment"},{name:"Issue"},{name:"IssueComment"},{name:"PullRequest"},{name:"PullRequestReview"},{name:"PullRequestReviewComment"}]},{kind:"INTERFACE",name:"GitSignature",possibleTypes:[{name:"GpgSignature"},{name:"SmimeSignature"},{name:"UnknownSignature"}]},{kind:"UNION",name:"RequestedReviewer",possibleTypes:[{name:"User"},{name:"Team"},{name:"Mannequin"}]},{kind:"UNION",name:"PullRequestTimelineItem",possibleTypes:[{name:"Commit"},{name:"CommitCommentThread"},{name:"PullRequestReview"},{name:"PullRequestReviewThread"},{name:"PullRequestReviewComment"},{name:"IssueComment"},{name:"ClosedEvent"},{name:"ReopenedEvent"},{name:"SubscribedEvent"},{name:"UnsubscribedEvent"},{name:"MergedEvent"},{name:"ReferencedEvent"},{name:"CrossReferencedEvent"},{name:"AssignedEvent"},{name:"UnassignedEvent"},{name:"LabeledEvent"},{name:"UnlabeledEvent"},{name:"MilestonedEvent"},{name:"DemilestonedEvent"},{name:"RenamedTitleEvent"},{name:"LockedEvent"},{name:"UnlockedEvent"},{name:"DeployedEvent"},{name:"DeploymentEnvironmentChangedEvent"},{name:"HeadRefDeletedEvent"},{name:"HeadRefRestoredEvent"},{name:"HeadRefForcePushedEvent"},{name:"BaseRefForcePushedEvent"},{name:"ReviewRequestedEvent"},{name:"ReviewRequestRemovedEvent"},{name:"ReviewDismissedEvent"},{name:"UserBlockedEvent"}]},{kind:"UNION",name:"Closer",possibleTypes:[{name:"Commit"},{name:"PullRequest"}]},{kind:"UNION",name:"ReferencedSubject",possibleTypes:[{name:"Issue"},{name:"PullRequest"}]},{kind:"UNION",name:"Assignee",possibleTypes:[{name:"Bot"},{name:"Mannequin"},{name:"Organization"},{name:"User"}]},{kind:"UNION",name:"MilestoneItem",possibleTypes:[{name:"Issue"},{name:"PullRequest"}]},{kind:"UNION",name:"RenamedTitleSubject",possibleTypes:[{name:"Issue"},{name:"PullRequest"}]},{kind:"UNION",name:"PullRequestTimelineItems",possibleTypes:[{name:"PullRequestCommit"},{name:"PullRequestCommitCommentThread"},{name:"PullRequestReview"},{name:"PullRequestReviewThread"},{name:"PullRequestRevisionMarker"},{name:"BaseRefChangedEvent"},{name:"BaseRefForcePushedEvent"},{name:"DeployedEvent"},{name:"DeploymentEnvironmentChangedEvent"},{name:"HeadRefDeletedEvent"},{name:"HeadRefForcePushedEvent"},{name:"HeadRefRestoredEvent"},{name:"MergedEvent"},{name:"ReviewDismissedEvent"},{name:"ReviewRequestedEvent"},{name:"ReviewRequestRemovedEvent"},{name:"ReadyForReviewEvent"},{name:"IssueComment"},{name:"CrossReferencedEvent"},{name:"AddedToProjectEvent"},{name:"AssignedEvent"},{name:"ClosedEvent"},{name:"CommentDeletedEvent"},{name:"ConvertedNoteToIssueEvent"},{name:"DemilestonedEvent"},{name:"LabeledEvent"},{name:"LockedEvent"},{name:"MentionedEvent"},{name:"MilestonedEvent"},{name:"MovedColumnsInProjectEvent"},{name:"PinnedEvent"},{name:"ReferencedEvent"},{name:"RemovedFromProjectEvent"},{name:"RenamedTitleEvent"},{name:"ReopenedEvent"},{name:"SubscribedEvent"},{name:"TransferredEvent"},{name:"UnassignedEvent"},{name:"UnlabeledEvent"},{name:"UnlockedEvent"},{name:"UserBlockedEvent"},{name:"UnpinnedEvent"},{name:"UnsubscribedEvent"}]},{kind:"UNION",name:"IssueOrPullRequest",possibleTypes:[{name:"Issue"},{name:"PullRequest"}]},{kind:"UNION",name:"IssueTimelineItem",possibleTypes:[{name:"Commit"},{name:"IssueComment"},{name:"CrossReferencedEvent"},{name:"ClosedEvent"},{name:"ReopenedEvent"},{name:"SubscribedEvent"},{name:"UnsubscribedEvent"},{name:"ReferencedEvent"},{name:"AssignedEvent"},{name:"UnassignedEvent"},{name:"LabeledEvent"},{name:"UnlabeledEvent"},{name:"UserBlockedEvent"},{name:"MilestonedEvent"},{name:"DemilestonedEvent"},{name:"RenamedTitleEvent"},{name:"LockedEvent"},{name:"UnlockedEvent"},{name:"TransferredEvent"}]},{kind:"UNION",name:"IssueTimelineItems",possibleTypes:[{name:"IssueComment"},{name:"CrossReferencedEvent"},{name:"AddedToProjectEvent"},{name:"AssignedEvent"},{name:"ClosedEvent"},{name:"CommentDeletedEvent"},{name:"ConvertedNoteToIssueEvent"},{name:"DemilestonedEvent"},{name:"LabeledEvent"},{name:"LockedEvent"},{name:"MentionedEvent"},{name:"MilestonedEvent"},{name:"MovedColumnsInProjectEvent"},{name:"PinnedEvent"},{name:"ReferencedEvent"},{name:"RemovedFromProjectEvent"},{name:"RenamedTitleEvent"},{name:"ReopenedEvent"},{name:"SubscribedEvent"},{name:"TransferredEvent"},{name:"UnassignedEvent"},{name:"UnlabeledEvent"},{name:"UnlockedEvent"},{name:"UserBlockedEvent"},{name:"UnpinnedEvent"},{name:"UnsubscribedEvent"}]},{kind:"UNION",name:"ReviewDismissalAllowanceActor",possibleTypes:[{name:"User"},{name:"Team"}]},{kind:"UNION",name:"PushAllowanceActor",possibleTypes:[{name:"User"},{name:"Team"}]},{kind:"UNION",name:"PermissionGranter",possibleTypes:[{name:"Organization"},{name:"Repository"},{name:"Team"}]},{kind:"INTERFACE",name:"Sponsorable",possibleTypes:[{name:"User"}]},{kind:"INTERFACE",name:"Contribution",possibleTypes:[{name:"CreatedCommitContribution"},{name:"CreatedIssueContribution"},{name:"CreatedPullRequestContribution"},{name:"CreatedPullRequestReviewContribution"},{name:"CreatedRepositoryContribution"},{name:"JoinedGitHubContribution"},{name:"RestrictedContribution"}]},{kind:"UNION",name:"CreatedRepositoryOrRestrictedContribution",possibleTypes:[{name:"CreatedRepositoryContribution"},{name:"RestrictedContribution"}]},{kind:"UNION",name:"CreatedIssueOrRestrictedContribution",possibleTypes:[{name:"CreatedIssueContribution"},{name:"RestrictedContribution"}]},{kind:"UNION",name:"CreatedPullRequestOrRestrictedContribution",possibleTypes:[{name:"CreatedPullRequestContribution"},{name:"RestrictedContribution"}]},{kind:"UNION",name:"SearchResultItem",possibleTypes:[{name:"Issue"},{name:"PullRequest"},{name:"Repository"},{name:"User"},{name:"Organization"},{name:"MarketplaceListing"},{name:"App"}]},{kind:"UNION",name:"CollectionItemContent",possibleTypes:[{name:"Repository"},{name:"Organization"},{name:"User"}]}]}}},16689:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.treeEntry=E.repository=E.pullRequest=E.object=E.fileEntry=E.branch=E.blobWithText=void 0;var A=_(21488);const T=E.repository=A.gql`
  fragment RepositoryParts on Repository {
    id
    isFork
  }
`,O=(E.blobWithText=A.gql`
  fragment BlobWithTextParts on Blob {
    id
    text
    is_binary: isBinary
  }
`,E.object=A.gql`
  fragment ObjectParts on GitObject {
    id
    sha: oid
  }
`);E.branch=A.gql`
  fragment BranchParts on Ref {
    commit: target {
      ...ObjectParts
    }
    id
    name
    prefix
    repository {
      ...RepositoryParts
    }
  }
  ${O}
  ${T}
`,E.pullRequest=A.gql`
  fragment PullRequestParts on PullRequest {
    id
    baseRefName
    baseRefOid
    body
    headRefName
    headRefOid
    number
    state
    title
    merged_at: mergedAt
    updated_at: updatedAt
    user: author {
      login
      ... on User {
        name
      }
    }
    repository {
      ...RepositoryParts
    }
    labels(last: 100) {
      nodes {
        name
      }
    }
  }
  ${T}
`,E.treeEntry=A.gql`
  fragment TreeEntryParts on TreeEntry {
    path: name
    sha: oid
    type
    mode
  }
`,E.fileEntry=A.gql`
  fragment FileEntryParts on TreeEntry {
    name
    sha: oid
    type
    blob: object {
      ... on Blob {
        size: byteSize
      }
    }
  }
`},8400:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,V(_(12244));var A=U(_(63252)),T=U(_(93433)),O=_(13856),P=_(33806),R=U(_(99312)),I=V(_(33870)),N=U(_(24759)),j=_(28165);function U(ee){return ee&&ee.__esModule?ee:{default:ee}}function z(ee){if(typeof WeakMap!="function")return null;var J=new WeakMap,Q=new WeakMap;return(z=function(te){return te?Q:J})(ee)}function V(ee,J){if(ee&&ee.__esModule)return ee;if(ee===null||typeof ee!="object"&&typeof ee!="function")return{default:ee};var Q=z(J);if(Q&&Q.has(ee))return Q.get(ee);var te={__proto__:null},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var de in ee)if(de!=="default"&&Object.prototype.hasOwnProperty.call(ee,de)){var ie=se?Object.getOwnPropertyDescriptor(ee,de):null;ie&&(ie.get||ie.set)?Object.defineProperty(te,de,ie):te[de]=ee[de]}return te.default=ee,Q&&Q.set(ee,te),te}function F(){return F=Object.assign?Object.assign.bind():function(ee){for(var J=1;J<arguments.length;J++){var Q=arguments[J];for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(ee[te]=Q[te])}return ee},F.apply(this,arguments)}function q(ee,J){var Q=Object.keys(ee);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(ee);J&&(te=te.filter(function(se){return Object.getOwnPropertyDescriptor(ee,se).enumerable})),Q.push.apply(Q,te)}return Q}function B(ee){for(var J=1;J<arguments.length;J++){var Q=arguments[J]!=null?arguments[J]:{};J%2?q(Object(Q),!0).forEach(function(te){W(ee,te,Q[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Q)):q(Object(Q)).forEach(function(te){Object.defineProperty(ee,te,Object.getOwnPropertyDescriptor(Q,te))})}return ee}function W(ee,J,Q){var te;return(J=typeof(te=function(se,de){if(typeof se!="object"||!se)return se;var ie=se[Symbol.toPrimitive];if(ie!==void 0){var ve=ie.call(se,"string");if(typeof ve!="object")return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(J))=="symbol"?te:String(te))in ee?Object.defineProperty(ee,J,{value:Q,enumerable:!0,configurable:!0,writable:!0}):ee[J]=Q,ee}const{fetchWithTimeout:H}=P.unsentRequest,G="https://www.githubstatus.com",Z=`${G}/api/v2/components.json`,Y=["API Requests","Issues, Pull Requests, Projects"];E.default=class{constructor(ee,J={}){var Q;if(W(this,"lock",void 0),W(this,"api",void 0),W(this,"options",void 0),W(this,"originRepo",void 0),W(this,"isBranchConfigured",void 0),W(this,"repo",void 0),W(this,"openAuthoringEnabled",void 0),W(this,"useOpenAuthoring",void 0),W(this,"alwaysForkEnabled",void 0),W(this,"branch",void 0),W(this,"apiRoot",void 0),W(this,"mediaFolder",void 0),W(this,"previewContext",void 0),W(this,"token",void 0),W(this,"tokenKeyword",void 0),W(this,"squashMerges",void 0),W(this,"cmsLabelPrefix",void 0),W(this,"useGraphql",void 0),W(this,"baseUrl",void 0),W(this,"bypassWriteAccessCheckForAppTokens",!1),W(this,"_currentUserPromise",void 0),W(this,"_userIsOriginMaintainerPromises",void 0),W(this,"_mediaDisplayURLSem",void 0),W(this,"getCursorAndFiles",(te,se)=>{const de=te.length,ie=Math.ceil(te.length/20),ve=[];return se>1&&(ve.push("prev"),ve.push("first")),se<ie&&(ve.push("next"),ve.push("last")),{cursor:P.Cursor.create({actions:ve,meta:{page:se,count:de,pageSize:20,pageCount:ie},data:{files:te}}),files:te.slice(20*(se-1),20*se)}}),this.options=B({proxied:!1,API:null,initialWorkflowStatus:""},J),!this.options.proxied&&(ee.backend.repo===null||ee.backend.repo===void 0))throw new Error('The GitHub backend needs a "repo" in the backend configuration.');if(this.api=this.options.API||null,this.isBranchConfigured=!!ee.backend.branch,this.openAuthoringEnabled=ee.backend.open_authoring||!1,this.openAuthoringEnabled){if(!this.options.useWorkflow)throw new Error("backend.open_authoring is true but publish_mode is not set to editorial_workflow.");this.originRepo=ee.backend.repo||""}else this.repo=this.originRepo=ee.backend.repo||"";this.alwaysForkEnabled=ee.backend.always_fork||!1,this.branch=((Q=ee.backend.branch)===null||Q===void 0?void 0:Q.trim())||"master",this.apiRoot=ee.backend.api_root||"https://api.github.com",this.token="",this.tokenKeyword="token",this.baseUrl=ee.backend.base_url,this.squashMerges=ee.backend.squash_merges||!1,this.cmsLabelPrefix=ee.backend.cms_label_prefix||"",this.useGraphql=ee.backend.use_graphql||!1,this.mediaFolder=ee.media_folder,this.previewContext=ee.backend.preview_context||"",this.lock=(0,P.asyncLock)()}isGitBackend(){return!0}async status(){const ee=await H(Z).then(se=>se.json()).then(se=>se.components.filter(de=>Y.includes(de.name)).every(de=>de.status==="operational")).catch(se=>(console.warn("Failed getting GitHub status",se),!0));let J=!1;var Q,te;return ee&&(J=await((Q=this.api)===null||Q===void 0?void 0:Q.getUser({token:(te=this.token)!==null&&te!==void 0?te:""}).then(se=>!!se).catch(se=>(console.warn("Failed getting GitHub user",se),!1)))||!1),{auth:{status:J},api:{status:ee,statusPage:G}}}authComponent(){const ee=J=>(0,j.jsx)(R.default,F({},J,{backend:this}));return ee.displayName="AuthenticationPage",ee}restoreUser(ee){return this.openAuthoringEnabled?this.authenticateWithFork({userData:ee,getPermissionToFork:()=>!0}).then(()=>this.authenticate(ee)):this.authenticate(ee)}async pollUntilForkExists({repo:ee,token:J}){let Q=!1;for(;!Q;)Q=await H(`${this.apiRoot}/repos/${ee}`,{headers:{Authorization:`${this.tokenKeyword} ${J}`}}).then(()=>!0).catch(te=>te&&te.status===404?(console.log("This 404 was expected and handled appropriately."),!1):Promise.reject(te)),Q||await new Promise(te=>setTimeout(te,250));return Promise.resolve()}async currentUser({token:ee}){return this._currentUserPromise||(this._currentUserPromise=H(`${this.apiRoot}/user`,{headers:{Authorization:`${this.tokenKeyword} ${ee}`}}).then(J=>J.json())),this._currentUserPromise}async userIsOriginMaintainer({username:ee,token:J}){const Q=ee||(await this.currentUser({token:J})).login;return this._userIsOriginMaintainerPromises=this._userIsOriginMaintainerPromises||{},this._userIsOriginMaintainerPromises[Q]||(this._userIsOriginMaintainerPromises[Q]=H(`${this.apiRoot}/repos/${this.originRepo}/collaborators/${Q}/permission`,{headers:{Authorization:`${this.tokenKeyword} ${J}`}}).then(te=>te.json()).then(({permission:te})=>te==="admin"||te==="write")),this._userIsOriginMaintainerPromises[Q]}async forkExists({token:ee}){try{const J=await this.currentUser({token:ee}),Q=this.originRepo.split("/")[1],te=await H(`${this.apiRoot}/repos/${J.login}/${Q}`,{method:"GET",headers:{Authorization:`${this.tokenKeyword} ${ee}`}}).then(se=>se.json());return te.fork===!0&&te.parent&&te.parent.full_name.toLowerCase()===this.originRepo.toLowerCase()}catch{return!1}}async authenticateWithFork({userData:ee,getPermissionToFork:J}){if(!this.openAuthoringEnabled)throw new Error("Cannot authenticate with fork; Open Authoring is turned off.");const Q=ee.token;if(!this.alwaysForkEnabled&&await this.userIsOriginMaintainer({token:Q}))return this.repo=this.originRepo,this.useOpenAuthoring=!1,Promise.resolve();const te=await this.currentUser({token:Q}),se=this.originRepo.split("/")[1];if(this.repo=`${te.login}/${se}`,this.useOpenAuthoring=!0,await this.forkExists({token:Q}))return H(`${this.apiRoot}/repos/${this.repo}/merge-upstream`,{method:"POST",headers:{Authorization:`${this.tokenKeyword} ${Q}`},body:JSON.stringify({branch:this.branch})});{await J();const de=await H(`${this.apiRoot}/repos/${this.originRepo}/forks`,{method:"POST",headers:{Authorization:`${this.tokenKeyword} ${Q}`}}).then(ie=>ie.json());return this.pollUntilForkExists({repo:de.full_name,token:Q})}}async authenticate(ee){if(this.token=ee.token,!this.isBranchConfigured){const te=await H(`${this.apiRoot}/repos/${this.originRepo}`,{headers:{Authorization:`token ${this.token}`}}).then(se=>se.json()).catch(()=>null);te&&te.default_branch&&(this.branch=te.default_branch)}const J=this.useGraphql?N.default:I.default;this.api=new J({token:this.token,tokenKeyword:this.tokenKeyword,branch:this.branch,repo:this.repo,originRepo:this.originRepo,apiRoot:this.apiRoot,squashMerges:this.squashMerges,cmsLabelPrefix:this.cmsLabelPrefix,useOpenAuthoring:this.useOpenAuthoring,initialWorkflowStatus:this.options.initialWorkflowStatus,baseUrl:this.baseUrl,getUser:this.currentUser});const Q=await this.api.user();if(!await this.api.hasWriteAccess().catch(te=>{throw te.message=O.stripIndent`
        Repo "${this.repo}" not found.

        Please ensure the repo information is spelled correctly.

        If the repo is private, make sure you're logged into a GitHub account with access.

        If your repo is under an organization, ensure the organization has granted access to Decap CMS.
      `,te})&&!this.bypassWriteAccessCheckForAppTokens)throw new Error("Your GitHub user account does not have access to this repo.");return B(B({},Q),{},{token:ee.token,useOpenAuthoring:this.useOpenAuthoring})}logout(){if(this.token=null,this.api&&this.api.reset&&typeof this.api.reset=="function")return this.api.reset()}getToken(){return Promise.resolve(this.token)}async entriesByFolder(ee,J,Q){const te=this.api.originRepoURL;let se;const de=await(0,P.entriesByFolder)(()=>this.api.listFiles(ee,{repoURL:te,depth:Q}).then(ie=>{const ve=ie.filter(ke=>(0,P.filterByExtension)(ke,J)),xe=this.getCursorAndFiles(ve,1);return se=xe.cursor,xe.files}),(ie,ve)=>this.api.readFile(ie,ve,{repoURL:te}),this.api.readFileMetadata.bind(this.api),I.API_NAME);return de[P.CURSOR_COMPATIBILITY_SYMBOL]=se,de}async allEntriesByFolder(ee,J,Q,te){const se=this.api.originRepoURL;return await(0,P.entriesByFolder)(()=>this.api.listFiles(ee,{repoURL:se,depth:Q}).then(de=>de.filter(ie=>(!te||te.test(ie.path))&&(0,P.filterByExtension)(ie,J))),(de,ie)=>this.api.readFile(de,ie,{repoURL:se}),this.api.readFileMetadata.bind(this.api),I.API_NAME)}entriesByFiles(ee){const J=this.useOpenAuthoring?this.api.originRepoURL:this.api.repoURL;return(0,P.entriesByFiles)(ee,(Q,te)=>this.api.readFile(Q,te,{repoURL:J}).catch(()=>""),this.api.readFileMetadata.bind(this.api),I.API_NAME)}getEntry(ee){const J=this.api.originRepoURL;return this.api.readFile(ee,null,{repoURL:J}).then(Q=>({file:{path:ee,id:null},data:Q})).catch(()=>({file:{path:ee,id:null},data:""}))}getMedia(ee=this.mediaFolder){return this.api.listFiles(ee).then(J=>J.map(({id:Q,name:te,size:se,path:de})=>({id:Q,name:te,size:se,displayURL:{id:Q,path:de},path:de})))}async getMediaFile(ee){const J=await(0,P.getMediaAsBlob)(ee,null,this.api.readFile.bind(this.api)),Q=(0,P.basename)(ee),te=(0,P.blobToFileObj)(Q,J),se=URL.createObjectURL(te);return{id:await(0,P.getBlobSHA)(J),displayURL:se,path:ee,name:Q,size:te.size,file:te,url:se}}getMediaDisplayURL(ee){return this._mediaDisplayURLSem=this._mediaDisplayURLSem||(0,A.default)(10),(0,P.getMediaDisplayURL)(ee,this.api.readFile.bind(this.api),this._mediaDisplayURLSem)}persistEntry(ee,J){return(0,P.runWithLock)(this.lock,()=>this.api.persistFiles(ee.dataFiles,ee.assets,J),"Failed to acquire persist entry lock")}async persistMedia(ee,J){try{await this.api.persistFiles([],[ee],J);const{sha:Q,path:te,fileObj:se}=ee,de=se?URL.createObjectURL(se):"";return{id:Q,name:se.name,size:se.size,displayURL:de,path:(0,T.default)(te,"/")}}catch(Q){throw console.error(Q),Q}}deleteFiles(ee,J){return this.api.deleteFiles(ee,J)}async traverseCursor(ee,J){const Q=ee.meta,te=ee.data.get("files").toJS();let se;switch(J){case"first":default:se=this.getCursorAndFiles(te,1);break;case"last":se=this.getCursorAndFiles(te,Q.get("pageCount"));break;case"next":se=this.getCursorAndFiles(te,Q.get("page")+1);break;case"prev":se=this.getCursorAndFiles(te,Q.get("page")-1)}return{entries:await(0,P.entriesByFiles)(se.files,(de,ie)=>this.api.readFile(de,ie,{repoURL:this.api.originRepoURL}).catch(()=>""),this.api.readFileMetadata.bind(this.api),I.API_NAME),cursor:se.cursor}}async loadMediaFile(ee,J){const Q=await(0,P.getMediaAsBlob)(J.path,J.id,(de,ie,{parseText:ve})=>this.api.readFile(de,ie,{branch:ee,parseText:ve})),te=(0,P.basename)(J.path),se=(0,P.blobToFileObj)(te,Q);return{id:J.id,displayURL:URL.createObjectURL(se),path:J.path,name:te,size:se.size,file:se}}async unpublishedEntries(){return await(0,P.unpublishedEntries)(()=>this.api.listUnpublishedBranches().then(ee=>ee.map(J=>(0,P.contentKeyFromBranch)(J))))}async unpublishedEntry({id:ee,collection:J,slug:Q}){if(ee)return await this.api.retrieveUnpublishedEntryData(ee);if(J&&Q){const te=this.api.generateContentKey(J,Q);return await this.api.retrieveUnpublishedEntryData(te)}throw new Error("Missing unpublished entry id or collection and slug")}getBranch(ee,J){const Q=this.api.generateContentKey(ee,J);return(0,P.branchFromContentKey)(Q)}async unpublishedEntryDataFile(ee,J,Q,te){const se=this.getBranch(ee,J);return await this.api.readFile(Q,te,{branch:se})}async unpublishedEntryMediaFile(ee,J,Q,te){const se=this.getBranch(ee,J);return await this.loadMediaFile(se,{path:Q,id:te})}async getDeployPreview(ee,J){try{const Q=await this.api.getStatuses(ee,J),te=(0,P.getPreviewStatus)(Q,this.previewContext);if(te){const{target_url:se,state:de}=te;return{url:se,status:de}}return null}catch{return null}}updateUnpublishedEntryStatus(ee,J,Q){return(0,P.runWithLock)(this.lock,()=>this.api.updateUnpublishedEntryStatus(ee,J,Q),"Failed to acquire update entry status lock")}deleteUnpublishedEntry(ee,J){return(0,P.runWithLock)(this.lock,()=>this.api.deleteUnpublishedEntry(ee,J),"Failed to acquire delete entry lock")}publishUnpublishedEntry(ee,J){return(0,P.runWithLock)(this.lock,()=>this.api.publishUnpublishedEntry(ee,J),"Failed to acquire publish entry lock")}}},48638:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),Object.defineProperty(E,"API",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(E,"AuthenticationPage",{enumerable:!0,get:function(){return O.default}}),E.DecapCmsBackendGithub=void 0,Object.defineProperty(E,"GitHubBackend",{enumerable:!0,get:function(){return A.default}});var A=P(_(8400)),T=P(_(33870)),O=P(_(99312));function P(R){return R&&R.__esModule?R:{default:R}}E.DecapCmsBackendGithub={GitHubBackend:A.default,API:T.default,AuthenticationPage:O.default}},61526:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.updateBranch=E.reopenPullRequest=E.deleteBranch=E.createPullRequest=E.createBranchAndPullRequest=E.createBranch=E.closePullRequestAndDeleteBranch=E.closePullRequest=void 0;var A=_(21488),T=function(N,j){if(N&&N.__esModule)return N;if(N===null||typeof N!="object"&&typeof N!="function")return{default:N};var U=O(j);if(U&&U.has(N))return U.get(N);var z={__proto__:null},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in N)if(F!=="default"&&Object.prototype.hasOwnProperty.call(N,F)){var q=V?Object.getOwnPropertyDescriptor(N,F):null;q&&(q.get||q.set)?Object.defineProperty(z,F,q):z[F]=N[F]}return z.default=N,U&&U.set(N,z),z}(_(16689));function O(N){if(typeof WeakMap!="function")return null;var j=new WeakMap,U=new WeakMap;return(O=function(z){return z?U:j})(N)}E.updateBranch=A.gql`
  mutation updateRef($input: UpdateRefInput!) {
    updateRef(input: $input) {
      branch: ref {
        ...BranchParts
      }
    }
  }
  ${T.branch}
`;const P=`
deleteRef(input: $deleteRefInput) {
  clientMutationId
}
`,R=(E.deleteBranch=A.gql`
  mutation deleteRef($deleteRefInput: DeleteRefInput!) {
    ${P}
  }
`,`
closePullRequest(input: $closePullRequestInput) {
  clientMutationId
  pullRequest {
    ...PullRequestParts
  }
}
`),I=(E.closePullRequest=A.gql`
  mutation closePullRequestAndDeleteBranch($closePullRequestInput: ClosePullRequestInput!) {
    ${R}
  }
  ${T.pullRequest}
`,E.closePullRequestAndDeleteBranch=A.gql`
  mutation closePullRequestAndDeleteBranch(
    $closePullRequestInput: ClosePullRequestInput!
    $deleteRefInput: DeleteRefInput!
  ) {
    ${R}
    ${P}
  }
  ${T.pullRequest}
`,`
 createPullRequest(input: $createPullRequestInput) {
  clientMutationId
  pullRequest {
    ...PullRequestParts
  }
}
 `);E.createPullRequest=A.gql`
  mutation createPullRequest($createPullRequestInput: CreatePullRequestInput!) {
    ${I}
  }
  ${T.pullRequest}
`,E.createBranch=A.gql`
  mutation createBranch($createRefInput: CreateRefInput!) {
    createRef(input: $createRefInput) {
      branch: ref {
        ...BranchParts
      }
    }
  }
  ${T.branch}
`,E.createBranchAndPullRequest=A.gql`
  mutation createBranchAndPullRequest(
    $createRefInput: CreateRefInput!
    $createPullRequestInput: CreatePullRequestInput!
  ) {
    createRef(input: $createRefInput) {
      branch: ref {
        ...BranchParts
      }
    }
    ${I}
  }
  ${T.branch}
  ${T.pullRequest}
`,E.reopenPullRequest=A.gql`
  mutation reopenPullRequest($reopenPullRequestInput: ReopenPullRequestInput!) {
    reopenPullRequest(input: $reopenPullRequestInput) {
      clientMutationId
      pullRequest {
        ...PullRequestParts
      }
    }
  }
  ${T.pullRequest}
`},66654:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.fileSha=E.branch=E.blob=void 0,E.files=function(N){return A.gql`
    query files($owner: String!, $name: String!, $expression: String!) {
      repository(owner: $owner, name: $name) {
        ...RepositoryParts
        object(expression: $expression) {
          ${function(j=1){const U="PLACE_HOLDER";let z=T.oneLine`
    ...ObjectParts
    ... on Tree {
      entries {
        ...FileEntryParts
        ${U}
      }
    }
  `;for(let V=0;V<j-1;V++)z=z.replace(U,T.oneLine`
        object {
          ... on Tree {
            entries {
              ...FileEntryParts
              ${U}
            }
          }
        }
    `);return z=z.replace(U,""),z}(N)}
        }
      }
    }
    ${O.repository}
    ${O.object}
    ${O.fileEntry}
  `},E.user=E.statues=E.repository=E.repoPermission=E.pullRequests=E.pullRequestAndBranch=E.pullRequest=E.openAuthoringBranches=void 0;var A=_(21488),T=_(13856),O=function(N,j){if(N&&N.__esModule)return N;if(N===null||typeof N!="object"&&typeof N!="function")return{default:N};var U=P(j);if(U&&U.has(N))return U.get(N);var z={__proto__:null},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in N)if(F!=="default"&&Object.prototype.hasOwnProperty.call(N,F)){var q=V?Object.getOwnPropertyDescriptor(N,F):null;q&&(q.get||q.set)?Object.defineProperty(z,F,q):z[F]=N[F]}return z.default=N,U&&U.set(N,z),z}(_(16689));function P(N){if(typeof WeakMap!="function")return null;var j=new WeakMap,U=new WeakMap;return(P=function(z){return z?U:j})(N)}E.repoPermission=A.gql`
  query repoPermission($owner: String!, $name: String!) {
    repository(owner: $owner, name: $name) {
      ...RepositoryParts
      viewerPermission
    }
  }
  ${O.repository}
`,E.user=A.gql`
  query {
    viewer {
      id
      avatar_url: avatarUrl
      name
      login
    }
  }
`,E.blob=A.gql`
  query blob($owner: String!, $name: String!, $expression: String!) {
    repository(owner: $owner, name: $name) {
      ...RepositoryParts
      object(expression: $expression) {
        ... on Blob {
          ...BlobWithTextParts
        }
      }
    }
  }
  ${O.repository}
  ${O.blobWithText}
`,E.statues=A.gql`
  query statues($owner: String!, $name: String!, $sha: GitObjectID!) {
    repository(owner: $owner, name: $name) {
      ...RepositoryParts
      object(oid: $sha) {
        ...ObjectParts
        ... on Commit {
          status {
            id
            contexts {
              id
              context
              state
              target_url: targetUrl
            }
          }
        }
      }
    }
  }
  ${O.repository}
  ${O.object}
`;const R=`
branch: ref(qualifiedName: $qualifiedName) {
  ...BranchParts
}
`,I=(E.branch=A.gql`
  query branch($owner: String!, $name: String!, $qualifiedName: String!) {
    repository(owner: $owner, name: $name) {
      ...RepositoryParts
      ${R}
    }
  }
  ${O.repository}
  ${O.branch}
`,E.openAuthoringBranches=A.gql`
  query openAuthoringBranches($owner: String!, $name: String!, $refPrefix: String!) {
    repository(owner: $owner, name: $name) {
      ...RepositoryParts
      refs(refPrefix: $refPrefix, last: 100) {
        nodes {
          ...BranchParts
        }
      }
    }
  }
  ${O.repository}
  ${O.branch}
`,E.repository=A.gql`
  query repository($owner: String!, $name: String!) {
    repository(owner: $owner, name: $name) {
      ...RepositoryParts
    }
  }
  ${O.repository}
`,`
pullRequest(number: $number) {
  ...PullRequestParts
}
`);E.pullRequest=A.gql`
  query pullRequest($owner: String!, $name: String!, $number: Int!) {
    repository(owner: $owner, name: $name) {
      id
      ${I}
    }
  }
  ${O.pullRequest}
`,E.pullRequests=A.gql`
  query pullRequests($owner: String!, $name: String!, $head: String, $states: [PullRequestState!]) {
    repository(owner: $owner, name: $name) {
      id
      pullRequests(last: 100, headRefName: $head, states: $states) {
        nodes {
          ...PullRequestParts
        }
      }
    }
  }
  ${O.pullRequest}
`,E.pullRequestAndBranch=A.gql`
  query pullRequestAndBranch($owner: String!, $name: String!, $originRepoOwner: String!, $originRepoName: String!, $qualifiedName: String!, $number: Int!) {
    repository(owner: $owner, name: $name) {
      ...RepositoryParts
      ${R}
    }
    origin: repository(owner: $originRepoOwner, name: $originRepoName) {
      ...RepositoryParts
      ${I}
    }
  }
  ${O.repository}
  ${O.branch}
  ${O.pullRequest}
`,E.fileSha=A.gql`
  query fileSha($owner: String!, $name: String!, $expression: String!) {
    repository(owner: $owner, name: $name) {
      ...RepositoryParts
      file: object(expression: $expression) {
        ...ObjectParts
      }
    }
  }
  ${O.repository}
  ${O.object}
`},22026:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.API_NAME=void 0,E.getMaxAccess=te;var A=W(_(93433)),T=W(_(36346)),O=W(_(83465)),P=W(_(85395)),R=_(34600),I=_(70468),N=_(29206),j=_(96044),U=_(33806),z=_(95978),V=_(46670),F=_(21023),q=function(de,ie){if(de&&de.__esModule)return de;if(de===null||typeof de!="object"&&typeof de!="function")return{default:de};var ve=B(ie);if(ve&&ve.has(de))return ve.get(de);var xe={__proto__:null},ke=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in de)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(de,Ce)){var Oe=ke?Object.getOwnPropertyDescriptor(de,Ce):null;Oe&&(Oe.get||Oe.set)?Object.defineProperty(xe,Ce,Oe):xe[Ce]=de[Ce]}return xe.default=de,ve&&ve.set(de,xe),xe}(_(31183));function B(de){if(typeof WeakMap!="function")return null;var ie=new WeakMap,ve=new WeakMap;return(B=function(xe){return xe?ve:ie})(de)}function W(de){return de&&de.__esModule?de:{default:de}}function H(de,ie){var ve=Object.keys(de);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(de);ie&&(xe=xe.filter(function(ke){return Object.getOwnPropertyDescriptor(de,ke).enumerable})),ve.push.apply(ve,xe)}return ve}function G(de){for(var ie=1;ie<arguments.length;ie++){var ve=arguments[ie]!=null?arguments[ie]:{};ie%2?H(Object(ve),!0).forEach(function(xe){Z(de,xe,ve[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(ve)):H(Object(ve)).forEach(function(xe){Object.defineProperty(de,xe,Object.getOwnPropertyDescriptor(ve,xe))})}return de}function Z(de,ie,ve){var xe;return(ie=typeof(xe=function(ke,Ce){if(typeof ke!="object"||!ke)return ke;var Oe=ke[Symbol.toPrimitive];if(Oe!==void 0){var Ae=Oe.call(ke,"string");if(typeof Ae!="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ke)}(ie))=="symbol"?xe:String(xe))in de?Object.defineProperty(de,ie,{value:ve,enumerable:!0,configurable:!0,writable:!0}):de[ie]=ve,de}const Y="no-cache",ee=E.API_NAME="GitLab";var J=function(de){return de.CREATE="create",de.DELETE="delete",de.MOVE="move",de.UPDATE="update",de}(J||{}),Q=function(de){return de.Pending="pending",de.Running="running",de.Success="success",de.Failed="failed",de.Canceled="canceled",de}(Q||{});function te(de){return de.reduce((ie,ve)=>ve.group_access_level>ie.group_access_level?ve:ie,de[0])}function se(de,ie,ve){for(let xe=0;xe<de.length;xe+=ie)ve(de.slice(xe,xe+ie))}E.default=class{constructor(de){Z(this,"apiRoot",void 0),Z(this,"graphQLAPIRoot",void 0),Z(this,"token",void 0),Z(this,"branch",void 0),Z(this,"useOpenAuthoring",void 0),Z(this,"repo",void 0),Z(this,"repoURL",void 0),Z(this,"commitAuthor",void 0),Z(this,"squashMerges",void 0),Z(this,"initialWorkflowStatus",void 0),Z(this,"cmsLabelPrefix",void 0),Z(this,"graphQLClient",void 0),Z(this,"withAuthorizationHeaders",ie=>{const ve=U.unsentRequest.withHeaders(this.token?{Authorization:`Bearer ${this.token}`}:{},ie);return Promise.resolve(ve)}),Z(this,"buildRequest",async ie=>{const ve=U.unsentRequest.withRoot(this.apiRoot)(ie),xe=await this.withAuthorizationHeaders(ve);return xe.has("cache")?xe:U.unsentRequest.withNoCache(xe)}),Z(this,"request",async ie=>{try{return(0,U.requestWithBackoff)(this,ie)}catch(ve){throw new U.APIError(ve.message,null,ee)}}),Z(this,"responseToJSON",(0,U.responseParser)({format:"json",apiName:ee})),Z(this,"responseToBlob",(0,U.responseParser)({format:"blob",apiName:ee})),Z(this,"responseToText",(0,U.responseParser)({format:"text",apiName:ee})),Z(this,"requestJSON",ie=>this.request(ie).then(this.responseToJSON)),Z(this,"requestText",ie=>this.request(ie).then(this.responseToText)),Z(this,"user",()=>this.requestJSON("/user")),Z(this,"WRITE_ACCESS",30),Z(this,"MAINTAINER_ACCESS",40),Z(this,"hasWriteAccess",async()=>{const{shared_with_groups:ie,permissions:ve}=await this.requestJSON(this.repoURL),{project_access:xe,group_access:ke}=ve;if(xe&&xe.access_level>=this.WRITE_ACCESS||ke&&ke.access_level>=this.WRITE_ACCESS)return!0;if(ie&&ie.length>0){const Ce=te(ie);if(Ce.group_access_level>=this.MAINTAINER_ACCESS)return!0;if(Ce.group_access_level>=this.WRITE_ACCESS)try{const Oe=await this.getDefaultBranch();if(Oe.developers_can_merge&&Oe.developers_can_push)return!0}catch(Oe){console.log("Failed getting default branch",Oe)}}return!1}),Z(this,"readFile",async(ie,ve,{parseText:xe=!0,branch:ke=this.branch}={})=>await(0,U.readFile)(ve,async()=>await this.request({url:`${this.repoURL}/repository/files/${encodeURIComponent(ie)}/raw`,params:{ref:ke},cache:"no-store"}).then(xe?this.responseToText:this.responseToBlob),U.localForage,xe)),Z(this,"getCursorFromHeaders",ie=>{const ve=parseInt(ie.get("X-Page"),10),xe=parseInt(ie.get("X-Total-Pages"),10),ke=parseInt(ie.get("X-Per-Page"),10),Ce=parseInt(ie.get("X-Total"),10),Oe=(0,U.parseLinkHeader)(ie.get("Link")),Ae=(0,V.Map)(Oe).keySeq().flatMap(Pe=>Pe==="prev"&&ve>1||Pe==="next"&&ve<xe||Pe==="first"&&ve>1||Pe==="last"&&ve<xe?[Pe]:[]);return U.Cursor.create({actions:Ae,meta:{page:ve,count:Ce,pageSize:ke,pageCount:xe},data:{links:Oe}})}),Z(this,"getCursor",({headers:ie})=>this.getCursorFromHeaders(ie)),Z(this,"fetchCursor",ie=>(0,P.default)([U.unsentRequest.withMethod("HEAD"),this.request,(0,U.then)(this.getCursor)])(ie)),Z(this,"fetchCursorAndEntries",ie=>(0,P.default)([U.unsentRequest.withMethod("GET"),this.request,ve=>Promise.all([ve.then(this.getCursor),ve.then(this.responseToJSON).catch(xe=>{if(xe.status===404)return[];throw xe})]),(0,U.then)(([ve,xe])=>({cursor:ve,entries:xe}))])(ie)),Z(this,"listFiles",async(ie,ve=!1)=>{const{entries:xe,cursor:ke}=await this.fetchCursorAndEntries({url:`${this.repoURL}/repository/tree`,params:{path:ie,ref:this.branch,recursive:ve}});return{files:xe.filter(({type:Ce})=>Ce==="blob"),cursor:ke}}),Z(this,"traverseCursor",async(ie,ve)=>{const xe=ie.data.getIn(["links",ve]),{entries:ke,cursor:Ce}=await this.fetchCursorAndEntries(xe);return{entries:ke.filter(({type:Oe})=>Oe==="blob"),cursor:Ce}}),Z(this,"listAllFilesGraphQL",async(ie,ve,xe)=>{const ke=[];let Ce,Oe;do Ce=await this.graphQLClient.query({query:q.files,variables:{repo:this.repo,branch:xe,path:ie,recursive:ve,cursor:Oe}}),ke.push(...Ce.data.project.repository.tree.blobs.nodes),Oe=Ce.data.project.repository.tree.blobs.pageInfo.endCursor;while(Ce.data.project.repository.tree.blobs.pageInfo.hasNextPage);return ke}),Z(this,"readFilesGraphQL",async ie=>{const ve=ie.map(({path:Ee})=>Ee),xe=[];se(ve,90,Ee=>{xe.push(this.graphQLClient.query({query:q.blobs,variables:{repo:this.repo,branch:this.branch,paths:Ee},fetchPolicy:"cache-first"}))});const ke=[];se(ve,8,Ee=>{ke.push(this.graphQLClient.query({query:q.lastCommits(Ee),variables:{repo:this.repo,branch:this.branch},fetchPolicy:"cache-first"}))});const[Ce,Oe]=await Promise.all([(await Promise.all(xe)).map(Ee=>Ee.data.project.repository.blobs.nodes),(await Promise.all(ke)).map(Ee=>Object.values(Ee.data.project.repository).map(({lastCommit:Te})=>Te).filter(Boolean))]),Ae=Ce.flat().map(Ee=>Ee.data),Pe=Oe.flat().map(({author:Ee,authoredDate:Te,authorName:Re})=>({author:Ee?Ee.name||Ee.username||Ee.publicEmail:Re,updatedOn:Te}));return ie.map((Ee,Te)=>({file:G(G({},Ee),Pe[Te]),data:Ae[Te]}))}),Z(this,"listAllFiles",async(ie,ve=!1,xe=this.branch)=>{if(this.graphQLClient)return await this.listAllFilesGraphQL(ie,ve,xe);const ke=[];let{cursor:Ce,entries:Oe}=await this.fetchCursorAndEntries({url:`${this.repoURL}/repository/tree`,params:{path:ie,ref:xe,per_page:100,recursive:ve}});for(ke.push(...Oe);Ce&&Ce.actions.has("next");){const Ae=Ce.data.getIn(["links","next"]),{cursor:Pe,entries:Ee}=await this.fetchCursorAndEntries(Ae);ke.push(...Ee),Ce=Pe}return ke.filter(({type:Ae})=>Ae==="blob")}),Z(this,"toBase64",ie=>Promise.resolve(z.Base64.encode(ie))),Z(this,"fromBase64",ie=>z.Base64.decode(ie)),Z(this,"deleteFiles",(ie,ve)=>{this.branch,this.commitAuthor&&this.commitAuthor;const xe=ie.map(ke=>({path:ke,action:J.DELETE}));return this.uploadAndCommit(xe,{commitMessage:ve})}),this.apiRoot=de.apiRoot||"https://gitlab.com/api/v4",this.graphQLAPIRoot=de.graphQLAPIRoot||"https://gitlab.com/api/graphql",this.token=de.token||!1,this.branch=de.branch||"master",this.repo=de.repo||"",this.repoURL=`/projects/${encodeURIComponent(this.repo)}`,this.squashMerges=de.squashMerges,this.initialWorkflowStatus=de.initialWorkflowStatus,this.cmsLabelPrefix=de.cmsLabelPrefix,de.useGraphQL===!0&&(this.graphQLClient=this.getApolloClient())}getApolloClient(){const de=(0,j.setContext)((ve,{headers:xe})=>({headers:G(G({"Content-Type":"application/json; charset=utf-8"},xe),{},{authorization:this.token?`token ${this.token}`:""})})),ie=(0,N.createHttpLink)({uri:this.graphQLAPIRoot});return new R.ApolloClient({link:de.concat(ie),cache:new I.InMemoryCache,defaultOptions:{watchQuery:{fetchPolicy:Y,errorPolicy:"ignore"},query:{fetchPolicy:Y,errorPolicy:"all"}}})}reset(){var de;return(de=this.graphQLClient)===null||de===void 0?void 0:de.resetStore()}async readFileMetadata(de,ie){return await(0,U.readFileMetadata)(ie,async()=>{try{const ve=(await this.requestJSON({url:`${this.repoURL}/repository/commits`,params:{path:de,ref_name:this.branch}}))[0];return{author:ve.author_name||ve.author_email,updatedOn:ve.authored_date}}catch{return{author:"",updatedOn:""}}},U.localForage)}async getBranch(de){return await this.requestJSON(`${this.repoURL}/repository/branches/${encodeURIComponent(de)}`)}async uploadAndCommit(de,{commitMessage:ie="",branch:ve=this.branch,newBranch:xe=!1}){const ke=de.map(Oe=>G(G({action:Oe.action,file_path:Oe.path},Oe.oldPath?{previous_path:Oe.oldPath}:{}),Oe.base64Content!==void 0?{content:Oe.base64Content,encoding:"base64"}:{})),Ce=G({branch:ve,commit_message:ie,actions:ke},xe?{start_branch:this.branch}:{});if(this.commitAuthor){const{name:Oe,email:Ae}=this.commitAuthor;Ce.author_name=Oe,Ce.author_email=Ae}try{return await this.requestJSON({url:`${this.repoURL}/repository/commits`,method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(Ce)})}catch(Oe){const Ae=Oe.message||"";throw xe&&Ae.includes(`Could not update ${ve}`)&&await(0,U.throwOnConflictingBranches)(ve,Pe=>this.getBranch(Pe),ee),Oe}}async getCommitItems(de,ie){const ve=await Promise.all(de.map(async xe=>{const[ke,Ce]=await Promise.all([(0,T.default)(xe,"toBase64",(0,O.default)(this.toBase64,xe.raw)),this.isFileExists(xe.path,ie)]);let Oe,Ae=J.CREATE,Pe=(0,A.default)(xe.path,"/");return Ce&&(Oe=xe.newPath&&Pe,Ae=xe.newPath&&xe.newPath!==Oe?J.MOVE:J.UPDATE,Pe=xe.newPath?(0,A.default)(xe.newPath,"/"):Pe),{action:Ae,base64Content:ke,path:Pe,oldPath:Oe}}));for(const xe of ve.filter(ke=>ke.oldPath&&ke.action===J.MOVE)){const ke=(0,F.dirname)(xe.oldPath),Ce=(0,F.dirname)(xe.path);(await this.listAllFiles(ke,!0,ie)).filter(Oe=>Oe.path!==xe.oldPath).forEach(Oe=>{ve.push({action:J.MOVE,path:Oe.path.replace(ke,Ce),oldPath:Oe.path})})}return ve}async persistFiles(de,ie,ve){const xe=[...de,...ie];if(ve.useWorkflow){const ke=de[0].slug;return this.editorialWorkflowGit(xe,ke,ve)}{const ke=await this.getCommitItems(xe,this.branch);return this.uploadAndCommit(ke,{commitMessage:ve.commitMessage})}}async getMergeRequests(de){return(await this.requestJSON({url:`${this.repoURL}/merge_requests`,params:G({state:"opened",labels:"Any",per_page:100,target_branch:this.branch},de?{source_branch:de}:{})})).filter(ie=>ie.source_branch.startsWith(U.CMS_BRANCH_PREFIX)&&ie.labels.some(ve=>(0,U.isCMSLabel)(ve,this.cmsLabelPrefix)))}async listUnpublishedBranches(){return console.log("%c Checking for Unpublished entries","line-height: 30px;text-align: center;font-weight: bold"),(await this.getMergeRequests()).map(de=>de.source_branch)}async getFileId(de,ie){return(await this.request({method:"HEAD",url:`${this.repoURL}/repository/files/${encodeURIComponent(de)}`,params:{ref:ie}})).headers.get("X-Gitlab-Blob-Id")}async isFileExists(de,ie){return await this.requestText({method:"HEAD",url:`${this.repoURL}/repository/files/${encodeURIComponent(de)}`,params:{ref:ie}}).then(()=>!0).catch(ve=>{if(ve instanceof U.APIError&&ve.status===404)return!1;throw ve})}async getBranchMergeRequest(de){const ie=await this.getMergeRequests(de);if(ie.length<=0)throw new U.EditorialWorkflowError("content is not under editorial workflow",!0);return ie[0]}async getDifferences(de,ie=this.branch){if(de===ie)return[];const ve=await this.requestJSON({url:`${this.repoURL}/repository/compare`,params:{from:ie,to:de}});if(ve.diffs.length>=1e3)throw new U.APIError("Diff limit reached",null,ee);return ve.diffs.map(xe=>{let ke="modified";return xe.new_file?ke="added":xe.deleted_file?ke="deleted":xe.renamed_file&&(ke="renamed"),{status:ke,oldPath:xe.old_path,newPath:xe.new_path,newFile:xe.new_file,path:xe.new_path||xe.old_path,binary:xe.diff.startsWith("Binary")||/.svg$/.test(xe.new_path)}})}async retrieveUnpublishedEntryData(de){const{collection:ie,slug:ve}=(0,U.parseContentKey)(de),xe=(0,U.branchFromContentKey)(de),ke=await this.getBranchMergeRequest(xe),Ce=await this.getDifferences(ke.sha),Oe=await Promise.all(Ce.map(async Pe=>{const{path:Ee,newFile:Te}=Pe;return{id:await this.getFileId(Ee,xe),path:Ee,newFile:Te}})),Ae=ke.labels.find(Pe=>(0,U.isCMSLabel)(Pe,this.cmsLabelPrefix));return{collection:ie,slug:ve,status:(0,U.labelToStatus)(Ae,this.cmsLabelPrefix),diffs:Oe,updatedAt:ke.updated_at,pullRequestAuthor:ke.author.name}}async rebaseMergeRequest(de){let ie=await this.requestJSON({method:"PUT",url:`${this.repoURL}/merge_requests/${de.iid}/rebase?skip_ci=true`}),ve=1;for(;ie.rebase_in_progress&&(await new Promise(xe=>setTimeout(xe,1e3)),ie=await this.requestJSON({url:`${this.repoURL}/merge_requests/${de.iid}`,params:{include_rebase_in_progress:!0}}),ie.rebase_in_progress&&!(ve>30));)ve++;if(ie.rebase_in_progress)throw new U.APIError("Timed out rebasing merge request",null,ee);if(ie.merge_error)throw new U.APIError(`Rebase error: ${ie.merge_error}`,null,ee)}async createMergeRequest(de,ie,ve){await this.requestJSON({method:"POST",url:`${this.repoURL}/merge_requests`,params:{source_branch:de,target_branch:this.branch,title:ie,description:U.DEFAULT_PR_BODY,labels:(0,U.statusToLabel)(ve,this.cmsLabelPrefix),remove_source_branch:!0,squash:this.squashMerges}})}async editorialWorkflowGit(de,ie,ve){const xe=(0,U.generateContentKey)(ve.collectionName,ie),ke=(0,U.branchFromContentKey)(xe);if(ve.unpublished){const Ce=await this.getBranchMergeRequest(ke);await this.rebaseMergeRequest(Ce);const[Oe,Ae]=await Promise.all([this.getCommitItems(de,ke),this.getDifferences(ke)]);for(const Pe of Ae.filter(Ee=>Ee.binary))Oe.some(Ee=>Ee.path===Pe.path)||Oe.push({action:J.DELETE,path:Pe.newPath});await this.uploadAndCommit(Oe,{commitMessage:ve.commitMessage,branch:ke})}else{const Ce=await this.getCommitItems(de,this.branch);await this.uploadAndCommit(Ce,{commitMessage:ve.commitMessage,branch:ke,newBranch:!0}),await this.createMergeRequest(ke,ve.commitMessage,ve.status||this.initialWorkflowStatus)}}async updateMergeRequestLabels(de,ie){await this.requestJSON({method:"PUT",url:`${this.repoURL}/merge_requests/${de.iid}`,params:{labels:ie.join(",")}})}async updateUnpublishedEntryStatus(de,ie,ve){const xe=(0,U.generateContentKey)(de,ie),ke=(0,U.branchFromContentKey)(xe),Ce=await this.getBranchMergeRequest(ke),Oe=[...Ce.labels.filter(Ae=>!(0,U.isCMSLabel)(Ae,this.cmsLabelPrefix)),(0,U.statusToLabel)(ve,this.cmsLabelPrefix)];await this.updateMergeRequestLabels(Ce,Oe)}async mergeMergeRequest(de){await this.requestJSON({method:"PUT",url:`${this.repoURL}/merge_requests/${de.iid}/merge`,params:{merge_commit_message:U.MERGE_COMMIT_MESSAGE,squash_commit_message:U.MERGE_COMMIT_MESSAGE,squash:this.squashMerges,should_remove_source_branch:!0}})}async publishUnpublishedEntry(de,ie){const ve=(0,U.generateContentKey)(de,ie),xe=(0,U.branchFromContentKey)(ve),ke=await this.getBranchMergeRequest(xe);await this.mergeMergeRequest(ke)}async closeMergeRequest(de){await this.requestJSON({method:"PUT",url:`${this.repoURL}/merge_requests/${de.iid}`,params:{state_event:"close"}})}async getDefaultBranch(){return await this.getBranch(this.branch)}async isShaExistsInBranch(de,ie){return(await this.requestJSON({url:`${this.repoURL}/repository/commits/${ie}/refs`,params:{type:"branch"}})).some(ve=>ve.name===de)}async deleteBranch(de){await this.request({method:"DELETE",url:`${this.repoURL}/repository/branches/${encodeURIComponent(de)}`})}async deleteUnpublishedEntry(de,ie){const ve=(0,U.generateContentKey)(de,ie),xe=(0,U.branchFromContentKey)(ve),ke=await this.getBranchMergeRequest(xe);await this.closeMergeRequest(ke),await this.deleteBranch(xe)}async getMergeRequestStatues(de,ie){return await this.requestJSON({url:`${this.repoURL}/repository/commits/${de.sha}/statuses`,params:{ref:ie}})}async getStatuses(de,ie){const ve=(0,U.generateContentKey)(de,ie),xe=(0,U.branchFromContentKey)(ve),ke=await this.getBranchMergeRequest(xe);return(await this.getMergeRequestStatues(ke,xe)).map(({name:Ce,status:Oe,target_url:Ae})=>({context:Ce,state:Oe===Q.Success?U.PreviewState.Success:U.PreviewState.Other,target_url:Ae}))}async getUnpublishedEntrySha(de,ie){const ve=(0,U.generateContentKey)(de,ie),xe=(0,U.branchFromContentKey)(ve);return(await this.getBranchMergeRequest(xe)).sha}}},99449:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=N(_(70894)),T=N(_(12244)),O=N(_(13980)),P=_(76320),R=_(30762),I=_(28165);function N(F){return F&&F.__esModule?F:{default:F}}function j(F,q,B){var W;return(q=typeof(W=function(H,G){if(typeof H!="object"||!H)return H;var Z=H[Symbol.toPrimitive];if(Z!==void 0){var Y=Z.call(H,"string");if(typeof Y!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(q))=="symbol"?W:String(W))in F?Object.defineProperty(F,q,{value:B,enumerable:!0,configurable:!0,writable:!0}):F[q]=B,F}const U=(0,A.default)(R.Icon,{target:"e80yw6v0",label:"LoginButtonIcon"})({name:"1gnqu05",styles:"margin-right:18px"}),z={pkce:({base_url:F,auth_endpoint:q,app_id:B,auth_token_endpoint:W})=>new P.PkceAuthenticator({base_url:F,auth_endpoint:q,app_id:B,auth_token_endpoint:W,auth_token_endpoint_content_type:"application/json; charset=utf-8"}),implicit:({base_url:F,auth_endpoint:q,app_id:B,clearHash:W})=>new P.ImplicitAuthenticator({base_url:F,auth_endpoint:q,app_id:B,clearHash:W})};class V extends T.default.Component{constructor(...q){super(...q),j(this,"state",{}),j(this,"handleLogin",B=>{B.preventDefault(),this.auth.authenticate({provider:"gitlab",scope:"api"},(W,H)=>{W?this.setState({loginError:W.toString()}):this.props.onLogin(H)})})}componentDidMount(){const{auth_type:q="",base_url:B="https://gitlab.com",auth_endpoint:W="oauth/authorize",app_id:H=""}=this.props.config.backend;z[q]?(this.auth=z[q]({base_url:B,auth_endpoint:W,app_id:H,auth_token_endpoint:"oauth/token",clearHash:this.props.clearHash}),this.auth.completeAuth((G,Z)=>{G?this.setState({loginError:G.toString()}):this.props.onLogin(Z)})):this.auth=new P.NetlifyAuthenticator({base_url:this.props.base_url,site_id:document.location.host.split(":")[0]==="localhost"?"demo.decapcms.org":this.props.siteId,auth_endpoint:this.props.authEndpoint})}render(){const{inProgress:q,config:B,t:W}=this.props;return(0,I.jsx)(R.AuthenticationPage,{onLogin:this.handleLogin,loginDisabled:q,loginErrorMessage:this.state.loginError,logoUrl:B.logo_url,siteUrl:B.site_url,renderButtonContent:()=>(0,I.jsx)(T.default.Fragment,null,(0,I.jsx)(U,{type:"gitlab"})," ",W(q?"auth.loggingIn":"auth.loginWithGitLab")),t:W})}}E.default=V,j(V,"propTypes",{onLogin:O.default.func.isRequired,inProgress:O.default.bool,base_url:O.default.string,siteId:O.default.string,authEndpoint:O.default.string,config:O.default.object.isRequired,clearHash:O.default.func,t:O.default.func.isRequired})},37943:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=U(_(5648)),T=U(_(93433)),O=U(_(63252)),P=_(13856),R=_(33806),I=U(_(99449)),N=function(q,B){if(q&&q.__esModule)return q;if(q===null||typeof q!="object"&&typeof q!="function")return{default:q};var W=j(B);if(W&&W.has(q))return W.get(q);var H={__proto__:null},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in q)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(q,Z)){var Y=G?Object.getOwnPropertyDescriptor(q,Z):null;Y&&(Y.get||Y.set)?Object.defineProperty(H,Z,Y):H[Z]=q[Z]}return H.default=q,W&&W.set(q,H),H}(_(22026));function j(q){if(typeof WeakMap!="function")return null;var B=new WeakMap,W=new WeakMap;return(j=function(H){return H?W:B})(q)}function U(q){return q&&q.__esModule?q:{default:q}}function z(q,B){var W=Object.keys(q);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(q);B&&(H=H.filter(function(G){return Object.getOwnPropertyDescriptor(q,G).enumerable})),W.push.apply(W,H)}return W}function V(q){for(var B=1;B<arguments.length;B++){var W=arguments[B]!=null?arguments[B]:{};B%2?z(Object(W),!0).forEach(function(H){F(q,H,W[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(W)):z(Object(W)).forEach(function(H){Object.defineProperty(q,H,Object.getOwnPropertyDescriptor(W,H))})}return q}function F(q,B,W){var H;return(B=typeof(H=function(G,Z){if(typeof G!="object"||!G)return G;var Y=G[Symbol.toPrimitive];if(Y!==void 0){var ee=Y.call(G,"string");if(typeof ee!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(B))=="symbol"?H:String(H))in q?Object.defineProperty(q,B,{value:W,enumerable:!0,configurable:!0,writable:!0}):q[B]=W,q}E.default=class{constructor(q,B={}){if(F(this,"lock",void 0),F(this,"api",void 0),F(this,"options",void 0),F(this,"repo",void 0),F(this,"isBranchConfigured",void 0),F(this,"branch",void 0),F(this,"apiRoot",void 0),F(this,"token",void 0),F(this,"squashMerges",void 0),F(this,"cmsLabelPrefix",void 0),F(this,"mediaFolder",void 0),F(this,"previewContext",void 0),F(this,"useGraphQL",void 0),F(this,"graphQLAPIRoot",void 0),F(this,"_mediaDisplayURLSem",void 0),this.options=V({proxied:!1,API:null,initialWorkflowStatus:""},B),!this.options.proxied&&(q.backend.repo===null||q.backend.repo===void 0))throw new Error('The GitLab backend needs a "repo" in the backend configuration.');this.api=this.options.API||null,this.repo=q.backend.repo||"",this.branch=q.backend.branch||"master",this.isBranchConfigured=!!q.backend.branch,this.apiRoot=q.backend.api_root||"https://gitlab.com/api/v4",this.token="",this.squashMerges=q.backend.squash_merges||!1,this.cmsLabelPrefix=q.backend.cms_label_prefix||"",this.mediaFolder=q.media_folder,this.previewContext=q.backend.preview_context||"",this.useGraphQL=q.backend.use_graphql||!1,this.graphQLAPIRoot=q.backend.graphql_api_root||"https://gitlab.com/api/graphql",this.lock=(0,R.asyncLock)()}isGitBackend(){return!0}async status(){var q;return{auth:{status:await((q=this.api)===null||q===void 0?void 0:q.user().then(B=>!!B).catch(B=>(console.warn("Failed getting GitLab user",B),!1)))||!1},api:{status:!0,statusPage:""}}}authComponent(){return I.default}restoreUser(q){return this.authenticate(q)}async authenticate(q){this.token=q.token,this.api=new N.default({token:this.token,branch:this.branch,repo:this.repo,apiRoot:this.apiRoot,squashMerges:this.squashMerges,cmsLabelPrefix:this.cmsLabelPrefix,initialWorkflowStatus:this.options.initialWorkflowStatus,useGraphQL:this.useGraphQL,graphQLAPIRoot:this.graphQLAPIRoot});const B=await this.api.user();if(!await this.api.hasWriteAccess().catch(W=>{throw W.message=P.stripIndent`
        Repo "${this.repo}" not found.

        Please ensure the repo information is spelled correctly.

        If the repo is private, make sure you're logged into a GitLab account with access.
      `,W}))throw new Error("Your GitLab user account does not have access to this repo.");if(!this.isBranchConfigured){const W=await(0,R.getDefaultBranchName)({backend:"gitlab",repo:this.repo,token:this.token,apiRoot:this.apiRoot});W&&(this.branch=W)}return V(V({},B),{},{login:B.username,token:q.token})}async logout(){this.token=null}getToken(){return Promise.resolve(this.token)}filterFile(q,B,W,H){const G=(0,A.default)(B.path.split(q)[1]||"/","/");return(0,R.filterByExtension)(B,W)&&G.split("/").length<=H}async entriesByFolder(q,B,W){let H;const G=await(0,R.entriesByFolder)(()=>this.api.listFiles(q,W>1).then(({files:Z,cursor:Y})=>(H=Y.mergeMeta({folder:q,extension:B,depth:W}),Z.filter(ee=>this.filterFile(q,ee,B,W)))),this.api.readFile.bind(this.api),this.api.readFileMetadata.bind(this.api),N.API_NAME);return G[R.CURSOR_COMPATIBILITY_SYMBOL]=H,G}async listAllFiles(q,B,W){return(await this.api.listAllFiles(q,W>1)).filter(H=>this.filterFile(q,H,B,W))}async allEntriesByFolder(q,B,W){return await(0,R.allEntriesByFolder)({listAllFiles:()=>this.listAllFiles(q,B,W),readFile:this.api.readFile.bind(this.api),readFileMetadata:this.api.readFileMetadata.bind(this.api),apiName:N.API_NAME,branch:this.branch,localForage:R.localForage,folder:q,extension:B,depth:W,getDefaultBranch:()=>this.api.getDefaultBranch().then(H=>({name:H.name,sha:H.commit.id})),isShaExistsInBranch:this.api.isShaExistsInBranch.bind(this.api),getDifferences:(H,G)=>this.api.getDifferences(H,G),getFileId:H=>this.api.getFileId(H,this.branch),filterFile:H=>this.filterFile(q,H,B,W),customFetch:this.useGraphQL?H=>this.api.readFilesGraphQL(H):void 0})}entriesByFiles(q){return(0,R.entriesByFiles)(q,this.api.readFile.bind(this.api),this.api.readFileMetadata.bind(this.api),N.API_NAME)}getEntry(q){return this.api.readFile(q).then(B=>({file:{path:q,id:null},data:B}))}getMedia(q=this.mediaFolder){return this.api.listAllFiles(q).then(B=>B.map(({id:W,name:H,path:G})=>({id:W,name:H,path:G,displayURL:{id:W,name:H,path:G}})))}getMediaDisplayURL(q){return this._mediaDisplayURLSem=this._mediaDisplayURLSem||(0,O.default)(10),(0,R.getMediaDisplayURL)(q,this.api.readFile.bind(this.api),this._mediaDisplayURLSem)}async getMediaFile(q){const B=(0,R.basename)(q),W=await(0,R.getMediaAsBlob)(q,null,this.api.readFile.bind(this.api)),H=(0,R.blobToFileObj)(B,W),G=URL.createObjectURL(H);return{id:await(0,R.getBlobSHA)(W),displayURL:G,path:q,name:B,size:H.size,file:H,url:G}}async persistEntry(q,B){return(0,R.runWithLock)(this.lock,()=>this.api.persistFiles(q.dataFiles,q.assets,B),"Failed to acquire persist entry lock")}async persistMedia(q,B){const W=q.fileObj,[H]=await Promise.all([(0,R.getBlobSHA)(W),this.api.persistFiles([],[q],B)]),{path:G}=q,Z=URL.createObjectURL(W);return{displayURL:Z,path:(0,T.default)(G,"/"),name:W.name,size:W.size,file:W,url:Z,id:H}}deleteFiles(q,B){return this.api.deleteFiles(q,B)}traverseCursor(q,B){return this.api.traverseCursor(q,B).then(async({entries:W,cursor:H})=>{var G,Z,Y;const[ee,J,Q]=[(G=q.meta)===null||G===void 0?void 0:G.get("folder"),(Z=q.meta)===null||Z===void 0?void 0:Z.get("depth"),(Y=q.meta)===null||Y===void 0?void 0:Y.get("extension")];return ee&&J&&Q&&(W=W.filter(te=>this.filterFile(ee,te,Q,J)),H=H.mergeMeta({folder:ee,extension:Q,depth:J})),{entries:await(0,R.entriesByFiles)(W,this.api.readFile.bind(this.api),this.api.readFileMetadata.bind(this.api),N.API_NAME),cursor:H}})}loadMediaFile(q,B){return(0,R.getMediaAsBlob)(B.path,null,(W,H,{parseText:G})=>this.api.readFile(W,H,{branch:q,parseText:G})).then(W=>{const H=(0,R.basename)(B.path),G=(0,R.blobToFileObj)(H,W);return{id:B.path,displayURL:URL.createObjectURL(G),path:B.path,name:H,size:G.size,file:G}})}async loadEntryMediaFiles(q,B){return await Promise.all(B.map(W=>this.loadMediaFile(q,W)))}async unpublishedEntries(){return await(0,R.unpublishedEntries)(()=>this.api.listUnpublishedBranches().then(q=>q.map(B=>(0,R.contentKeyFromBranch)(B))))}async unpublishedEntry({id:q,collection:B,slug:W}){if(q)return await this.api.retrieveUnpublishedEntryData(q);if(B&&W){const H=(0,R.generateContentKey)(B,W);return await this.api.retrieveUnpublishedEntryData(H)}throw new Error("Missing unpublished entry id or collection and slug")}getBranch(q,B){const W=(0,R.generateContentKey)(q,B);return(0,R.branchFromContentKey)(W)}async unpublishedEntryDataFile(q,B,W,H){const G=this.getBranch(q,B);return await this.api.readFile(W,H,{branch:G})}async unpublishedEntryMediaFile(q,B,W,H){const G=this.getBranch(q,B);return await this.loadMediaFile(G,{path:W,id:H})}async updateUnpublishedEntryStatus(q,B,W){return(0,R.runWithLock)(this.lock,()=>this.api.updateUnpublishedEntryStatus(q,B,W),"Failed to acquire update entry status lock")}async deleteUnpublishedEntry(q,B){return(0,R.runWithLock)(this.lock,()=>this.api.deleteUnpublishedEntry(q,B),"Failed to acquire delete entry lock")}async publishUnpublishedEntry(q,B){return(0,R.runWithLock)(this.lock,()=>this.api.publishUnpublishedEntry(q,B),"Failed to acquire publish entry lock")}async getDeployPreview(q,B){try{const W=await this.api.getStatuses(q,B),H=(0,R.getPreviewStatus)(W,this.previewContext);if(H){const{target_url:G,state:Z}=H;return{url:G,status:Z}}return null}catch{return null}}}},34554:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),Object.defineProperty(E,"API",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(E,"AuthenticationPage",{enumerable:!0,get:function(){return O.default}}),E.DecapCmsBackendGitlab=void 0,Object.defineProperty(E,"GitLabBackend",{enumerable:!0,get:function(){return A.default}});var A=P(_(37943)),T=P(_(22026)),O=P(_(99449));function P(R){return R&&R.__esModule?R:{default:R}}E.DecapCmsBackendGitlab={GitLabBackend:A.default,API:T.default,AuthenticationPage:O.default}},31183:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.files=E.blobs=void 0,E.lastCommits=function(O){const P=O.map((R,I)=>T.oneLine`
    tree${I}: tree(ref: $branch, path: "${R}") {
      lastCommit {
        authorName
        authoredDate
        author {
          id
          username
          name
          publicEmail
        }
      }
    }
  `).join(`
`);return A.gql`
  query lastCommits($repo: ID!, $branch: String!) {
    project(fullPath: $repo) {
      repository {
        ${P}
      }
    }
  }
`};var A=_(21488),T=_(13856);E.files=A.gql`
  query files($repo: ID!, $branch: String!, $path: String!, $recursive: Boolean!, $cursor: String) {
    project(fullPath: $repo) {
      repository {
        tree(ref: $branch, path: $path, recursive: $recursive) {
          blobs(after: $cursor) {
            nodes {
              type
              id: sha
              path
              name
            }
            pageInfo {
              endCursor
              hasNextPage
            }
          }
        }
      }
    }
  }
`,E.blobs=A.gql`
  query blobs($repo: ID!, $branch: String!, $paths: [String!]!) {
    project(fullPath: $repo) {
      repository {
        blobs(ref: $branch, paths: $paths) {
          nodes {
            id
            data: rawBlob
          }
        }
      }
    }
  }
`},60737:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=I(_(70894)),T=I(_(12244)),O=I(_(13980)),P=_(30762),R=_(28165);function I(V){return V&&V.__esModule?V:{default:V}}function N(V,F,q){var B;return(F=typeof(B=function(W,H){if(typeof W!="object"||!W)return W;var G=W[Symbol.toPrimitive];if(G!==void 0){var Z=G.call(W,"string");if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(F))=="symbol"?B:String(B))in V?Object.defineProperty(V,F,{value:q,enumerable:!0,configurable:!0,writable:!0}):V[F]=q,V}const j=(0,A.default)("section",{target:"e1ektlme1",label:"StyledAuthenticationPage"})({name:"8azftg",styles:"display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;height:100vh"}),U=(0,A.default)("button",{target:"e1ektlme0",label:"LoginButton"})(P.buttons.button,";",P.shadows.dropDeep,";",P.buttons.default,";",P.buttons.gray,";padding:0 30px;margin-top:0;display:flex;align-items:center;position:relative;",P.Icon,"{margin-right:18px;}");class z extends T.default.Component{constructor(...F){super(...F),N(this,"handleLogin",q=>{q.preventDefault(),this.props.onLogin(this.state)})}render(){const{config:F,inProgress:q,t:B}=this.props;return(0,R.jsx)(j,null,(0,P.renderPageLogo)(F.logo_url),(0,R.jsx)(U,{disabled:q,onClick:this.handleLogin},B(q?"auth.loggingIn":"auth.login")),F.site_url&&(0,R.jsx)(P.GoBackButton,{href:F.site_url,t:B}))}}E.default=z,N(z,"propTypes",{onLogin:O.default.func.isRequired,inProgress:O.default.bool,config:O.default.object.isRequired,t:O.default.func.isRequired})},9189:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A,T=_(33806),O=(A=_(60737))&&A.__esModule?A:{default:A};function P(U,z){var V=Object.keys(U);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(U);z&&(F=F.filter(function(q){return Object.getOwnPropertyDescriptor(U,q).enumerable})),V.push.apply(V,F)}return V}function R(U){for(var z=1;z<arguments.length;z++){var V=arguments[z]!=null?arguments[z]:{};z%2?P(Object(V),!0).forEach(function(F){I(U,F,V[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(V)):P(Object(V)).forEach(function(F){Object.defineProperty(U,F,Object.getOwnPropertyDescriptor(V,F))})}return U}function I(U,z,V){var F;return(z=typeof(F=function(q,B){if(typeof q!="object"||!q)return q;var W=q[Symbol.toPrimitive];if(W!==void 0){var H=W.call(q,"string");if(typeof H!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(q)}(z))=="symbol"?F:String(F))in U?Object.defineProperty(U,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):U[z]=V,U}async function N(U){const z=await U.toBase64();return{path:U.path,content:z,encoding:"base64"}}function j({id:U,content:z,encoding:V,path:F,name:q}){let B=new Uint8Array(0);if(V!=="base64")console.error(`Unsupported encoding '${V}' for file '${F}'`);else{const Z=atob(z);B=new Uint8Array(Z.length);for(let Y=0;Y<Z.length;Y++)B[Y]=Z.charCodeAt(Y)}const W=new Blob([B]),H=(0,T.blobToFileObj)(q,W),G=URL.createObjectURL(H);return{id:U,name:q,path:F,file:H,size:H.size,url:G,displayURL:G}}E.default=class{constructor(U,z={}){if(I(this,"proxyUrl",void 0),I(this,"mediaFolder",void 0),I(this,"options",void 0),I(this,"branch",void 0),I(this,"cmsLabelPrefix",void 0),!U.backend.proxy_url)throw new Error('The Proxy backend needs a "proxy_url" in the backend configuration.');this.branch=U.backend.branch||"master",this.proxyUrl=U.backend.proxy_url,this.mediaFolder=U.media_folder,this.options=z,this.cmsLabelPrefix=U.backend.cms_label_prefix}isGitBackend(){return!1}status(){return Promise.resolve({auth:{status:!0},api:{status:!0,statusPage:""}})}authComponent(){return O.default}restoreUser(){return this.authenticate()}authenticate(){return Promise.resolve()}logout(){return null}getToken(){return Promise.resolve("")}async request(U){const z=await T.unsentRequest.fetchWithTimeout(this.proxyUrl,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(R({branch:this.branch},U))}),V=await z.json();if(z.ok)return V;throw new T.APIError(V.error,z.status,"Proxy")}entriesByFolder(U,z,V){return this.request({action:"entriesByFolder",params:{branch:this.branch,folder:U,extension:z,depth:V}})}entriesByFiles(U){return this.request({action:"entriesByFiles",params:{branch:this.branch,files:U}})}getEntry(U){return this.request({action:"getEntry",params:{branch:this.branch,path:U}})}unpublishedEntries(){return this.request({action:"unpublishedEntries",params:{branch:this.branch}})}async unpublishedEntry({id:U,collection:z,slug:V}){try{return await this.request({action:"unpublishedEntry",params:{branch:this.branch,id:U,collection:z,slug:V,cmsLabelPrefix:this.cmsLabelPrefix}})}catch(F){throw F.status===404?new T.EditorialWorkflowError("content is not under editorial workflow",!0):F}}async unpublishedEntryDataFile(U,z,V,F){const{data:q}=await this.request({action:"unpublishedEntryDataFile",params:{branch:this.branch,collection:U,slug:z,path:V,id:F}});return q}async unpublishedEntryMediaFile(U,z,V,F){return j(await this.request({action:"unpublishedEntryMediaFile",params:{branch:this.branch,collection:U,slug:z,path:V,id:F}}))}deleteUnpublishedEntry(U,z){return this.request({action:"deleteUnpublishedEntry",params:{branch:this.branch,collection:U,slug:z}})}async persistEntry(U,z){const V=await Promise.all(U.assets.map(N));return this.request({action:"persistEntry",params:{branch:this.branch,dataFiles:U.dataFiles,assets:V,options:R(R({},z),{},{status:z.status||this.options.initialWorkflowStatus}),cmsLabelPrefix:this.cmsLabelPrefix}})}updateUnpublishedEntryStatus(U,z,V){return this.request({action:"updateUnpublishedEntryStatus",params:{branch:this.branch,collection:U,slug:z,newStatus:V,cmsLabelPrefix:this.cmsLabelPrefix}})}publishUnpublishedEntry(U,z){return this.request({action:"publishUnpublishedEntry",params:{branch:this.branch,collection:U,slug:z}})}async getMedia(U=this.mediaFolder){return(await this.request({action:"getMedia",params:{branch:this.branch,mediaFolder:U}})).map(j)}async getMediaFile(U){return j(await this.request({action:"getMediaFile",params:{branch:this.branch,path:U}}))}async persistMedia(U,z){const V=await N(U);return j(await this.request({action:"persistMedia",params:{branch:this.branch,asset:V,options:{commitMessage:z.commitMessage}}}))}deleteFiles(U,z){return this.request({action:"deleteFiles",params:{branch:this.branch,paths:U,options:{commitMessage:z}}})}getDeployPreview(U,z){return this.request({action:"getDeployPreview",params:{branch:this.branch,collection:U,slug:z}})}}},99307:($,E,_)=>{Object.defineProperty(E,"JZ",{enumerable:!0,get:function(){return A.default}});var A=O(_(9189)),T=O(_(60737));function O(P){return P&&P.__esModule?P:{default:P}}A.default,T.default},69730:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=I(_(70894)),T=I(_(12244)),O=I(_(13980)),P=_(30762),R=_(28165);function I(F){return F&&F.__esModule?F:{default:F}}function N(F,q,B){var W;return(q=typeof(W=function(H,G){if(typeof H!="object"||!H)return H;var Z=H[Symbol.toPrimitive];if(Z!==void 0){var Y=Z.call(H,"string");if(typeof Y!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(q))=="symbol"?W:String(W))in F?Object.defineProperty(F,q,{value:B,enumerable:!0,configurable:!0,writable:!0}):F[q]=B,F}const j=(0,A.default)("section",{target:"e141mjkc2",label:"StyledAuthenticationPage"})({name:"14ts7qn",styles:"display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;gap:50px;height:100vh"}),U=(0,A.default)(P.Icon,{target:"e141mjkc1",label:"PageLogoIcon"})({name:"pit38s",styles:"height:auto"}),z=(0,A.default)("button",{target:"e141mjkc0",label:"LoginButton"})(P.buttons.button,";",P.shadows.dropDeep,";",P.buttons.default,";",P.buttons.gray,";padding:0 30px;margin-top:0;display:flex;align-items:center;position:relative;",P.Icon,"{margin-right:18px;}");class V extends T.default.Component{constructor(...q){super(...q),N(this,"handleLogin",B=>{B.preventDefault(),this.props.onLogin(this.state)})}componentDidMount(){this.props.config.backend.login===!1&&this.props.onLogin(this.state)}render(){const{config:q,inProgress:B,t:W}=this.props;return(0,R.jsx)(j,null,(0,R.jsx)(U,{size:"300px",type:"decap-cms"}),(0,R.jsx)(z,{disabled:B,onClick:this.handleLogin},W(B?"auth.loggingIn":"auth.login")),q.site_url&&(0,R.jsx)(P.GoBackButton,{href:q.site_url,t:W}))}}E.default=V,N(V,"propTypes",{onLogin:O.default.func.isRequired,inProgress:O.default.bool,config:O.default.object.isRequired,t:O.default.func.isRequired})},57058:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.getFolderFiles=G;var A=z(_(45455)),T=z(_(17195)),O=z(_(85701)),P=z(_(85121)),R=z(_(55027)),I=_(29987),N=_(33806),j=_(21023),U=z(_(69730));function z(Z){return Z&&Z.__esModule?Z:{default:Z}}function V(Z,Y,ee){var J;return(Y=typeof(J=function(Q,te){if(typeof Q!="object"||!Q)return Q;var se=Q[Symbol.toPrimitive];if(se!==void 0){var de=se.call(Q,"string");if(typeof de!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(Y))=="symbol"?J:String(J))in Z?Object.defineProperty(Z,Y,{value:ee,enumerable:!0,configurable:!0,writable:!0}):Z[Y]=ee,Z}function F(Z,Y){const ee=Z.split("/");let J=Y;for(;J&&ee.length;)J=J[ee.shift()];return J||{}}function q(Z,Y,ee){const J=Z.split("/");let Q=ee;for(;J.length>1;){const te=J.shift();Q[te]=Q[te]||{},Q=Q[te]}Q[J.shift()]={content:Y,path:Z}}function B(Z,Y){(0,T.default)(Y,Z.split("/"))}window.repoFiles=window.repoFiles||{},window.repoFilesUnpublished=window.repoFilesUnpublished||[];const W=10;function H(Z,Y,ee,J,Q){const te=ee.length,se=Math.floor(te/W);return N.Cursor.create({actions:[...J<se?["next","last"]:[],...J>0?["prev","first"]:[]],meta:{index:J,count:te,pageSize:W,pageCount:se},data:{folder:Z,extension:Y,index:J,pageCount:se,depth:Q}})}function G(Z,Y,ee,J,Q=[],te=Y){return J<=0||Object.keys(Z[Y]||{}).forEach(se=>{if(!(0,j.extname)(se))return G(Z[Y],se,ee,J-1,Q,`${te}/${se}`);{const de=Z[Y][se];ee&&!se.endsWith(`.${ee}`)||Q.unshift({content:de.content,path:`${te}/${se}`})}}),Q}E.default=class{constructor(Z,Y={}){V(this,"mediaFolder",void 0),V(this,"options",void 0),this.options=Y,this.mediaFolder=Z.media_folder}isGitBackend(){return!1}status(){return Promise.resolve({auth:{status:!0},api:{status:!0,statusPage:""}})}authComponent(){return U.default}restoreUser(){return this.authenticate()}authenticate(){return Promise.resolve()}logout(){return null}getToken(){return Promise.resolve("")}traverseCursor(Z,Y){const{folder:ee,extension:J,index:Q,pageCount:te,depth:se}=Z.data.toObject(),de=Y==="next"?Q+1:Y==="prev"?Q-1:Y==="first"?0:Y==="last"?te:0,ie=G(window.repoFiles,ee,J,se).map(ke=>({data:ke.content,file:{path:ke.path,id:ke.path}})),ve=ie.slice(de*W,de*W+W),xe=H(ee,J,ie,de,se);return Promise.resolve({entries:ve,cursor:xe})}entriesByFolder(Z,Y,ee){const J=(Z?G(window.repoFiles,Z,Y,ee):[]).map(se=>({data:se.content,file:{path:se.path,id:se.path}})),Q=H(Z,Y,J,0,ee),te=(0,O.default)(J,W);return te[N.CURSOR_COMPATIBILITY_SYMBOL]=Q,Promise.resolve(te)}entriesByFiles(Z){return Promise.all(Z.map(Y=>({file:Y,data:F(Y.path,window.repoFiles).content})))}getEntry(Z){return Promise.resolve({file:{path:Z,id:null},data:F(Z,window.repoFiles).content})}unpublishedEntries(){return Promise.resolve(Object.keys(window.repoFilesUnpublished))}unpublishedEntry({id:Z,collection:Y,slug:ee}){if(Z){const Q=Z.split("/");Y=Q[0],ee=Q[1]}const J=window.repoFilesUnpublished[`${Y}/${ee}`];return J?Promise.resolve(J):Promise.reject(new N.EditorialWorkflowError("content is not under editorial workflow",!0))}async unpublishedEntryDataFile(Z,Y,ee){const J=window.repoFilesUnpublished[`${Z}/${Y}`].diffs.find(Q=>Q.path===ee);return J==null?void 0:J.content}async unpublishedEntryMediaFile(Z,Y,ee){const J=window.repoFilesUnpublished[`${Z}/${Y}`].diffs.find(Q=>Q.path===ee);return this.normalizeAsset(J==null?void 0:J.content)}deleteUnpublishedEntry(Z,Y){return delete window.repoFilesUnpublished[`${Z}/${Y}`],Promise.resolve()}async addOrUpdateUnpublishedEntry(Z,Y,ee,J,Q,te){const se=[];Y.forEach(de=>{var ie;const{path:ve,newPath:xe,raw:ke}=de,Ce=(ie=window.repoFilesUnpublished[Z])===null||ie===void 0?void 0:ie.diffs.find(Ae=>Ae.path===ve),Oe=Ce?Ce.originalPath:ve;se.push({originalPath:Oe,id:xe||ve,path:xe||ve,newFile:(0,A.default)(F(Oe,window.repoFiles)),status:"added",content:ke})}),ee.forEach(de=>{const ie=this.normalizeAsset(de);se.push({id:ie.id,path:ie.path,newFile:!0,status:"added",content:ie})}),window.repoFilesUnpublished[Z]={slug:J,collection:Q,status:te,diffs:se,updatedAt:new Date().toISOString()}}async persistEntry(Z,Y){if(Y.useWorkflow){const ee=Z.dataFiles[0].slug,J=`${Y.collectionName}/${ee}`,Q=window.repoFilesUnpublished[J],te=(Q==null?void 0:Q.status)||Y.status||this.options.initialWorkflowStatus;return this.addOrUpdateUnpublishedEntry(J,Z.dataFiles,Z.assets,ee,Y.collectionName,te),Promise.resolve()}return Z.dataFiles.forEach(ee=>{const{path:J,raw:Q}=ee;q(J,Q,window.repoFiles)}),Z.assets.forEach(ee=>{q(ee.path,ee,window.repoFiles)}),Promise.resolve()}updateUnpublishedEntryStatus(Z,Y,ee){return window.repoFilesUnpublished[`${Z}/${Y}`].status=ee,Promise.resolve()}publishUnpublishedEntry(Z,Y){const ee=`${Z}/${Y}`,J=window.repoFilesUnpublished[ee];delete window.repoFilesUnpublished[ee];const Q=window.repoFiles;return J.diffs.forEach(te=>{if(te.originalPath&&!te.newFile){const se=te.originalPath,de=(0,j.dirname)(se),ie=(0,j.dirname)(te.path);G(Q,se.split("/")[0],"",100).filter(ve=>ve.path.startsWith(de)).forEach(ve=>{B(ve.path,Q),q(ve.path.replace(de,ie),ve.content,Q)})}q(te.path,te.content,Q)}),Promise.resolve()}getMedia(Z=this.mediaFolder){const Y=G(window.repoFiles,Z.split("/")[0],"",100).filter(ee=>ee.path.startsWith(Z)).map(ee=>this.normalizeAsset(ee.content));return Promise.resolve(Y)}async getMediaFile(Z){const Y=F(Z,window.repoFiles).content.toString(),ee=(0,N.basename)(Z),J=await fetch(Y).then(te=>te.blob()),Q=new File([J],ee);return{id:Y,displayURL:Y,path:Z,name:ee,size:Q.size,file:Q,url:Y}}normalizeAsset(Z){const Y=Z.fileObj,{name:ee,size:J}=Y,Q=(0,R.default)(window.URL.createObjectURL,Y),te=(0,P.default)(Q)?"":Q;return{id:(0,I.v4)(),name:ee,size:J,path:Z.path,url:te,displayURL:te,fileObj:Y}}persistMedia(Z){const Y=this.normalizeAsset(Z);return q(Z.path,Z,window.repoFiles),Promise.resolve(Y)}deleteFiles(Z){return Z.forEach(Y=>{B(Y,window.repoFiles)}),Promise.resolve()}async getDeployPreview(){return null}}},58908:($,E,_)=>{Object.defineProperty(E,"$f",{enumerable:!0,get:function(){return A.default}});var A=O(_(57058)),T=O(_(69730));function O(P){return P&&P.__esModule?P:{default:P}}A.default,T.default},76167:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.USE_OPEN_AUTHORING=E.LOGOUT=E.AUTH_SUCCESS=E.AUTH_REQUEST_DONE=E.AUTH_REQUEST=E.AUTH_FAILURE=void 0,E.authError=V,E.authenticate=z,E.authenticateUser=function(){return(H,G)=>{const Z=G(),Y=(0,A.currentBackend)(Z.config);return H(U()),Promise.resolve(Y.currentUser()).then(ee=>{ee?(ee.useOpenAuthoring&&H(q()),H(z(ee))):H(F())}).catch(ee=>{H(V(ee)),H(W())})}},E.authenticating=U,E.doneAuthenticating=F,E.loginUser=function(H){return(G,Z)=>{const Y=Z(),ee=(0,A.currentBackend)(Y.config);return G(U()),ee.authenticate(H).then(J=>{J.useOpenAuthoring&&G(q()),G(z(J))}).catch(J=>{console.error(J),G((0,T.addNotification)({message:{details:J.message,key:"ui.toast.onFailToAuth"},type:"error",dismissAfter:8e3})),G(V(J))})}},E.logout=B,E.logoutUser=W,E.useOpenAuthoring=q;var A=_(2241),T=_(5690);const O=E.AUTH_REQUEST="AUTH_REQUEST",P=E.AUTH_SUCCESS="AUTH_SUCCESS",R=E.AUTH_FAILURE="AUTH_FAILURE",I=E.AUTH_REQUEST_DONE="AUTH_REQUEST_DONE",N=E.USE_OPEN_AUTHORING="USE_OPEN_AUTHORING",j=E.LOGOUT="LOGOUT";function U(){return{type:O}}function z(H){return{type:P,payload:H}}function V(H){return{type:R,error:"Failed to authenticate",payload:H}}function F(){return{type:I}}function q(){return{type:N}}function B(){return{type:j}}function W(){return(H,G)=>{const Z=G(),Y=(0,A.currentBackend)(Z.config);Promise.resolve(Y.logout()).then(()=>{H(B()),H((0,T.clearNotifications)())})}}},1582:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.createNewEntry=function(O){A.history.push((0,T.getNewEntryUrl)(O))},E.searchCollections=function(O,P){P?A.history.push(`/collections/${P}/search/${O}`):A.history.push(`/search/${O}`)},E.showCollection=function(O){A.history.push((0,T.getCollectionUrl)(O))};var A=_(79278),T=_(9904)},54750:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.CONFIG_SUCCESS=E.CONFIG_REQUEST=E.CONFIG_FAILURE=void 0,E.applyDefaults=Ee,E.configFailed=ze,E.configLoaded=Re,E.configLoading=Me,E.detectProxyServer=Le,E.handleLocalBackend=je,E.loadConfig=function(Ne={},qe){return window.CMS_CONFIG?Re(window.CMS_CONFIG):async Ye=>{Ye(Me());try{const Ve=function(){const We=document.querySelector('link[rel="cms-config-url"]');return We&&{"text/yaml":"yaml","application/x-yaml":"yaml"}[We.type]&&We.href?(console.log(`Using config file path: "${We.href}"`),We.href):"config.yml"}(),tt=!(0,A.default)(Ne),it=Ne.load_config_file===!1?{}:await async function(We,He){const Ue=await fetch(We,{credentials:"same-origin"}).catch(Be=>Be);if(Ue instanceof Error||Ue.status!==200){if(He)return{};const Be=Ue instanceof Error?Ue.message:Ue.status;throw new Error(`Failed to load config.yml (${Be})`)}const Qe=Ue.headers.get("Content-Type")||"Not-Found";return Qe.indexOf("yaml")===-1&&(console.log(`Response for ${We} was not yaml. (Content-Type: ${Qe})`),He)?{}:Te(await Ue.text())}(Ve,tt),Ze=(0,I.default)(it,Ne);(0,U.validateConfig)(Ze),Ye(Re(Ee(Pe(await je(Ze))))),typeof qe=="function"&&qe()}catch(Ve){throw Ye(ze(Ve)),Ve}}},E.normalizeConfig=Pe,E.parseConfig=Te;var A=H(_(45455)),T=H(_(5648)),O=H(_(93433)),P=H(_(60155)),R=_(46670),I=H(_(39714)),N=_(30412),j=_(61928),U=_(35276),z=_(45624),V=_(487),F=_(2241),q=_(13943),B=_(48781);const W=["sortableFields"];function H(Ne){return Ne&&Ne.__esModule?Ne:{default:Ne}}function G(Ne,qe){var Ye=Object.keys(Ne);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(Ne);qe&&(Ve=Ve.filter(function(tt){return Object.getOwnPropertyDescriptor(Ne,tt).enumerable})),Ye.push.apply(Ye,Ve)}return Ye}function Z(Ne){for(var qe=1;qe<arguments.length;qe++){var Ye=arguments[qe]!=null?arguments[qe]:{};qe%2?G(Object(Ye),!0).forEach(function(Ve){var tt,it,Ze,We;tt=Ne,it=Ve,Ze=Ye[Ve],(it=typeof(We=function(He,Ue){if(typeof He!="object"||!He)return He;var Qe=He[Symbol.toPrimitive];if(Qe!==void 0){var Be=Qe.call(He,"string");if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(He)}(it))=="symbol"?We:String(We))in tt?Object.defineProperty(tt,it,{value:Ze,enumerable:!0,configurable:!0,writable:!0}):tt[it]=Ze}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(Ye)):G(Object(Ye)).forEach(function(Ve){Object.defineProperty(Ne,Ve,Object.getOwnPropertyDescriptor(Ye,Ve))})}return Ne}const Y=E.CONFIG_REQUEST="CONFIG_REQUEST",ee=E.CONFIG_SUCCESS="CONFIG_SUCCESS",J=E.CONFIG_FAILURE="CONFIG_FAILURE";function Q(Ne){return"types"in Ne||"field"in Ne}function te(Ne,qe){return Ne.map(Ye=>{const Ve=qe(Ye);return function(tt){return"fields"in tt}(Ve)?Z(Z({},Ve),{},{fields:te(Ve.fields,qe)}):Q(Ve)&&Ve.field?Z(Z({},Ve),{},{field:te([Ve.field],qe)[0]}):Q(Ve)&&Ve.types?Z(Z({},Ve),{},{types:te(Ve.types,qe)}):Ve})}function se(Ne){return"media_folder"in Ne&&!("public_folder"in Ne)?Z(Z({},Ne),{},{public_folder:Ne.media_folder}):Ne}const de={dateFormat:"date_format",timeFormat:"time_format",pickerUtc:"picker_utc",editorComponents:"editor_components",valueType:"value_type",valueField:"value_field",searchFields:"search_fields",displayFields:"display_fields",optionsLength:"options_length"};function ie(Ne){const qe=Object.keys(de).filter(Ye=>Ye in Ne).map(Ye=>{const Ve=de[Ye];return console.warn(`Field ${Ne.name} is using a deprecated configuration '${Ye}'. Please use '${Ve}'`),{[Ve]:Ne[Ye]}});return Object.assign({},Ne,...qe)}function ve(Ne){return Ne[q.I18N]===!0?Z(Z({},Ne),{},{[q.I18N]:q.I18N_FIELD.TRANSLATE}):Ne[q.I18N]!==!1&&Ne[q.I18N]?Ne:Z(Z({},Ne),{},{[q.I18N]:q.I18N_FIELD.NONE})}function xe(Ne,qe){if(typeof Ne=="boolean")return qe;{const Ye=Ne.locales||qe.locales,Ve=Ne.default_locale||Ye[0],tt=(0,I.default)(qe,Ne);return tt.locales=Ye,tt.default_locale=Ve,Oe(tt),tt}}function ke(Ne,qe){return te(Ne,qe?ve:Ye=>{const Ve=Z({},Ye);return delete Ve[q.I18N],Ve})}function Ce(Ne){if(Ne&&Ne.structure!==q.I18N_STRUCTURE.SINGLE_FILE)throw new Error(`i18n configuration for files collections is limited to ${q.I18N_STRUCTURE.SINGLE_FILE} structure`)}function Oe(Ne){if(Ne&&Ne.default_locale&&!Ne.locales.includes(Ne.default_locale))throw new Error(`i18n locales '${Ne.locales.join(", ")}' are missing the default locale ${Ne.default_locale}`)}function Ae(Ne,qe){const Ye=(0,V.getIntegrations)((0,R.fromJS)(Ne));return!!(0,V.selectIntegration)(Ye,qe.name,"listEntries")}function Pe(Ne){const{collections:qe=[]}=Ne,Ye=qe.map(Ve=>{const{fields:tt,files:it}=Ve;let Ze=Ve;if(tt){const We=te(tt,ie);Ze=Z(Z({},Ze),{},{fields:We})}if(it){const We=it.map(He=>{const Ue=te(He.fields,ie);return Z(Z({},He),{},{fields:Ue})});Ze=Z(Z({},Ze),{},{files:We})}if(Ze.sortableFields){const{sortableFields:We}=Ze;Ze=Z(Z({},function(He,Ue){if(He==null)return{};var Qe,Be,$e=function(lt,dt){if(lt==null)return{};var ft,St,Mt={},ht=Object.keys(lt);for(St=0;St<ht.length;St++)ft=ht[St],dt.indexOf(ft)>=0||(Mt[ft]=lt[ft]);return Mt}(He,Ue);if(Object.getOwnPropertySymbols){var Xe=Object.getOwnPropertySymbols(He);for(Be=0;Be<Xe.length;Be++)Qe=Xe[Be],Ue.indexOf(Qe)>=0||Object.prototype.propertyIsEnumerable.call(He,Qe)&&($e[Qe]=He[Qe])}return $e}(Ze,W)),{},{sortable_fields:We}),console.warn(`Collection ${Ve.name} is using a deprecated configuration 'sortableFields'. Please use 'sortable_fields'`)}return Ze});return Z(Z({},Ne),{},{collections:Ye})}function Ee(Ne){return(0,N.produce)(Ne,qe=>{qe.publish_mode=qe.publish_mode||j.SIMPLE,qe.slug=qe.slug||{},qe.collections=qe.collections||[],!qe.display_url&&qe.site_url&&(qe.display_url=qe.site_url);const Ye=`/${(0,O.default)(qe.media_folder,"/")}`;"public_folder"in qe||(qe.public_folder=Ye),"encoding"in qe.slug||(qe.slug.encoding="unicode"),"clean_accents"in qe.slug||(qe.slug.clean_accents=!1),"sanitize_replacement"in qe.slug||(qe.slug.sanitize_replacement="-");const Ve=qe[q.I18N];Ve&&(Ve.default_locale=Ve.default_locale||Ve.locales[0]),Oe(Ve);const tt=(0,F.resolveBackend)(qe);for(const it of qe.collections){"publish"in it||(it.publish=!0);let Ze=it[q.I18N];Ve&&Ze?(Ze=xe(Ze,Ve),it[q.I18N]=Ze):(Ze=void 0,delete it[q.I18N]),it.fields&&(it.fields=ke(it.fields,!!Ze));const{folder:We,files:He,view_filters:Ue,view_groups:Qe,meta:Be}=it;if(We&&(it.type=B.FOLDER,it.path&&!it.media_folder&&(it.media_folder=""),"media_folder"in it&&!("public_folder"in it)&&(it.public_folder=it.media_folder),it.fields&&(it.fields=te(it.fields,se)),it.folder=(0,T.default)(We,"/"),Be&&Be.path)){const $e=Z({name:"path",meta:!0,required:!0},Be.path);it.fields=[$e,...it.fields||[]]}if(He){it.type=B.FILES,Ce(Ze),delete it.nested,delete it.meta;for(const $e of He){$e.file=(0,O.default)($e.file,"/"),"media_folder"in $e&&!("public_folder"in $e)&&($e.public_folder=$e.media_folder),$e.fields&&($e.fields=te($e.fields,se));let Xe=$e[q.I18N];Xe&&Ze?(Xe=xe(Xe,Ze),$e[q.I18N]=Xe):(Xe=void 0,delete $e[q.I18N]),Ce(Xe),$e.fields&&($e.fields=ke($e.fields,!!Xe))}}it.sortable_fields||(it.sortable_fields=(0,z.selectDefaultSortableFields)((0,R.fromJS)(it),tt,Ae(qe,it))),it.view_filters=(Ue||[]).map($e=>Z(Z({},$e),{},{id:`${$e.field}__${$e.pattern}`})),it.view_groups=(Qe||[]).map($e=>Z(Z({},$e),{},{id:`${$e.field}__${$e.pattern}`})),qe.editor&&!it.editor&&(it.editor={preview:qe.editor.preview})}})}function Te(Ne){const qe=P.default.parse(Ne,{maxAliasCount:-1,prettyErrors:!0,merge:!0});if(typeof window<"u"&&typeof window.CMS_ENV=="string"&&qe[window.CMS_ENV]){const Ye=Object.keys(qe[window.CMS_ENV]);for(const Ve of Ye)qe[Ve]=qe[window.CMS_ENV][Ve]}return qe}function Re(Ne){return{type:ee,payload:Ne}}function Me(){return{type:Y}}function ze(Ne){return{type:J,error:"Error loading config",payload:Ne}}async function Le(Ne){if(!["localhost","127.0.0.1",...typeof Ne=="boolean"?[]:(Ne==null?void 0:Ne.allowed_hosts)||[]].includes(location.hostname)||!Ne)return{};const qe="http://localhost:8081/api/v1",Ye=Ne===!0?qe:Ne.url||qe.replace("localhost",location.hostname);try{console.log(`Looking for Decap CMS Proxy Server at '${Ye}'`);const Ve=await fetch(`${Ye}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"info"})}),{repo:tt,publish_modes:it,type:Ze}=await Ve.json();return typeof tt=="string"&&Array.isArray(it)&&typeof Ze=="string"?(console.log(`Detected Decap CMS Proxy Server at '${Ye}' with repo: '${tt}'`),{proxyUrl:Ye,publish_modes:it,type:Ze}):(console.log(`Decap CMS Proxy Server not detected at '${Ye}'`),{})}catch{return console.log(`Decap CMS Proxy Server not detected at '${Ye}'`),{}}}async function je(Ne){if(!Ne.local_backend)return Ne;const{proxyUrl:qe,publish_modes:Ye,type:Ve}=await Le(Ne.local_backend);return qe?(0,N.produce)(Ne,tt=>{tt.backend.name="proxy",tt.backend.proxy_url=qe,tt.publish_mode&&(tt.publish_mode=function(it,Ze,We){if(it.publish_mode&&Ze&&!Ze.includes(it.publish_mode)){const He=Ze[0];return console.log(`'${it.publish_mode}' is not supported by '${We}' backend, switching to '${He}'`),He}return it.publish_mode}(tt,Ye,Ve))}):Ne}},66145:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.DEPLOY_PREVIEW_SUCCESS=E.DEPLOY_PREVIEW_REQUEST=E.DEPLOY_PREVIEW_FAILURE=void 0,E.loadDeployPreview=function(j,U,z,V,F){return async(q,B)=>{const W=B(),H=(0,A.currentBackend)(W.config),G=j.get("name"),Z=(0,T.selectDeployPreview)(W,G,U);if(!Z||!Z.isFetching){q(function(Y,ee){return{type:P,payload:{collection:Y,slug:ee}}}(G,U));try{const Y=V?H.getDeploy(j,U,z):await H.getDeployPreview(j,U,z,F);return q(Y?function(ee,J,Q){const{url:te,status:se}=Q;return{type:R,payload:{collection:ee,slug:J,url:te,status:se}}}(G,U,Y):N(G,U))}catch(Y){console.error(Y),q((0,O.addNotification)({message:{details:Y.message,key:"ui.toast.onFailToLoadDeployPreview"},type:"error",dismissAfter:8e3})),q(N(G,U))}}}};var A=_(2241),T=_(36642),O=_(5690);const P=E.DEPLOY_PREVIEW_REQUEST="DEPLOY_PREVIEW_REQUEST",R=E.DEPLOY_PREVIEW_SUCCESS="DEPLOY_PREVIEW_SUCCESS",I=E.DEPLOY_PREVIEW_FAILURE="DEPLOY_PREVIEW_FAILURE";function N(j,U){return{type:I,payload:{collection:j,slug:U}}}},91358:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.UNPUBLISHED_ENTRY_SUCCESS=E.UNPUBLISHED_ENTRY_STATUS_CHANGE_SUCCESS=E.UNPUBLISHED_ENTRY_STATUS_CHANGE_REQUEST=E.UNPUBLISHED_ENTRY_STATUS_CHANGE_FAILURE=E.UNPUBLISHED_ENTRY_REQUEST=E.UNPUBLISHED_ENTRY_REDIRECT=E.UNPUBLISHED_ENTRY_PUBLISH_SUCCESS=E.UNPUBLISHED_ENTRY_PUBLISH_REQUEST=E.UNPUBLISHED_ENTRY_PUBLISH_FAILURE=E.UNPUBLISHED_ENTRY_PERSIST_SUCCESS=E.UNPUBLISHED_ENTRY_PERSIST_REQUEST=E.UNPUBLISHED_ENTRY_PERSIST_FAILURE=E.UNPUBLISHED_ENTRY_DELETE_SUCCESS=E.UNPUBLISHED_ENTRY_DELETE_REQUEST=E.UNPUBLISHED_ENTRY_DELETE_FAILURE=E.UNPUBLISHED_ENTRIES_SUCCESS=E.UNPUBLISHED_ENTRIES_REQUEST=E.UNPUBLISHED_ENTRIES_FAILURE=void 0,E.deleteUnpublishedEntry=function(je,Ne){return(qe,Ye)=>{const Ve=Ye(),tt=(0,P.currentBackend)(Ve.config);return qe(function(it,Ze){return{type:Oe,payload:{collection:it,slug:Ze}}}(je,Ne)),tt.deleteUnpublishedEntry(je,Ne).then(()=>{qe((0,B.addNotification)({message:{key:"ui.toast.onDeleteUnpublishedChanges"},type:"success",dismissAfter:4e3})),qe(function(it,Ze){return{type:Ae,payload:{collection:it,slug:Ze}}}(je,Ne))}).catch(it=>{qe((0,B.addNotification)({message:{key:"ui.toast.onDeleteUnpublishedChanges",details:it},type:"error",dismissAfter:8e3})),qe(function(Ze,We){return{type:Pe,payload:{collection:Ze,slug:We}}}(je,Ne))})}},E.loadUnpublishedEntries=Le,E.loadUnpublishedEntry=ze,E.persistUnpublishedEntry=function(je,Ne){return async(qe,Ye)=>{const Ve=Ye(),tt=Ve.entryDraft,it=tt.get("fieldsErrors"),Ze=(0,R.selectUnpublishedSlugs)(Ve,je.get("name")),We=(0,R.selectPublishedSlugs)(Ve,je.get("name")).concat(Ze);if(!(0,A.default)(Ve.editorialWorkflow.toJS(),"pages.ids",!1)&&qe(Le(Ve.collections)),!it.isEmpty())return it.some(lt=>lt.some(dt=>dt.type&&dt.type===F.default.PRESENCE))&&qe((0,B.addNotification)({message:{key:"ui.toast.missingRequiredField"},type:"error",dismissAfter:8e3})),Promise.reject();const He=(0,P.currentBackend)(Ve.config),Ue=tt.get("entry"),Qe=(0,j.getMediaAssets)({entry:Ue}),Be=(0,j.getSerializedEntry)(je,Ue),$e=tt.set("entry",Be);qe(Te(je,Ue.get("slug")));const Xe=Ne?He.persistUnpublishedEntry:He.persistEntry;try{const lt=await Xe.call(He,{config:Ve.config,collection:je,entryDraft:$e,assetProxies:Qe,usedSlugs:We});qe((0,B.addNotification)({message:{key:"ui.toast.entrySaved"},type:"success",dismissAfter:4e3})),qe(Re(je,Be)),Ue.get("slug")!==lt&&(await qe(ze(je,lt)),(0,q.navigateToEntry)(je.get("name"),lt))}catch(lt){return qe((0,B.addNotification)({message:{key:"ui.toast.onFailToPersist",details:lt},type:"error",dismissAfter:8e3})),Promise.reject(qe(Me(lt,je,Ue.get("slug"))))}}},E.publishUnpublishedEntry=function(je,Ne){return async(qe,Ye)=>{const Ve=Ye(),tt=Ve.collections,it=(0,P.currentBackend)(Ve.config),Ze=(0,R.selectUnpublishedEntry)(Ve,je,Ne);qe(function(We,He){return{type:xe,payload:{collection:We,slug:He}}}(je,Ne));try{await it.publishUnpublishedEntry(Ze),qe((0,V.loadMedia)()),qe((0,B.addNotification)({message:{key:"ui.toast.entryPublished"},type:"success",dismissAfter:4e3})),qe(function(He,Ue){return{type:ke,payload:{collection:He,slug:Ue}}}(je,Ne));const We=tt.get(je);if(!We.has("nested"))return qe((0,j.loadEntry)(We,Ne));{qe((0,j.loadEntries)(We));const He=(0,P.slugFromCustomPath)(We,Ze.get("path"));(0,j.loadEntry)(We,He),Ne!==He&&(0,I.selectEditingDraft)(Ve.entryDraft)&&(0,q.navigateToEntry)(We.get("name"),He)}}catch(We){qe((0,B.addNotification)({message:{key:"ui.toast.onFailToPublishEntry",details:We},type:"error",dismissAfter:8e3})),qe(function(He,Ue){return{type:Ce,payload:{collection:He,slug:Ue}}}(je,Ne))}}},E.unpublishPublishedEntry=function(je,Ne){return(qe,Ye)=>{const Ve=Ye(),tt=(0,P.currentBackend)(Ve.config),it=(0,R.selectEntry)(Ve,je.get("name"),Ne),Ze=(0,T.Map)().set("entry",it);return qe(Te(je,Ne)),tt.deleteEntry(Ve,je,Ne).then(()=>tt.persistEntry({config:Ve.config,collection:je,entryDraft:Ze,assetProxies:[],usedSlugs:(0,T.List)(),status:N.status.get("PENDING_PUBLISH")})).then(()=>{qe(Re(je,it)),qe((0,j.entryDeleted)(je,Ne)),qe(ze(je,Ne)),qe((0,B.addNotification)({message:{key:"ui.toast.entryUnpublished"},type:"success",dismissAfter:4e3}))}).catch(We=>{qe((0,B.addNotification)({message:{key:"ui.toast.onFailToUnpublishEntry",details:We},type:"error",dismissAfter:8e3})),qe(Me(We,je,it.get("slug")))})}},E.updateUnpublishedEntryStatus=function(je,Ne,qe,Ye){return(Ve,tt)=>{if(qe===Ye)return;const it=tt(),Ze=(0,P.currentBackend)(it.config);Ve(function(We,He){return{type:de,payload:{collection:We,slug:He}}}(je,Ne)),Ze.updateUnpublishedEntryStatus(je,Ne,Ye).then(()=>{Ve((0,B.addNotification)({message:{key:"ui.toast.entryUpdated"},type:"success",dismissAfter:4e3})),Ve(function(We,He,Ue){return{type:ie,payload:{collection:We,slug:He,newStatus:Ue}}}(je,Ne,Ye))}).catch(We=>{Ve((0,B.addNotification)({message:{key:"ui.toast.onFailToUpdateStatus",details:We},type:"error",dismissAfter:8e3})),Ve(function(He,Ue){return{type:ve,payload:{collection:He,slug:Ue}}}(je,Ne))})}};var A=W(_(72579)),T=_(46670),O=_(33806),P=_(2241),R=_(36642),I=_(58308),N=_(61928),j=_(50236),U=_(25606),z=_(71033),V=_(68104),F=W(_(1757)),q=_(79278),B=_(5690);function W(je){return je&&je.__esModule?je:{default:je}}const H=E.UNPUBLISHED_ENTRY_REQUEST="UNPUBLISHED_ENTRY_REQUEST",G=E.UNPUBLISHED_ENTRY_SUCCESS="UNPUBLISHED_ENTRY_SUCCESS",Z=E.UNPUBLISHED_ENTRY_REDIRECT="UNPUBLISHED_ENTRY_REDIRECT",Y=E.UNPUBLISHED_ENTRIES_REQUEST="UNPUBLISHED_ENTRIES_REQUEST",ee=E.UNPUBLISHED_ENTRIES_SUCCESS="UNPUBLISHED_ENTRIES_SUCCESS",J=E.UNPUBLISHED_ENTRIES_FAILURE="UNPUBLISHED_ENTRIES_FAILURE",Q=E.UNPUBLISHED_ENTRY_PERSIST_REQUEST="UNPUBLISHED_ENTRY_PERSIST_REQUEST",te=E.UNPUBLISHED_ENTRY_PERSIST_SUCCESS="UNPUBLISHED_ENTRY_PERSIST_SUCCESS",se=E.UNPUBLISHED_ENTRY_PERSIST_FAILURE="UNPUBLISHED_ENTRY_PERSIST_FAILURE",de=E.UNPUBLISHED_ENTRY_STATUS_CHANGE_REQUEST="UNPUBLISHED_ENTRY_STATUS_CHANGE_REQUEST",ie=E.UNPUBLISHED_ENTRY_STATUS_CHANGE_SUCCESS="UNPUBLISHED_ENTRY_STATUS_CHANGE_SUCCESS",ve=E.UNPUBLISHED_ENTRY_STATUS_CHANGE_FAILURE="UNPUBLISHED_ENTRY_STATUS_CHANGE_FAILURE",xe=E.UNPUBLISHED_ENTRY_PUBLISH_REQUEST="UNPUBLISHED_ENTRY_PUBLISH_REQUEST",ke=E.UNPUBLISHED_ENTRY_PUBLISH_SUCCESS="UNPUBLISHED_ENTRY_PUBLISH_SUCCESS",Ce=E.UNPUBLISHED_ENTRY_PUBLISH_FAILURE="UNPUBLISHED_ENTRY_PUBLISH_FAILURE",Oe=E.UNPUBLISHED_ENTRY_DELETE_REQUEST="UNPUBLISHED_ENTRY_DELETE_REQUEST",Ae=E.UNPUBLISHED_ENTRY_DELETE_SUCCESS="UNPUBLISHED_ENTRY_DELETE_SUCCESS",Pe=E.UNPUBLISHED_ENTRY_DELETE_FAILURE="UNPUBLISHED_ENTRY_DELETE_FAILURE";function Ee(je,Ne){return{type:ee,payload:{entries:je,pages:Ne}}}function Te(je,Ne){return{type:Q,payload:{collection:je.get("name"),slug:Ne}}}function Re(je,Ne){return{type:te,payload:{collection:je.get("name"),entry:Ne}}}function Me(je,Ne,qe){return{type:se,payload:{error:je,collection:Ne.get("name"),slug:qe},error:je}}function ze(je,Ne){return async(qe,Ye)=>{const Ve=Ye(),tt=(0,P.currentBackend)(Ve.config);if(!(0,A.default)(Ve.editorialWorkflow.toJS(),"pages.ids",!1))try{const{entries:it,pagination:Ze}=await tt.unpublishedEntries(Ve.collections);qe(Ee(it,Ze))}catch{}qe(function(it,Ze){return{type:H,payload:{collection:it.get("name"),slug:Ze}}}(je,Ne));try{const it=await tt.unpublishedEntry(Ve,je,Ne),Ze=await Promise.all(it.mediaFiles.filter(We=>We.draft).map(({url:We,file:He,path:Ue})=>(0,U.createAssetProxy)({path:Ue,url:We,file:He})));qe((0,z.addAssets)(Ze)),qe(function(We,He){return{type:G,payload:{collection:We.get("name"),entry:He}}}(je,it)),qe((0,j.createDraftFromEntry)(it))}catch(it){it.name===O.EDITORIAL_WORKFLOW_ERROR&&it.notUnderEditorialWorkflow?(qe(function(Ze,We){return{type:Z,payload:{collection:Ze.get("name"),slug:We}}}(je,Ne)),qe((0,j.loadEntry)(je,Ne))):qe((0,B.addNotification)({message:{key:"ui.toast.onFailToLoadEntries",details:it},type:"error",dismissAfter:8e3}))}}}function Le(je){return(Ne,qe)=>{const Ye=qe(),Ve=(0,P.currentBackend)(Ye.config),tt=(0,A.default)(Ye.editorialWorkflow.toJS(),"pages.ids",!1);Ye.config.publish_mode!==N.EDITORIAL_WORKFLOW||tt||(Ne({type:Y}),Ve.unpublishedEntries(je).then(it=>Ne(Ee(it.entries,it.pagination))).catch(it=>{Ne((0,B.addNotification)({message:{key:"ui.toast.onFailToLoadEntries",details:it},type:"error",dismissAfter:8e3})),Ne(function(Ze){return{type:J,error:"Failed to load entries",payload:Ze}}(it)),Promise.reject(it)}))}}},50236:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.SORT_ENTRIES_SUCCESS=E.SORT_ENTRIES_REQUEST=E.SORT_ENTRIES_FAILURE=E.REMOVE_DRAFT_ENTRY_MEDIA_FILE=E.GROUP_ENTRIES_SUCCESS=E.GROUP_ENTRIES_REQUEST=E.GROUP_ENTRIES_FAILURE=E.FILTER_ENTRIES_SUCCESS=E.FILTER_ENTRIES_REQUEST=E.FILTER_ENTRIES_FAILURE=E.ENTRY_SUCCESS=E.ENTRY_REQUEST=E.ENTRY_PERSIST_SUCCESS=E.ENTRY_PERSIST_REQUEST=E.ENTRY_PERSIST_FAILURE=E.ENTRY_FAILURE=E.ENTRY_DELETE_SUCCESS=E.ENTRY_DELETE_REQUEST=E.ENTRY_DELETE_FAILURE=E.ENTRIES_SUCCESS=E.ENTRIES_REQUEST=E.ENTRIES_FAILURE=E.DRAFT_VALIDATION_ERRORS=E.DRAFT_LOCAL_BACKUP_RETRIEVED=E.DRAFT_DISCARD=E.DRAFT_CREATE_FROM_LOCAL_BACKUP=E.DRAFT_CREATE_FROM_ENTRY=E.DRAFT_CREATE_EMPTY=E.DRAFT_CREATE_DUPLICATE_FROM_ENTRY=E.DRAFT_CLEAR_ERRORS=E.DRAFT_CHANGE_FIELD=E.CHANGE_VIEW_STYLE=E.ADD_DRAFT_ENTRY_MEDIA_FILE=void 0,E.addDraftEntryMediaFile=function(ln){return{type:dt,payload:ln}},E.changeDraftField=function({field:ln,value:Cn,metadata:qn,entries:Ln,i18n:gi}){return{type:Ve,payload:{field:ln,value:Cn,metadata:qn,entries:Ln,i18n:gi}}},E.changeDraftFieldValidation=function(ln,Cn){return{type:tt,payload:{uniquefieldId:ln,errors:Cn}}},E.changeViewStyle=function(ln){return{type:St,payload:{style:ln}}},E.clearFieldErrors=function(ln){return{type:it,payload:{uniqueFieldId:ln}}},E.createDraftDuplicateFromEntry=function(ln){return Cn=>{Cn((0,H.waitUntil)({predicate:({type:qn})=>qn===qe,run:()=>Cn(xr(ln))}))}},E.createDraftFromEntry=Yt,E.createEmptyDraft=function(ln,Cn){return async(qn,Ln)=>{new URLSearchParams(Cn).forEach((zt,ut)=>{ln=(0,R.updateFieldByKey)(ln,ut,Tt=>{return Tt.set("default",!!["true","True","TRUE"].includes(_t=zt)||!["false","False","FALSE"].includes(_t)&&function(cr){return cr.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}(_t));var _t})});const gi=ln.get("fields",(0,T.List)()),Ai=function(zt){return zt.filter(ut=>!ut.get("meta")).toList()}(gi),Ci=Zr(Ai),_i=function(zt){return zt.filter(ut=>ut.get("meta")===!0).toList()}(gi),ei=Zr(_i),Ri=Ln(),Ti=(0,j.currentBackend)(Ri.config);ln.has("media_folder")||await(0,W.waitForMediaLibraryToLoad)(qn,Ln());const Pt=function(zt,ut){if(!(0,J.hasI18n)(zt))return{};const Tt=Zr(ut,function(_t){return _t.get(J.I18N)!==J.I18N_FIELD.DUPLICATE&&_t.get(J.I18N)!==J.I18N_FIELD.TRANSLATE});return(0,J.duplicateDefaultI18nFields)(zt,Tt)}(ln,Ai);let Er=(0,z.createEntry)(ln.get("name"),"","",{data:Ci,i18n:Pt,mediaFiles:[],meta:ei});Er=await Ti.processEntry(Ri,ln,Er),qn(Kt(Er))}},E.createEmptyDraftData=Zr,E.deleteEntry=function(ln,Cn){return(qn,Ln)=>{const gi=Ln(),Ai=(0,j.currentBackend)(gi.config);return qn(bt(ln,Cn)),Ai.deleteEntry(gi,ln,Cn).then(()=>qn(wt(ln,Cn))).catch(Ci=>(qn((0,Q.addNotification)({message:{details:Ci,key:"ui.toast.onFailToDelete"},type:"error",dismissAfter:8e3})),console.error(Ci),Promise.reject(qn(At(ln,Cn,Ci)))))}},E.deleteLocalBackup=function(ln,Cn){return(qn,Ln)=>{const gi=Ln();return(0,j.currentBackend)(gi.config).deleteLocalDraftBackup(ln,Cn)}},E.discardDraft=function(){return{type:Ye}},E.draftDuplicateEntry=xr,E.emptyDraftCreated=Kt,E.entriesFailed=gt,E.entriesLoaded=Et,E.entriesLoading=vt,E.entryDeleteFail=At,E.entryDeleted=wt,E.entryDeleting=bt,E.entryLoadError=ct,E.entryLoaded=ht,E.entryLoading=Mt,E.entryPersistFail=Vt,E.entryPersisted=Qt,E.entryPersisting=$t,E.filterByField=function(ln,Cn){return async(qn,Ln)=>{const gi=Ln(),Ai=(0,G.selectIsFetching)(gi.entries,ln.get("name"));if(qn({type:Te,payload:{collection:ln.get("name"),filter:Cn}}),!Ai)try{const Ci=await xt(gi,ln);qn({type:Re,payload:{collection:ln.get("name"),filter:Cn,entries:Ci}})}catch(Ci){qn({type:Me,payload:{collection:ln.get("name"),filter:Cn,error:Ci}})}}},E.getAllEntries=xt,E.getMediaAssets=bn,E.getSerializedEntry=mn,E.groupByField=function(ln,Cn){return async(qn,Ln)=>{const gi=Ln(),Ai=(0,G.selectIsFetching)(gi.entries,ln.get("name"));if(qn({type:ze,payload:{collection:ln.get("name"),group:Cn}}),!Ai)try{const Ci=await xt(gi,ln);qn({type:Le,payload:{collection:ln.get("name"),group:Cn,entries:Ci}})}catch(Ci){qn({type:je,payload:{collection:ln.get("name"),group:Cn,error:Ci}})}}},E.loadEntries=or,E.loadEntry=Mr,E.loadLocalBackup=function(){return{type:We}},E.localBackupRetrieved=Cr,E.persistEntry=function(ln){return async(Cn,qn)=>{const Ln=qn(),gi=Ln.entryDraft,Ai=gi.get("fieldsErrors"),Ci=(0,I.selectPublishedSlugs)(Ln,ln.get("name"));if(!Ai.isEmpty())return Ai.some(Er=>Er.some(zt=>zt.type&&zt.type===F.default.PRESENCE))&&Cn((0,Q.addNotification)({message:{key:"ui.toast.missingRequiredField"},type:"error",dismissAfter:8e3})),Promise.reject();const _i=(0,j.currentBackend)(Ln.config),ei=gi.get("entry"),Ri=bn({entry:ei}),Ti=mn(ln,ei),Pt=gi.set("entry",Ti);return Cn($t(ln,Ti)),_i.persistEntry({config:Ln.config,collection:ln,entryDraft:Pt,assetProxies:Ri,usedSlugs:Ci}).then(async Er=>{Cn((0,Q.addNotification)({message:{key:"ui.toast.entrySaved"},type:"success",dismissAfter:4e3})),Ri.length>0&&await Cn((0,W.loadMedia)()),Cn(Qt(ln,Ti,Er)),ln.has("nested")&&await Cn(or(ln)),ei.get("slug")!==Er&&(await Cn(Mr(ln,Er)),(0,Y.navigateToEntry)(ln.get("name"),Er))}).catch(Er=>(console.error(Er),Cn((0,Q.addNotification)({message:{details:Er,key:"ui.toast.onFailToPersist"},type:"error",dismissAfter:8e3})),Promise.reject(Cn(Vt(ln,Ti,Er)))))}},E.persistLocalBackup=function(ln,Cn){return(qn,Ln)=>{const gi=Ln();return(0,j.currentBackend)(gi.config).persistLocalDraftBackup(ln,Cn)}},E.removeDraftEntryMediaFile=function({id:ln}){return{type:ft,payload:{id:ln}}},E.retrieveLocalBackup=function(ln,Cn){return async(qn,Ln)=>{const gi=Ln(),Ai=(0,j.currentBackend)(gi.config),{entry:Ci}=await Ai.getLocalDraftBackup(ln,Cn);if(Ci){const _i=Ci.mediaFiles||[],ei=await Promise.all(_i.map(Ri=>Ri.file||Ri.url?(0,V.createAssetProxy)({path:Ri.path,file:Ri.file,url:Ri.url,field:Ri.field}):(0,q.getAsset)({collection:ln,entry:(0,T.fromJS)(Ci),path:Ri.path,field:Ri.field})(qn,Ln)));return qn((0,q.addAssets)(ei)),qn(Cr(Ci))}}},E.sortByField=at,E.traverseCollectionCursor=function(ln,Cn){return async(qn,Ln)=>{const gi=Ln(),Ai=ln.get("name");if(gi.entries.getIn(["pages",`${Ai}`,"isFetching"]))return;const Ci=(0,j.currentBackend)(gi.config),{action:_i,append:ei}=qr.has(Cn)?qr.get(Cn).toJS():{action:Cn,append:!1},Ri=(0,P.selectCollectionEntriesCursor)(gi.cursors,ln.get("name"));if(Ri.meta.get("usingOldPaginationAPI",!1))return qn(or(ln,Ri.data.get("nextPage")));try{var Ti;qn(vt(ln));const{entries:Pt,cursor:Er}=await function(ut,Tt,_t){if(!Tt.actions.has(_t))throw new Error(`The current cursor does not support the pagination action "${_t}".`);return ut.traverseCursor(Tt,_t)}(Ci,Ri,_i),zt=(Ti=Er.meta)===null||Ti===void 0?void 0:Ti.get("page");return qn(Et(ln,Pt,zt,gn(Er),ei))}catch(Pt){return console.error(Pt),qn((0,Q.addNotification)({message:{details:Pt,key:"ui.toast.onFailToLoadEntries"},type:"error",dismissAfter:8e3})),Promise.reject(qn(gt(ln,Pt)))}}},E.tryLoadEntry=$r,E.validateMetaField=function(ln,Cn,qn,Ln,gi){if(qn.get("meta")&&qn.get("name")==="path"){var Ai;if(!Ln)return jn(Ln,"invalidPath",gi);const Ci=Ln.split("/").map((0,ee.getProcessSegment)(ln.config.slug)).join("/");if(Ln!==Ci)return jn(Ln,"invalidPath",gi);const _i=(0,Z.selectCustomPath)(Cn,(0,T.fromJS)({entry:{meta:{path:Ln}}})),ei=_i?(0,G.selectEntryByPath)(ln.entries,Cn.get("name"),_i):void 0,Ri=ei==null?void 0:ei.get("path"),Ti=(Ai=ln.entryDraft)===null||Ai===void 0?void 0:Ai.getIn(["entry","path"]);if(Ri&&Ri!==Ti)return jn(Ln,"pathExists",gi)}return{error:!1}};var A=te(_(18149)),T=_(46670),O=_(33806),P=_(63647),R=_(45624),I=_(36642),N=_(766),j=_(2241),U=_(33188),z=_(15583),V=_(25606),F=te(_(1757)),q=_(71033),B=_(67964),W=_(68104),H=_(80110),G=_(58308),Z=_(51748),Y=_(79278),ee=_(59311),J=_(13943),Q=_(5690);function te(ln){return ln&&ln.__esModule?ln:{default:ln}}function se(ln,Cn){var qn=Object.keys(ln);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(ln);Cn&&(Ln=Ln.filter(function(gi){return Object.getOwnPropertyDescriptor(ln,gi).enumerable})),qn.push.apply(qn,Ln)}return qn}function de(ln){for(var Cn=1;Cn<arguments.length;Cn++){var qn=arguments[Cn]!=null?arguments[Cn]:{};Cn%2?se(Object(qn),!0).forEach(function(Ln){var gi,Ai,Ci,_i;gi=ln,Ai=Ln,Ci=qn[Ln],(Ai=typeof(_i=function(ei,Ri){if(typeof ei!="object"||!ei)return ei;var Ti=ei[Symbol.toPrimitive];if(Ti!==void 0){var Pt=Ti.call(ei,"string");if(typeof Pt!="object")return Pt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ei)}(Ai))=="symbol"?_i:String(_i))in gi?Object.defineProperty(gi,Ai,{value:Ci,enumerable:!0,configurable:!0,writable:!0}):gi[Ai]=Ci}):Object.getOwnPropertyDescriptors?Object.defineProperties(ln,Object.getOwnPropertyDescriptors(qn)):se(Object(qn)).forEach(function(Ln){Object.defineProperty(ln,Ln,Object.getOwnPropertyDescriptor(qn,Ln))})}return ln}const ie=E.ENTRY_REQUEST="ENTRY_REQUEST",ve=E.ENTRY_SUCCESS="ENTRY_SUCCESS",xe=E.ENTRY_FAILURE="ENTRY_FAILURE",ke=E.ENTRIES_REQUEST="ENTRIES_REQUEST",Ce=E.ENTRIES_SUCCESS="ENTRIES_SUCCESS",Oe=E.ENTRIES_FAILURE="ENTRIES_FAILURE",Ae=E.SORT_ENTRIES_REQUEST="SORT_ENTRIES_REQUEST",Pe=E.SORT_ENTRIES_SUCCESS="SORT_ENTRIES_SUCCESS",Ee=E.SORT_ENTRIES_FAILURE="SORT_ENTRIES_FAILURE",Te=E.FILTER_ENTRIES_REQUEST="FILTER_ENTRIES_REQUEST",Re=E.FILTER_ENTRIES_SUCCESS="FILTER_ENTRIES_SUCCESS",Me=E.FILTER_ENTRIES_FAILURE="FILTER_ENTRIES_FAILURE",ze=E.GROUP_ENTRIES_REQUEST="GROUP_ENTRIES_REQUEST",Le=E.GROUP_ENTRIES_SUCCESS="GROUP_ENTRIES_SUCCESS",je=E.GROUP_ENTRIES_FAILURE="GROUP_ENTRIES_FAILURE",Ne=E.DRAFT_CREATE_FROM_ENTRY="DRAFT_CREATE_FROM_ENTRY",qe=E.DRAFT_CREATE_EMPTY="DRAFT_CREATE_EMPTY",Ye=E.DRAFT_DISCARD="DRAFT_DISCARD",Ve=E.DRAFT_CHANGE_FIELD="DRAFT_CHANGE_FIELD",tt=E.DRAFT_VALIDATION_ERRORS="DRAFT_VALIDATION_ERRORS",it=E.DRAFT_CLEAR_ERRORS="DRAFT_CLEAR_ERRORS",Ze=E.DRAFT_LOCAL_BACKUP_RETRIEVED="DRAFT_LOCAL_BACKUP_RETRIEVED",We=E.DRAFT_CREATE_FROM_LOCAL_BACKUP="DRAFT_CREATE_FROM_LOCAL_BACKUP",He=E.DRAFT_CREATE_DUPLICATE_FROM_ENTRY="DRAFT_CREATE_DUPLICATE_FROM_ENTRY",Ue=E.ENTRY_PERSIST_REQUEST="ENTRY_PERSIST_REQUEST",Qe=E.ENTRY_PERSIST_SUCCESS="ENTRY_PERSIST_SUCCESS",Be=E.ENTRY_PERSIST_FAILURE="ENTRY_PERSIST_FAILURE",$e=E.ENTRY_DELETE_REQUEST="ENTRY_DELETE_REQUEST",Xe=E.ENTRY_DELETE_SUCCESS="ENTRY_DELETE_SUCCESS",lt=E.ENTRY_DELETE_FAILURE="ENTRY_DELETE_FAILURE",dt=E.ADD_DRAFT_ENTRY_MEDIA_FILE="ADD_DRAFT_ENTRY_MEDIA_FILE",ft=E.REMOVE_DRAFT_ENTRY_MEDIA_FILE="REMOVE_DRAFT_ENTRY_MEDIA_FILE",St=E.CHANGE_VIEW_STYLE="CHANGE_VIEW_STYLE";function Mt(ln,Cn){return{type:ie,payload:{collection:ln.get("name"),slug:Cn}}}function ht(ln,Cn){return{type:ve,payload:{collection:ln.get("name"),entry:Cn}}}function ct(ln,Cn,qn){return{type:xe,payload:{error:ln,collection:Cn.get("name"),slug:qn}}}function vt(ln){return{type:ke,payload:{collection:ln.get("name")}}}function Et(ln,Cn,qn,Ln,gi=!0){return{type:Ce,payload:{collection:ln.get("name"),entries:Cn,page:qn,cursor:O.Cursor.create(Ln),append:gi}}}function gt(ln,Cn){return{type:Oe,error:"Failed to load entries",payload:Cn.toString(),meta:{collection:ln.get("name")}}}async function xt(ln,Cn){const qn=(0,j.currentBackend)(ln.config),Ln=(0,I.selectIntegration)(ln,Cn.get("name"),"listEntries");return await(Ln?(0,N.getIntegrationProvider)(ln.integrations,qn.getToken,Ln):qn).listAllEntries(Cn)}function at(ln,Cn,qn=B.SortDirection.Ascending){return async(Ln,gi)=>{const Ai=gi(),Ci=(0,G.selectIsFetching)(Ai.entries,ln.get("name"));if(Ln({type:Ae,payload:{collection:ln.get("name"),key:Cn,direction:qn}}),!Ci)try{const _i=await xt(Ai,ln);Ln({type:Pe,payload:{collection:ln.get("name"),key:Cn,direction:qn,entries:_i}})}catch(_i){Ln({type:Ee,payload:{collection:ln.get("name"),key:Cn,direction:qn,error:_i}})}}}function $t(ln,Cn){return{type:Ue,payload:{collectionName:ln.get("name"),entrySlug:Cn.get("slug")}}}function Qt(ln,Cn,qn){return{type:Qe,payload:{collectionName:ln.get("name"),entrySlug:Cn.get("slug"),slug:qn}}}function Vt(ln,Cn,qn){return{type:Be,error:"Failed to persist entry",payload:{collectionName:ln.get("name"),entrySlug:Cn.get("slug"),error:qn.toString()}}}function bt(ln,Cn){return{type:$e,payload:{collectionName:ln.get("name"),entrySlug:Cn}}}function wt(ln,Cn){return{type:Xe,payload:{collectionName:ln.get("name"),entrySlug:Cn}}}function At(ln,Cn,qn){return{type:lt,payload:{collectionName:ln.get("name"),entrySlug:Cn,error:qn.toString()}}}function Kt(ln){return{type:qe,payload:ln}}function Yt(ln){return{type:Ne,payload:{entry:ln}}}function xr(ln){return{type:He,payload:(0,z.createEntry)(ln.get("collection"),"","",{data:ln.get("data"),mediaFiles:ln.get("mediaFiles").toJS()})}}function Cr(ln){return{type:Ze,payload:{entry:ln}}}function Mr(ln,Cn){return async(qn,Ln)=>{await(0,W.waitForMediaLibraryToLoad)(qn,Ln()),qn(Mt(ln,Cn));try{const gi=await $r(Ln(),ln,Cn);qn(ht(ln,gi)),qn(Yt(gi))}catch(gi){qn((0,Q.addNotification)({message:{details:gi.message,key:"ui.toast.onFailToLoadEntries"},type:"error",dismissAfter:8e3})),qn(ct(gi,ln,Cn))}}}async function $r(ln,Cn,qn){return await(0,j.currentBackend)(ln.config).getEntry(ln,Cn,qn)}const qr=(0,T.fromJS)({append_next:{action:"next",append:!0}});function gn(ln){return O.Cursor.create(ln).updateStore("actions",Cn=>Cn.union(qr.filter(qn=>Cn.has(qn.get("action"))).keySeq()))}function or(ln,Cn=0){return async(qn,Ln)=>{if(ln.get("isFetching"))return;const gi=Ln(),Ai=(0,G.selectEntriesSortFields)(gi.entries,ln.get("name"));if(Ai&&Ai.length>0){const Ti=Ai[0];return qn(at(ln,Ti.get("key"),Ti.get("direction")))}const Ci=(0,j.currentBackend)(gi.config),_i=(0,I.selectIntegration)(gi,ln.get("name"),"listEntries"),ei=_i?(0,N.getIntegrationProvider)(gi.integrations,Ci.getToken,_i):Ci,Ri=!!(Cn&&!isNaN(Cn)&&Cn>0);qn(vt(ln));try{let Pt=await(ln.has("nested")||(0,J.hasI18n)(ln)?ei.listAllEntries(ln).then(Er=>({entries:Er})):ei.listEntries(ln,Cn));Pt=de(de({},Pt),{},{cursor:_i?O.Cursor.create({actions:["next"],meta:{usingOldPaginationAPI:!0},data:{nextPage:Cn+1}}):O.Cursor.create(Pt.cursor)}),qn(Et(ln,Pt.cursor.meta.get("usingOldPaginationAPI")?Pt.entries.reverse():Pt.entries,Pt.pagination,gn(Pt.cursor),Ri))}catch(Ti){return qn((0,Q.addNotification)({message:{details:Ti,key:"ui.toast.onFailToLoadEntries"},type:"error",dismissAfter:8e3})),Promise.reject(qn(gt(ln,Ti)))}}}function Zr(ln,Cn=()=>!1){return ln.reduce((qn,Ln)=>{const gi=qn,Ai=Ln;if(Cn(Ai))return gi;const Ci=Ai.get("field")||Ai.get("fields"),_i=Ai.get("widget")=="list",ei=Ai.get("name"),Ri=Ai.get("default",null);if(T.List.isList(Ci)||T.Map.isMap(Ci)){if(_i&&T.List.isList(Ri))gi[ei]=Ri;else{const Pt=T.List.isList(Ci)?Ci:(0,T.List)([Ci]),Er=_i?[Zr(Pt,Cn)]:Zr(Pt,Cn);Ti=Er,[[{}],{}].some(zt=>(0,A.default)(Ti,zt))||(gi[ei]=Er)}return gi}var Ti;return Ri!==null&&(gi[ei]=Ri),gi},{})}function bn({entry:ln}){return ln.get("mediaFiles").toArray().filter(Cn=>Cn.get("draft")).map(Cn=>(0,V.createAssetProxy)({path:Cn.get("path"),file:Cn.get("file"),url:Cn.get("url"),field:Cn.get("field")}))}function mn(ln,Cn){const qn=(0,R.selectFields)(ln,Cn.get("slug"));function Ln(Ci){return(0,U.serializeValues)(Ci,qn)}const gi=Ln(Cn.get("data"));let Ai=Cn.set("data",gi);return(0,J.hasI18n)(ln)&&(Ai=(0,J.serializeI18n)(ln,Ai,Ln)),Ai}function jn(ln,Cn,qn){return{error:{type:F.default.CUSTOM,message:qn(`editor.editorControlPane.widget.${Cn}`,{path:ln})}}}},71033:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.REMOVE_ASSET=E.LOAD_ASSET_SUCCESS=E.LOAD_ASSET_REQUEST=E.LOAD_ASSET_FAILURE=E.ADD_ASSETS=E.ADD_ASSET=void 0,E.addAsset=F,E.addAssets=function(Y){return{type:I,payload:Y}},E.boundGetAsset=function(Y,ee,J){return function(Q,te){return Y(Z({collection:ee,entry:J,path:Q,field:te}))}},E.getAsset=Z,E.loadAsset=H,E.loadAssetFailure=W,E.loadAssetRequest=q,E.loadAssetSuccess=B,E.removeAsset=function(Y){return{type:j,payload:Y}};var A=_(33806),T=_(25606),O=_(58308),P=_(90694),R=_(68104);const I=E.ADD_ASSETS="ADD_ASSETS",N=E.ADD_ASSET="ADD_ASSET",j=E.REMOVE_ASSET="REMOVE_ASSET",U=E.LOAD_ASSET_REQUEST="LOAD_ASSET_REQUEST",z=E.LOAD_ASSET_SUCCESS="LOAD_ASSET_SUCCESS",V=E.LOAD_ASSET_FAILURE="LOAD_ASSET_FAILURE";function F(Y){return{type:N,payload:Y}}function q(Y){return{type:U,payload:{path:Y}}}function B(Y){return{type:z,payload:{path:Y}}}function W(Y,ee){return{type:V,payload:{path:Y,error:ee}}}function H(Y){return async(ee,J)=>{try{ee(q(Y)),await(0,R.waitForMediaLibraryToLoad)(ee,J());const Q=(0,P.selectMediaFileByPath)(J(),Y);if(Q){const te=await(0,R.getMediaDisplayURL)(ee,J(),Q);ee(F((0,T.createAssetProxy)({path:Y,url:te||Y})))}else{const{url:te}=await(0,R.getMediaFile)(J(),Y);ee(F((0,T.createAssetProxy)({path:Y,url:te})))}ee(B(Y))}catch(Q){ee(W(Y,Q))}}}const G=(0,T.createAssetProxy)({path:"empty.svg",file:new File(['<svg xmlns="http://www.w3.org/2000/svg"></svg>'],"empty.svg",{type:"image/svg+xml"})});function Z({collection:Y,entry:ee,path:J,field:Q}){return(te,se)=>{if(!J)return G;const de=se(),ie=(0,O.selectMediaFilePath)(de.config,Y,ee,J,Q);let{asset:ve,isLoading:xe,error:ke}=de.medias[ie]||{};return xe?G:ve||((0,A.isAbsolutePath)(ie)||ke?(ve=(0,T.createAssetProxy)({path:ie,url:J}),te(F(ve))):(te(H(ie)),ve=G),ve)}}},68104:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.MEDIA_REMOVE_INSERTED=E.MEDIA_PERSIST_SUCCESS=E.MEDIA_PERSIST_REQUEST=E.MEDIA_PERSIST_FAILURE=E.MEDIA_LOAD_SUCCESS=E.MEDIA_LOAD_REQUEST=E.MEDIA_LOAD_FAILURE=E.MEDIA_LIBRARY_OPEN=E.MEDIA_LIBRARY_CREATE=E.MEDIA_LIBRARY_CLOSE=E.MEDIA_INSERT=E.MEDIA_DISPLAY_URL_SUCCESS=E.MEDIA_DISPLAY_URL_REQUEST=E.MEDIA_DISPLAY_URL_FAILURE=E.MEDIA_DELETE_SUCCESS=E.MEDIA_DELETE_REQUEST=E.MEDIA_DELETE_FAILURE=void 0,E.clearMediaControl=function(We){return(He,Ue)=>{const Qe=Ue().mediaLibrary.get("externalLibrary");Qe&&Qe.onClearControl({id:We})}},E.closeMediaLibrary=function(){return(We,He)=>{const Ue=He().mediaLibrary.get("externalLibrary");Ue&&Ue.hide(),We({type:G})}},E.createMediaLibrary=function(We){const He={show:We.show||(()=>{}),hide:We.hide||(()=>{}),onClearControl:We.onClearControl||(()=>{}),onRemoveControl:We.onRemoveControl||(()=>{}),enableStandalone:We.enableStandalone||(()=>{})};return{type:Z,payload:He}},E.deleteMedia=Ee,E.getMediaDisplayURL=async function(We,He,Ue){const Qe=(0,N.selectMediaDisplayURL)(He,Ue.id);let Be;if(Qe.get("url"))Be=Qe.get("url");else if(Qe.get("err"))Be=null;else{var $e;const Xe=Ue.id,lt=(0,F.waitUntilWithTimeout)(We,dt=>({predicate:({type:ft,payload:St})=>(ft===Oe||ft===Ae)&&St.key===Xe,run:(ft,St,Mt)=>dt(Mt.payload.url)}));Qe.get("isFetching")||We(Te(Ue)),Be=($e=await lt)!==null&&$e!==void 0?$e:null}return Be},E.getMediaFile=async function(We,He){const Ue=(0,O.currentBackend)(We.config),{url:Qe}=await Ue.getMediaFile(He);return{url:Qe}},E.insertMedia=function(We,He){return(Ue,Qe)=>{const Be=Qe(),$e=Be.config,Xe=Be.entryDraft.get("entry"),lt=Be.entryDraft.getIn(["entry","collection"]),dt=Be.collections.get(lt);Ue(function(ft){return{type:Y,payload:{mediaPath:ft}}}(We=Array.isArray(We)?We.map(ft=>(0,I.selectMediaFilePublicPath)($e,dt,ft,Xe,He)):(0,I.selectMediaFilePublicPath)($e,dt,We,Xe,He)))}},E.loadMedia=function(We={}){const{delay:He=0,query:Ue="",page:Qe=1,privateUpload:Be}=We;return async($e,Xe)=>{const lt=Xe(),dt=(0,O.currentBackend)(lt.config),ft=(0,R.selectIntegration)(lt,null,"assetStore");if(ft){const Mt=(0,j.getIntegrationProvider)(lt.integrations,dt.getToken,ft);$e(Re(Qe));try{const ht=await Mt.retrieve(Ue,Qe,Be);return $e(Me(ht,{page:Qe,canPaginate:!0,dynamicSearch:!0,dynamicSearchQuery:Ue,privateUpload:Be}))}catch{return $e(ze({privateUpload:Be}))}}function St(){return dt.getMedia().then(Mt=>$e(Me(Mt))).catch(Mt=>{console.error(Mt),Mt.status===404?(console.log("This 404 was expected and handled appropriately."),$e(Me([]))):$e(ze())})}return $e(Re(Qe)),He>0?new Promise(Mt=>{setTimeout(()=>Mt(St()),He)}):St()}},E.loadMediaDisplayURL=Te,E.mediaDeleteFailed=Ve,E.mediaDeleted=Ye,E.mediaDeleting=qe,E.mediaDisplayURLFailure=Ze,E.mediaDisplayURLRequest=tt,E.mediaDisplayURLSuccess=it,E.mediaLoadFailed=ze,E.mediaLoaded=Me,E.mediaLoading=Re,E.mediaPersistFailed=Ne,E.mediaPersisted=je,E.mediaPersisting=Le,E.openMediaLibrary=function(We={}){return(He,Ue)=>{const Qe=Ue().mediaLibrary.get("externalLibrary");if(Qe){const{controlID:Be,value:$e,config:Xe=(0,A.Map)(),allowMultiple:lt,forImage:dt}=We;Qe.show({id:Be,value:$e,config:Xe.toJS(),allowMultiple:lt,imagesOnly:dt})}He(function(Be){return{type:H,payload:Be}}(We))}},E.persistMedia=function(We,He={}){const{privateUpload:Ue,field:Qe}=He;return async(Be,$e)=>{const Xe=$e(),lt=(0,O.currentBackend)(Xe.config),dt=(0,R.selectIntegration)(Xe,null,"assetStore"),ft=(0,N.selectMediaFiles)(Xe,Qe),St=(0,V.sanitizeSlug)(We.name.toLowerCase(),Xe.config.slug),Mt=ft.find(ct=>ct.name.toLowerCase()===St),ht=(0,I.selectEditingDraft)(Xe.entryDraft);if(!dt&&Mt){if(!window.confirm(`${Mt.name} already exists. Do you want to replace it?`))return;await Be(Ee(Mt,{privateUpload:Ue}))}!dt&&ht||Be(Le());try{let ct,vt;if(dt)try{const Et=(0,j.getIntegrationProvider)(Xe.integrations,lt.getToken,dt),gt=await Et.upload(We,Ue);ct=(0,P.createAssetProxy)({url:gt.asset.url,path:gt.asset.url})}catch{ct=(0,P.createAssetProxy)({file:We,path:St})}else{if(Ue)throw new Error("The Private Upload option is only available for Asset Store Integration");{const Et=Xe.entryDraft.get("entry"),gt=Xe.collections.get(Et==null?void 0:Et.get("collection")),xt=(0,I.selectMediaFilePath)(Xe.config,gt,Et,St,Qe);ct=(0,P.createAssetProxy)({file:We,path:xt,field:Qe})}}if(Be((0,U.addAsset)(ct)),dt)vt=Pe({id:await(0,T.getBlobSHA)(We),file:We,assetProxy:ct,draft:!1});else{if(ht)return vt=Pe({id:await(0,T.getBlobSHA)(We),file:We,assetProxy:ct,draft:ht}),Be((0,z.addDraftEntryMediaFile)(vt));vt=await lt.persistMedia(Xe.config,ct)}return Be(je(vt,{privateUpload:Ue}))}catch(ct){return console.error(ct),Be((0,q.addNotification)({message:`Failed to persist media: ${ct}`,type:"error",dismissAfter:8e3})),Be(Ne({privateUpload:Ue}))}}},E.removeInsertedMedia=function(We){return{type:ee,payload:{controlID:We}}},E.removeMediaControl=function(We){return(He,Ue)=>{const Qe=Ue().mediaLibrary.get("externalLibrary");Qe&&Qe.onRemoveControl({id:We})}},E.waitForMediaLibraryToLoad=async function(We,He){He.mediaLibrary.get("isLoading")===!1||He.mediaLibrary.get("externalLibrary")||await(0,F.waitUntilWithTimeout)(We,Ue=>({predicate:({type:Qe})=>Qe===Q||Qe===te,run:()=>Ue()}))};var A=_(46670),T=_(33806),O=_(2241),P=_(25606),R=_(36642),I=_(58308),N=_(90694),j=_(766),U=_(71033),z=_(50236),V=_(9904),F=_(80110),q=_(5690);function B(We,He){var Ue=Object.keys(We);if(Object.getOwnPropertySymbols){var Qe=Object.getOwnPropertySymbols(We);He&&(Qe=Qe.filter(function(Be){return Object.getOwnPropertyDescriptor(We,Be).enumerable})),Ue.push.apply(Ue,Qe)}return Ue}function W(We){for(var He=1;He<arguments.length;He++){var Ue=arguments[He]!=null?arguments[He]:{};He%2?B(Object(Ue),!0).forEach(function(Qe){var Be,$e,Xe,lt;Be=We,$e=Qe,Xe=Ue[Qe],($e=typeof(lt=function(dt,ft){if(typeof dt!="object"||!dt)return dt;var St=dt[Symbol.toPrimitive];if(St!==void 0){var Mt=St.call(dt,"string");if(typeof Mt!="object")return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(dt)}($e))=="symbol"?lt:String(lt))in Be?Object.defineProperty(Be,$e,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):Be[$e]=Xe}):Object.getOwnPropertyDescriptors?Object.defineProperties(We,Object.getOwnPropertyDescriptors(Ue)):B(Object(Ue)).forEach(function(Qe){Object.defineProperty(We,Qe,Object.getOwnPropertyDescriptor(Ue,Qe))})}return We}const H=E.MEDIA_LIBRARY_OPEN="MEDIA_LIBRARY_OPEN",G=E.MEDIA_LIBRARY_CLOSE="MEDIA_LIBRARY_CLOSE",Z=E.MEDIA_LIBRARY_CREATE="MEDIA_LIBRARY_CREATE",Y=E.MEDIA_INSERT="MEDIA_INSERT",ee=E.MEDIA_REMOVE_INSERTED="MEDIA_REMOVE_INSERTED",J=E.MEDIA_LOAD_REQUEST="MEDIA_LOAD_REQUEST",Q=E.MEDIA_LOAD_SUCCESS="MEDIA_LOAD_SUCCESS",te=E.MEDIA_LOAD_FAILURE="MEDIA_LOAD_FAILURE",se=E.MEDIA_PERSIST_REQUEST="MEDIA_PERSIST_REQUEST",de=E.MEDIA_PERSIST_SUCCESS="MEDIA_PERSIST_SUCCESS",ie=E.MEDIA_PERSIST_FAILURE="MEDIA_PERSIST_FAILURE",ve=E.MEDIA_DELETE_REQUEST="MEDIA_DELETE_REQUEST",xe=E.MEDIA_DELETE_SUCCESS="MEDIA_DELETE_SUCCESS",ke=E.MEDIA_DELETE_FAILURE="MEDIA_DELETE_FAILURE",Ce=E.MEDIA_DISPLAY_URL_REQUEST="MEDIA_DISPLAY_URL_REQUEST",Oe=E.MEDIA_DISPLAY_URL_SUCCESS="MEDIA_DISPLAY_URL_SUCCESS",Ae=E.MEDIA_DISPLAY_URL_FAILURE="MEDIA_DISPLAY_URL_FAILURE";function Pe({id:We,file:He,assetProxy:Ue,draft:Qe}){return{id:We,name:(0,T.basename)(Ue.path),displayURL:Ue.url,draft:Qe,file:He,size:He.size,url:Ue.url,path:Ue.path,field:Ue.field}}function Ee(We,He={}){const{privateUpload:Ue}=He;return async(Qe,Be)=>{const $e=Be(),Xe=(0,O.currentBackend)($e.config),lt=(0,R.selectIntegration)($e,null,"assetStore");if(lt){const dt=(0,j.getIntegrationProvider)($e.integrations,Xe.getToken,lt);Qe(qe());try{return await dt.delete(We.id),Qe(Ye(We,{privateUpload:Ue}))}catch(ft){return console.error(ft),Qe((0,q.addNotification)({message:`Failed to delete media: ${ft.message}`,type:"error",dismissAfter:8e3})),Qe(Ve({privateUpload:Ue}))}}try{if(We.draft)Qe((0,U.removeAsset)(We.path)),Qe((0,z.removeDraftEntryMediaFile)({id:We.id}));else{const dt=(0,I.selectEditingDraft)($e.entryDraft);Qe(qe()),Qe((0,U.removeAsset)(We.path)),await Xe.deleteMedia($e.config,We.path),Qe(Ye(We)),dt&&Qe((0,z.removeDraftEntryMediaFile)({id:We.id}))}}catch(dt){return console.error(dt),Qe((0,q.addNotification)({message:`Failed to delete media: ${dt.message}`,type:"error",dismissAfter:8e3})),Qe(Ve())}}}function Te(We){return async(He,Ue)=>{const{displayURL:Qe,id:Be}=We,$e=Ue(),Xe=(0,N.selectMediaDisplayURL)($e,Be);if(!Be||!Qe||Xe.get("url")||Xe.get("isFetching")||Xe.get("err"))return Promise.resolve();if(typeof Qe=="string")return He(tt(Be)),void He(it(Be,Qe));try{const lt=(0,O.currentBackend)($e.config);He(tt(Be));const dt=await lt.getMediaDisplayURL(Qe);if(!dt)throw new Error("No display URL was returned!");He(it(Be,dt))}catch(lt){console.error(lt),He(Ze(Be,lt))}}}function Re(We){return{type:J,payload:{page:We}}}function Me(We,He={}){return{type:Q,payload:W({files:We},He)}}function ze(We={}){const{privateUpload:He}=We;return{type:te,payload:{privateUpload:He}}}function Le(){return{type:se}}function je(We,He={}){const{privateUpload:Ue}=He;return{type:de,payload:{file:We,privateUpload:Ue}}}function Ne(We={}){const{privateUpload:He}=We;return{type:ie,payload:{privateUpload:He}}}function qe(){return{type:ve}}function Ye(We,He={}){const{privateUpload:Ue}=He;return{type:xe,payload:{file:We,privateUpload:Ue}}}function Ve(We={}){const{privateUpload:He}=We;return{type:ke,payload:{privateUpload:He}}}function tt(We){return{type:Ce,payload:{key:We}}}function it(We,He){return{type:Oe,payload:{key:We,url:He}}}function Ze(We,He){return{type:Ae,payload:{key:We,err:He}}}},5690:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.NOTIFICATION_SEND=E.NOTIFICATION_DISMISS=E.NOTIFICATIONS_CLEAR=void 0,E.addNotification=function(O){return{type:_,payload:O}},E.clearNotifications=function(){return{type:T}},E.dismissNotification=function(O){return{type:A,id:O}};const _=E.NOTIFICATION_SEND="NOTIFICATION_SEND",A=E.NOTIFICATION_DISMISS="NOTIFICATION_DISMISS",T=E.NOTIFICATIONS_CLEAR="NOTIFICATION_CLEAR"},15207:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.SEARCH_ENTRIES_SUCCESS=E.SEARCH_ENTRIES_REQUEST=E.SEARCH_ENTRIES_FAILURE=E.SEARCH_CLEAR=E.QUERY_SUCCESS=E.QUERY_REQUEST=E.QUERY_FAILURE=E.CLEAR_REQUESTS=void 0,E.clearRequests=ee,E.clearSearch=function(){return{type:F}},E.query=function(J,Q,te,se,de,ie){return async(ve,xe)=>{const ke=xe(),Ce=(0,O.currentBackend)(ke.config),Oe=(0,R.selectIntegration)(ke,Q,"search"),Ae=ke.collections.find(Re=>Re.get("name")===Q);ve(ee());const Pe=`${Q}-${te.join()}-${se}-${de}-${ie}`,Ee=ke.search.requests.find(({id:Re})=>Re==Pe),Te=Ee?Ee.queryResponse:Oe?(0,P.getIntegrationProvider)(ke.integrations,Ce.getToken,Oe).searchBy(te.map(Re=>`data.${Re}`),Q,se):Ce.query(Ae,te,se,de,ie);ve(G(se,Ee?void 0:{id:Pe,expires:new Date(new Date().getTime()+1e4),queryResponse:Te}));try{const Re=await Te;return ve(Z(J,Re.hits))}catch(Re){return ve(Y(Re))}}},E.queryFailure=Y,E.querySuccess=Z,E.querying=G,E.searchEntries=function(J,Q,te=0){return async(se,de)=>{const ie=de(),{search:ve}=ie,xe=(0,O.currentBackend)(ie.config),ke=Q||ie.collections.keySeq().toArray(),Ce=ke.filter(Pe=>(0,R.selectIntegration)(ie,Pe,"search")),Oe=(0,R.selectIntegration)(ie,Ce[0],"search");if(ve.isFetching&&ve.term===J&&(0,T.default)(ke,ve.collections)&&(ve.page===te||!Oe))return;se(B(J,ke,te));const Ae=Oe?(0,P.getIntegrationProvider)(ie.integrations,xe.getToken,Oe).search(Ce,J,te):xe.search(ie.collections.filter((Pe,Ee)=>ke.indexOf(Ee)!==-1).valueSeq().toArray(),J);try{const Pe=await Ae;return se(W(Pe.entries,Pe.pagination))}catch(Pe){return se(H(Pe))}}},E.searchFailure=H,E.searchSuccess=W,E.searchingEntries=B;var A,T=(A=_(18149))&&A.__esModule?A:{default:A},O=_(2241),P=_(766),R=_(36642);const I=E.SEARCH_ENTRIES_REQUEST="SEARCH_ENTRIES_REQUEST",N=E.SEARCH_ENTRIES_SUCCESS="SEARCH_ENTRIES_SUCCESS",j=E.SEARCH_ENTRIES_FAILURE="SEARCH_ENTRIES_FAILURE",U=E.QUERY_REQUEST="QUERY_REQUEST",z=E.QUERY_SUCCESS="QUERY_SUCCESS",V=E.QUERY_FAILURE="QUERY_FAILURE",F=E.SEARCH_CLEAR="SEARCH_CLEAR",q=E.CLEAR_REQUESTS="CLEAR_REQUESTS";function B(J,Q,te){return{type:I,payload:{searchTerm:J,searchCollections:Q,page:te}}}function W(J,Q){return{type:N,payload:{entries:J,page:Q}}}function H(J){return{type:j,payload:{error:J}}}function G(J,Q){return{type:U,payload:{searchTerm:J,request:Q}}}function Z(J,Q){return{type:z,payload:{namespace:J,hits:Q}}}function Y(J){return{type:V,payload:{error:J}}}function ee(){return{type:q}}},9687:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.STATUS_SUCCESS=E.STATUS_REQUEST=E.STATUS_FAILURE=void 0,E.checkBackendStatus=function(){return async(U,z)=>{try{const V=z();if(V.status.isFetching)return;U(I());const F=(0,A.currentBackend)(V.config),q=await F.status(),B="ui.toast.onBackendDown",W=V.notifications.notifications.filter(H=>{var G;return typeof H.message!="string"&&((G=H.message)===null||G===void 0?void 0:G.key)===B});if(q.api.status===!1)return W.length===0&&U((0,T.addNotification)({message:{details:q.api.statusPage,key:"ui.toast.onBackendDown"},type:"error"})),U(N(q));if(q.api.status===!0&&W.length>0&&W.forEach(H=>{U((0,T.dismissNotification)(H.id))}),q.auth.status===!1){const H="ui.toast.onLoggedOut";V.notifications.notifications.find(G=>{var Z;return typeof G.message!="string"&&((Z=G.message)===null||Z===void 0?void 0:Z.key)===H})||U((0,T.addNotification)({message:{key:"ui.toast.onLoggedOut"},type:"error"}))}U(N(q))}catch(V){U(j(V))}}},E.statusFailure=j,E.statusRequest=I,E.statusSuccess=N;var A=_(2241),T=_(5690);const O=E.STATUS_REQUEST="STATUS_REQUEST",P=E.STATUS_SUCCESS="STATUS_SUCCESS",R=E.STATUS_FAILURE="STATUS_FAILURE";function I(){return{type:O}}function N(U){return{type:P,payload:{status:U}}}function j(U){return{type:R,payload:{error:U}}}},80110:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.waitUntil=T,E.waitUntilWithTimeout=async function(O,P,R=3e4){let I=!1;const N=new Promise(U=>{O(T(P(U)))}),j=new Promise(U=>{setTimeout(()=>{I?U():(console.warn("Wait Action timed out"),U(null))},R)});return await Promise.race([N.then(U=>(I=!0,U)).catch(null),j])};var A=_(89258);function T({predicate:O,run:P}){return{type:A.WAIT_UNTIL_ACTION,predicate:O,run:P}}},2241:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.currentBackend=E.LocalStorageAuthStore=E.Backend=void 0,E.expandSearchEntries=je,E.extractSearchFields=Le,E.mergeExpandedEntries=Ne,E.resolveBackend=Ze,E.slugFromCustomPath=Ye;var A=ke(_(16765)),T=ke(_(72579)),O=ke(_(829)),P=ke(_(5648)),R=ke(_(75652)),I=ke(_(85121)),N=ke(_(35676)),j=ke(_(55027)),U=_(46670),z=function(We,He){if(We&&We.__esModule)return We;if(We===null||typeof We!="object"&&typeof We!="function")return{default:We};var Ue=xe(He);if(Ue&&Ue.has(We))return Ue.get(We);var Qe={__proto__:null},Be=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $e in We)if($e!=="default"&&Object.prototype.hasOwnProperty.call(We,$e)){var Xe=Be?Object.getOwnPropertyDescriptor(We,$e):null;Xe&&(Xe.get||Xe.set)?Object.defineProperty(Qe,$e,Xe):Qe[$e]=We[$e]}return Qe.default=We,Ue&&Ue.set(We,Qe),Qe}(_(14478)),V=_(33806),F=_(21023),q=_(1704),B=_(85575),W=_(23260),H=_(58308),G=_(487),Z=_(45624),Y=_(15583),ee=_(9904),J=_(41891),Q=_(59311),te=_(61928),se=_(48781),de=_(51748),ie=_(13943);const ve=["field"];function xe(We){if(typeof WeakMap!="function")return null;var He=new WeakMap,Ue=new WeakMap;return(xe=function(Qe){return Qe?Ue:He})(We)}function ke(We){return We&&We.__esModule?We:{default:We}}function Ce(We,He){var Ue=Object.keys(We);if(Object.getOwnPropertySymbols){var Qe=Object.getOwnPropertySymbols(We);He&&(Qe=Qe.filter(function(Be){return Object.getOwnPropertyDescriptor(We,Be).enumerable})),Ue.push.apply(Ue,Qe)}return Ue}function Oe(We){for(var He=1;He<arguments.length;He++){var Ue=arguments[He]!=null?arguments[He]:{};He%2?Ce(Object(Ue),!0).forEach(function(Qe){Ae(We,Qe,Ue[Qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(We,Object.getOwnPropertyDescriptors(Ue)):Ce(Object(Ue)).forEach(function(Qe){Object.defineProperty(We,Qe,Object.getOwnPropertyDescriptor(Ue,Qe))})}return We}function Ae(We,He,Ue){var Qe;return(He=typeof(Qe=function(Be,$e){if(typeof Be!="object"||!Be)return Be;var Xe=Be[Symbol.toPrimitive];if(Xe!==void 0){var lt=Xe.call(Be,"string");if(typeof lt!="object")return lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(He))=="symbol"?Qe:String(Qe))in We?Object.defineProperty(We,He,{value:Ue,enumerable:!0,configurable:!0,writable:!0}):We[He]=Ue,We}const{extractTemplateVars:Pe,dateParsers:Ee,expandPath:Te}=q.stringTemplate;class Re{constructor(){Ae(this,"storageKey","decap-cms-user")}retrieve(){const He=window.localStorage.getItem(this.storageKey);return He&&JSON.parse(He)}store(He){window.localStorage.setItem(this.storageKey,JSON.stringify(He))}logout(){window.localStorage.removeItem(this.storageKey)}}function Me(We,He){const Ue="backup";return We?`${Ue}.${We}${He?`.${He}`:""}`:Ue}function ze(We,He){const Ue=(0,T.default)(He.data,We);if(Ue)return String(Ue);{const Qe=We.split(".")[0];return He[Qe]?He[Qe]:""}}function Le(We){return He=>We.reduce((Ue,Qe)=>{const Be=ze(Qe,He);return Be?`${Ue} ${Be}`:Ue},"")}function je(We,He){return We.reduce((Ue,Qe)=>{const Be=He.reduce(($e,Xe)=>{const lt=Te({data:Qe.data,path:Xe});return $e.push(...lt),$e},[]);for(let $e=0;$e<Be.length;$e++)Ue.push(Oe(Oe({},Qe),{},{field:Be[$e]}));return Ue},[])}function Ne(We){const He=We.map(Be=>Be.field),Ue={},Qe=We.reduce((Be,$e)=>{if(!Be[$e.slug]){const dt=function(ft,St){if(ft==null)return{};var Mt,ht,ct=function(Et,gt){if(Et==null)return{};var xt,at,$t={},Qt=Object.keys(Et);for(at=0;at<Qt.length;at++)xt=Qt[at],gt.indexOf(xt)>=0||($t[xt]=Et[xt]);return $t}(ft,St);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(ft);for(ht=0;ht<vt.length;ht++)Mt=vt[ht],St.indexOf(Mt)>=0||Object.prototype.propertyIsEnumerable.call(ft,Mt)&&(ct[Mt]=ft[Mt])}return ct}($e,ve);Be[$e.slug]=dt,Ue[$e.slug]=(0,U.Set)()}const Xe=$e.field.split(".");let lt=Be[$e.slug].data;for(let dt=0;dt<Xe.length;dt++)if(lt=lt[Xe[dt]],Array.isArray(lt)){const ft=Xe.slice(0,dt+1).join(".");Ue[$e.slug]=Ue[$e.slug].add(ft)}return Be},{});return Object.keys(Qe).forEach(Be=>{const $e=Qe[Be].data;for(const Xe of Ue[Be].toArray()){const lt=(0,T.default)($e,Xe),dt=lt.filter((ft,St)=>He.some(Mt=>`${Mt}.`.startsWith(`${Xe}.${St}.`)));dt.sort((ft,St)=>{const Mt=lt.indexOf(ft),ht=lt.indexOf(St),ct=`${Xe}.${Mt}.`,vt=`${Xe}.${ht}.`;return He.findIndex(Et=>`${Et}.`.startsWith(ct))-He.findIndex(Et=>`${Et}.`.startsWith(vt))}),(0,A.default)($e,Xe,dt)}}),Object.values(Qe)}function qe(We,He){return We.score>He.score?-1:We.score<He.score?1:0}function Ye(We,He){const Ue=We.get("folder",""),Qe=He.toLowerCase().replace(Ue.toLowerCase(),"");return(0,F.join)((0,F.dirname)((0,P.default)(Qe,"/")),(0,F.basename)(Qe,(0,F.extname)(He)))}function Ve(We,He){return(0,Z.selectHasMetaPath)(He)?(0,F.dirname)(We).slice(He.get("folder").length+1)||"/":We}function tt(We){var He;let Ue;return Ue=((He=We.get("nested"))===null||He===void 0?void 0:He.get("depth"))||(0,V.getPathDepth)(We.get("path","")),(0,ie.hasI18n)(We)&&(Ue=(0,ie.getI18nFilesDepth)(We,Ue)),Ue}E.LocalStorageAuthStore=Re;class it{constructor(He,{backendName:Ue,authStore:Qe,config:Be}){if(Ae(this,"implementation",void 0),Ae(this,"backendName",void 0),Ae(this,"config",void 0),Ae(this,"authStore",void 0),Ae(this,"user",void 0),Ae(this,"backupSync",void 0),Ae(this,"updateUserCredentials",$e=>{const Xe=this.authStore.retrieve();if(Xe&&Xe.backendName===this.backendName)return this.user=Oe(Oe({},Xe),$e),this.authStore.store(this.user),this.user}),Ae(this,"getToken",()=>this.implementation.getToken()),this.deleteAnonymousBackup(),this.config=Be,this.implementation=He.init(this.config,{useWorkflow:(0,W.selectUseWorkflow)(this.config),updateUserCredentials:this.updateUserCredentials,initialWorkflowStatus:te.status.first()}),this.backendName=Ue,this.authStore=Qe,this.implementation===null)throw new Error("Cannot instantiate a Backend with no implementation");this.backupSync=(0,V.asyncLock)()}async status(){let He={auth:{status:!0},api:{status:!0,statusPage:""}};for(let Ue=1;Ue<=3;Ue++){if(He=await this.implementation.status(),Object.values(He).every(Qe=>Qe.status===!0))return He;await new Promise(Qe=>setTimeout(Qe,1e3*Ue))}return He}currentUser(){if(this.user)return this.user;const He=this.authStore.retrieve();return He&&He.backendName===this.backendName?Promise.resolve(this.implementation.restoreUser(He)).then(Ue=>(this.user=Oe(Oe({},Ue),{},{backendName:this.backendName}),this.authStore.store(this.user),this.user)):Promise.resolve(null)}isGitBackend(){var He,Ue;return((He=(Ue=this.implementation).isGitBackend)===null||He===void 0?void 0:He.call(Ue))||!1}authComponent(){return this.implementation.authComponent()}authenticate(He){return this.implementation.authenticate(He).then(Ue=>(this.user=Oe(Oe({},Ue),{},{backendName:this.backendName}),this.authStore&&this.authStore.store(this.user),this.user))}async logout(){try{await this.implementation.logout()}catch(He){console.warn("Error during logout",He.message)}finally{this.user=null,this.authStore&&this.authStore.logout()}}async entryExist(He,Ue,Qe,Be){return Be&&await this.implementation.unpublishedEntry({collection:He.get("name"),slug:Qe}).catch(Xe=>Xe.name===V.EDITORIAL_WORKFLOW_ERROR&&Xe.notUnderEditorialWorkflow?Promise.resolve(!1):Promise.reject(Xe))||await this.implementation.getEntry(Ue).then(({data:Xe})=>Xe).catch(()=>Promise.resolve(!1))}async generateUniqueSlug(He,Ue,Qe,Be,$e){const Xe=Qe.slug;let lt;lt=$e?Ye(He,$e):(0,Q.slugFormatter)(He,Ue,Xe);let dt=1,ft=lt;for(;Be.includes(ft)||await this.entryExist(He,(0,Z.selectEntryPath)(He,ft),ft,(0,W.selectUseWorkflow)(Qe));)ft=`${lt}${(0,ee.sanitizeChar)(" ",Xe)}${dt++}`;return ft}processEntries(He,Ue){const Qe=He.map(Xe=>(0,Y.createEntry)(Ue.get("name"),(0,Z.selectEntrySlug)(Ue,Xe.file.path),Xe.file.path,{raw:Xe.data||"",label:Xe.file.label,author:Xe.file.author,updatedOn:Xe.file.updatedOn,meta:{path:Ve(Xe.file.path,Ue)}})).map(this.entryWithFormat(Ue)),Be=Ue.get("filter"),$e=Be?this.filterEntries({entries:Qe},Be):Qe;if((0,ie.hasI18n)(Ue)){const Xe=(0,Z.selectFolderEntryExtension)(Ue);return(0,ie.groupEntries)(Ue,Xe,$e)}return $e}async listEntries(He){var Ue;const Qe=(0,Z.selectFolderEntryExtension)(He);let Be;const $e=He.get("type");if($e===se.FOLDER)Be=()=>{const dt=tt(He);return this.implementation.entriesByFolder(He.get("folder"),Qe,dt)};else{if($e!==se.FILES)throw new Error(`Unknown collection type: ${$e}`);{const dt=He.get("files").map(ft=>({path:ft.get("file"),label:ft.get("label")})).toArray();Be=()=>this.implementation.entriesByFiles(dt)}}const Xe=await Be(),lt=V.Cursor.create(Xe[V.CURSOR_COMPATIBILITY_SYMBOL]).wrapData({cursorType:"collectionEntries",collection:He});return{entries:this.processEntries(Xe,He),pagination:(Ue=lt.meta)===null||Ue===void 0?void 0:Ue.get("page"),cursor:lt}}async listAllEntries(He){if(He.get("folder")&&this.implementation.allEntriesByFolder){const $e=tt(He),Xe=(0,Z.selectFolderEntryExtension)(He);return this.implementation.allEntriesByFolder(He.get("folder"),Xe,$e,function(lt){let dt="";return lt.get("path")&&(dt=`${lt.get("folder")}/${lt.get("path")}`.replace(/{{.*}}/gm,"(.*)")),(0,ie.hasI18n)(lt)&&(dt=function(ft,{defaultLocale:St,structure:Mt}){return Mt===ie.I18N_STRUCTURE.MULTIPLE_FOLDERS?`${St}\\/${ft}`:Mt===ie.I18N_STRUCTURE.MULTIPLE_FILES?`${ft}\\.${St}\\..*`:ft}(dt,(0,ie.getI18nInfo)(lt))),dt?new RegExp(dt):void 0}(He)).then(lt=>this.processEntries(lt,He))}const Ue=await this.listEntries(He),{entries:Qe}=Ue;let{cursor:Be}=Ue;for(;Be&&Be.actions.includes("next");){const{entries:$e,cursor:Xe}=await this.traverseCursor(Be,"next");Qe.push(...$e),Be=Xe}return Qe}async search(He,Ue){const Qe=[],Be=He.map(async Xe=>{const lt=Xe.get("summary",""),dt=Pe(lt);let ft=[];var St;Xe.get("type")===se.FILES?(St=Xe.get("files"))===null||St===void 0||St.forEach(ct=>{const vt=ct.get("fields").map(Et=>Et.get("name")).toArray();ft=[...ft,...vt]}):ft=[(0,Z.selectInferredField)(Xe,"title"),(0,Z.selectInferredField)(Xe,"shortTitle"),(0,Z.selectInferredField)(Xe,"author"),...dt.map(ct=>Ee[ct]?(0,Z.selectInferredField)(Xe,"date"):ct)];const Mt=ft.filter(Boolean),ht=await this.listAllEntries(Xe);return z.filter(Ue,ht,{extract:Le((0,R.default)(Mt))})}).map(Xe=>Xe.catch(lt=>(Qe.push(lt),[]))),$e=await Promise.all(Be).then(Xe=>(0,N.default)(Xe));if(Qe.length>0)throw new Error({message:"Errors occurred while searching entries locally!",errors:Qe});return{entries:$e.filter(({score:Xe})=>Xe>5).sort(qe).map(Xe=>Xe.original)}}async query(He,Ue,Qe,Be,$e){let Xe=await this.listAllEntries(He);Be&&(Xe=Xe.filter(ft=>ft.slug===Be));const lt=je(Xe,Ue);let dt=z.filter(Qe,lt,{extract:ft=>ze(ft.field,ft)}).sort(qe).map(ft=>ft.original);return $e!==void 0&&$e>0&&(dt=dt.slice(0,$e)),{query:Qe,hits:Ne(dt)}}traverseCursor(He,Ue){const[Qe,Be]=He.unwrapData(),$e=Qe.get("collection");return this.implementation.traverseCursor(Be,Ue).then(async({entries:Xe,cursor:lt})=>({entries:this.processEntries(Xe,$e),cursor:V.Cursor.create(lt).wrapData({cursorType:"collectionEntries",collection:$e})}))}async getLocalDraftBackup(He,Ue){const Qe=Me(He.get("name"),Ue),Be=await V.localForage.getItem(Qe);if(!Be||!Be.raw.trim())return{};const{raw:$e,path:Xe}=Be;let{mediaFiles:lt=[]}=Be;lt=lt.map(Mt=>Mt.file?Oe(Oe({},Mt),{},{url:URL.createObjectURL(Mt.file)}):Mt);const dt=(0,Z.selectFileEntryLabel)(He,Ue),ft=Mt=>this.entryWithFormat(He)((0,Y.createEntry)(He.get("name"),Ue,Xe,{raw:Mt,label:dt,mediaFiles:lt,meta:{path:Ve(Xe,He)}})),St=ft($e);if((0,ie.hasI18n)(He)&&Be.i18n){const Mt=(0,ie.formatI18nBackup)(Be.i18n,ft);St.i18n=Mt}return{entry:St}}async persistLocalDraftBackup(He,Ue){try{await this.backupSync.acquire();const Qe=Me(Ue.get("name"),He.get("slug")),Be=this.entryToRaw(Ue,He);if(!Be.trim())return;const $e=await Promise.all(He.get("mediaFiles").toJS().map(async lt=>{var dt;if((dt=lt.url)!==null&&dt!==void 0&&dt.startsWith("blob:")){const ft=await fetch(lt.url).then(St=>St.blob());return Oe(Oe({},lt),{},{file:(0,V.blobToFileObj)(lt.name,ft)})}return lt}));let Xe;return(0,ie.hasI18n)(Ue)&&(Xe=(0,ie.getI18nBackup)(Ue,He,lt=>this.entryToRaw(Ue,lt))),await V.localForage.setItem(Qe,Oe({raw:Be,path:He.get("path"),mediaFiles:$e},Xe&&{i18n:Xe})),await V.localForage.setItem(Me(),Be)}catch(Qe){console.warn("persistLocalDraftBackup",Qe)}finally{this.backupSync.release()}}async deleteLocalDraftBackup(He,Ue){try{return await this.backupSync.acquire(),await V.localForage.removeItem(Me(He.get("name"),Ue)),Ue&&await V.localForage.removeItem(Me(He.get("name"))),await this.deleteAnonymousBackup()}catch(Qe){console.warn("deleteLocalDraftBackup",Qe)}finally{this.backupSync.release()}}deleteAnonymousBackup(){return V.localForage.removeItem(Me())}async getEntry(He,Ue,Qe){const Be=(0,Z.selectEntryPath)(Ue,Qe),$e=(0,Z.selectFileEntryLabel)(Ue,Qe),Xe=(0,Z.selectFolderEntryExtension)(Ue),lt=async ft=>{const St=await this.implementation.getEntry(ft);let Mt=(0,Y.createEntry)(Ue.get("name"),Qe,St.file.path,{raw:St.data,label:$e,mediaFiles:[],meta:{path:Ve(St.file.path,Ue)}});return Mt=this.entryWithFormat(Ue)(Mt),Mt=await this.processEntry(He,Ue,Mt),Mt};let dt;return dt=(0,ie.hasI18n)(Ue)?await(0,ie.getI18nEntry)(Ue,Xe,Be,Qe,lt):await lt(Be),dt}getMedia(){return this.implementation.getMedia()}getMediaFile(He){return this.implementation.getMediaFile(He)}getMediaDisplayURL(He){if(this.implementation.getMediaDisplayURL)return this.implementation.getMediaDisplayURL(He);const Ue=new Error("getMediaDisplayURL is not implemented by the current backend, but the backend returned a displayURL which was not a string!");return Ue.displayURL=He,Promise.reject(Ue)}entryWithFormat(He){return Ue=>{const Qe=(0,B.resolveFormat)(He,Ue);if(Ue&&Ue.raw!==void 0){const Be=Qe&&(0,j.default)(Qe.fromFile.bind(Qe,Ue.raw))||{};return(0,I.default)(Be)&&console.error(Be),Object.assign(Ue,{data:(0,I.default)(Be)?{}:Be})}return Qe.fromFile(Ue)}}async processUnpublishedEntry(He,Ue,Qe){const{slug:Be}=Ue;let $e;if(He.get("type")===se.FILES){const St=He.get("files").find(Mt=>(Mt==null?void 0:Mt.get("name"))===Be);$e=(0,F.extname)(St.get("file"))}else $e=(0,Z.selectFolderEntryExtension)(He);const Xe=[];if(Qe){const St=Ue.diffs.filter(ht=>!ht.path.endsWith($e)),Mt=await Promise.all(St.map(ht=>this.implementation.unpublishedEntryMediaFile(He.get("name"),Be,ht.path,ht.id)));Xe.push(...Mt.map(ht=>Oe(Oe({},ht),{},{draft:!0})))}const lt=(0,O.default)(Ue.diffs.filter(St=>St.path.endsWith($e)),St=>St.path.length),dt=(St,Mt,ht)=>{const ct=(0,Y.createEntry)(He.get("name"),Be,Mt,{raw:St,isModification:!ht,label:He&&(0,Z.selectFileEntryLabel)(He,Be),mediaFiles:Xe,updatedOn:Ue.updatedAt,author:Ue.pullRequestAuthor,status:Ue.status,meta:{path:Ve(Mt,He)}});return this.entryWithFormat(He)(ct)},ft=async St=>{const Mt=await this.implementation.unpublishedEntryDataFile(He.get("name"),Ue.slug,St.path,St.id);return dt(Mt,St.path,St.newFile)};if(lt.length<=0){const St=await this.implementation.getEntry((0,Z.selectEntryPath)(He,Be));return dt(St.data,St.file.path,!1)}if((0,ie.hasI18n)(He)){const St=(0,Z.selectEntryPath)(He,Be),Mt=(0,ie.getI18nDataFiles)(He,$e,St,Be,lt);let ht=await Promise.all(Mt.map(ct=>ft(ct).catch(()=>null)));return ht=ht.filter(Boolean),(await(0,ie.groupEntries)(He,$e,ht))[0]}return await ft(lt[0])}async unpublishedEntries(He){const Ue=await this.implementation.unpublishedEntries();return{pagination:0,entries:(await Promise.all(Ue.map(async Qe=>{const Be=await this.implementation.unpublishedEntry({id:Qe}),$e=Be.collection,Xe=He.find(lt=>lt.get("name")===$e);return Xe?await this.processUnpublishedEntry(Xe,Be,!1):(console.warn(`Missing collection '${$e}' for unpublished entry '${Qe}'`),null)}))).filter(Boolean)}}async processEntry(He,Ue,Qe){const Be=(0,G.selectIntegration)(He.integrations,null,"assetStore"),$e=(0,Z.selectMediaFolders)(He.config,Ue,(0,U.fromJS)(Qe));if($e.length>0&&!Be){const Xe=await Promise.all($e.map(lt=>this.implementation.getMedia(lt)));Qe.mediaFiles=Qe.mediaFiles.concat(...Xe)}else Qe.mediaFiles=Qe.mediaFiles.concat(He.mediaLibrary.get("files")||[]);return Qe}async unpublishedEntry(He,Ue,Qe){const Be=await this.implementation.unpublishedEntry({collection:Ue.get("name"),slug:Qe});let $e=await this.processUnpublishedEntry(Ue,Be,!0);return $e=await this.processEntry(He,Ue,$e),$e}getDeploy(He,Ue,Qe){const Be=this.config.site_url;if(Be&&this.config.show_preview_links!==!1)return{url:(0,Q.previewUrlFormatter)(Be,He,Ue,Qe,this.config.slug),status:"SUCCESS"}}async getDeployPreview(He,Ue,Qe,{maxAttempts:Be=1,interval:$e=5e3}={}){if(!this.implementation.getDeployPreview||this.config.show_preview_links===!1)return;let Xe,lt=0;for(;!Xe&&lt<Be;)lt++,Xe=await this.implementation.getDeployPreview(He.get("name"),Ue),Xe||await new Promise(dt=>setTimeout(()=>dt(void 0),$e));return Xe?{url:(0,Q.previewUrlFormatter)(Xe.url,He,Ue,Qe,this.config.slug),status:Xe.status?Xe.status.toUpperCase():""}:void 0}async persistEntry({config:He,collection:Ue,entryDraft:Qe,assetProxies:Be,usedSlugs:$e,unpublished:Xe=!1,status:lt}){const dt=await this.invokePreSaveEvent(Qe.get("entry"));let ft;ft=dt.get("data")===void 0?dt&&Qe.setIn(["entry","data"],dt)||Qe:dt&&Qe.setIn(["entry"],dt)||Qe;const St=ft.getIn(["entry","newRecord"])||!1,Mt=(0,W.selectUseWorkflow)(He),ht=(0,de.selectCustomPath)(Ue,ft);let ct;if(St){if(!(0,Z.selectAllowNewEntries)(Ue))throw new Error("Not allowed to create new entries in this collection");const Qt=await this.generateUniqueSlug(Ue,ft.getIn(["entry","data"]),He,$e,ht),Vt=ht||(0,Z.selectEntryPath)(Ue,Qt);ct={path:Vt,slug:Qt,raw:this.entryToRaw(Ue,ft.get("entry"))},function(bt,wt,At,Kt,Yt){bt.map(xr=>{const Cr=xr.path,Mr=(0,H.selectMediaFilePath)(wt,At,Kt.get("entry").set("path",Yt),Cr,xr.field);xr.path=Mr})}(Be,He,Ue,ft,Vt)}else{const Qt=ft.getIn(["entry","slug"]);ct={path:ft.getIn(["entry","path"]),slug:ht&&!Mt?Ye(Ue,ht):Qt,raw:this.entryToRaw(Ue,ft.get("entry")),newPath:ht}}const{slug:vt,path:Et,newPath:gt}=ct;let xt=[ct];if((0,ie.hasI18n)(Ue)){const Qt=(0,Z.selectFolderEntryExtension)(Ue);xt=(0,ie.getI18nFiles)(Ue,Qt,ft.get("entry"),Vt=>this.entryToRaw(Ue,Vt),Et,vt,gt)}const at=await this.currentUser(),$t=Oe({newEntry:St,commitMessage:(0,Q.commitMessageFormatter)(St?"create":"update",He,{collection:Ue,slug:vt,path:Et,authorLogin:at.login,authorName:at.name},at.useOpenAuthoring),collectionName:Ue.get("name"),useWorkflow:Mt},{unpublished:Xe,status:lt});return Mt||await this.invokePrePublishEvent(ft.get("entry")),await this.implementation.persistEntry({dataFiles:xt,assets:Be},$t),await this.invokePostSaveEvent(ft.get("entry")),Mt||await this.invokePostPublishEvent(ft.get("entry")),vt}async invokeEventWithEntry(He,Ue){const{login:Qe,name:Be}=await this.currentUser();return await(0,J.invokeEvent)({name:He,data:{entry:Ue,author:{login:Qe,name:Be}}})}async invokePrePublishEvent(He){await this.invokeEventWithEntry("prePublish",He)}async invokePostPublishEvent(He){await this.invokeEventWithEntry("postPublish",He)}async invokePreUnpublishEvent(He){await this.invokeEventWithEntry("preUnpublish",He)}async invokePostUnpublishEvent(He){await this.invokeEventWithEntry("postUnpublish",He)}async invokePreSaveEvent(He){return await this.invokeEventWithEntry("preSave",He)}async invokePostSaveEvent(He){await this.invokeEventWithEntry("postSave",He)}async persistMedia(He,Ue){const Qe=await this.currentUser(),Be={commitMessage:(0,Q.commitMessageFormatter)("uploadMedia",He,{path:Ue.path,authorLogin:Qe.login,authorName:Qe.name},Qe.useOpenAuthoring)};return this.implementation.persistMedia(Ue,Be)}async deleteEntry(He,Ue,Qe){const Be=He.config,$e=(0,Z.selectEntryPath)(Ue,Qe),Xe=(0,Z.selectFolderEntryExtension)(Ue);if(!(0,Z.selectAllowDeletion)(Ue))throw new Error("Not allowed to delete entries in this collection");const lt=await this.currentUser(),dt=(0,Q.commitMessageFormatter)("delete",Be,{collection:Ue,slug:Qe,path:$e,authorLogin:lt.login,authorName:lt.name},lt.useOpenAuthoring),ft=(0,H.selectEntry)(He.entries,Ue.get("name"),Qe);await this.invokePreUnpublishEvent(ft);let St=[$e];(0,ie.hasI18n)(Ue)&&(St=(0,ie.getFilePaths)(Ue,Xe,$e,Qe)),await this.implementation.deleteFiles(St,dt),await this.invokePostUnpublishEvent(ft)}async deleteMedia(He,Ue){const Qe=await this.currentUser(),Be=(0,Q.commitMessageFormatter)("deleteMedia",He,{path:Ue,authorLogin:Qe.login,authorName:Qe.name},Qe.useOpenAuthoring);return this.implementation.deleteFiles([Ue],Be)}persistUnpublishedEntry(He){return this.persistEntry(Oe(Oe({},He),{},{unpublished:!0}))}updateUnpublishedEntryStatus(He,Ue,Qe){return this.implementation.updateUnpublishedEntryStatus(He,Ue,Qe)}async publishUnpublishedEntry(He){const Ue=He.get("collection"),Qe=He.get("slug");await this.invokePrePublishEvent(He),await this.implementation.publishUnpublishedEntry(Ue,Qe),await this.invokePostPublishEvent(He)}deleteUnpublishedEntry(He,Ue){return this.implementation.deleteUnpublishedEntry(He,Ue)}entryToRaw(He,Ue){const Qe=(0,B.resolveFormat)(He,Ue.toJS()),Be=this.fieldsOrder(He,Ue),$e=(0,Z.selectFieldsComments)(He,Ue);let Xe=Qe.toFile(Ue.get("data").toJS(),Be,$e);return Xe.slice(-1)!=`
`&&(Xe+=`
`),Xe}fieldsOrder(He,Ue){if(He.get("fields"))return He.get("fields").map(Be=>Be.get("name")).toArray();const Qe=(He.get("files")||(0,U.List)()).filter(Be=>Be.get("name")===Ue.get("slug")).get(0);if(Qe==null)throw new Error(`No file found for ${Ue.get("slug")} in ${He.get("name")}`);return Qe.get("fields").map(Be=>Be.get("name")).toArray()}filterEntries(He,Ue){return He.entries.filter(Qe=>{const Be=Qe.data[Ue.get("field")];return Array.isArray(Be)?Be.includes(Ue.get("value")):Be===Ue.get("value")})}}function Ze(We){if(!We.backend.name)throw new Error("No backend defined in configuration");const{name:He}=We.backend,Ue=new Re,Qe=(0,J.getBackend)(He);if(Qe)return new it(Qe,{backendName:He,authStore:Ue,config:We});throw new Error(`Backend not found: ${He}`)}E.Backend=it,E.currentBackend=function(){let We;return He=>We||(We=Ze(He))}()},4342:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=H(_(12244)),T=_(17029),O=_(57903),P=_(34752),R=_(30762),I=_(9316),N=_(21837),j=_(79278),U=_(54750),z=_(76167),V=_(99187),F=_(23260),q=_(50758),B=H(_(2436));_(29192),_(72649),_(35957);var W=_(28165);function H(Y){return Y&&Y.__esModule?Y:{default:Y}}const G="nc-root",Z=(0,O.connect)(function(Y){return{locale:(0,F.selectLocale)(Y.config),config:Y.config}})(function({locale:Y,config:ee}){return(0,W.jsx)(I.I18n,{locale:Y,messages:(0,V.getPhrases)(Y)},(0,W.jsx)(q.ErrorBoundary,{showBackup:!0,config:ee},(0,W.jsx)(P.Router,{history:j.history},(0,W.jsx)(P.Route,{component:B.default}))))});E.default=function(Y={}){const{config:ee}=Y;console.log("decap-cms-core 3.5.0"),N.store.dispatch((0,U.loadConfig)(ee,function(){N.store.dispatch((0,z.authenticateUser)())})),(0,T.createRoot)(function(){const J=document.getElementById(G);if(J)return J;const Q=document.createElement("div");return Q.id=G,document.body.appendChild(Q),Q}()).render((0,W.jsx)(function(){return(0,W.jsx)(A.default.Fragment,null,(0,W.jsx)(R.GlobalStyles,null),(0,W.jsx)(O.Provider,{store:N.store},(0,W.jsx)(Z,null)))},null))}},2436:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=de(_(70894)),T=de(_(13980)),O=de(_(12244)),P=_(9316),R=de(_(19155)),I=_(57903),N=_(34752),j=de(_(75465)),U=_(30762),z=_(76167),V=_(2241),F=_(1582),q=_(68104),B=de(_(80306)),W=_(50758),H=_(79278),G=_(61928),Z=de(_(65583)),Y=de(_(33407)),ee=de(_(15694)),J=de(_(27633)),Q=de(_(19739)),te=_(28165);const se=["collections","render"];function de(ze){return ze&&ze.__esModule?ze:{default:ze}}function ie(){return ie=Object.assign?Object.assign.bind():function(ze){for(var Le=1;Le<arguments.length;Le++){var je=arguments[Le];for(var Ne in je)Object.prototype.hasOwnProperty.call(je,Ne)&&(ze[Ne]=je[Ne])}return ze},ie.apply(this,arguments)}j.default.config({barColors:{0:U.colors.active,"1.0":U.colors.active},shadowBlur:0,barThickness:2});const ve=(0,A.default)("div",{target:"eh2m33j2",label:"AppMainContainer"})({name:"y0stlg",styles:"min-width:800px;max-width:1440px;margin:0 auto"}),xe=(0,A.default)("div",{target:"eh2m33j1",label:"ErrorContainer"})({name:"3zy121",styles:"margin:20px"}),ke=(0,A.default)("pre",{target:"eh2m33j0",label:"ErrorCodeBlock"})({name:"1dps4tx",styles:"margin-left:20px;font-size:15px;line-height:1.5"});function Ce(ze){const Le=ze.filter(je=>je.get("hide")!==!0).first();if(Le)return`/collections/${Le.get("name")}`;throw new Error("Could not find a non hidden collection")}function Oe(ze){let{collections:Le,render:je}=ze,Ne=function(Ye,Ve){if(Ye==null)return{};var tt,it,Ze=function(He,Ue){if(He==null)return{};var Qe,Be,$e={},Xe=Object.keys(He);for(Be=0;Be<Xe.length;Be++)Qe=Xe[Be],Ue.indexOf(Qe)>=0||($e[Qe]=He[Qe]);return $e}(Ye,Ve);if(Object.getOwnPropertySymbols){var We=Object.getOwnPropertySymbols(Ye);for(it=0;it<We.length;it++)tt=We[it],Ve.indexOf(tt)>=0||Object.prototype.propertyIsEnumerable.call(Ye,tt)&&(Ze[tt]=Ye[tt])}return Ze}(ze,se);const qe=Ce(Le);return(0,te.jsx)(N.Route,ie({},Ne,{render:Ye=>Le.get(Ye.match.params.name)?je(Ye):(0,te.jsx)(N.Redirect,{to:qe})}))}class Ae extends O.default.Component{configError(Le){const je=this.props.t;return(0,te.jsx)(xe,null,(0,te.jsx)("h1",null,je("app.app.errorHeader")),(0,te.jsx)("div",null,(0,te.jsx)("strong",null,je("app.app.configErrors"),":"),(0,te.jsx)(ke,null,Le.error),(0,te.jsx)("span",null,je("app.app.checkConfigYml"))))}handleLogin(Le){this.props.loginUser(Le)}authenticating(){const{auth:Le,t:je}=this.props,Ne=(0,V.currentBackend)(this.props.config);return Ne==null?(0,te.jsx)("div",null,(0,te.jsx)("h1",null,je("app.app.waitingBackend"))):(0,te.jsx)("div",null,(0,te.jsx)(W.Notifications,null),O.default.createElement(Ne.authComponent(),{onLogin:this.handleLogin.bind(this),error:Le.error,inProgress:Le.isFetching,siteId:this.props.config.backend.site_domain,base_url:this.props.config.backend.base_url,authEndpoint:this.props.config.backend.auth_endpoint,config:this.props.config,clearHash:()=>H.history.replace("/"),t:je}))}handleLinkClick(Le,je,...Ne){Le.preventDefault(),je(...Ne)}render(){const{user:Le,config:je,collections:Ne,logoutUser:qe,isFetching:Ye,publishMode:Ve,useMediaLibrary:tt,openMediaLibrary:it,t:Ze,showMediaButton:We}=this.props;if(je===null)return null;if(je.error)return this.configError(je);if(je.isFetching)return(0,te.jsx)(U.Loader,{active:!0},Ze("app.app.loadingConfig"));if(Le==null)return this.authenticating(Ze);const He=Ce(Ne),Ue=Ve===G.EDITORIAL_WORKFLOW;return(0,te.jsx)(O.default.Fragment,null,(0,te.jsx)(W.Notifications,null),(0,te.jsx)(Q.default,{user:Le,collections:Ne,onCreateEntryClick:F.createNewEntry,onLogoutClick:qe,openMediaLibrary:it,hasWorkflow:Ue,displayUrl:je.display_url,isTestRepo:je.backend.name==="test-repo",showMediaButton:We}),(0,te.jsx)(ve,null,Ye&&(0,te.jsx)(j.default,null),(0,te.jsx)(N.Switch,null,(0,te.jsx)(N.Redirect,{exact:!0,from:"/",to:He}),(0,te.jsx)(N.Redirect,{exact:!0,from:"/search/",to:He}),(0,te.jsx)(Oe,{exact:!0,collections:Ne,path:"/collections/:name/search/",render:({match:Qe})=>(0,te.jsx)(N.Redirect,{to:`/collections/${Qe.params.name}`})}),(0,te.jsx)(N.Redirect,{from:"/error=access_denied&error_description=Signups+not+allowed+for+this+instance",to:He}),Ue?(0,te.jsx)(N.Route,{path:"/workflow",component:Y.default}):null,(0,te.jsx)(Oe,{exact:!0,collections:Ne,path:"/collections/:name",render:Qe=>(0,te.jsx)(Z.default,Qe)}),(0,te.jsx)(Oe,{path:"/collections/:name/new",collections:Ne,render:Qe=>(0,te.jsx)(ee.default,ie({},Qe,{newRecord:!0}))}),(0,te.jsx)(Oe,{path:"/collections/:name/entries/*",collections:Ne,render:Qe=>(0,te.jsx)(ee.default,Qe)}),(0,te.jsx)(Oe,{path:"/collections/:name/search/:searchTerm",collections:Ne,render:Qe=>(0,te.jsx)(Z.default,ie({},Qe,{isSearchResults:!0,isSingleSearchResult:!0}))}),(0,te.jsx)(Oe,{collections:Ne,path:"/collections/:name/filter/:filterTerm*",render:Qe=>(0,te.jsx)(Z.default,Qe)}),(0,te.jsx)(N.Route,{path:"/search/:searchTerm",render:Qe=>(0,te.jsx)(Z.default,ie({},Qe,{isSearchResults:!0}))}),(0,te.jsx)(Oe,{path:"/edit/:name/:entryName",collections:Ne,render:({match:Qe})=>{const{name:Be,entryName:$e}=Qe.params;return(0,te.jsx)(N.Redirect,{to:`/collections/${Be}/entries/${$e}`})}}),(0,te.jsx)(N.Route,{component:J.default})),tt?(0,te.jsx)(B.default,null):null))}}var Pe,Ee,Te,Re;Pe=Ae,Ee="propTypes",Te={auth:T.default.object.isRequired,config:T.default.object.isRequired,collections:R.default.map.isRequired,loginUser:T.default.func.isRequired,logoutUser:T.default.func.isRequired,user:T.default.object,isFetching:T.default.bool.isRequired,publishMode:T.default.oneOf([G.SIMPLE,G.EDITORIAL_WORKFLOW]),siteId:T.default.string,useMediaLibrary:T.default.bool,openMediaLibrary:T.default.func.isRequired,showMediaButton:T.default.bool,t:T.default.func.isRequired},(Ee=typeof(Re=function(ze,Le){if(typeof ze!="object"||!ze)return ze;var je=ze[Symbol.toPrimitive];if(je!==void 0){var Ne=je.call(ze,"string");if(typeof Ne!="object")return Ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ze)}(Ee))=="symbol"?Re:String(Re))in Pe?Object.defineProperty(Pe,Ee,{value:Te,enumerable:!0,configurable:!0,writable:!0}):Pe[Ee]=Te;const Me={openMediaLibrary:q.openMediaLibrary,loginUser:z.loginUser,logoutUser:z.logoutUser};E.default=(0,I.connect)(function(ze){const{auth:Le,config:je,collections:Ne,globalUI:qe,mediaLibrary:Ye}=ze,Ve=Le.user,tt=qe.isFetching,it=je.publish_mode,Ze=!Ye.get("externalLibrary");return{auth:Le,config:je,collections:Ne,user:Ve,isFetching:tt,publishMode:it,showMediaButton:Ye.get("showMediaButton"),useMediaLibrary:Ze}},Me)((0,P.translate)()(Ae))},19739:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=F(_(70894)),T=F(_(13980)),O=F(_(12244)),P=F(_(19155)),R=_(28165),I=_(9316),N=_(34752),j=_(30762),U=_(57903),z=_(50758),V=_(9687);function F(de){return de&&de.__esModule?de:{default:de}}function q(de,ie,ve){var xe;return(ie=typeof(xe=function(ke,Ce){if(typeof ke!="object"||!ke)return ke;var Oe=ke[Symbol.toPrimitive];if(Oe!==void 0){var Ae=Oe.call(ke,"string");if(typeof Ae!="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ke)}(ie))=="symbol"?xe:String(xe))in de?Object.defineProperty(de,ie,{value:ve,enumerable:!0,configurable:!0,writable:!0}):de[ie]=ve,de}function B(){return B=Object.assign?Object.assign.bind():function(de){for(var ie=1;ie<arguments.length;ie++){var ve=arguments[ie];for(var xe in ve)Object.prototype.hasOwnProperty.call(ve,xe)&&(de[xe]=ve[xe])}return de},B.apply(this,arguments)}const W={buttonActive:(0,R.css)("color:",j.colors.active,";;label:buttonActive;")};function H(de){return(0,R.jsx)("header",B({css:(0,R.css)(j.shadows.dropMain,";position:sticky;width:100%;top:0;background-color:",j.colors.foreground,";z-index:",j.zIndex.zIndex300,";height:",j.lengths.topBarHeight,";;label:AppHeader;")},de))}const G=(0,A.default)("div",{target:"e1rbzf6g4",label:"AppHeaderContent"})({name:"jxf21e",styles:"display:flex;justify-content:space-between;min-width:800px;max-width:1440px;padding:0 12px;margin:0 auto"}),Z=(0,A.default)("button",{target:"e1rbzf6g3",label:"AppHeaderButton"})(j.buttons.button,";background:none;color:#7b8290;font-family:inherit;font-size:16px;font-weight:500;display:inline-flex;padding:16px 20px;align-items:center;",j.Icon,"{margin-right:4px;color:#b3b9c4;}&:hover,&:active,&:focus-visible{",W.buttonActive,";",j.Icon,"{",W.buttonActive,";}}",de=>(0,R.css)("&.",de.activeClassName,"{",W.buttonActive,";",j.Icon,"{",W.buttonActive,";}};label:AppHeaderButton;"),";"),Y=Z.withComponent(N.NavLink,{target:"e1rbzf6g5",label:"AppHeaderNavLink"}),ee=(0,A.default)("div",{target:"e1rbzf6g2",label:"AppHeaderActions"})({name:"8irbms",styles:"display:inline-flex;align-items:center"}),J=(0,A.default)(j.StyledDropdownButton,{target:"e1rbzf6g1",label:"AppHeaderQuickNewButton"})(j.buttons.button,";",j.buttons.medium,";",j.buttons.gray,";margin-right:8px;&:after{top:11px;}"),Q=(0,A.default)("ul",{target:"e1rbzf6g0",label:"AppHeaderNavList"})({name:"1vufzxm",styles:"display:flex;margin:0;list-style:none"});class te extends O.default.Component{constructor(...ie){super(...ie),q(this,"intervalId",void 0),q(this,"handleCreatePostClick",ve=>{const{onCreateEntryClick:xe}=this.props;xe&&xe(ve)})}componentDidMount(){this.intervalId=setInterval(()=>{this.props.checkBackendStatus()},3e5)}componentWillUnmount(){clearInterval(this.intervalId)}render(){const{user:ie,collections:ve,onLogoutClick:xe,openMediaLibrary:ke,hasWorkflow:Ce,displayUrl:Oe,isTestRepo:Ae,t:Pe,showMediaButton:Ee}=this.props,Te=ve.filter(Re=>Re.get("create")).toList();return(0,R.jsx)(H,null,(0,R.jsx)(G,null,(0,R.jsx)("nav",null,(0,R.jsx)(Q,null,(0,R.jsx)("li",null,(0,R.jsx)(Y,{to:"/",activeClassName:"header-link-active",isActive:(Re,Me)=>Me.pathname.startsWith("/collections/")},(0,R.jsx)(j.Icon,{type:"page"}),Pe("app.header.content"))),Ce&&(0,R.jsx)("li",null,(0,R.jsx)(Y,{to:"/workflow",activeClassName:"header-link-active"},(0,R.jsx)(j.Icon,{type:"workflow"}),Pe("app.header.workflow"))),Ee&&(0,R.jsx)("li",null,(0,R.jsx)(Z,{onClick:ke},(0,R.jsx)(j.Icon,{type:"media-alt"}),Pe("app.header.media"))))),(0,R.jsx)(ee,null,Te.size>0&&(0,R.jsx)(j.Dropdown,{renderButton:()=>(0,R.jsx)(J,null," ",Pe("app.header.quickAdd")),dropdownTopOverlap:"30px",dropdownWidth:"160px",dropdownPosition:"left"},Te.map(Re=>(0,R.jsx)(j.DropdownItem,{key:Re.get("name"),label:Re.get("label_singular")||Re.get("label"),onClick:()=>this.handleCreatePostClick(Re.get("name"))}))),(0,R.jsx)(z.SettingsDropdown,{displayUrl:Oe,isTestRepo:Ae,imageUrl:ie==null?void 0:ie.avatar_url,onLogoutClick:xe}))))}}q(te,"propTypes",{user:T.default.object.isRequired,collections:P.default.map.isRequired,onCreateEntryClick:T.default.func.isRequired,onLogoutClick:T.default.func.isRequired,openMediaLibrary:T.default.func.isRequired,hasWorkflow:T.default.bool.isRequired,displayUrl:T.default.string,isTestRepo:T.default.bool,t:T.default.func.isRequired,checkBackendStatus:T.default.func.isRequired});const se={checkBackendStatus:V.checkBackendStatus};E.default=(0,U.connect)(null,se)((0,I.translate)()(te))},27633:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=I(_(70894)),T=(I(_(12244)),_(9316)),O=_(30762),P=I(_(13980)),R=_(28165);function I(U){return U&&U.__esModule?U:{default:U}}const N=(0,A.default)("div",{target:"ew40z3q0",label:"NotFoundContainer"})("margin:",O.lengths.pageMargin,";");function j({t:U}){return(0,R.jsx)(N,null,(0,R.jsx)("h2",null,U("app.notFoundPage.header")))}j.propTypes={t:P.default.func.isRequired},E.default=(0,T.translate)()(j)},65583:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.Collection=void 0;var A=Z(_(70894)),T=Z(_(12244)),O=Z(_(13980)),P=Z(_(19155)),R=_(57903),I=_(9316),N=_(30762),j=_(9904),U=Z(_(9381)),z=Z(_(52777)),V=Z(_(13352)),F=Z(_(19232)),q=Z(_(91785)),B=_(50236),W=_(45624),H=_(58308),G=_(28165);function Z(ke){return ke&&ke.__esModule?ke:{default:ke}}function Y(ke,Ce){var Oe=Object.keys(ke);if(Object.getOwnPropertySymbols){var Ae=Object.getOwnPropertySymbols(ke);Ce&&(Ae=Ae.filter(function(Pe){return Object.getOwnPropertyDescriptor(ke,Pe).enumerable})),Oe.push.apply(Oe,Ae)}return Oe}function ee(ke){for(var Ce=1;Ce<arguments.length;Ce++){var Oe=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?Y(Object(Oe),!0).forEach(function(Ae){J(ke,Ae,Oe[Ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(Oe)):Y(Object(Oe)).forEach(function(Ae){Object.defineProperty(ke,Ae,Object.getOwnPropertyDescriptor(Oe,Ae))})}return ke}function J(ke,Ce,Oe){var Ae;return(Ce=typeof(Ae=function(Pe,Ee){if(typeof Pe!="object"||!Pe)return Pe;var Te=Pe[Symbol.toPrimitive];if(Te!==void 0){var Re=Te.call(Pe,"string");if(typeof Re!="object")return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Pe)}(Ce))=="symbol"?Ae:String(Ae))in ke?Object.defineProperty(ke,Ce,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):ke[Ce]=Oe,ke}const Q=(0,A.default)("div",{target:"e1sogrfi3",label:"CollectionContainer"})("margin:",N.lengths.pageMargin,";"),te=(0,A.default)("main",{target:"e1sogrfi2",label:"CollectionMain"})({name:"tka7ew",styles:"padding-left:280px"}),se=(0,A.default)("div",{target:"e1sogrfi1",label:"SearchResultContainer"})(N.components.cardTop,";margin-bottom:22px;"),de=(0,A.default)("h1",{target:"e1sogrfi0",label:"SearchResultHeading"})(N.components.cardTopHeading,";");class ie extends T.default.Component{constructor(...Ce){super(...Ce),J(this,"renderEntriesCollection",()=>{const{collection:Oe,filterTerm:Ae,viewStyle:Pe}=this.props;return(0,G.jsx)(V.default,{collection:Oe,viewStyle:Pe,filterTerm:Ae})}),J(this,"renderEntriesSearch",()=>{const{searchTerm:Oe,collections:Ae,collection:Pe,isSingleSearchResult:Ee}=this.props;return(0,G.jsx)(F.default,{collections:Ee?Ae.filter(Te=>Te===Pe):Ae,searchTerm:Oe})})}render(){const{collection:Ce,collections:Oe,collectionName:Ae,isSearchEnabled:Pe,isSearchResults:Ee,isSingleSearchResult:Te,searchTerm:Re,sortableFields:Me,onSortClick:ze,sort:Le,viewFilters:je,viewGroups:Ne,filterTerm:qe,t:Ye,onFilterClick:Ve,onGroupClick:tt,filter:it,group:Ze,onChangeViewStyle:We,viewStyle:He}=this.props;let Ue=Ce.get("create")?(0,j.getNewEntryUrl)(Ae):"";Ue&&qe&&(Ue=(0,j.getNewEntryUrl)(Ae),qe&&(Ue=`${Ue}?path=${qe}`));const Qe="collection.collectionTop.searchResults"+(Te?"InCollection":"");return(0,G.jsx)(Q,null,(0,G.jsx)(U.default,{collections:Oe,collection:(!Ee||Te)&&Ce,isSearchEnabled:Pe,searchTerm:Re,filterTerm:qe}),(0,G.jsx)(te,null,Ee?(0,G.jsx)(se,null,(0,G.jsx)(de,null,Ye(Qe,{searchTerm:Re,collection:Ce.get("label")}))):(0,G.jsx)(T.default.Fragment,null,(0,G.jsx)(z.default,{collection:Ce,newEntryUrl:Ue}),(0,G.jsx)(q.default,{viewStyle:He,onChangeViewStyle:We,sortableFields:Me,onSortClick:ze,sort:Le,viewFilters:je,viewGroups:Ne,t:Ye,onFilterClick:Ve,onGroupClick:tt,filter:it,group:Ze})),Ee?this.renderEntriesSearch():this.renderEntriesCollection()))}}E.Collection=ie,J(ie,"propTypes",{searchTerm:O.default.string,collectionName:O.default.string,isSearchResults:O.default.bool,isSingleSearchResult:O.default.bool,collection:P.default.map.isRequired,collections:P.default.map.isRequired,sortableFields:O.default.array,sort:P.default.orderedMap,onSortClick:O.default.func.isRequired});const ve={sortByField:B.sortByField,filterByField:B.filterByField,changeViewStyle:B.changeViewStyle,groupByField:B.groupByField},xe=(0,R.connect)(function(ke,Ce){const{collections:Oe}=ke,Ae=ke.config&&ke.config.search!=0,{isSearchResults:Pe,match:Ee,t:Te}=Ce,{name:Re,searchTerm:Me="",filterTerm:ze=""}=Ee.params,Le=Re?Oe.get(Re):Oe.first(),je=(0,H.selectEntriesSort)(ke.entries,Le.get("name")),Ne=(0,W.selectSortableFields)(Le,Te),qe=(0,W.selectViewFilters)(Le),Ye=(0,W.selectViewGroups)(Le),Ve=(0,H.selectEntriesFilter)(ke.entries,Le.get("name")),tt=(0,H.selectEntriesGroup)(ke.entries,Le.get("name"));return{collection:Le,collections:Oe,collectionName:Re,isSearchEnabled:Ae,isSearchResults:Pe,searchTerm:Me,filterTerm:ze,sort:je,sortableFields:Ne,viewFilters:qe,viewGroups:Ye,filter:Ve,group:tt,viewStyle:(0,H.selectViewStyle)(ke.entries)}},ve,function(ke,Ce,Oe){return ee(ee(ee({},ke),Oe),{},{onSortClick:(Ae,Pe)=>Ce.sortByField(ke.collection,Ae,Pe),onFilterClick:Ae=>Ce.filterByField(ke.collection,Ae),onGroupClick:Ae=>Ce.groupByField(ke.collection,Ae),onChangeViewStyle:Ae=>Ce.changeViewStyle(Ae)})})(ie);E.default=(0,I.translate)()(xe)},91785:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=j(_(70894)),T=(j(_(12244)),_(30762)),O=j(_(37058)),P=j(_(61450)),R=j(_(2796)),I=j(_(30686)),N=_(28165);function j(z){return z&&z.__esModule?z:{default:z}}const U=(0,A.default)("div",{target:"emfmed70",label:"CollectionControlsContainer"})("display:flex;align-items:center;flex-direction:row-reverse;margin-top:22px;width:",T.lengths.topCardWidth,";max-width:100%;&>div{margin-left:6px;}");E.default=function({viewStyle:z,onChangeViewStyle:V,sortableFields:F,onSortClick:q,sort:B,viewFilters:W,viewGroups:H,onFilterClick:G,onGroupClick:Z,t:Y,filter:ee,group:J}){return(0,N.jsx)(U,null,(0,N.jsx)(O.default,{viewStyle:z,onChangeViewStyle:V}),H.length>0&&(0,N.jsx)(I.default,{viewGroups:H,onGroupClick:Z,t:Y,group:J}),W.length>0&&(0,N.jsx)(R.default,{viewFilters:W,onFilterClick:G,t:Y,filter:ee}),F.length>0&&(0,N.jsx)(P.default,{fields:F,sort:B,onSortClick:q}))}},98165:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=j(_(70894)),T=j(_(12244)),O=_(30762),P=_(9316),R=j(_(13980)),I=j(_(19155)),N=_(28165);function j(Y){return Y&&Y.__esModule?Y:{default:Y}}function U(Y,ee,J){var Q;return(ee=typeof(Q=function(te,se){if(typeof te!="object"||!te)return te;var de=te[Symbol.toPrimitive];if(de!==void 0){var ie=de.call(te,"string");if(typeof ie!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(ee))=="symbol"?Q:String(Q))in Y?Object.defineProperty(Y,ee,{value:J,enumerable:!0,configurable:!0,writable:!0}):Y[ee]=J,Y}const z=(0,A.default)("div",{target:"e6w847r7",label:"SearchContainer"})("margin:0 12px;position:relative;",O.Icon,"{position:absolute;top:0;left:6px;z-index:",O.zIndex.zIndex2,";height:100%;display:flex;align-items:center;pointer-events:none;}"),V=(0,A.default)("div",{target:"e6w847r6",label:"InputContainer"})({name:"1dbubah",styles:"display:flex;align-items:center;position:relative"}),F=(0,A.default)("input",{target:"e6w847r5",label:"SearchInput"})("background-color:#eff0f4;border-radius:",O.lengths.borderRadius,";font-size:14px;padding:10px 6px 10px 34px;width:100%;position:relative;z-index:",O.zIndex.zIndex1,";&:focus{outline:none;box-shadow:inset 0 0 0 2px ",O.colorsRaw.blue,";}"),q=(0,A.default)("div",{target:"e6w847r4",label:"SuggestionsContainer"})({name:"pw7jst",styles:"position:relative;width:100%"}),B=(0,A.default)("ul",{target:"e6w847r3",label:"Suggestions"})("position:absolute;top:6px;left:0;right:0;padding:10px 0;margin:0;list-style:none;background-color:#fff;border-radius:",O.lengths.borderRadius,";border:1px solid ",O.colors.textFieldBorder,";z-index:",O.zIndex.zIndex1,";"),W=(0,A.default)("li",{target:"e6w847r2",label:"SuggestionHeader"})("padding:0 6px 6px 34px;font-size:12px;color:",O.colors.text,";"),H=(0,A.default)("li",{target:"e6w847r1",label:"SuggestionItem"})(({isActive:Y})=>`
  color: ${Y?O.colors.active:O.colorsRaw.grayDark};
  background-color: ${Y?O.colors.activeBackground:"inherit"};
  padding: 6px 6px 6px 34px;
  cursor: pointer;
  position: relative;

  &:hover {
    color: ${O.colors.active};
    background-color: ${O.colors.activeBackground};
  }
`,""),G=(0,A.default)("div",{target:"e6w847r0",label:"SuggestionDivider"})({name:"1d3w5wq",styles:"width:100%"});class Z extends T.default.Component{constructor(...ee){super(...ee),U(this,"state",{query:this.props.searchTerm,suggestionsVisible:!1,selectedCollectionIdx:this.getSelectedSelectionBasedOnProps()}),U(this,"submitSearch",()=>{const{onSubmit:J,collections:Q}=this.props,{selectedCollectionIdx:te,query:se}=this.state;this.toggleSuggestions(!1),te!==-1?J(se,Q.toIndexedSeq().getIn([te,"name"])):J(se)}),U(this,"handleKeyDown",J=>{const{suggestionsVisible:Q}=this.state;J.key==="Enter"&&this.submitSearch(),Q&&(J.key==="Escape"&&this.toggleSuggestions(!1),J.key==="ArrowDown"?(this.selectNextSuggestion(),J.preventDefault()):J.key==="ArrowUp"&&(this.selectPreviousSuggestion(),J.preventDefault()))}),U(this,"handleQueryChange",J=>{this.setState({query:J}),this.toggleSuggestions(J!==""),J===""&&this.resetSelectedSuggestion()}),U(this,"handleSuggestionClick",(J,Q)=>{this.setState({selectedCollectionIdx:Q},this.submitSearch),J.preventDefault()})}componentDidUpdate(ee){if(ee.collection!==this.props.collection){const J=this.getSelectedSelectionBasedOnProps();this.setState({selectedCollectionIdx:J})}}getSelectedSelectionBasedOnProps(){const{collection:ee,collections:J}=this.props;return ee?J.keySeq().indexOf(ee.get("name")):-1}toggleSuggestions(ee){this.setState({suggestionsVisible:ee})}selectNextSuggestion(){const{collections:ee}=this.props,{selectedCollectionIdx:J}=this.state;this.setState({selectedCollectionIdx:Math.min(J+1,ee.size-1)})}selectPreviousSuggestion(){const{selectedCollectionIdx:ee}=this.state;this.setState({selectedCollectionIdx:Math.max(ee-1,-1)})}resetSelectedSuggestion(){this.setState({selectedCollectionIdx:-1})}render(){const{collections:ee,t:J}=this.props,{suggestionsVisible:Q,selectedCollectionIdx:te,query:se}=this.state;return(0,N.jsx)(z,{onBlur:()=>this.toggleSuggestions(!1),onFocus:()=>this.toggleSuggestions(se!=="")},(0,N.jsx)(V,null,(0,N.jsx)(O.Icon,{type:"search"}),(0,N.jsx)(F,{onChange:de=>this.handleQueryChange(de.target.value),onKeyDown:this.handleKeyDown,onClick:()=>this.toggleSuggestions(!0),placeholder:J("collection.sidebar.searchAll"),value:se})),Q&&(0,N.jsx)(q,null,(0,N.jsx)(B,null,(0,N.jsx)(W,null,J("collection.sidebar.searchIn")),(0,N.jsx)(H,{isActive:te===-1,onClick:de=>this.handleSuggestionClick(de,-1),onMouseDown:de=>de.preventDefault()},J("collection.sidebar.allCollections")),(0,N.jsx)(G,null),ee.toIndexedSeq().map((de,ie)=>(0,N.jsx)(H,{key:ie,isActive:ie===te,onClick:ve=>this.handleSuggestionClick(ve,ie),onMouseDown:ve=>ve.preventDefault()},de.get("label"))))))}}U(Z,"propTypes",{collections:I.default.map.isRequired,collection:I.default.map,searchTerm:R.default.string.isRequired,onSubmit:R.default.func.isRequired,t:R.default.func.isRequired}),E.default=(0,P.translate)()(Z)},52777:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=j(_(70894)),T=j(_(13980)),O=j(_(19155)),P=(j(_(12244)),_(9316)),R=_(34752),I=_(30762),N=_(28165);function j(W){return W&&W.__esModule?W:{default:W}}const U=(0,A.default)("div",{target:"ei8nkzc4",label:"CollectionTopContainer"})(I.components.cardTop,";margin-bottom:22px;"),z=(0,A.default)("div",{target:"ei8nkzc3",label:"CollectionTopRow"})({name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"}),V=(0,A.default)("h1",{target:"ei8nkzc2",label:"CollectionTopHeading"})(I.components.cardTopHeading,";"),F=(0,A.default)(R.Link,{target:"ei8nkzc1",label:"CollectionTopNewButton"})(I.buttons.button,";",I.shadows.dropDeep,";",I.buttons.default,";",I.buttons.gray,";padding:0 30px;"),q=(0,A.default)("p",{target:"ei8nkzc0",label:"CollectionTopDescription"})(I.components.cardTopDescription,";margin-bottom:0;");function B({collection:W,newEntryUrl:H,t:G}){const{collectionLabel:Z,collectionLabelSingular:Y,collectionDescription:ee}=function(J){return{collectionLabel:J.get("label"),collectionLabelSingular:J.get("label_singular"),collectionDescription:J.get("description")}}(W);return(0,N.jsx)(U,null,(0,N.jsx)(z,null,(0,N.jsx)(V,null,Z),H?(0,N.jsx)(F,{to:H},G("collection.collectionTop.newButton",{collectionLabel:Y||Z})):null),ee?(0,N.jsx)(q,null,ee):null)}B.propTypes={collection:O.default.map.isRequired,newEntryUrl:T.default.string,t:T.default.func.isRequired},E.default=(0,P.translate)()(B)},16108:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.ControlButton=function({active:I,title:N}){return(0,T.jsx)(R,{css:(0,T.css)("color:",I?O.colors.active:void 0,";;label:ControlButton;")},N)};var A=P(_(70894)),T=(P(_(12244)),_(28165)),O=_(30762);function P(I){return I&&I.__esModule?I:{default:I}}const R=(0,A.default)(O.StyledDropdownButton,{target:"e1obtllk0",label:"Button"})(O.buttons.button,";",O.buttons.medium,";",O.buttons.grayText,";font-size:14px;&:after{top:11px;}")},94497:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=U(_(70894)),T=U(_(13980)),O=U(_(12244)),P=U(_(19155)),R=_(9316),I=_(30762),N=U(_(70660)),j=_(28165);function U(q){return q&&q.__esModule?q:{default:q}}const z=(0,A.default)("div",{target:"e1d0i3na1",label:"PaginationMessage"})("width:",I.lengths.topCardWidth,";padding:16px;text-align:center;"),V=(0,A.default)(z,{target:"e1d0i3na0",label:"NoEntriesMessage"})({name:"yz1nei",styles:"margin-top:16px"});function F({collections:q,entries:B,isFetching:W,viewStyle:H,cursor:G,handleCursorActions:Z,t:Y,page:ee}){var J;const Q=[Y("collection.entries.loadingEntries"),Y("collection.entries.cachingEntries"),Y("collection.entries.longerLoading")];return W&&ee===void 0?(0,j.jsx)(I.Loader,{active:!0},Q):B&&B.size>0||!(G==null||(J=G.actions)===null||J===void 0)&&J.has("append_next")?(0,j.jsx)(O.default.Fragment,null,(0,j.jsx)(N.default,{collections:q,entries:B,viewStyle:H,cursor:G,handleCursorActions:Z,page:ee}),W&&ee!==void 0&&B.size>0?(0,j.jsx)(z,null,Y("collection.entries.loadingEntries")):null):(0,j.jsx)(V,null,Y("collection.entries.noEntries"))}F.propTypes={collections:P.default.iterable.isRequired,entries:P.default.list,page:T.default.number,isFetching:T.default.bool,viewStyle:T.default.string,cursor:T.default.any.isRequired,handleCursorActions:T.default.func.isRequired,t:T.default.func.isRequired},E.default=(0,R.translate)()(F)},13352:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.EntriesCollection=void 0,E.filterNestedEntries=J;var A=W(_(70894)),T=W(_(83465)),O=W(_(12244)),P=W(_(13980)),R=W(_(19155)),I=_(57903),N=_(9316),j=_(33806),U=_(30762),z=_(50236),V=_(58308),F=_(63647),q=W(_(94497)),B=_(28165);function W(se){return se&&se.__esModule?se:{default:se}}function H(se,de,ie){var ve;return(de=typeof(ve=function(xe,ke){if(typeof xe!="object"||!xe)return xe;var Ce=xe[Symbol.toPrimitive];if(Ce!==void 0){var Oe=Ce.call(xe,"string");if(typeof Oe!="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(xe)}(de))=="symbol"?ve:String(ve))in se?Object.defineProperty(se,de,{value:ie,enumerable:!0,configurable:!0,writable:!0}):se[de]=ie,se}const G=(0,A.default)("h2",{target:"eucqz2q1",label:"GroupHeading"})("font-size:22px;font-weight:600;line-height:37px;padding-inline-start:20px;color:",U.colors.textLead,";"),Z=(0,A.default)("div",{target:"eucqz2q0",label:"GroupContainer"})("");function Y(se,de){return se.filter(ie=>de.has(ie.get("path")))}class ee extends O.default.Component{constructor(...de){super(...de),H(this,"handleCursorActions",(ie,ve)=>{const{collection:xe,traverseCollectionCursor:ke}=this.props;ke(xe,ve)})}componentDidMount(){const{collection:de,entriesLoaded:ie,loadEntries:ve}=this.props;de&&!ie&&ve(de)}componentDidUpdate(de){const{collection:ie,entriesLoaded:ve,loadEntries:xe}=this.props;ie===de.collection||ve||xe(ie)}render(){const{collection:de,entries:ie,groups:ve,isFetching:xe,viewStyle:ke,cursor:Ce,page:Oe,t:Ae}=this.props,Pe=({entries:Ee})=>(0,B.jsx)(q.default,{collections:de,entries:Ee,isFetching:xe,collectionName:de.get("label"),viewStyle:ke,cursor:Ce,handleCursorActions:(0,T.default)(this.handleCursorActions,Ce),page:Oe});return ve&&ve.length>0?function(Ee,Te,Re,Me){return Ee.map(ze=>{const Le=function(je,Ne){const{label:qe,value:Ye}=je;return Ye===void 0?Ne("collection.groups.other"):typeof Ye=="boolean"?Ye?qe:Ne("collection.groups.negateLabel",{label:qe}):`${qe} ${Ye}`.trim()}(ze,Me);return(0,B.jsx)(Z,{key:ze.id,id:ze.id},(0,B.jsx)(G,null,Le),(0,B.jsx)(Re,{entries:Y(Te,ze.paths)}))})}(ve,ie,Pe,Ae):(0,B.jsx)(Pe,{entries:ie})}}function J(se,de,ie){return ie.filter(ve=>{const xe=ve.get("path").slice(de.length+1);return!!xe.startsWith(se)&&(se?xe.slice(se.length+1).split("/").length===2:xe.split("/").length<=2)})}E.EntriesCollection=ee,H(ee,"propTypes",{collection:R.default.map.isRequired,page:P.default.number,entries:R.default.list,groups:P.default.array,isFetching:P.default.bool.isRequired,viewStyle:P.default.string,cursor:P.default.object.isRequired,loadEntries:P.default.func.isRequired,traverseCollectionCursor:P.default.func.isRequired,entriesLoaded:P.default.bool});const Q={loadEntries:z.loadEntries,traverseCollectionCursor:z.traverseCollectionCursor},te=(0,I.connect)(function(se,de){const{collection:ie,viewStyle:ve,filterTerm:xe}=de,ke=se.entries.getIn(["pages",ie.get("name"),"page"]);let Ce=(0,V.selectEntries)(se.entries,ie);const Oe=(0,V.selectGroups)(se.entries,ie);ie.has("nested")&&(Ce=J(xe||"",ie.get("folder"),Ce));const Ae=(0,V.selectEntriesLoaded)(se.entries,ie.get("name")),Pe=(0,V.selectIsFetching)(se.entries,ie.get("name")),Ee=(0,F.selectCollectionEntriesCursor)(se.cursors,ie.get("name"));return{collection:ie,page:ke,entries:Ce,groups:Oe,entriesLoaded:Ae,isFetching:Pe,viewStyle:ve,cursor:j.Cursor.create(Ee).clearData()}},Q)(ee);E.default=(0,N.translate)()(te)},19232:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=V(_(18149)),T=V(_(12244)),O=V(_(13980)),P=V(_(19155)),R=_(57903),I=_(33806),N=_(36642),j=_(15207),U=V(_(94497)),z=_(28165);function V(W){return W&&W.__esModule?W:{default:W}}function F(W,H,G){var Z;return(H=typeof(Z=function(Y,ee){if(typeof Y!="object"||!Y)return Y;var J=Y[Symbol.toPrimitive];if(J!==void 0){var Q=J.call(Y,"string");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(H))=="symbol"?Z:String(Z))in W?Object.defineProperty(W,H,{value:G,enumerable:!0,configurable:!0,writable:!0}):W[H]=G,W}class q extends T.default.Component{constructor(...H){super(...H),F(this,"getCursor",()=>{const{page:G}=this.props;return I.Cursor.create({actions:isNaN(G)?[]:["append_next"]})}),F(this,"handleCursorActions",G=>{const{page:Z,searchTerm:Y,searchEntries:ee,collectionNames:J}=this.props;G==="append_next"&&ee(Y,J,Z+1)})}componentDidMount(){const{searchTerm:H,searchEntries:G,collectionNames:Z}=this.props;G(H,Z)}componentDidUpdate(H){const{searchTerm:G,collectionNames:Z}=this.props;if(H.searchTerm===G&&(0,A.default)(H.collectionNames,Z))return;const{searchEntries:Y}=H;Y(G,Z)}componentWillUnmount(){this.props.clearSearch()}render(){const{collections:H,entries:G,isFetching:Z}=this.props;return(0,z.jsx)(U.default,{cursor:this.getCursor(),handleCursorActions:this.handleCursorActions,collections:H,entries:G,isFetching:Z})}}F(q,"propTypes",{isFetching:O.default.bool,searchEntries:O.default.func.isRequired,clearSearch:O.default.func.isRequired,searchTerm:O.default.string.isRequired,collections:P.default.seq,collectionNames:O.default.array,entries:P.default.list,page:O.default.number});const B={searchEntries:j.searchEntries,clearSearch:j.clearSearch};E.default=(0,R.connect)(function(W,H){const{searchTerm:G}=H,Z=H.collections.toIndexedSeq(),Y=H.collections.keySeq().toArray();return{isFetching:W.search.isFetching,page:W.search.page,collections:Z,collectionNames:Y,entries:(0,N.selectSearchedEntries)(W,Y),searchTerm:G}},B)(q)},38440:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=z(_(70894)),T=(z(_(12244)),_(57903)),O=_(34752),P=_(30762),R=_(71033),I=_(78882),N=_(33474),j=_(45624),U=_(28165);function z(te){return te&&te.__esModule?te:{default:te}}function V(te,se){var de=Object.keys(te);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(te);se&&(ie=ie.filter(function(ve){return Object.getOwnPropertyDescriptor(te,ve).enumerable})),de.push.apply(de,ie)}return de}function F(te){for(var se=1;se<arguments.length;se++){var de=arguments[se]!=null?arguments[se]:{};se%2?V(Object(de),!0).forEach(function(ie){var ve,xe,ke,Ce;ve=te,xe=ie,ke=de[ie],(xe=typeof(Ce=function(Oe,Ae){if(typeof Oe!="object"||!Oe)return Oe;var Pe=Oe[Symbol.toPrimitive];if(Pe!==void 0){var Ee=Pe.call(Oe,"string");if(typeof Ee!="object")return Ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Oe)}(xe))=="symbol"?Ce:String(Ce))in ve?Object.defineProperty(ve,xe,{value:ke,enumerable:!0,configurable:!0,writable:!0}):ve[xe]=ke}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(de)):V(Object(de)).forEach(function(ie){Object.defineProperty(te,ie,Object.getOwnPropertyDescriptor(de,ie))})}return te}const q=(0,A.default)("li",{target:"effeus48",label:"ListCard"})(P.components.card,";width:",P.lengths.topCardWidth,";margin-left:12px;margin-bottom:10px;overflow:hidden;"),B=(0,A.default)(O.Link,{target:"effeus47",label:"ListCardLink"})("display:block;max-width:100%;padding:16px 20px;&:hover{background-color:",P.colors.foreground,";}"),W=(0,A.default)("li",{target:"effeus46",label:"GridCard"})(P.components.card,";flex:0 0 335px;height:240px;overflow:hidden;margin-left:12px;margin-bottom:16px;"),H=(0,A.default)(O.Link,{target:"effeus45",label:"GridCardLink"})("display:block;height:100%;outline-offset:-2px;&,&:hover{background-color:",P.colors.foreground,";color:",P.colors.text,";}"),G=(0,A.default)("h2",{target:"effeus44",label:"CollectionLabel"})("font-size:12px;color:",P.colors.textLead,";text-transform:uppercase;"),Z=(0,A.default)("h2",{target:"effeus43",label:"ListCardTitle"})({name:"1ykowef",styles:"margin-bottom:0"}),Y=(0,A.default)("h2",{target:"effeus42",label:"CardHeading"})({name:"m483k0",styles:"margin:0 0 2px"}),ee=(0,A.default)("div",{target:"effeus41",label:"CardBody"})("padding:16px 20px;height:90px;position:relative;margin-bottom:",te=>te.hasImage&&0,";&:after{content:'';position:absolute;display:block;z-index:",P.zIndex.zIndex1,";bottom:0;left:-20%;height:140%;width:140%;box-shadow:inset 0 -15px 24px ",P.colorsRaw.white,";}"),J=(0,A.default)("div",{target:"effeus40",label:"CardImage"})("background-image:url(",te=>te.src,");background-position:center center;background-size:cover;background-repeat:no-repeat;height:150px;"),Q=(0,T.connect)(function(te,se){var de;const{entry:ie,inferredFields:ve,collection:xe}=se,ke=ie.get("data"),Ce=(0,j.selectEntryCollectionTitle)(xe,ie);let Oe=ke.get(ve.imageField);Oe&&(Oe=encodeURI(Oe));const Ae=(0,N.selectIsLoadingAsset)(te.medias);return{summary:Ce,path:`/collections/${xe.get("name")}/entries/${ie.get("slug")}`,image:Oe,imageFolder:(de=xe.get("fields"))===null||de===void 0?void 0:de.find(Pe=>Pe.get("name")===ve.imageField&&Pe.get("widget")==="image"),isLoadingAsset:Ae}},function(te){return{boundGetAsset:(se,de)=>(0,R.boundGetAsset)(te,se,de)}},function(te,se,de){return F(F(F(F({},te),se),de),{},{getAsset:se.boundGetAsset(de.collection,de.entry)})})(function({path:te,summary:se,image:de,imageField:ie,collectionLabel:ve,viewStyle:xe=I.VIEW_STYLE_LIST,getAsset:ke}){return xe===I.VIEW_STYLE_LIST?(0,U.jsx)(q,null,(0,U.jsx)(B,{to:te},ve?(0,U.jsx)(G,null,ve):null,(0,U.jsx)(Z,null,se))):xe===I.VIEW_STYLE_GRID?(0,U.jsx)(W,null,(0,U.jsx)(H,{to:te},(0,U.jsx)(ee,{hasImage:de},ve?(0,U.jsx)(G,null,ve):null,(0,U.jsx)(Y,null,se)),de?(0,U.jsx)(J,{src:ke(de,ie).toString()}):null)):void 0});E.default=Q},70660:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=z(_(70894)),T=z(_(13980)),O=z(_(12244)),P=z(_(19155)),R=_(94076),I=_(46670),N=_(45624),j=z(_(38440)),U=_(28165);function z(W){return W&&W.__esModule?W:{default:W}}function V(){return V=Object.assign?Object.assign.bind():function(W){for(var H=1;H<arguments.length;H++){var G=arguments[H];for(var Z in G)Object.prototype.hasOwnProperty.call(G,Z)&&(W[Z]=G[Z])}return W},V.apply(this,arguments)}function F(W,H,G){var Z;return(H=typeof(Z=function(Y,ee){if(typeof Y!="object"||!Y)return Y;var J=Y[Symbol.toPrimitive];if(J!==void 0){var Q=J.call(Y,"string");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(H))=="symbol"?Z:String(Z))in W?Object.defineProperty(W,H,{value:G,enumerable:!0,configurable:!0,writable:!0}):W[H]=G,W}const q=(0,A.default)("ul",{target:"etq0ss00",label:"CardsGrid"})({name:"1dbthoi",styles:"display:flex;flex-flow:row wrap;list-style-type:none;margin-left:-12px;margin-top:16px;margin-bottom:16px"});class B extends O.default.Component{constructor(...H){super(...H),F(this,"hasMore",()=>{var G,Z;return(G=this.props.cursor)===null||G===void 0||(Z=G.actions)===null||Z===void 0?void 0:Z.has("append_next")}),F(this,"handleLoadMore",()=>{this.hasMore()&&this.props.handleCursorActions("append_next")}),F(this,"inferFields",G=>{const Z=(0,N.selectInferredField)(G,"title"),Y=(0,N.selectInferredField)(G,"description"),ee=(0,N.selectInferredField)(G,"image"),J=(0,N.selectFields)(G),Q=[Z,Y,ee];return{titleField:Z,descriptionField:Y,imageField:ee,remainingFields:J&&J.filter(te=>Q.indexOf(te.get("name"))===-1)}}),F(this,"renderCardsForSingleCollection",()=>{const{collections:G,entries:Z,viewStyle:Y}=this.props,ee={collection:G,inferredFields:this.inferFields(G),viewStyle:Y};return Z.map((J,Q)=>(0,U.jsx)(j.default,V({},ee,{entry:J,key:Q})))}),F(this,"renderCardsForMultipleCollections",()=>{const{collections:G,entries:Z}=this.props,Y=G.size===1;return Z.map((ee,J)=>{const Q=ee.get("collection"),te=G.find(ie=>ie.get("name")===Q),se=!Y&&te.get("label"),de={collection:te,entry:ee,inferredFields:this.inferFields(te),collectionLabel:se};return(0,U.jsx)(j.default,V({},de,{key:J}))})})}render(){const{collections:H,page:G}=this.props;return(0,U.jsx)("div",null,(0,U.jsx)(q,null,I.Map.isMap(H)?this.renderCardsForSingleCollection():this.renderCardsForMultipleCollections(),this.hasMore()&&(0,U.jsx)(R.Waypoint,{key:G,onEnter:this.handleLoadMore})))}}E.default=B,F(B,"propTypes",{collections:P.default.iterable.isRequired,entries:P.default.list,viewStyle:T.default.string,cursor:T.default.any.isRequired,handleCursorActions:T.default.func.isRequired,page:T.default.number})},2796:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(A=_(12244))&&A.__esModule;var A,T=_(9316),O=_(30762),P=_(16108),R=_(28165);E.default=(0,T.translate)()(function({viewFilters:I,t:N,onFilterClick:j,filter:U}){const z=U==null?void 0:U.valueSeq().toJS().some(V=>V.active===!0);return(0,R.jsx)(O.Dropdown,{renderButton:()=>(0,R.jsx)(P.ControlButton,{active:z,title:N("collection.collectionTop.filterBy")}),closeOnSelection:!1,dropdownTopOverlap:"30px",dropdownPosition:"left"},I.map(V=>(0,R.jsx)(O.DropdownCheckedItem,{key:V.id,label:V.label,id:V.id,checked:U.getIn([V.id,"active"],!1),onClick:()=>j(V)})))})},30686:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(A=_(12244))&&A.__esModule;var A,T=_(9316),O=_(30762),P=_(16108),R=_(28165);E.default=(0,T.translate)()(function({viewGroups:I,t:N,onGroupClick:j,group:U}){const z=U==null?void 0:U.valueSeq().toJS().some(V=>V.active===!0);return(0,R.jsx)(O.Dropdown,{renderButton:()=>(0,R.jsx)(P.ControlButton,{active:z,title:N("collection.collectionTop.groupBy")}),closeOnSelection:!1,dropdownTopOverlap:"30px",dropdownWidth:"160px",dropdownPosition:"left"},I.map(V=>(0,R.jsx)(O.DropdownItem,{key:V.id,label:V.label,onClick:()=>j(V),isActive:U.getIn([V.id,"active"],!1)})))})},21147:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.NestedCollection=void 0,E.getTreeData=ke,E.updateNode=Ce,E.walk=xe;var A=W(_(70894)),T=W(_(829)),O=W(_(12244)),P=_(46670),R=_(28165),I=_(57903),N=_(34752),j=_(21023),U=_(1704),z=_(30762),V=W(_(13980)),F=W(_(19155)),q=_(58308),B=_(45624);function W(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}}function H(Ae,Pe){var Ee=Object.keys(Ae);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(Ae);Pe&&(Te=Te.filter(function(Re){return Object.getOwnPropertyDescriptor(Ae,Re).enumerable})),Ee.push.apply(Ee,Te)}return Ee}function G(Ae){for(var Pe=1;Pe<arguments.length;Pe++){var Ee=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?H(Object(Ee),!0).forEach(function(Te){Z(Ae,Te,Ee[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ae,Object.getOwnPropertyDescriptors(Ee)):H(Object(Ee)).forEach(function(Te){Object.defineProperty(Ae,Te,Object.getOwnPropertyDescriptor(Ee,Te))})}return Ae}function Z(Ae,Pe,Ee){var Te;return(Pe=typeof(Te=function(Re,Me){if(typeof Re!="object"||!Re)return Re;var ze=Re[Symbol.toPrimitive];if(ze!==void 0){var Le=ze.call(Re,"string");if(typeof Le!="object")return Le;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Re)}(Pe))=="symbol"?Te:String(Te))in Ae?Object.defineProperty(Ae,Pe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):Ae[Pe]=Ee,Ae}const{addFileTemplateFields:Y}=U.stringTemplate,ee=(0,A.default)("div",{target:"eh84wlq5",label:"NodeTitleContainer"})({name:"1vcob1d",styles:"display:flex;justify-content:center;align-items:center"}),J=(0,A.default)("div",{target:"eh84wlq4",label:"NodeTitle"})({name:"qamjgr",styles:"margin-right:4px"}),Q=(0,A.default)("div",{target:"eh84wlq3",label:"Caret"})({name:"1lo1a34",styles:"position:relative;top:2px"}),te=(0,A.default)(Q,{target:"eh84wlq2",label:"CaretDown"})(z.components.caretDown,";color:currentColor;"),se=(0,A.default)(Q,{target:"eh84wlq1",label:"CaretRight"})(z.components.caretRight,";color:currentColor;left:2px;"),de=(0,A.default)(N.NavLink,{target:"eh84wlq0",label:"TreeNavLink"})("display:flex;font-size:14px;font-weight:500;align-items:center;padding:8px;padding-left:",Ae=>16*Ae.depth+18,"px;border-left:2px solid #fff;",z.Icon,"{margin-right:4px;flex-shrink:0;}",Ae=>(0,R.css)("&:hover,&:active,&.",Ae.activeClassName,"{color:",z.colors.active,";background-color:",z.colors.activeBackground,";border-left-color:#4863c6;};label:TreeNavLink;"),";");function ie(Ae){var Pe;return Ae.isRoot?Ae.title:((Pe=Ae.children.find(Ee=>!Ee.isDir&&Ee.title))===null||Pe===void 0?void 0:Pe.title)||Ae.title}function ve(Ae){const{collection:Pe,treeData:Ee,depth:Te=0,onToggle:Re}=Ae,Me=Pe.get("name");return(0,T.default)(Ee,ie).map(ze=>{var Le;if(ze.children.length<=1&&((Le=ze.children[0])===null||Le===void 0||!Le.isDir)&&Te>0)return null;let je=`/collections/${Me}`;Te>0&&(je=`${je}/filter${ze.path}`);const Ne=ie(ze),qe=Te===0||ze.children.some(Ye=>Ye.children.some(Ve=>Ve.isDir));return(0,R.jsx)(O.default.Fragment,{key:ze.path},(0,R.jsx)(de,{exact:!0,to:je,activeClassName:"sidebar-active",onClick:()=>Re({node:ze,expanded:!ze.expanded}),depth:Te,"data-testid":ze.path},(0,R.jsx)(z.Icon,{type:"write"}),(0,R.jsx)(ee,null,(0,R.jsx)(J,null,Ne),qe&&(ze.expanded?(0,R.jsx)(te,null):(0,R.jsx)(se,null)))),ze.expanded&&(0,R.jsx)(ve,{collection:Pe,depth:Te+1,treeData:ze.children,onToggle:Re}))})}function xe(Ae,Pe){return function Ee(Te){for(const Re of Te)Pe(Re),Ee(Re.children)}(Ae)}function ke(Ae,Pe){const Ee=Ae.get("folder"),Te=Pe.toJS().map(ze=>G(G({},ze),{},{path:ze.path.slice(Ee.length)})),Re=Te.reduce((ze,Le)=>{let je=(0,j.dirname)(Le.path);for(;!ze[je]&&je&&je!=="/";){const Ne=je.split(j.sep);ze[je]=Ne.pop(),je=Ne.length&&Ne.join(j.sep)}return ze},{}),Me=[{title:(Ae=Ae.getIn(["nested","summary"])?Ae.set("summary",Ae.getIn(["nested","summary"])):Ae.delete("summary")).get("label"),path:"/",isDir:!0,isRoot:!0},...Object.entries(Re).map(([ze,Le])=>({title:Le,path:ze,isDir:!0,isRoot:!1})),...Te.map((ze,Le)=>{let je=Pe.get(Le);je=je.set("data",Y(je.get("path"),je.get("data")));const Ne=(0,B.selectEntryCollectionTitle)(Ae,je);return G(G({},ze),{},{title:Ne,isDir:!1,isRoot:!1})})].reduce((ze,Le)=>{const je=Le.path==="/"?"":(0,j.dirname)(Le.path);return ze[je]?ze[je].push(Le):ze[je]=[Le],ze},{});return Me[""].reduce(function ze(Le,je){const Ne=je;let qe=[];return Me[Ne.path]&&(qe=Me[Ne.path].reduce(ze,[])),Le.push(G(G({},Ne),{},{children:qe})),Le},[])}function Ce(Ae,Pe,Ee){let Te=!1;return function Re(Me){if(Te)return Me;for(let ze=0;ze<Me.length;ze++)if(Me[ze].path===Pe.path)return Me[ze]=Ee(Pe),Te=!0,Me;return Me.forEach(ze=>Re(ze.children)),Me}([...Ae])}ve.propTypes={collection:F.default.map.isRequired,depth:V.default.number,treeData:V.default.array.isRequired,onToggle:V.default.func.isRequired};class Oe extends O.default.Component{constructor(Pe){super(Pe),Z(this,"onToggle",({node:Ee,expanded:Te})=>{if(!this.state.selected||this.state.selected.path===Ee.path||Te){const Re=Ce(this.state.treeData,Ee,Me=>G(G({},Me),{},{expanded:Te}));this.setState({treeData:Re,selected:Ee,useFilter:!1})}else this.setState({selected:Ee,useFilter:!1})}),this.state={treeData:ke(this.props.collection,this.props.entries),selected:null,useFilter:!0}}componentDidUpdate(Pe){const{collection:Ee,entries:Te,filterTerm:Re}=this.props;if(Ee!==Pe.collection||Te!==Pe.entries||Re!==Pe.filterTerm){const Me={};xe(this.state.treeData,je=>{je.expanded&&(Me[je.path]=!0)});const ze=ke(Ee,Te),Le=`/${Re}`;xe(ze,je=>{(Me[je.path]||this.state.useFilter&&Le.startsWith(je.path))&&(je.expanded=!0)}),this.setState({treeData:ze})}}render(){const{treeData:Pe}=this.state,{collection:Ee}=this.props;return(0,R.jsx)(ve,{collection:Ee,treeData:Pe,onToggle:this.onToggle})}}E.NestedCollection=Oe,Z(Oe,"propTypes",{collection:F.default.map.isRequired,entries:F.default.list.isRequired,filterTerm:V.default.string}),E.default=(0,I.connect)(function(Ae,Pe){const{collection:Ee}=Pe;return{entries:(0,q.selectEntries)(Ae.entries,Ee)||(0,P.List)()}},null)(Oe)},9381:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.Sidebar=void 0;var A=F(_(70894)),T=F(_(12244)),O=F(_(13980)),P=F(_(19155)),R=_(28165),I=_(9316),N=_(34752),j=_(30762),U=_(1582),z=F(_(98165)),V=F(_(21147));function F(ee){return ee&&ee.__esModule?ee:{default:ee}}function q(ee,J,Q){var te;return(J=typeof(te=function(se,de){if(typeof se!="object"||!se)return se;var ie=se[Symbol.toPrimitive];if(ie!==void 0){var ve=ie.call(se,"string");if(typeof ve!="object")return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(J))=="symbol"?te:String(te))in ee?Object.defineProperty(ee,J,{value:Q,enumerable:!0,configurable:!0,writable:!0}):ee[J]=Q,ee}const B={sidebarNavLinkActive:(0,R.css)("color:",j.colors.active,";background-color:",j.colors.activeBackground,";border-left-color:#4863c6;;label:sidebarNavLinkActive;")},W=(0,A.default)("aside",{target:"e1t18l343",label:"SidebarContainer"})(j.components.card,";width:250px;padding:8px 0 12px;position:fixed;max-height:calc(100vh - 112px);display:flex;flex-direction:column;"),H=(0,A.default)("h2",{target:"e1t18l342",label:"SidebarHeading"})("font-size:22px;font-weight:600;line-height:37px;padding:0;margin:10px 20px;color:",j.colors.textLead,";"),G=(0,A.default)("ul",{target:"e1t18l341",label:"SidebarNavList"})({name:"14vcqsr",styles:"margin:12px 0 0;list-style:none;overflow:auto"}),Z=(0,A.default)(N.NavLink,{target:"e1t18l340",label:"SidebarNavLink"})("display:flex;font-size:14px;font-weight:500;align-items:center;padding:8px 18px;border-left:2px solid #fff;z-index:-1;",j.Icon,"{margin-right:4px;flex-shrink:0;}",ee=>(0,R.css)("&:hover,&:active,&.",ee.activeClassName,"{",B.sidebarNavLinkActive,";};label:SidebarNavLink;"),";");class Y extends T.default.Component{constructor(...J){super(...J),q(this,"renderLink",(Q,te)=>{const se=Q.get("name");return Q.has("nested")?(0,R.jsx)("li",{key:se},(0,R.jsx)(V.default,{collection:Q,filterTerm:te,"data-testid":se})):(0,R.jsx)("li",{key:se},(0,R.jsx)(Z,{to:`/collections/${se}`,activeClassName:"sidebar-active","data-testid":se},(0,R.jsx)(j.Icon,{type:"write"}),Q.get("label")))})}render(){const{collections:J,collection:Q,isSearchEnabled:te,searchTerm:se,t:de,filterTerm:ie}=this.props;return(0,R.jsx)(W,null,(0,R.jsx)(H,null,de("collection.sidebar.collections")),te&&(0,R.jsx)(z.default,{searchTerm:se,collections:J,collection:Q,onSubmit:(ve,xe)=>(0,U.searchCollections)(ve,xe)}),(0,R.jsx)(G,null,J.toList().filter(ve=>ve.get("hide")!==!0).map(ve=>this.renderLink(ve,ie))))}}E.Sidebar=Y,q(Y,"propTypes",{collections:P.default.map.isRequired,collection:P.default.map,isSearchEnabled:O.default.bool,searchTerm:O.default.string,filterTerm:O.default.string,t:O.default.func.isRequired}),E.default=(0,I.translate)()(Y)},61450:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(A=_(12244))&&A.__esModule;var A,T=_(9316),O=_(30762),P=_(67964),R=_(16108),I=_(28165);function N(){return N=Object.assign?Object.assign.bind():function(U){for(var z=1;z<arguments.length;z++){var V=arguments[z];for(var F in V)Object.prototype.hasOwnProperty.call(V,F)&&(U[F]=V[F])}return U},N.apply(this,arguments)}const j={[P.SortDirection.Ascending]:"up",[P.SortDirection.Descending]:"down"};E.default=(0,T.translate)()(function({t:U,fields:z,onSortClick:V,sort:F}){const q=F==null?void 0:F.valueSeq().toJS().some(B=>B.direction!==P.SortDirection.None);return(0,I.jsx)(O.Dropdown,{renderButton:()=>(0,I.jsx)(R.ControlButton,{active:q,title:U("collection.collectionTop.sortBy")}),closeOnSelection:!1,dropdownTopOverlap:"30px",dropdownWidth:"160px",dropdownPosition:"left"},z.map(B=>{const W=F==null?void 0:F.getIn([B.key,"direction"]),H=W&&W!==P.SortDirection.None,G=function(Z){switch(Z){case P.SortDirection.Ascending:return P.SortDirection.Descending;case P.SortDirection.Descending:return P.SortDirection.None;default:return P.SortDirection.Ascending}}(W);return(0,I.jsx)(O.DropdownItem,N({key:B.key,label:B.label,onClick:()=>V(B.key,G),isActive:H},H&&function(Z){return{icon:"chevron",iconDirection:j[Z],iconSmall:!0}}(W)))}))})},37058:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=R(_(70894)),T=(R(_(12244)),_(30762)),O=_(78882),P=_(28165);function R(j){return j&&j.__esModule?j:{default:j}}const I=(0,A.default)("div",{target:"evv1i7c1",label:"ViewControlsSection"})({name:"k6mob8",styles:"display:flex;align-items:center;justify-content:flex-end;max-width:500px"}),N=(0,A.default)("button",{target:"evv1i7c0",label:"ViewControlsButton"})(T.buttons.button,";color:",j=>j.isActive?T.colors.active:"#b3b9c4",";background-color:transparent;display:block;padding:0;margin:0 4px;&:last-child{margin-right:0;}",T.Icon,"{display:block;}");E.default=function({viewStyle:j,onChangeViewStyle:U}){return(0,P.jsx)(I,null,(0,P.jsx)(N,{isActive:j===O.VIEW_STYLE_LIST,onClick:()=>U(O.VIEW_STYLE_LIST)},(0,P.jsx)(T.Icon,{type:"list"})),(0,P.jsx)(N,{isActive:j===O.VIEW_STYLE_GRID,onClick:()=>U(O.VIEW_STYLE_GRID)},(0,P.jsx)(T.Icon,{type:"grid"})))}},15694:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.Editor=void 0;var A=Y(_(54073)),T=Y(_(13980)),O=Y(_(12244)),P=Y(_(19155)),R=_(57903),I=_(30762),N=_(9316),j=_(79278),U=_(76167),z=_(50236),V=_(91358),F=_(66145),q=_(36642),B=_(45624),W=_(61928),H=Y(_(78767)),G=Y(_(42531)),Z=_(28165);function Y(te){return te&&te.__esModule?te:{default:te}}function ee(te,se,de){var ie;return(se=typeof(ie=function(ve,xe){if(typeof ve!="object"||!ve)return ve;var ke=ve[Symbol.toPrimitive];if(ke!==void 0){var Ce=ke.call(ve,"string");if(typeof Ce!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(se))=="symbol"?ie:String(ie))in te?Object.defineProperty(te,se,{value:de,enumerable:!0,configurable:!0,writable:!0}):te[se]=de,te}class J extends O.default.Component{constructor(...se){super(...se),ee(this,"createBackup",(0,A.default)(function(de,ie){this.props.persistLocalBackup(de,ie)},2e3)),ee(this,"handleChangeDraftField",(de,ie,ve,xe)=>{const ke=[this.props.unPublishedEntry,this.props.publishedEntry].filter(Boolean);this.props.changeDraftField({field:de,value:ie,metadata:ve,entries:ke,i18n:xe})}),ee(this,"handleChangeStatus",de=>{const{entryDraft:ie,updateUnpublishedEntryStatus:ve,collection:xe,slug:ke,currentStatus:Ce,t:Oe}=this.props;if(ie.get("hasChanged"))return void window.alert(Oe("editor.editor.onUpdatingWithUnsavedChanges"));const Ae=W.status.get(de);ve(xe.get("name"),ke,Ce,Ae)}),ee(this,"handlePersistEntry",async(de={})=>{const{createNew:ie=!1,duplicate:ve=!1}=de,{persistEntry:xe,collection:ke,currentStatus:Ce,hasWorkflow:Oe,loadEntry:Ae,slug:Pe,createDraftDuplicateFromEntry:Ee,entryDraft:Te}=this.props;await xe(ke),this.deleteBackup(),ie?((0,j.navigateToNewEntry)(ke.get("name")),ve&&Ee(Te.get("entry"))):Pe&&Oe&&!Ce&&Ae(ke,Pe)}),ee(this,"handlePublishEntry",async(de={})=>{const{createNew:ie=!1,duplicate:ve=!1}=de,{publishUnpublishedEntry:xe,createDraftDuplicateFromEntry:ke,entryDraft:Ce,collection:Oe,slug:Ae,currentStatus:Pe,t:Ee}=this.props;Pe===W.status.last()?Ce.get("hasChanged")?window.alert(Ee("editor.editor.onPublishingWithUnsavedChanges")):window.confirm(Ee("editor.editor.onPublishing"))&&(await xe(Oe.get("name"),Ae),this.deleteBackup(),ie&&(0,j.navigateToNewEntry)(Oe.get("name")),ve&&ke(Ce.get("entry"))):window.alert(Ee("editor.editor.onPublishingNotReady"))}),ee(this,"handleUnpublishEntry",async()=>{const{unpublishPublishedEntry:de,collection:ie,slug:ve,t:xe}=this.props;if(window.confirm(xe("editor.editor.onUnpublishing")))return await de(ie,ve),(0,j.navigateToCollection)(ie.get("name"))}),ee(this,"handleDuplicateEntry",()=>{const{createDraftDuplicateFromEntry:de,collection:ie,entryDraft:ve}=this.props;(0,j.navigateToNewEntry)(ie.get("name")),de(ve.get("entry"))}),ee(this,"handleDeleteEntry",()=>{const{entryDraft:de,newEntry:ie,collection:ve,deleteEntry:xe,slug:ke,t:Ce}=this.props;if(de.get("hasChanged")){if(!window.confirm(Ce("editor.editor.onDeleteWithUnsavedChanges")))return}else if(!window.confirm(Ce("editor.editor.onDeletePublishedEntry")))return;if(ie)return(0,j.navigateToCollection)(ve.get("name"));setTimeout(async()=>(await xe(ve,ke),this.deleteBackup(),(0,j.navigateToCollection)(ve.get("name"))),0)}),ee(this,"handleDeleteUnpublishedChanges",async()=>{const{entryDraft:de,collection:ie,slug:ve,deleteUnpublishedEntry:xe,loadEntry:ke,isModification:Ce,t:Oe}=this.props;de.get("hasChanged")&&!window.confirm(Oe("editor.editor.onDeleteUnpublishedChangesWithUnsavedChanges"))||window.confirm(Oe("editor.editor.onDeleteUnpublishedChanges"))&&(await xe(ie.get("name"),ve),this.deleteBackup(),Ce?ke(ie,ve):(0,j.navigateToCollection)(ie.get("name")))})}componentDidMount(){const{newEntry:se,collection:de,slug:ie,loadEntry:ve,createEmptyDraft:xe,loadEntries:ke,retrieveLocalBackup:Ce,collectionEntriesLoaded:Oe,t:Ae}=this.props;Ce(de,ie),se?xe(de,this.props.location.search):ve(de,ie);const Pe=Ae("editor.editor.onLeavePage");this.exitBlocker=Te=>{if(this.props.entryDraft.get("hasChanged"))return Te.returnValue=Pe,Pe},window.addEventListener("beforeunload",this.exitBlocker);const Ee=j.history.block((Te,Re)=>{const Me=this.props.entryDraft.getIn(["entry","isPersisting"]),ze=this.props.entryDraft.getIn(["entry","newRecord"]),Le=`/collections/${de.get("name")}/new`;if(!Me||!ze||this.props.location.pathname!==Le||Re!=="PUSH")return this.props.hasChanged?Pe:void 0});this.unlisten=j.history.listen((Te,Re)=>{const Me=`/collections/${de.get("name")}/new`,ze=`/collections/${de.get("name")}/entries/`,{pathname:Le}=Te;Le.startsWith(Me)||Le.startsWith(ze)&&Re==="PUSH"||(this.deleteBackup(),Ee(),this.unlisten())}),Oe||ke(de)}componentDidUpdate(se){if(!se.localBackup&&this.props.localBackup&&(window.confirm(this.props.t("editor.editor.confirmLoadBackup"))?this.props.loadLocalBackup():this.deleteBackup()),this.props.hasChanged&&this.createBackup(this.props.entryDraft.get("entry"),this.props.collection),se.entry===this.props.entry)return;const{newEntry:de,collection:ie}=this.props;de&&se.createEmptyDraft(ie,this.props.location.search)}componentWillUnmount(){this.createBackup.flush(),this.props.discardDraft(),window.removeEventListener("beforeunload",this.exitBlocker)}deleteBackup(){const{deleteLocalBackup:se,collection:de,slug:ie,newEntry:ve}=this.props;this.createBackup.cancel(),se(de,!ve&&ie)}render(){const{entry:se,entryDraft:de,fields:ie,collection:ve,changeDraftFieldValidation:xe,user:ke,hasChanged:Ce,displayUrl:Oe,hasWorkflow:Ae,useOpenAuthoring:Pe,unpublishedEntry:Ee,newEntry:Te,isModification:Re,currentStatus:Me,logoutUser:ze,deployPreview:Le,loadDeployPreview:je,draftKey:Ne,slug:qe,t:Ye,editorBackLink:Ve}=this.props,tt=!Te&&!Ee;return se&&se.get("error")?(0,Z.jsx)("div",null,(0,Z.jsx)("h3",null,se.get("error"))):de==null||de.get("entry")===void 0||se&&se.get("isFetching")?(0,Z.jsx)(I.Loader,{active:!0},Ye("editor.editor.loadingEntry")):(0,Z.jsx)(H.default,{draftKey:Ne,entry:de.get("entry"),collection:ve,fields:ie,fieldsMetaData:de.get("fieldsMetaData"),fieldsErrors:de.get("fieldsErrors"),onChange:this.handleChangeDraftField,onValidate:xe,onPersist:this.handlePersistEntry,onDelete:this.handleDeleteEntry,onDeleteUnpublishedChanges:this.handleDeleteUnpublishedChanges,onChangeStatus:this.handleChangeStatus,onPublish:this.handlePublishEntry,unPublish:this.handleUnpublishEntry,onDuplicate:this.handleDuplicateEntry,showDelete:this.props.showDelete,user:ke,hasChanged:Ce,displayUrl:Oe,hasWorkflow:Ae,useOpenAuthoring:Pe,hasUnpublishedChanges:Ee,isNewEntry:Te,isModification:Re,currentStatus:Me,onLogoutClick:ze,deployPreview:Le,loadDeployPreview:it=>je(ve,qe,se,tt,it),editorBackLink:Ve,t:Ye})}}E.Editor=J,ee(J,"propTypes",{changeDraftField:T.default.func.isRequired,changeDraftFieldValidation:T.default.func.isRequired,collection:P.default.map.isRequired,createDraftDuplicateFromEntry:T.default.func.isRequired,createEmptyDraft:T.default.func.isRequired,discardDraft:T.default.func.isRequired,entry:P.default.map,entryDraft:P.default.map.isRequired,loadEntry:T.default.func.isRequired,persistEntry:T.default.func.isRequired,deleteEntry:T.default.func.isRequired,showDelete:T.default.bool.isRequired,fields:P.default.list.isRequired,slug:T.default.string,newEntry:T.default.bool.isRequired,displayUrl:T.default.string,hasWorkflow:T.default.bool,useOpenAuthoring:T.default.bool,unpublishedEntry:T.default.bool,isModification:T.default.bool,collectionEntriesLoaded:T.default.bool,updateUnpublishedEntryStatus:T.default.func.isRequired,publishUnpublishedEntry:T.default.func.isRequired,deleteUnpublishedEntry:T.default.func.isRequired,logoutUser:T.default.func.isRequired,loadEntries:T.default.func.isRequired,deployPreview:T.default.object,loadDeployPreview:T.default.func.isRequired,currentStatus:T.default.string,user:T.default.object,location:T.default.shape({pathname:T.default.string,search:T.default.string}),hasChanged:T.default.bool,t:T.default.func.isRequired,retrieveLocalBackup:T.default.func.isRequired,localBackup:P.default.map,loadLocalBackup:T.default.func,persistLocalBackup:T.default.func.isRequired,deleteLocalBackup:T.default.func});const Q={changeDraftField:z.changeDraftField,changeDraftFieldValidation:z.changeDraftFieldValidation,loadEntry:z.loadEntry,loadEntries:z.loadEntries,loadDeployPreview:F.loadDeployPreview,loadLocalBackup:z.loadLocalBackup,retrieveLocalBackup:z.retrieveLocalBackup,persistLocalBackup:z.persistLocalBackup,deleteLocalBackup:z.deleteLocalBackup,createDraftDuplicateFromEntry:z.createDraftDuplicateFromEntry,createEmptyDraft:z.createEmptyDraft,discardDraft:z.discardDraft,persistEntry:z.persistEntry,deleteEntry:z.deleteEntry,updateUnpublishedEntryStatus:V.updateUnpublishedEntryStatus,publishUnpublishedEntry:V.publishUnpublishedEntry,unpublishPublishedEntry:V.unpublishPublishedEntry,deleteUnpublishedEntry:V.deleteUnpublishedEntry,logoutUser:U.logoutUser};E.default=(0,R.connect)(function(te,se){const{collections:de,entryDraft:ie,auth:ve,config:xe,entries:ke,globalUI:Ce}=te,Oe=se.match.params[0],Ae=de.get(se.match.params.name),Pe=Ae.get("name"),Ee=se.newRecord===!0,Te=(0,B.selectFields)(Ae,Oe),Re=Ee?null:(0,q.selectEntry)(te,Pe,Oe),Me=ve.user,ze=ie.get("hasChanged"),Le=xe.display_url,je=xe.publish_mode===W.EDITORIAL_WORKFLOW,Ne=Ce.useOpenAuthoring,qe=ie.getIn(["entry","isModification"]),Ye=!!ke.getIn(["pages",Pe]),Ve=(0,q.selectUnpublishedEntry)(te,Pe,Oe),tt=(0,q.selectEntry)(te,Pe,Oe),it=Ve&&Ve.get("status"),Ze=(0,q.selectDeployPreview)(te,Pe,Oe),We=ie.get("localBackup"),He=ie.get("key");let Ue=`/collections/${Pe}`;if(new URLSearchParams(se.location.search).get("ref")==="workflow"&&(Ue="/workflow"),Ae.has("nested")&&Oe){const Qe=Oe.split("/");Qe.length>2&&(Ue=`${Ue}/filter/${Qe.slice(0,-2).join("/")}`)}return{collection:Ae,collections:de,newEntry:Ee,entryDraft:ie,fields:Te,slug:Oe,entry:Re,user:Me,hasChanged:ze,displayUrl:Le,hasWorkflow:je,useOpenAuthoring:Ne,isModification:qe,collectionEntriesLoaded:Ye,currentStatus:it,deployPreview:Ze,localBackup:We,draftKey:He,publishedEntry:tt,unPublishedEntry:Ve,editorBackLink:Ue}},Q)((0,G.default)((0,N.translate)()(J)))},65886:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.ControlHint=void 0;var A=Q(_(70894)),T=Q(_(74930)),O=Q(_(83465)),P=Q(_(12244)),R=_(74081),I=Q(_(13980)),N=Q(_(19155)),j=_(9316),U=_(28165),z=_(57903),V=_(30762),F=Q(_(88100)),q=Q(_(40940)),B=_(41891),W=_(50236),H=_(71033),G=_(33474),Z=_(15207),Y=_(68104),ee=Q(_(57622));const J=["node"];function Q(Te){return Te&&Te.__esModule?Te:{default:Te}}function te(Te,Re){var Me=Object.keys(Te);if(Object.getOwnPropertySymbols){var ze=Object.getOwnPropertySymbols(Te);Re&&(ze=ze.filter(function(Le){return Object.getOwnPropertyDescriptor(Te,Le).enumerable})),Me.push.apply(Me,ze)}return Me}function se(Te){for(var Re=1;Re<arguments.length;Re++){var Me=arguments[Re]!=null?arguments[Re]:{};Re%2?te(Object(Me),!0).forEach(function(ze){ie(Te,ze,Me[ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Te,Object.getOwnPropertyDescriptors(Me)):te(Object(Me)).forEach(function(ze){Object.defineProperty(Te,ze,Object.getOwnPropertyDescriptor(Me,ze))})}return Te}function de(){return de=Object.assign?Object.assign.bind():function(Te){for(var Re=1;Re<arguments.length;Re++){var Me=arguments[Re];for(var ze in Me)Object.prototype.hasOwnProperty.call(Me,ze)&&(Te[ze]=Me[ze])}return Te},de.apply(this,arguments)}function ie(Te,Re,Me){var ze;return(Re=typeof(ze=function(Le,je){if(typeof Le!="object"||!Le)return Le;var Ne=Le[Symbol.toPrimitive];if(Ne!==void 0){var qe=Ne.call(Le,"string");if(typeof qe!="object")return qe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Le)}(Re))=="symbol"?ze:String(ze))in Te?Object.defineProperty(Te,Re,{value:Me,enumerable:!0,configurable:!0,writable:!0}):Te[Re]=Me,Te}const ve={widget:`
    display: block;
    width: 100%;
    padding: ${V.lengths.inputPadding};
    margin: 0;
    border: ${V.borders.textField};
    border-radius: ${V.lengths.borderRadius};
    border-top-left-radius: 0;
    outline: 0;
    box-shadow: none;
    background-color: ${V.colors.inputBackground};
    color: #444a57;
    transition: border-color ${V.transitions.main};
    position: relative;
    font-size: 15px;
    line-height: 1.5;

    select& {
      text-indent: 14px;
      height: 58px;
    }
  `,widgetActive:`
    border-color: ${V.colors.active};
  `,widgetError:`
    border-color: ${V.colors.errorText};
  `,disabled:`
    pointer-events: none;
    opacity: 0.5;
  `,hidden:`
    visibility: hidden;
  `},xe=(0,A.default)("div",{target:"ec1nk3l3",label:"ControlContainer"})({name:"gpgisz",styles:"margin-top:16px;&:first-of-type{margin-top:36px;}"}),ke=(0,A.default)("div",{target:"ec1nk3l2",label:"ControlTopbar"})({name:"hvtmtt",styles:"display:flex;justify-content:space-between;gap:20px;align-items:end"}),Ce=(0,A.default)("ul",{target:"ec1nk3l1",label:"ControlErrorsList"})("list-style-type:none;font-size:12px;color:",V.colors.errorText,";text-align:right;text-transform:uppercase;font-weight:600;margin:0;padding:2px 0 3px;"),Oe=E.ControlHint=(0,A.default)("p",{target:"ec1nk3l0",label:"ControlHint"})("margin-bottom:0;padding:6px 0 0;font-size:12px;color:",Te=>Te.error?V.colors.errorText:Te.active?V.colors.active:V.colors.controlLabel,";transition:color ",V.transitions.main,";");function Ae({field:Te,isActive:Re,hasErrors:Me,uniqueFieldId:ze,isFieldOptional:Le,t:je}){const Ne=`${Te.get("label",Te.get("name"))}`;return(0,U.jsx)(V.FieldLabel,{isActive:Re,hasErrors:Me,htmlFor:ze},Le?(0,U.jsx)(P.default.Fragment,null,Ne,(0,U.jsx)("span",null,` (${je("editor.editorControl.field.optional")})`)):Ne)}class Pe extends P.default.Component{constructor(...Re){super(...Re),ie(this,"state",{activeLabel:!1}),ie(this,"uniqueFieldId",(0,T.default)(`${this.props.field.get("name")}-field-`)),ie(this,"isAncestorOfFieldError",()=>{const{fieldsErrors:Me}=this.props;return!!(Me&&Me.size>0)&&Object.values(Me.toJS()).some(ze=>ze.some(Le=>Le.parentIds&&Le.parentIds.includes(this.uniqueFieldId)))})}render(){const{value:Re,entry:Me,collection:ze,config:Le,field:je,fieldsMetaData:Ne,fieldsErrors:qe,mediaPaths:Ye,boundGetAsset:Ve,onChange:tt,openMediaLibrary:it,clearMediaControl:Ze,removeMediaControl:We,addAsset:He,removeInsertedMedia:Ue,persistMedia:Qe,onValidate:Be,processControlRef:$e,controlRef:Xe,query:lt,queryHits:dt,isFetching:ft,clearSearch:St,clearFieldErrors:Mt,loadEntry:ht,className:ct,isSelected:vt,isEditorComponent:Et,isNewEditorComponent:gt,parentIds:xt,t:at,validateMetaField:$t,isLoadingAsset:Qt,isDisabled:Vt,isHidden:bt,isFieldDuplicate:wt,isFieldHidden:At,locale:Kt,isParentListCollapsed:Yt}=this.props,xr=je.get("widget"),Cr=(0,B.resolveWidget)(xr),Mr=je.get("name"),$r=je.get("hint"),qr=je.get("required")===!1,gn=Be,or=Ne&&Ne.get(Mr),Zr=qe&&qe.get(this.uniqueFieldId),bn=this.isAncestorOfFieldError(),mn=!!Zr||bn;return(0,U.jsx)(U.ClassNames,null,({css:jn,cx:ln})=>(0,U.jsx)(xe,{className:ct,css:jn`
              ${bt&&ve.hidden};
            `},(0,U.jsx)(ke,null,Cr.globalStyles&&(0,U.jsx)(U.Global,{styles:(0,U.css)(Cr.globalStyles,";;label:EditorControl;")}),(0,U.jsx)(Ae,{field:je,isActive:vt||this.state.styleActive,hasErrors:mn,uniqueFieldId:this.uniqueFieldId,isFieldOptional:qr,t:at}),Zr&&(0,U.jsx)(Ce,null,Zr.map(Cn=>Cn.message&&typeof Cn.message=="string"&&(0,U.jsx)("li",{key:Cn.message.trim().replace(/[^a-z0-9]+/gi,"-")},Cn.message)))),(0,U.jsx)(ee.default,{classNameWrapper:ln(jn`
                  ${ve.widget};
                `,{[jn`
                    ${ve.widgetActive};
                  `]:vt||this.state.styleActive},{[jn`
                    ${ve.widgetError};
                  `]:mn},{[jn`
                    ${ve.disabled}
                  `]:Vt}),classNameWidget:jn`
                ${ve.widget};
              `,classNameWidgetActive:jn`
                ${ve.widgetActive};
              `,classNameLabel:jn`
                ${ve.label};
              `,classNameLabelActive:jn`
                ${ve.labelActive};
              `,controlComponent:Cr.control,entry:Me,collection:ze,config:Le,field:je,uniqueFieldId:this.uniqueFieldId,value:Re,mediaPaths:Ye,metadata:or,onChange:(Cn,qn)=>{tt(je,Cn,qn),Mt(this.uniqueFieldId)},onValidate:Be&&(0,O.default)(Be,this.uniqueFieldId),onOpenMediaLibrary:it,onClearMediaControl:Ze,onRemoveMediaControl:We,onRemoveInsertedMedia:Ue,onPersistMedia:Qe,onAddAsset:He,getAsset:Ve,hasActiveStyle:vt||this.state.styleActive,setActiveStyle:()=>this.setState({styleActive:!0}),setInactiveStyle:()=>this.setState({styleActive:!1}),resolveWidget:B.resolveWidget,widget:Cr,getEditorComponents:B.getEditorComponents,ref:$e&&(0,O.default)($e,je),controlRef:Xe,editorControl:Ee,query:lt,loadEntry:ht,queryHits:dt[this.uniqueFieldId]||[],clearSearch:St,clearFieldErrors:Mt,isFetching:ft,fieldsErrors:qe,onValidateObject:gn,isEditorComponent:Et,isNewEditorComponent:gt,parentIds:xt,t:at,validateMetaField:$t,isDisabled:Vt,isFieldDuplicate:wt,isFieldHidden:At,isLoadingAsset:Qt,locale:Kt,isParentListCollapsed:Yt}),$r&&(0,U.jsx)(Oe,{active:vt||this.state.styleActive,error:mn},(0,U.jsx)(F.default,{remarkPlugins:[q.default],allowedElements:["a","strong","em","del"],unwrapDisallowed:!0,components:{a:Cn=>{let qn=function(Ln,gi){if(Ln==null)return{};var Ai,Ci,_i=function(Ri,Ti){if(Ri==null)return{};var Pt,Er,zt={},ut=Object.keys(Ri);for(Er=0;Er<ut.length;Er++)Pt=ut[Er],Ti.indexOf(Pt)>=0||(zt[Pt]=Ri[Pt]);return zt}(Ln,gi);if(Object.getOwnPropertySymbols){var ei=Object.getOwnPropertySymbols(Ln);for(Ci=0;Ci<ei.length;Ci++)Ai=ei[Ci],gi.indexOf(Ai)>=0||Object.prototype.propertyIsEnumerable.call(Ln,Ai)&&(_i[Ai]=Ln[Ai])}return _i}(Cn,J);return(0,U.jsx)("a",de({},qn,{target:"_blank",rel:"noopener noreferrer",style:{color:"inherit"}}))}}},$r))))}}ie(Pe,"propTypes",{value:I.default.oneOfType([I.default.node,I.default.object,I.default.string,I.default.bool]),field:N.default.map.isRequired,fieldsMetaData:N.default.map,fieldsErrors:N.default.map,mediaPaths:N.default.map.isRequired,boundGetAsset:I.default.func.isRequired,onChange:I.default.func.isRequired,openMediaLibrary:I.default.func.isRequired,addAsset:I.default.func.isRequired,removeInsertedMedia:I.default.func.isRequired,persistMedia:I.default.func.isRequired,onValidate:I.default.func,processControlRef:I.default.func,controlRef:I.default.func,query:I.default.func.isRequired,queryHits:I.default.object,isFetching:I.default.bool,clearSearch:I.default.func.isRequired,clearFieldErrors:I.default.func.isRequired,loadEntry:I.default.func.isRequired,t:I.default.func.isRequired,isEditorComponent:I.default.bool,isNewEditorComponent:I.default.bool,parentIds:I.default.arrayOf(I.default.string),entry:N.default.map.isRequired,collection:N.default.map.isRequired,isDisabled:I.default.bool,isHidden:I.default.bool,isFieldDuplicate:I.default.func,isFieldHidden:I.default.func,locale:I.default.string,isParentListCollapsed:I.default.bool}),ie(Pe,"defaultProps",{parentIds:[]});const Ee=(0,z.connect)(function(Te){const{collections:Re,entryDraft:Me}=Te,ze=Me.get("entry"),Le=Re.get(Me.getIn(["entry","collection"])),je=(0,G.selectIsLoadingAsset)(Te.medias);return{mediaPaths:Te.mediaLibrary.get("controlMedia"),isFetching:Te.search.isFetching,queryHits:Te.search.queryHits,config:Te.config,entry:ze,collection:Le,isLoadingAsset:je,loadEntry:async function(Ne,qe){const Ye=Re.get(Ne);if(Ye)return await(0,W.tryLoadEntry)(Te,Ye,qe);throw new Error(`Can't find collection '${Ne}'`)},validateMetaField:(Ne,qe,Ye)=>(0,W.validateMetaField)(Te,Le,Ne,qe,Ye)}},function(Te){return se(se({},(0,R.bindActionCreators)({openMediaLibrary:Y.openMediaLibrary,clearMediaControl:Y.clearMediaControl,removeMediaControl:Y.removeMediaControl,removeInsertedMedia:Y.removeInsertedMedia,persistMedia:Y.persistMedia,addAsset:H.addAsset,query:Z.query,clearSearch:Z.clearSearch,clearFieldErrors:W.clearFieldErrors},Te)),{},{boundGetAsset:(Re,Me)=>(0,H.boundGetAsset)(Te,Re,Me)})},function(Te,Re,Me){return se(se(se(se({},Te),Re),Me),{},{boundGetAsset:Re.boundGetAsset(Te.collection,Te.entry)})})((0,j.translate)()(Pe));E.default=Ee},46776:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=U(_(70894)),T=U(_(12244)),O=U(_(13980)),P=U(_(19155)),R=_(28165),I=_(30762),N=U(_(65886)),j=_(13943);function U(Y){return Y&&Y.__esModule?Y:{default:Y}}function z(Y,ee,J){var Q;return(ee=typeof(Q=function(te,se){if(typeof te!="object"||!te)return te;var de=te[Symbol.toPrimitive];if(de!==void 0){var ie=de.call(te,"string");if(typeof ie!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(ee))=="symbol"?Q:String(Q))in Y?Object.defineProperty(Y,ee,{value:J,enumerable:!0,configurable:!0,writable:!0}):Y[ee]=J,Y}const V=(0,A.default)("div",{target:"e11hw0lx4",label:"ControlPaneContainer"})({name:"1n0x6o4",styles:"max-width:800px;margin:0 auto;padding-bottom:16px;font-size:16px"}),F=(0,A.default)(I.StyledDropdownButton,{target:"e11hw0lx3",label:"LocaleButton"})(I.buttons.button,";",I.buttons.medium,";color:",I.colors.controlLabel,";background:",I.colors.textFieldBorder,";height:100%;&:after{top:11px;}"),q=(0,A.default)("div",{target:"e11hw0lx2",label:"LocaleButtonWrapper"})({name:"zjik7",styles:"display:flex"}),B=(0,A.default)("div",{target:"e11hw0lx1",label:"LocaleRowWrapper"})({name:"zjik7",styles:"display:flex"}),W=(0,A.default)(I.Dropdown,{target:"e11hw0lx0",label:"StyledDropdown"})({name:"1hfmrg2",styles:"width:max-content;margin-top:20px;margin-bottom:20px;margin-right:20px"});function H({locales:Y,dropdownText:ee,onLocaleChange:J}){return(0,R.jsx)(W,{renderButton:()=>(0,R.jsx)(q,null,(0,R.jsx)(F,null,ee))},Y.map(Q=>(0,R.jsx)(I.DropdownItem,{css:(0,R.css)(I.text.fieldLabel,";;label:LocaleDropdown;"),key:Q,label:Q,onClick:()=>J(Q)})))}function G({field:Y,entry:ee,isTranslatable:J,locale:Q}){if(Y.get("meta"))return ee.getIn(["meta",Y.get("name")]);if(J){const te=(0,j.getLocaleDataPath)(Q);return ee.getIn([...te,Y.get("name")])}return ee.getIn(["data",Y.get("name")])}class Z extends T.default.Component{constructor(...ee){super(...ee),z(this,"state",{selectedLocale:this.props.locale}),z(this,"componentValidate",{}),z(this,"handleLocaleChange",J=>{this.setState({selectedLocale:J}),this.props.onLocaleChange(J)}),z(this,"copyFromOtherLocale",({targetLocale:J,t:Q})=>te=>{if(!window.confirm(Q("editor.editorControlPane.i18n.copyFromLocaleConfirm",{locale:te.toUpperCase()})))return;const{entry:se,collection:de}=this.props,{locales:ie,defaultLocale:ve}=(0,j.getI18nInfo)(de),xe=this.state.selectedLocale,ke=ie&&{currentLocale:xe,locales:ie,defaultLocale:ve};this.props.fields.forEach(Ce=>{if((0,j.isFieldTranslatable)(Ce,J,te)){const Oe=G({field:Ce,entry:se,locale:te,isTranslatable:te!==ve});Oe&&this.props.onChange(Ce,Oe,void 0,ke)}})}),z(this,"validate",async()=>{this.props.fields.forEach(J=>{J.get("widget")!=="hidden"&&this.componentValidate[J.get("name")]()})}),z(this,"switchToDefaultLocale",()=>{if((0,j.hasI18n)(this.props.collection)){const{defaultLocale:J}=(0,j.getI18nInfo)(this.props.collection);return new Promise(Q=>this.setState({selectedLocale:J},Q))}return Promise.resolve()})}controlRef(ee,J){var Q;if(!J)return;const te=ee.get("name");this.componentValidate[te]=((Q=J.innerWrappedControl)===null||Q===void 0?void 0:Q.validate)||J.validate}render(){const{collection:ee,entry:J,fields:Q,fieldsMetaData:te,fieldsErrors:se,onChange:de,onValidate:ie,t:ve}=this.props;if(!ee||!Q||J.size===0||J.get("partial")===!0)return null;const{locales:xe,defaultLocale:ke}=(0,j.getI18nInfo)(ee),Ce=this.state.selectedLocale,Oe=xe&&{currentLocale:Ce,locales:xe,defaultLocale:ke};return(0,R.jsx)(V,null,xe&&(0,R.jsx)(B,null,(0,R.jsx)(H,{locales:xe,dropdownText:ve("editor.editorControlPane.i18n.writingInLocale",{locale:Ce.toUpperCase()}),onLocaleChange:this.handleLocaleChange}),(0,R.jsx)(H,{locales:xe.filter(Ae=>Ae!==Ce),dropdownText:ve("editor.editorControlPane.i18n.copyFromLocale"),onLocaleChange:this.copyFromOtherLocale({targetLocale:Ce,t:ve})})),Q.filter(Ae=>Ae.get("widget")!=="hidden").map((Ae,Pe)=>{const Ee=(0,j.isFieldTranslatable)(Ae,Ce,ke),Te=(0,j.isFieldDuplicate)(Ae,Ce,ke),Re=(0,j.isFieldHidden)(Ae,Ce,ke),Me=Oe?`${Ce}_${Pe}`:Pe;return(0,R.jsx)(N.default,{key:Me,field:Ae,value:G({field:Ae,entry:J,locale:Ce,isTranslatable:Ee}),fieldsMetaData:te,fieldsErrors:se,onChange:(ze,Le,je)=>{de(ze,Le,je,Oe)},onValidate:ie,processControlRef:this.controlRef.bind(this),controlRef:this.controlRef,entry:J,collection:ee,isDisabled:Te,isHidden:Re,isFieldDuplicate:ze=>(0,j.isFieldDuplicate)(ze,Ce,ke),isFieldHidden:ze=>(0,j.isFieldHidden)(ze,Ce,ke),locale:Ce})}))}}E.default=Z,Z.propTypes={collection:P.default.map.isRequired,entry:P.default.map.isRequired,fields:P.default.list.isRequired,fieldsMetaData:P.default.map.isRequired,fieldsErrors:P.default.map.isRequired,onChange:O.default.func.isRequired,onValidate:O.default.func.isRequired,locale:O.default.string}},57622:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=U(_(13980)),T=function(B,W){if(B&&B.__esModule)return B;if(B===null||typeof B!="object"&&typeof B!="function")return{default:B};var H=j(W);if(H&&H.has(B))return H.get(B);var G={__proto__:null},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in B)if(Y!=="default"&&Object.prototype.hasOwnProperty.call(B,Y)){var ee=Z?Object.getOwnPropertyDescriptor(B,Y):null;ee&&(ee.get||ee.set)?Object.defineProperty(G,Y,ee):G[Y]=B[Y]}return G.default=B,H&&H.set(B,G),G}(_(12244)),O=U(_(19155)),P=_(46670),R=_(13856),I=_(41891),N=U(_(1757));function j(B){if(typeof WeakMap!="function")return null;var W=new WeakMap,H=new WeakMap;return(j=function(G){return G?H:W})(B)}function U(B){return B&&B.__esModule?B:{default:B}}function z(B,W,H){var G;return(W=typeof(G=function(Z,Y){if(typeof Z!="object"||!Z)return Z;var ee=Z[Symbol.toPrimitive];if(ee!==void 0){var J=ee.call(Z,"string");if(typeof J!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(W))=="symbol"?G:String(G))in B?Object.defineProperty(B,W,{value:H,enumerable:!0,configurable:!0,writable:!0}):B[W]=H,B}function V(){return{error:!1}}function F(B){return B==null||Object.prototype.hasOwnProperty.call(B,"length")&&B.length===0||B.constructor===Object&&Object.keys(B).length===0||P.List.isList(B)&&B.size===0}class q extends T.Component{constructor(...W){super(...W),z(this,"processInnerControlRef",H=>{if(!H)return;this.innerWrappedControl=H.getWrappedInstance?H.getWrappedInstance():H,this.wrappedControlValid=this.innerWrappedControl.isValid||V;const{shouldComponentUpdate:G}=this.innerWrappedControl;this.wrappedControlShouldComponentUpdate=G&&G.bind(this.innerWrappedControl)}),z(this,"getValidateValue",()=>{var H,G;let Z=((H=this.innerWrappedControl)===null||H===void 0||(G=H.getValidateValue)===null||G===void 0?void 0:G.call(H))||this.props.value;return P.List.isList(Z)&&(Z=Z.join(",")),Z}),z(this,"validate",(H=!1)=>{const G=this.getValidateValue(),Z=this.props.field,Y=[],ee=[this.validatePresence,this.validatePattern];if(Z.get("meta")&&ee.push(this.props.validateMetaField),ee.forEach(J=>{const Q=J(Z,G,this.props.t);Q.error&&Y.push(Q.error)}),H)H.error&&Y.push(H.error);else{const J=this.validateWrappedControl(Z);J.error&&Y.push(J.error)}this.props.onValidate(Y)}),z(this,"validatePresence",(H,G)=>{const{t:Z,parentIds:Y}=this.props;return H.get("required",!0)&&F(G)?{error:{type:N.default.PRESENCE,parentIds:Y,message:Z("editor.editorControlPane.widget.required",{fieldLabel:H.get("label",H.get("name"))})}}:{error:!1}}),z(this,"validatePattern",(H,G)=>{const{t:Z,parentIds:Y}=this.props,ee=H.get("pattern",!1);return F(G)?{error:!1}:ee&&!RegExp(ee.first()).test(G)?{error:{type:N.default.PATTERN,parentIds:Y,message:Z("editor.editorControlPane.widget.regexPattern",{fieldLabel:H.get("label",H.get("name")),pattern:ee.last()})}}:{error:!1}}),z(this,"validateWrappedControl",H=>{const{t:G,parentIds:Z}=this.props;if(typeof this.wrappedControlValid!="function")throw new Error(R.oneLine`
        this.wrappedControlValid is not a function. Are you sure widget
        "${H.get("widget")}" is registered?
      `);const Y=this.wrappedControlValid();return typeof Y=="boolean"?{error:!Y}:Object.prototype.hasOwnProperty.call(Y,"error")?Y:Y instanceof Promise?(Y.then(()=>{this.validate({error:!1})},ee=>{const J={type:N.default.CUSTOM,message:`${H.get("label",H.get("name"))} - ${ee}.`};this.validate({error:J})}),{error:{type:N.default.CUSTOM,parentIds:Z,message:G("editor.editorControlPane.widget.processing",{fieldLabel:H.get("label",H.get("name"))})}}):{error:!1}}),z(this,"getObjectValue",()=>this.props.value||(0,P.Map)()),z(this,"onChangeObject",(H,G,Z)=>{const Y=this.getObjectValue().set(H.get("name"),G);return this.props.onChange(Y,Z&&{[this.props.field.get("name")]:Z})}),z(this,"setInactiveStyle",()=>{this.props.setInactiveStyle(),this.props.field.has("pattern")&&!F(this.getValidateValue())&&this.validate()})}shouldComponentUpdate(W){return(!this.props.isLoadingAsset||!W.isLoadingAsset)&&(this.wrappedControlShouldComponentUpdate?this.wrappedControlShouldComponentUpdate(W):this.props.value!==W.value||this.props.classNameWrapper!==W.classNameWrapper||this.props.hasActiveStyle!==W.hasActiveStyle)}render(){const{controlComponent:W,entry:H,collection:G,config:Z,field:Y,value:ee,mediaPaths:J,metadata:Q,onChange:te,onValidateObject:se,onOpenMediaLibrary:de,onRemoveMediaControl:ie,onPersistMedia:ve,onClearMediaControl:xe,onAddAsset:ke,onRemoveInsertedMedia:Ce,getAsset:Oe,classNameWrapper:Ae,classNameWidget:Pe,classNameWidgetActive:Ee,classNameLabel:Te,classNameLabelActive:Re,setActiveStyle:Me,hasActiveStyle:ze,editorControl:Le,uniqueFieldId:je,resolveWidget:Ne,widget:qe,getEditorComponents:Ye,query:Ve,queryHits:tt,clearSearch:it,clearFieldErrors:Ze,isFetching:We,loadEntry:He,fieldsErrors:Ue,controlRef:Qe,isEditorComponent:Be,isNewEditorComponent:$e,parentIds:Xe,t:lt,isDisabled:dt,isFieldDuplicate:ft,isFieldHidden:St,locale:Mt,isParentListCollapsed:ht}=this.props;return T.default.createElement(W,{entry:H,collection:G,config:Z,field:Y,value:ee,mediaPaths:J,metadata:Q,onChange:te,onChangeObject:this.onChangeObject,onValidateObject:se,onOpenMediaLibrary:de,onClearMediaControl:xe,onRemoveMediaControl:ie,onPersistMedia:ve,onAddAsset:ke,onRemoveInsertedMedia:Ce,getAsset:Oe,forID:je,ref:this.processInnerControlRef,validate:this.validate,classNameWrapper:Ae,classNameWidget:Pe,classNameWidgetActive:Ee,classNameLabel:Te,classNameLabelActive:Re,setActiveStyle:Me,setInactiveStyle:()=>this.setInactiveStyle(),hasActiveStyle:ze,editorControl:Le,resolveWidget:Ne,widget:qe,getEditorComponents:Ye,getRemarkPlugins:I.getRemarkPlugins,query:Ve,queryHits:tt,clearSearch:it,clearFieldErrors:Ze,isFetching:We,loadEntry:He,isEditorComponent:Be,isNewEditorComponent:$e,fieldsErrors:Ue,controlRef:Qe,parentIds:Xe,t:lt,isDisabled:dt,isFieldDuplicate:ft,isFieldHidden:St,locale:Mt,isParentListCollapsed:ht})}}E.default=q,z(q,"propTypes",{controlComponent:A.default.func.isRequired,field:O.default.map.isRequired,hasActiveStyle:A.default.bool,setActiveStyle:A.default.func.isRequired,setInactiveStyle:A.default.func.isRequired,classNameWrapper:A.default.string.isRequired,classNameWidget:A.default.string.isRequired,classNameWidgetActive:A.default.string.isRequired,classNameLabel:A.default.string.isRequired,classNameLabelActive:A.default.string.isRequired,value:A.default.oneOfType([A.default.node,A.default.object,A.default.string,A.default.bool]),mediaPaths:O.default.map.isRequired,metadata:O.default.map,fieldsErrors:O.default.map,onChange:A.default.func.isRequired,onValidate:A.default.func,onOpenMediaLibrary:A.default.func.isRequired,onClearMediaControl:A.default.func.isRequired,onRemoveMediaControl:A.default.func.isRequired,onPersistMedia:A.default.func.isRequired,onAddAsset:A.default.func.isRequired,onRemoveInsertedMedia:A.default.func.isRequired,getAsset:A.default.func.isRequired,resolveWidget:A.default.func.isRequired,widget:A.default.object.isRequired,getEditorComponents:A.default.func.isRequired,isFetching:A.default.bool,controlRef:A.default.func,query:A.default.func.isRequired,clearSearch:A.default.func.isRequired,clearFieldErrors:A.default.func.isRequired,queryHits:A.default.oneOfType([A.default.array,A.default.object]),editorControl:A.default.elementType.isRequired,uniqueFieldId:A.default.string.isRequired,loadEntry:A.default.func.isRequired,t:A.default.func.isRequired,onValidateObject:A.default.func,isEditorComponent:A.default.bool,isNewEditorComponent:A.default.bool,entry:O.default.map.isRequired,isDisabled:A.default.bool,isFieldDuplicate:A.default.func,isFieldHidden:A.default.func,locale:A.default.string,isParentListCollapsed:A.default.bool})},78767:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=H(_(70894)),T=H(_(13980)),O=function(Te,Re){if(Te&&Te.__esModule)return Te;if(Te===null||typeof Te!="object"&&typeof Te!="function")return{default:Te};var Me=W(Re);if(Me&&Me.has(Te))return Me.get(Te);var ze={__proto__:null},Le=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var je in Te)if(je!=="default"&&Object.prototype.hasOwnProperty.call(Te,je)){var Ne=Le?Object.getOwnPropertyDescriptor(Te,je):null;Ne&&(Ne.get||Ne.set)?Object.defineProperty(ze,je,Ne):ze[je]=Te[je]}return ze.default=Te,Me&&Me.set(Te,ze),ze}(_(12244)),P=H(_(19155)),R=_(28165),I=H(_(31396)),N=_(30762),j=_(93232),U=H(_(46776)),z=H(_(75904)),V=H(_(6714)),F=_(13943),q=_(48781),B=_(45624);function W(Te){if(typeof WeakMap!="function")return null;var Re=new WeakMap,Me=new WeakMap;return(W=function(ze){return ze?Me:Re})(Te)}function H(Te){return Te&&Te.__esModule?Te:{default:Te}}function G(){return G=Object.assign?Object.assign.bind():function(Te){for(var Re=1;Re<arguments.length;Re++){var Me=arguments[Re];for(var ze in Me)Object.prototype.hasOwnProperty.call(Me,ze)&&(Te[ze]=Me[ze])}return Te},G.apply(this,arguments)}function Z(Te,Re,Me){var ze;return(Re=typeof(ze=function(Le,je){if(typeof Le!="object"||!Le)return Le;var Ne=Le[Symbol.toPrimitive];if(Ne!==void 0){var qe=Ne.call(Le,"string");if(typeof qe!="object")return qe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Le)}(Re))=="symbol"?ze:String(ze))in Te?Object.defineProperty(Te,Re,{value:Me,enumerable:!0,configurable:!0,writable:!0}):Te[Re]=Me,Te}const Y="cms.preview-visible",ee="cms.scroll-sync-enabled",J="cms.split-pane-position",Q="cms.i18n-visible",te={splitPane:(0,R.css)(N.components.card,";border-radius:0;height:100%;;label:splitPane;"),pane:{name:"1yvxf4n-pane",styles:"height:100%;overflow-y:auto;label:pane;"}},se=(0,A.default)(N.IconButton,{target:"e1nx103k7",label:"EditorToggle"})({name:"cn3xcj",styles:"margin-bottom:12px"});function de(){return(0,R.jsx)(R.Global,{styles:(0,R.css)(".Resizer.vertical{width:2px;cursor:col-resize;position:relative;background:none;&:before{content:'';width:2px;height:100%;position:relative;background-color:",N.colors.textFieldBorder,";display:block;z-index:10;transition:background-color ",N.transitions.main,";}&:hover,&:active{&:before{width:4px;left:-1px;background-color:",N.colorsRaw.blue,";}}};label:ReactSplitPaneGlobalStyles;")})}const ie=(0,A.default)(I.default,{target:"e1nx103k6",label:"StyledSplitPane"})(te.splitPane,";.Pane{height:100%;}"),ve=(0,A.default)("div",{target:"e1nx103k5",label:"NoPreviewContainer"})(te.splitPane,";"),xe=(0,A.default)("div",{target:"e1nx103k4",label:"EditorContainer"})("width:100%;min-width:800px;height:100%;position:absolute;top:0;left:0;overflow:hidden;padding-top:66px;background-color:",N.colors.background,";"),ke=(0,A.default)("div",{target:"e1nx103k3",label:"Editor"})({name:"yd3x82",styles:"height:100%;margin:0 auto;position:relative"}),Ce=(0,A.default)("div",{target:"e1nx103k2",label:"PreviewPaneContainer"})("height:100%;pointer-events:",Te=>Te.blockEntry?"none":"auto",";overflow-y:",Te=>Te.overFlow?"auto":"hidden",";"),Oe=(0,A.default)(Ce,{target:"e1nx103k1",label:"ControlPaneContainer"})({name:"b2tic3",styles:"padding:0 16px;position:relative;overflow-x:hidden"}),Ae=(0,A.default)("div",{target:"e1nx103k0",label:"ViewControls"})("position:absolute;top:10px;right:10px;z-index:",N.zIndex.zIndex299,";");function Pe({i18nVisible:Te,previewVisible:Re,editor:Me,editorWithEditor:ze,editorWithPreview:Le}){return Te?ze:Re?Le:(0,R.jsx)(ve,null,Me)}class Ee extends O.Component{constructor(...Re){super(...Re),Z(this,"state",{showEventBlocker:!1,previewVisible:localStorage.getItem(Y)!=="false",scrollSyncEnabled:localStorage.getItem(ee)!=="false",i18nVisible:localStorage.getItem(Q)!=="false"}),Z(this,"handleSplitPaneDragStart",()=>{this.setState({showEventBlocker:!0})}),Z(this,"handleSplitPaneDragFinished",()=>{this.setState({showEventBlocker:!1})}),Z(this,"handleOnPersist",async(Me={})=>{const{createNew:ze=!1,duplicate:Le=!1}=Me;await this.controlPaneRef.switchToDefaultLocale(),this.controlPaneRef.validate(),this.props.onPersist({createNew:ze,duplicate:Le})}),Z(this,"handleOnPublish",async(Me={})=>{const{createNew:ze=!1,duplicate:Le=!1}=Me;await this.controlPaneRef.switchToDefaultLocale(),this.controlPaneRef.validate(),this.props.onPublish({createNew:ze,duplicate:Le})}),Z(this,"handleTogglePreview",()=>{const Me=!this.state.previewVisible;this.setState({previewVisible:Me}),localStorage.setItem(Y,Me)}),Z(this,"handleToggleScrollSync",()=>{const Me=!this.state.scrollSyncEnabled;this.setState({scrollSyncEnabled:Me}),localStorage.setItem(ee,Me)}),Z(this,"handleToggleI18n",()=>{const Me=!this.state.i18nVisible;this.setState({i18nVisible:Me}),localStorage.setItem(Q,Me)}),Z(this,"handleLeftPanelLocaleChange",Me=>{this.setState({leftPanelLocale:Me})})}render(){const{collection:Re,entry:Me,fields:ze,fieldsMetaData:Le,fieldsErrors:je,onChange:Ne,showDelete:qe,onDelete:Ye,onDeleteUnpublishedChanges:Ve,onChangeStatus:tt,onPublish:it,unPublish:Ze,onDuplicate:We,onValidate:He,user:Ue,hasChanged:Qe,displayUrl:Be,hasWorkflow:$e,useOpenAuthoring:Xe,hasUnpublishedChanges:lt,isNewEntry:dt,isModification:ft,currentStatus:St,onLogoutClick:Mt,loadDeployPreview:ht,deployPreview:ct,draftKey:vt,editorBackLink:Et,t:gt}=this.props,{scrollSyncEnabled:xt,showEventBlocker:at}=this.state,$t=function(or,Zr){if(or.get("type")===q.FILES){const bn=(0,B.getFileFromSlug)(or,Zr.get("slug")),mn=bn==null?void 0:bn.getIn(["editor","preview"]);if(mn!=null)return mn}return or.getIn(["editor","preview"],!0)}(Re,Me),{locales:Qt,defaultLocale:Vt}=(0,F.getI18nInfo)(this.props.collection),bt=(0,F.hasI18n)(Re)&&Qt.length>1,wt={collection:Re,entry:Me,fields:ze,fieldsMetaData:Le,fieldsErrors:je,onChange:Ne,onValidate:He},At=this.state.leftPanelLocale||(Qt==null?void 0:Qt[0]),Kt=(0,R.jsx)(Oe,{overFlow:!0,blockEntry:at},(0,R.jsx)(U.default,G({},wt,{ref:or=>this.controlPaneRef=or,locale:At,t:gt,onLocaleChange:this.handleLeftPanelLocaleChange}))),Yt=(0,R.jsx)(Oe,{overFlow:!this.state.scrollSyncEnabled,blockEntry:at},(0,R.jsx)(U.default,G({},wt,{locale:Qt==null?void 0:Qt[1],t:gt}))),xr=bt?(0,F.getPreviewEntry)(Me,At,Vt):Me,Cr=(0,R.jsx)(j.ScrollSync,{enabled:this.state.scrollSyncEnabled},(0,R.jsx)("div",null,(0,R.jsx)(de,null),(0,R.jsx)(ie,{maxSize:-100,minSize:400,defaultSize:parseInt(localStorage.getItem(J),10)||"50%",onChange:or=>localStorage.setItem(J,or),onDragStarted:this.handleSplitPaneDragStart,onDragFinished:this.handleSplitPaneDragFinished},(0,R.jsx)(j.ScrollSyncPane,null,Kt),(0,R.jsx)(Ce,{blockEntry:at},(0,R.jsx)(z.default,{collection:Re,entry:xr,fields:ze,fieldsMetaData:Le,locale:At}))))),Mr=(0,R.jsx)(j.ScrollSync,{enabled:this.state.scrollSyncEnabled},(0,R.jsx)("div",null,(0,R.jsx)(ie,{maxSize:-100,defaultSize:parseInt(localStorage.getItem(J),10)||"50%",onChange:or=>localStorage.setItem(J,or),onDragStarted:this.handleSplitPaneDragStart,onDragFinished:this.handleSplitPaneDragFinished},(0,R.jsx)(j.ScrollSyncPane,null,Kt),(0,R.jsx)(j.ScrollSyncPane,null,Yt)))),$r=bt&&this.state.i18nVisible,qr=$t&&this.state.previewVisible,gn=$r||qr;return(0,R.jsx)(xe,null,(0,R.jsx)(V.default,{isPersisting:Me.get("isPersisting"),isPublishing:Me.get("isPublishing"),isUpdatingStatus:Me.get("isUpdatingStatus"),isDeleting:Me.get("isDeleting"),onPersist:this.handleOnPersist,onPersistAndNew:()=>this.handleOnPersist({createNew:!0}),onPersistAndDuplicate:()=>this.handleOnPersist({createNew:!0,duplicate:!0}),onDelete:Ye,onDeleteUnpublishedChanges:Ve,onChangeStatus:tt,showDelete:qe,onPublish:it,unPublish:Ze,onDuplicate:We,onPublishAndNew:()=>this.handleOnPublish({createNew:!0}),onPublishAndDuplicate:()=>this.handleOnPublish({createNew:!0,duplicate:!0}),user:Ue,hasChanged:Qe,displayUrl:Be,collection:Re,hasWorkflow:$e,useOpenAuthoring:Xe,hasUnpublishedChanges:lt,isNewEntry:dt,isModification:ft,currentStatus:St,onLogoutClick:Mt,loadDeployPreview:ht,deployPreview:ct,editorBackLink:Et}),(0,R.jsx)(ke,{key:vt},(0,R.jsx)(Ae,null,bt&&(0,R.jsx)(se,{isActive:$r,onClick:this.handleToggleI18n,size:"large",type:"page",title:gt("editor.editorInterface.toggleI18n"),marginTop:"70px"}),$t&&(0,R.jsx)(se,{isActive:qr,onClick:this.handleTogglePreview,size:"large",type:"eye",title:gt("editor.editorInterface.togglePreview")}),gn&&(0,R.jsx)(se,{isActive:xt,onClick:this.handleToggleScrollSync,size:"large",type:"scroll",title:gt("editor.editorInterface.toggleScrollSync")})),(0,R.jsx)(Pe,{i18nVisible:$r,previewVisible:qr,editor:Kt,editorWithEditor:Mr,editorWithPreview:Cr})))}}Ee.propTypes={collection:P.default.map.isRequired,entry:P.default.map.isRequired,fields:P.default.list.isRequired,fieldsMetaData:P.default.map.isRequired,fieldsErrors:P.default.map.isRequired,onChange:T.default.func.isRequired,onValidate:T.default.func.isRequired,onPersist:T.default.func.isRequired,showDelete:T.default.bool.isRequired,onDelete:T.default.func.isRequired,onDeleteUnpublishedChanges:T.default.func.isRequired,onPublish:T.default.func.isRequired,unPublish:T.default.func.isRequired,onDuplicate:T.default.func.isRequired,onChangeStatus:T.default.func.isRequired,user:T.default.object,hasChanged:T.default.bool,displayUrl:T.default.string,hasWorkflow:T.default.bool,useOpenAuthoring:T.default.bool,hasUnpublishedChanges:T.default.bool,isNewEntry:T.default.bool,isModification:T.default.bool,currentStatus:T.default.string,onLogoutClick:T.default.func.isRequired,deployPreview:T.default.object,loadDeployPreview:T.default.func.isRequired,draftKey:T.default.string.isRequired,t:T.default.func.isRequired},E.default=Ee},4488:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=I(_(70894)),T=I(_(12244)),O=I(_(13980)),P=I(_(19155)),R=_(28165);function I(z){return z&&z.__esModule?z:{default:z}}function N(z){return z.get("widget")!=="hidden"}const j=(0,A.default)("div",{target:"e1iji6y40",label:"PreviewContainer"})({name:"9bq7s9",styles:"font-family:Roboto,'Helvetica Neue',HelveticaNeue,Helvetica,Arial,sans-serif"});class U extends T.default.Component{render(){const{collection:V,fields:F,widgetFor:q}=this.props;return V&&F?(0,R.jsx)(j,null,F.filter(N).map(B=>(0,R.jsx)("div",{key:B.get("name")},q(B.get("name"))))):null}}E.default=U,U.propTypes={collection:P.default.map.isRequired,entry:P.default.map.isRequired,fields:P.default.list.isRequired,getAsset:O.default.func.isRequired,widgetFor:O.default.func.isRequired}},86545:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=N(_(13980)),T=N(_(12244)),O=_(48570),P=_(93232),R=_(12693),I=_(28165);function N(U){return U&&U.__esModule?U:{default:U}}class j extends T.default.Component{render(){const{previewComponent:z,previewProps:V}=this.props;return(0,I.jsx)(R.FrameContextConsumer,null,F=>(0,I.jsx)(P.ScrollSyncPane,{attachTo:F.document.scrollingElement},(0,O.isElement)(z)?T.default.cloneElement(z,V):T.default.createElement(z,V)))}}j.propTypes={previewComponent:A.default.func.isRequired,previewProps:A.default.object},E.default=j},75904:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.PreviewPane=void 0;var A=J(_(70894)),T=J(_(13980)),O=J(_(12244)),P=_(46670),R=J(_(19155)),I=function(ve,xe){if(ve&&ve.__esModule)return ve;if(ve===null||typeof ve!="object"&&typeof ve!="function")return{default:ve};var ke=ee(xe);if(ke&&ke.has(ve))return ke.get(ve);var Ce={__proto__:null},Oe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ae in ve)if(Ae!=="default"&&Object.prototype.hasOwnProperty.call(ve,Ae)){var Pe=Oe?Object.getOwnPropertyDescriptor(ve,Ae):null;Pe&&(Pe.get||Pe.set)?Object.defineProperty(Ce,Ae,Pe):Ce[Ae]=ve[Ae]}return Ce.default=ve,ke&&ke.set(ve,Ce),Ce}(_(12693)),N=_(30762),j=_(57903),U=_(41891),z=_(50236),V=_(50758),F=_(45624),q=_(71033),B=_(33474),W=_(39010),H=J(_(86545)),G=J(_(16791)),Z=J(_(4488)),Y=_(28165);function ee(ve){if(typeof WeakMap!="function")return null;var xe=new WeakMap,ke=new WeakMap;return(ee=function(Ce){return Ce?ke:xe})(ve)}function J(ve){return ve&&ve.__esModule?ve:{default:ve}}function Q(ve,xe){var ke=Object.keys(ve);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(ve);xe&&(Ce=Ce.filter(function(Oe){return Object.getOwnPropertyDescriptor(ve,Oe).enumerable})),ke.push.apply(ke,Ce)}return ke}function te(ve){for(var xe=1;xe<arguments.length;xe++){var ke=arguments[xe]!=null?arguments[xe]:{};xe%2?Q(Object(ke),!0).forEach(function(Ce){se(ve,Ce,ke[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ve,Object.getOwnPropertyDescriptors(ke)):Q(Object(ke)).forEach(function(Ce){Object.defineProperty(ve,Ce,Object.getOwnPropertyDescriptor(ke,Ce))})}return ve}function se(ve,xe,ke){var Ce;return(xe=typeof(Ce=function(Oe,Ae){if(typeof Oe!="object"||!Oe)return Oe;var Pe=Oe[Symbol.toPrimitive];if(Pe!==void 0){var Ee=Pe.call(Oe,"string");if(typeof Ee!="object")return Ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Oe)}(xe))=="symbol"?Ce:String(Ce))in ve?Object.defineProperty(ve,xe,{value:ke,enumerable:!0,configurable:!0,writable:!0}):ve[xe]=ke,ve}const de=(0,A.default)(I.default,{target:"enus48h0",label:"PreviewPaneFrame"})("width:100%;height:100%;border:none;background:#fff;border-radius:",N.lengths.borderRadius,";");class ie extends O.default.Component{constructor(...xe){super(...xe),se(this,"getWidget",(ke,Ce,Oe,Ae,Pe=null)=>{const{getAsset:Ee,entry:Te}=Ae,Re=(0,U.resolveWidget)(ke.get("widget")),Me=Pe?ke.get("name")+"_"+Pe:ke.get("name"),ze=Ce&&!Re.allowMapValue&&P.Map.isMap(Ce);return Re.preview?(0,Y.jsx)(G.default,{previewComponent:Re.preview,key:Me,field:ke,getAsset:Ee,value:ze?Ce.get(ke.get("name")):Ce,entry:Te,fieldsMetaData:Oe,resolveWidget:U.resolveWidget,getRemarkPlugins:U.getRemarkPlugins}):null}),se(this,"inferredFields",{}),se(this,"widgetFor",(ke,Ce=this.props.fields,Oe=this.props.entry.get("data"),Ae=this.props.fieldsMetaData)=>{let Pe=Ce&&Ce.find(Le=>Le.get("name")===ke),Ee=P.Map.isMap(Oe)&&Oe.get(Pe.get("name"));Pe.get("meta")&&(Ee=this.props.entry.getIn(["meta",Pe.get("name")]));const Te=Pe.get("fields"),Re=Pe.get("field"),Me=Ae&&Ae.get(Pe.get("name"),(0,P.Map)());Te&&(Pe=Pe.set("fields",this.getNestedWidgets(Te,Ee,Me))),Re&&(Pe=Pe.set("field",this.getSingleNested(Re,Ee,Me)));const ze=Object.entries(this.inferredFields).filter(([Le])=>(0,F.selectField)(this.props.collection,Le)===Pe).map(([,Le])=>Le)[0];return ze?Ee=ze.defaultPreview(Ee):Ee&&["string","text","number"].indexOf(Pe.get("widget"))!==-1&&Ee.toString().length<50&&(Ee=(0,Y.jsx)("div",null,(0,Y.jsx)("strong",null,Pe.get("label",Pe.get("name")),":")," ",Ee)),Ee?this.getWidget(Pe,Ee,Me,this.props):null}),se(this,"getNestedWidgets",(ke,Ce,Oe)=>P.List.isList(Ce)?Ce.map(Ae=>this.widgetsForNestedFields(ke,Ae,Oe)):this.widgetsForNestedFields(ke,Ce,Oe)),se(this,"getSingleNested",(ke,Ce,Oe)=>P.List.isList(Ce)?Ce.map((Ae,Pe)=>this.getWidget(ke,Ae,Oe.get(ke.get("name")),this.props,Pe)):this.getWidget(ke,Ce,Oe.get(ke.get("name")),this.props)),se(this,"widgetsForNestedFields",(ke,Ce,Oe)=>ke.map(Ae=>this.widgetFor(Ae.get("name"),ke,Ce,Oe))),se(this,"widgetsFor",ke=>{const{fields:Ce,entry:Oe,fieldsMetaData:Ae}=this.props,Pe=Ce.find(Me=>Me.get("name")===ke),Ee=Pe&&Pe.get("fields"),Te=Oe.getIn(["data",Pe.get("name")]),Re=Ae.get(Pe.get("name"),(0,P.Map)());return P.List.isList(Te)?Te.map(Me=>{const ze=Ee&&(0,P.Map)(Ee.map((Le,je)=>[Le.get("name"),(0,Y.jsx)("div",{key:je},this.getWidget(Le,Me,Re.get(Le.get("name")),this.props))]));return(0,P.Map)({data:Me,widgets:ze})}):(0,P.Map)({data:Te,widgets:Ee&&(0,P.Map)(Ee.map(Me=>[Me.get("name"),this.getWidget(Me,Te,Re.get(Me.get("name")),this.props)]))})}),se(this,"getCollection",async(ke,Ce)=>{const{state:Oe}=this.props,Ae=Oe.collections.get(ke);if(Ce===void 0)return(await(0,z.getAllEntries)(Oe,Ae)).map(Ee=>(0,P.Map)().set("data",Ee.data));const Pe=await(0,z.tryLoadEntry)(Oe,Ae,Ce);return(0,P.Map)().set("data",Pe.data)})}inferFields(){const xe=(0,F.selectInferredField)(this.props.collection,"title"),ke=(0,F.selectInferredField)(this.props.collection,"shortTitle"),Ce=(0,F.selectInferredField)(this.props.collection,"author");this.inferredFields={},xe&&(this.inferredFields[xe]=W.INFERABLE_FIELDS.title),ke&&(this.inferredFields[ke]=W.INFERABLE_FIELDS.shortTitle),Ce&&(this.inferredFields[Ce]=W.INFERABLE_FIELDS.author)}render(){const{entry:xe,collection:ke,config:Ce}=this.props;if(!xe||!xe.get("data"))return null;const Oe=(0,U.getPreviewTemplate)((0,F.selectTemplateName)(ke,xe.get("slug")))||Z.default;this.inferFields();const Ae=te(te({},this.props),{},{widgetFor:this.widgetFor,widgetsFor:this.widgetsFor,getCollection:this.getCollection}),Pe=(0,U.getPreviewStyles)().map((Ee,Te)=>Ee.raw?(0,Y.jsx)("style",{key:Te},Ee.value):(0,Y.jsx)("link",{key:Te,href:Ee.value,type:"text/css",rel:"stylesheet"}));return ke||(0,Y.jsx)(de,{id:"preview-pane",head:Pe}),(0,Y.jsx)(V.ErrorBoundary,{config:Ce},(0,Y.jsx)(de,{id:"preview-pane",head:Pe,initialContent:`
<!DOCTYPE html>
<html>
  <head><base target="_blank"/></head>
  <body><div></div></body>
</html>
`},(0,Y.jsx)(I.FrameContextConsumer,null,({document:Ee,window:Te})=>(0,Y.jsx)(H.default,{previewComponent:Oe,previewProps:te(te({},Ae),{},{document:Ee,window:Te})}))))}}E.PreviewPane=ie,ie.propTypes={collection:R.default.map.isRequired,fields:R.default.list.isRequired,entry:R.default.map.isRequired,fieldsMetaData:R.default.map.isRequired,getAsset:T.default.func.isRequired},E.default=(0,j.connect)(function(ve){return{isLoadingAsset:(0,B.selectIsLoadingAsset)(ve.medias),config:ve.config,state:ve}},function(ve){return{boundGetAsset:(xe,ke)=>(0,q.boundGetAsset)(ve,xe,ke)}},function(ve,xe,ke){return te(te(te(te({},ve),xe),ke),{},{getAsset:xe.boundGetAsset(ke.collection,ke.entry)})})(ie)},16791:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=R(_(12244)),T=R(_(13980)),O=R(_(19155));const P=["previewComponent"];function R(N){return N&&N.__esModule?N:{default:N}}class I extends A.default.Component{shouldComponentUpdate(j){return["object","list"].includes(j.field.get("widget"))||this.props.value!==j.value||this.props.fieldsMetaData!==j.fieldsMetaData||this.props.getAsset!==j.getAsset}render(){const j=this.props,{previewComponent:U}=j,z=function(V,F){if(V==null)return{};var q,B,W=function(G,Z){if(G==null)return{};var Y,ee,J={},Q=Object.keys(G);for(ee=0;ee<Q.length;ee++)Y=Q[ee],Z.indexOf(Y)>=0||(J[Y]=G[Y]);return J}(V,F);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(V);for(B=0;B<H.length;B++)q=H[B],F.indexOf(q)>=0||Object.prototype.propertyIsEnumerable.call(V,q)&&(W[q]=V[q])}return W}(j,P);return A.default.createElement(U,z)}}I.propTypes={previewComponent:T.default.func.isRequired,field:O.default.map.isRequired,value:T.default.oneOfType([T.default.node,T.default.object,T.default.string,T.default.bool])},E.default=I},6714:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.EditorToolbar=void 0;var A=V(_(70894)),T=V(_(12244)),O=V(_(13980)),P=V(_(19155)),R=_(28165),I=_(9316),N=_(34752),j=_(30762),U=_(61928),z=_(50758);function V(Ye){return Ye&&Ye.__esModule?Ye:{default:Ye}}function F(Ye,Ve,tt){var it;return(Ve=typeof(it=function(Ze,We){if(typeof Ze!="object"||!Ze)return Ze;var He=Ze[Symbol.toPrimitive];if(He!==void 0){var Ue=He.call(Ze,"string");if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ze)}(Ve))=="symbol"?it:String(it))in Ye?Object.defineProperty(Ye,Ve,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ye[Ve]=tt,Ye}const q={noOverflow:{name:"1ctb18k-noOverflow",styles:"overflow:hidden;white-space:nowrap;text-overflow:ellipsis;label:noOverflow;"},buttonMargin:{name:"bx8mhy-buttonMargin",styles:"margin:0 10px;label:buttonMargin;"},toolbarSection:(0,R.css)("height:100%;display:flex;align-items:center;border:0 solid ",j.colors.textFieldBorder,";;label:toolbarSection;"),publishedButton:(0,R.css)("background-color:",j.colorsRaw.tealLight,";color:",j.colorsRaw.tealDark,";;label:publishedButton;")},B=(0,A.default)("div",{target:"e1d2l9mo26",label:"TooltipText"})({name:"1ykbu60",styles:"visibility:hidden;width:321px;background-color:#555;color:#fff;text-align:unset;border-radius:6px;padding:5px;position:absolute;z-index:1;top:145%;left:50%;margin-left:-320px;opacity:0;transition:opacity 0.3s"}),W=(0,A.default)("div",{target:"e1d2l9mo25",label:"Tooltip"})("position:relative;display:inline-block;&:hover+",B,"{visibility:visible;opacity:0.9;}"),H=(0,A.default)("div",{target:"e1d2l9mo24",label:"TooltipContainer"})({name:"bjn8wh",styles:"position:relative"}),G=(0,A.default)(j.StyledDropdownButton,{target:"e1d2l9mo23",label:"DropdownButton"})(q.noOverflow,"@media (max-width: 1200px){padding-left:10px;}"),Z=(0,A.default)("div",{target:"e1d2l9mo22",label:"ToolbarContainer"})("box-shadow:0 2px 6px 0 rgba(68, 74, 87, 0.05),0 1px 3px 0 rgba(68, 74, 87, 0.1),0 2px 54px rgba(0, 0, 0, 0.1);position:absolute;top:0;left:0;width:100%;min-width:800px;z-index:",j.zIndex.zIndex300,";background-color:#fff;height:66px;display:flex;justify-content:space-between;"),Y=(0,A.default)("div",{target:"e1d2l9mo21",label:"ToolbarSectionMain"})(q.toolbarSection,";flex:10;display:flex;justify-content:space-between;padding:0 10px;"),ee=(0,A.default)("div",{target:"e1d2l9mo20",label:"ToolbarSubSectionFirst"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),J=(0,A.default)(ee,{target:"e1d2l9mo19",label:"ToolbarSubSectionLast"})({name:"1f60if8",styles:"justify-content:flex-end"}),Q=(0,A.default)(N.Link,{target:"e1d2l9mo18",label:"ToolbarSectionBackLink"})(q.toolbarSection,";border-right-width:1px;font-weight:normal;padding:0 20px;&:hover,&:focus{background-color:#f1f2f4;}"),te=(0,A.default)("div",{target:"e1d2l9mo17",label:"ToolbarSectionMeta"})(q.toolbarSection,";border-left-width:1px;padding:0 7px;"),se=(0,A.default)(j.Dropdown,{target:"e1d2l9mo16",label:"ToolbarDropdown"})(q.buttonMargin,";",j.Icon,"{color:",j.colorsRaw.teal,";}"),de=(0,A.default)("div",{target:"e1d2l9mo15",label:"BackArrow"})("color:",j.colors.textLead,";font-size:21px;font-weight:600;margin-right:16px;"),ie=(0,A.default)("div",{target:"e1d2l9mo14",label:"BackCollection"})("color:",j.colors.textLead,";font-size:14px;"),ve=(0,A.default)("div",{target:"e1d2l9mo13",label:"BackStatus"})({name:"j9a02z",styles:"margin-top:6px"}),xe=(0,A.default)(ve,{target:"e1d2l9mo12",label:"BackStatusUnchanged"})(j.components.textBadgeSuccess,";"),ke=(0,A.default)(ve,{target:"e1d2l9mo11",label:"BackStatusChanged"})(j.components.textBadgeDanger,";"),Ce=(0,A.default)("button",{target:"e1d2l9mo10",label:"ToolbarButton"})(j.buttons.button,";",j.buttons.default,";",q.buttonMargin,";",q.noOverflow,";display:block;@media (max-width: 1200px){padding:0 10px;}"),Oe=(0,A.default)(Ce,{target:"e1d2l9mo9",label:"DeleteButton"})(j.buttons.lightRed,";"),Ae=(0,A.default)(Ce,{target:"e1d2l9mo8",label:"SaveButton"})(j.buttons.lightBlue,";&[disabled]{",j.buttons.disabled,";}"),Pe=(0,A.default)(G,{target:"e1d2l9mo7",label:"PublishedToolbarButton"})(q.publishedButton,";"),Ee=(0,A.default)(Ce,{target:"e1d2l9mo6",label:"PublishedButton"})(q.publishedButton,";"),Te=(0,A.default)(G,{target:"e1d2l9mo5",label:"PublishButton"})("background-color:",j.colorsRaw.teal,";"),Re=(0,A.default)(G,{target:"e1d2l9mo4",label:"StatusButton"})("background-color:",j.colorsRaw.tealLight,";color:",j.colorsRaw.teal,";"),Me=(0,A.default)("div",{target:"e1d2l9mo3",label:"PreviewButtonContainer"})("margin-right:12px;color:",j.colorsRaw.blue,";display:flex;align-items:center;a,",j.Icon,"{color:",j.colorsRaw.blue,";}",j.Icon,"{position:relative;top:1px;}"),ze=(0,A.default)("button",{target:"e1d2l9mo2",label:"RefreshPreviewButton"})("background:none;border:0;cursor:pointer;color:",j.colorsRaw.blue,";span{margin-right:6px;}"),Le=ze.withComponent("a",{target:"e1d2l9mo27",label:"PreviewLink"}),je=(0,A.default)(j.DropdownItem,{target:"e1d2l9mo1",label:"PublishDropDownItem"})({name:"svxjwj",styles:"min-width:initial"}),Ne=(0,A.default)(j.DropdownItem,{target:"e1d2l9mo0",label:"StatusDropdownItem"})(j.Icon,"{color:",j.colors.infoText,";}");class qe extends T.default.Component{constructor(...Ve){super(...Ve),F(this,"renderSimpleControls",()=>{const{collection:tt,hasChanged:it,isNewEntry:Ze,showDelete:We,onDelete:He,t:Ue}=this.props,Qe=tt.get("create");return(0,R.jsx)(T.default.Fragment,null,Ze||it?this.renderNewEntrySimplePublishControls({canCreate:Qe}):this.renderExistingEntrySimplePublishControls({canCreate:Qe}),(0,R.jsx)("div",null,We?(0,R.jsx)(Oe,{onClick:He},Ue("editor.editorToolbar.deleteEntry")):null))}),F(this,"renderDeployPreviewControls",tt=>{const{deployPreview:it={},loadDeployPreview:Ze,t:We}=this.props,{url:He,status:Ue,isFetching:Qe}=it;if(!Ue)return;const Be=Ue==="SUCCESS"&&!Qe;return(0,R.jsx)(Me,null,Be?(0,R.jsx)(Le,{rel:"noopener noreferrer",target:"_blank",href:He},(0,R.jsx)("span",null,tt),(0,R.jsx)(j.Icon,{type:"new-tab",size:"xsmall"})):(0,R.jsx)(ze,{onClick:Ze},(0,R.jsx)("span",null,We("editor.editorToolbar.deployPreviewPendingButtonLabel")),(0,R.jsx)(j.Icon,{type:"refresh",size:"xsmall"})))}),F(this,"renderStatusInfoTooltip",()=>{const{t:tt,currentStatus:it}=this.props,Ze={[U.status.get("DRAFT")]:"statusInfoTooltipDraft",[U.status.get("PENDING_REVIEW")]:"statusInfoTooltipInReview"},We=Object.keys(Ze).find(He=>He===it);return(0,R.jsx)(H,null,(0,R.jsx)(W,null,(0,R.jsx)(j.Icon,{type:"info-circle",size:"small",className:"tooltip"})),We&&(0,R.jsx)(B,null,tt(`editor.editorToolbar.${Ze[We]}`)))}),F(this,"renderWorkflowStatusControls",()=>{const{isUpdatingStatus:tt,onChangeStatus:it,currentStatus:Ze,t:We,useOpenAuthoring:He}=this.props,Ue={[U.status.get("DRAFT")]:We("editor.editorToolbar.draft"),[U.status.get("PENDING_REVIEW")]:We("editor.editorToolbar.inReview"),[U.status.get("PENDING_PUBLISH")]:We("editor.editorToolbar.ready")},Qe=tt?We("editor.editorToolbar.updating"):We("editor.editorToolbar.status",{status:Ue[Ze]});return(0,R.jsx)(T.default.Fragment,null,(0,R.jsx)(se,{dropdownTopOverlap:"40px",dropdownWidth:"120px",renderButton:()=>(0,R.jsx)(Re,null,Qe)},(0,R.jsx)(Ne,{label:We("editor.editorToolbar.draft"),onClick:()=>it("DRAFT"),icon:Ze===U.status.get("DRAFT")?"check":null}),(0,R.jsx)(Ne,{label:We("editor.editorToolbar.inReview"),onClick:()=>it("PENDING_REVIEW"),icon:Ze===U.status.get("PENDING_REVIEW")?"check":null}),He?"":(0,R.jsx)(Ne,{label:We("editor.editorToolbar.ready"),onClick:()=>it("PENDING_PUBLISH"),icon:Ze===U.status.get("PENDING_PUBLISH")?"check":null})),He&&this.renderStatusInfoTooltip())}),F(this,"renderNewEntryWorkflowPublishControls",({canCreate:tt,canPublish:it})=>{const{isPublishing:Ze,onPublish:We,onPublishAndNew:He,onPublishAndDuplicate:Ue,t:Qe}=this.props;return it?(0,R.jsx)(se,{dropdownTopOverlap:"40px",dropdownWidth:"200px",renderButton:()=>(0,R.jsx)(Te,null,Qe(Ze?"editor.editorToolbar.publishing":"editor.editorToolbar.publish"))},(0,R.jsx)(je,{label:Qe("editor.editorToolbar.publishNow"),icon:"arrow",iconDirection:"right",onClick:We}),tt?(0,R.jsx)(T.default.Fragment,null,(0,R.jsx)(je,{label:Qe("editor.editorToolbar.publishAndCreateNew"),icon:"add",onClick:He}),(0,R.jsx)(je,{label:Qe("editor.editorToolbar.publishAndDuplicate"),icon:"add",onClick:Ue})):null):""}),F(this,"renderExistingEntryWorkflowPublishControls",({canCreate:tt,canPublish:it,canDelete:Ze})=>{const{unPublish:We,onDuplicate:He,isPersisting:Ue,t:Qe}=this.props;return it||tt?(0,R.jsx)(se,{dropdownTopOverlap:"40px",dropdownWidth:"150px",key:"td-publish-create",renderButton:()=>(0,R.jsx)(Pe,null,Qe(Ue?"editor.editorToolbar.unpublishing":"editor.editorToolbar.published"))},Ze&&it&&(0,R.jsx)(j.DropdownItem,{label:Qe("editor.editorToolbar.unpublish"),icon:"arrow",iconDirection:"right",onClick:We}),tt&&(0,R.jsx)(j.DropdownItem,{label:Qe("editor.editorToolbar.duplicate"),icon:"add",onClick:He})):""}),F(this,"renderExistingEntrySimplePublishControls",({canCreate:tt})=>{const{onDuplicate:it,t:Ze}=this.props;return tt?(0,R.jsx)(se,{dropdownTopOverlap:"40px",dropdownWidth:"150px",renderButton:()=>(0,R.jsx)(Pe,null,Ze("editor.editorToolbar.published"))},(0,R.jsx)(j.DropdownItem,{label:Ze("editor.editorToolbar.duplicate"),icon:"add",onClick:it})):(0,R.jsx)(Ee,null,Ze("editor.editorToolbar.published"))}),F(this,"renderNewEntrySimplePublishControls",({canCreate:tt})=>{const{onPersist:it,onPersistAndNew:Ze,onPersistAndDuplicate:We,isPersisting:He,t:Ue}=this.props;return(0,R.jsx)("div",null,(0,R.jsx)(se,{dropdownTopOverlap:"40px",dropdownWidth:"150px",renderButton:()=>(0,R.jsx)(Te,null,Ue(He?"editor.editorToolbar.publishing":"editor.editorToolbar.publish"))},(0,R.jsx)(j.DropdownItem,{label:Ue("editor.editorToolbar.publishNow"),icon:"arrow",iconDirection:"right",onClick:it}),tt?(0,R.jsx)(T.default.Fragment,null,(0,R.jsx)(j.DropdownItem,{label:Ue("editor.editorToolbar.publishAndCreateNew"),icon:"add",onClick:Ze}),(0,R.jsx)(j.DropdownItem,{label:Ue("editor.editorToolbar.publishAndDuplicate"),icon:"add",onClick:We})):null))}),F(this,"renderSimpleDeployPreviewControls",()=>{const{hasChanged:tt,isNewEntry:it,t:Ze}=this.props;if(!it&&!tt)return this.renderDeployPreviewControls(Ze("editor.editorToolbar.deployButtonLabel"))}),F(this,"renderWorkflowControls",()=>{const{onPersist:tt,onDelete:it,onDeleteUnpublishedChanges:Ze,showDelete:We,hasChanged:He,hasUnpublishedChanges:Ue,useOpenAuthoring:Qe,isPersisting:Be,isDeleting:$e,isNewEntry:Xe,isModification:lt,currentStatus:dt,collection:ft,t:St}=this.props,Mt=ft.get("create"),ht=ft.get("publish")&&!Qe,ct=ft.get("delete",!0),vt=Ue&&lt&&St("editor.editorToolbar.deleteUnpublishedChanges")||Ue&&(Xe||!lt)&&St("editor.editorToolbar.deleteUnpublishedEntry")||!Ue&&!lt&&St("editor.editorToolbar.deletePublishedEntry");return[(0,R.jsx)(Ae,{disabled:!He,key:"save-button",onClick:()=>He&&tt()},St(Be?"editor.editorToolbar.saving":"editor.editorToolbar.save")),dt?[(0,R.jsx)(T.default.Fragment,{key:"workflow-status-controls"},this.renderWorkflowStatusControls(),!He&&this.renderNewEntryWorkflowPublishControls({canCreate:Mt,canPublish:ht}))]:!Xe&&(0,R.jsx)(T.default.Fragment,{key:"existing-entry-workflow-publish-controls"},this.renderExistingEntryWorkflowPublishControls({canCreate:Mt,canPublish:ht,canDelete:ct})),We&&!Qe||Ue||lt?(0,R.jsx)(Oe,{key:"delete-button",onClick:Ue?Ze:it},$e?St("editor.editorToolbar.deleting"):vt):null]}),F(this,"renderWorkflowDeployPreviewControls",()=>{const{currentStatus:tt,isNewEntry:it,t:Ze}=this.props;return tt?this.renderDeployPreviewControls(Ze("editor.editorToolbar.deployPreviewButtonLabel")):it?void 0:this.renderDeployPreviewControls(Ze("editor.editorToolbar.deployButtonLabel"))})}componentDidMount(){const{isNewEntry:Ve,loadDeployPreview:tt}=this.props;Ve||tt({maxAttempts:3})}componentDidUpdate(Ve){const{isNewEntry:tt,isPersisting:it,loadDeployPreview:Ze}=this.props;tt||!Ve.isPersisting||it||Ze({maxAttempts:3})}render(){const{user:Ve,hasChanged:tt,displayUrl:it,collection:Ze,hasWorkflow:We,onLogoutClick:He,t:Ue,editorBackLink:Qe}=this.props;return(0,R.jsx)(Z,null,(0,R.jsx)(Q,{to:Qe},(0,R.jsx)(de,null,"←"),(0,R.jsx)("div",null,(0,R.jsx)(ie,null,Ue("editor.editorToolbar.backCollection",{collectionLabel:Ze.get("label")})),tt?(0,R.jsx)(ke,null,Ue("editor.editorToolbar.unsavedChanges")):(0,R.jsx)(xe,null,Ue("editor.editorToolbar.changesSaved")))),(0,R.jsx)(Y,null,(0,R.jsx)(ee,null,We?this.renderWorkflowControls():this.renderSimpleControls()),(0,R.jsx)(J,null,We?this.renderWorkflowDeployPreviewControls():this.renderSimpleDeployPreviewControls())),(0,R.jsx)(te,null,(0,R.jsx)(z.SettingsDropdown,{displayUrl:it,imageUrl:Ve==null?void 0:Ve.avatar_url,onLogoutClick:He})))}}E.EditorToolbar=qe,F(qe,"propTypes",{isPersisting:O.default.bool,isPublishing:O.default.bool,isUpdatingStatus:O.default.bool,isDeleting:O.default.bool,onPersist:O.default.func.isRequired,onPersistAndNew:O.default.func.isRequired,onPersistAndDuplicate:O.default.func.isRequired,showDelete:O.default.bool.isRequired,onDelete:O.default.func.isRequired,onDeleteUnpublishedChanges:O.default.func.isRequired,onChangeStatus:O.default.func.isRequired,onPublish:O.default.func.isRequired,unPublish:O.default.func.isRequired,onDuplicate:O.default.func.isRequired,onPublishAndNew:O.default.func.isRequired,onPublishAndDuplicate:O.default.func.isRequired,user:O.default.object,hasChanged:O.default.bool,displayUrl:O.default.string,collection:P.default.map.isRequired,hasWorkflow:O.default.bool,useOpenAuthoring:O.default.bool,hasUnpublishedChanges:O.default.bool,isNewEntry:O.default.bool,isModification:O.default.bool,currentStatus:O.default.string,onLogoutClick:O.default.func.isRequired,deployPreview:O.default.object,loadDeployPreview:O.default.func.isRequired,t:O.default.func.isRequired,editorBackLink:O.default.string.isRequired}),E.default=(0,I.translate)()(qe)},42531:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(B){return(0,O.connect)(F,null,q)(class extends T.default.Component{render(){return(0,j.jsx)(B,this.props)}})};var A,T=(A=_(12244))&&A.__esModule?A:{default:A},O=_(57903),P=_(61928),R=_(36642),I=_(45624),N=_(91358),j=_(28165);function U(B,W){var H=Object.keys(B);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(B);W&&(G=G.filter(function(Z){return Object.getOwnPropertyDescriptor(B,Z).enumerable})),H.push.apply(H,G)}return H}function z(B){for(var W=1;W<arguments.length;W++){var H=arguments[W]!=null?arguments[W]:{};W%2?U(Object(H),!0).forEach(function(G){V(B,G,H[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(H)):U(Object(H)).forEach(function(G){Object.defineProperty(B,G,Object.getOwnPropertyDescriptor(H,G))})}return B}function V(B,W,H){var G;return(W=typeof(G=function(Z,Y){if(typeof Z!="object"||!Z)return Z;var ee=Z[Symbol.toPrimitive];if(ee!==void 0){var J=ee.call(Z,"string");if(typeof J!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(W))=="symbol"?G:String(G))in B?Object.defineProperty(B,W,{value:H,enumerable:!0,configurable:!0,writable:!0}):B[W]=H,B}function F(B,W){const{collections:H}=B,G=B.config.publish_mode===P.EDITORIAL_WORKFLOW,Z=H.get(W.match.params.name),Y={isEditorialWorkflow:G,showDelete:!W.newEntry&&(0,I.selectAllowDeletion)(Z)};if(G){const ee=W.match.params[0],J=(0,R.selectUnpublishedEntry)(B,Z.get("name"),ee);J&&(Y.unpublishedEntry=!0,Y.entry=J)}return Y}function q(B,W,H){const{isEditorialWorkflow:G,unpublishedEntry:Z}=B,{dispatch:Y}=W,ee={};return G&&(ee.loadEntry=(J,Q)=>Y((0,N.loadUnpublishedEntry)(J,Q)),ee.persistEntry=J=>Y((0,N.persistUnpublishedEntry)(J,Z))),z(z(z({},H),B),ee)}},93698:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,R(_(12244));var A=_(9316),T=R(_(19155)),O=R(_(13980)),P=_(28165);function R(N){return N&&N.__esModule?N:{default:N}}function I({field:N,t:j}){return(0,P.jsx)("div",null,j("editor.editorWidgets.unknownControl.noControl",{widget:N.get("widget")}))}I.propTypes={field:T.default.map,t:O.default.func.isRequired},E.default=(0,A.translate)()(I)},86618:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,R(_(12244));var A=_(9316),T=R(_(19155)),O=R(_(13980)),P=_(28165);function R(N){return N&&N.__esModule?N:{default:N}}function I({field:N,t:j}){return(0,P.jsx)("div",{className:"nc-widgetPreview"},j("editor.editorWidgets.unknownPreview.noPreview",{widget:N.get("widget")}))}I.propTypes={field:T.default.map,t:O.default.func.isRequired},E.default=(0,A.translate)()(I)},29192:($,E,_)=>{var A=_(41891),T=P(_(93698)),O=P(_(86618));function P(R){return R&&R.__esModule?R:{default:R}}(0,A.registerWidget)("unknown",T.default,O.default)},52545:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=R(_(70894)),T=(R(_(12244)),R(_(13980))),O=_(30762),P=_(28165);function R(j){return j&&j.__esModule?j:{default:j}}const I=(0,A.default)("div",{target:"e156433y0",label:"EmptyMessageContainer"})("height:100%;width:100%;display:flex;justify-content:center;align-items:center;color:",j=>j.isPrivate&&O.colors.textFieldBorder,";");function N({content:j,isPrivate:U}){return(0,P.jsx)(I,{isPrivate:U},(0,P.jsx)("h1",null,j))}N.propTypes={content:T.default.string.isRequired,isPrivate:T.default.bool},E.default=N},80306:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=W(_(16760)),T=W(_(34498)),O=W(_(12244)),P=W(_(13980)),R=W(_(19155)),I=_(57903),N=_(9316),j=W(_(14478)),U=_(33806),z=_(68104),V=_(90694),F=function(te,se){if(te&&te.__esModule)return te;if(te===null||typeof te!="object"&&typeof te!="function")return{default:te};var de=B(se);if(de&&de.has(te))return de.get(te);var ie={__proto__:null},ve=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var xe in te)if(xe!=="default"&&Object.prototype.hasOwnProperty.call(te,xe)){var ke=ve?Object.getOwnPropertyDescriptor(te,xe):null;ke&&(ke.get||ke.set)?Object.defineProperty(ie,xe,ke):ie[xe]=te[xe]}return ie.default=te,de&&de.set(te,ie),ie}(_(94366)),q=_(28165);function B(te){if(typeof WeakMap!="function")return null;var se=new WeakMap,de=new WeakMap;return(B=function(ie){return ie?de:se})(te)}function W(te){return te&&te.__esModule?te:{default:te}}function H(te,se){var de=Object.keys(te);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(te);se&&(ie=ie.filter(function(ve){return Object.getOwnPropertyDescriptor(te,ve).enumerable})),de.push.apply(de,ie)}return de}function G(te){for(var se=1;se<arguments.length;se++){var de=arguments[se]!=null?arguments[se]:{};se%2?H(Object(de),!0).forEach(function(ie){Z(te,ie,de[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(de)):H(Object(de)).forEach(function(ie){Object.defineProperty(te,ie,Object.getOwnPropertyDescriptor(de,ie))})}return te}function Z(te,se,de){var ie;return(se=typeof(ie=function(ve,xe){if(typeof ve!="object"||!ve)return ve;var ke=ve[Symbol.toPrimitive];if(ke!==void 0){var Ce=ke.call(ve,"string");if(typeof Ce!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(se))=="symbol"?ie:String(ie))in te?Object.defineProperty(te,se,{value:de,enumerable:!0,configurable:!0,writable:!0}):te[se]=de,te}const Y=["jpg","jpeg","webp","gif","png","bmp","tiff","svg","avif"],ee=[...Y];class J extends O.default.Component{constructor(...se){super(...se),Z(this,"state",{selectedFile:{},query:"",isPersisted:!1}),Z(this,"loadDisplayURL",de=>{const{loadMediaDisplayURL:ie}=this.props;ie(de)}),Z(this,"filterImages",de=>de.filter(ie=>{const ve=(0,U.fileExtension)(ie.name).toLowerCase();return ee.includes(ve)})),Z(this,"toTableData",de=>{const ie=de&&de.map(({key:Ce,name:Oe,id:Ae,size:Pe,path:Ee,queryOrder:Te,displayURL:Re,draft:Me})=>{const ze=(0,U.fileExtension)(Oe).toLowerCase();return{key:Ce,id:Ae,name:Oe,path:Ee,type:ze.toUpperCase(),size:Pe,queryOrder:Te,displayURL:Re,draft:Me,isImage:ee.includes(ze),isViewableImage:Y.includes(ze)}}),{sortFields:ve}=this.state,xe=(0,A.default)(ve,"fieldName").concat("queryOrder"),ke=(0,A.default)(ve,"direction").concat("asc");return(0,T.default)(ie,xe,ke)}),Z(this,"handleClose",()=>{this.props.closeMediaLibrary()}),Z(this,"handleAssetClick",de=>{const ie=this.state.selectedFile.key===de.key?{}:de;this.setState({selectedFile:ie})}),Z(this,"handlePersist",async de=>{de.persist(),de.stopPropagation(),de.preventDefault();const{persistMedia:ie,privateUpload:ve,config:xe,t:ke,field:Ce}=this.props,{files:Oe}=de.dataTransfer||de.target,Ae=[...Oe][0],Pe=xe.get("max_file_size");Pe&&Ae.size>Pe?window.alert(ke("mediaLibrary.mediaLibrary.fileTooLarge",{size:Math.floor(Pe/1e3)})):(await ie(Ae,{privateUpload:ve,field:Ce}),this.setState({isPersisted:!0}),this.scrollToTop()),de.target.value=null}),Z(this,"handleInsert",()=>{const{selectedFile:de}=this.state,{path:ie}=de,{insertMedia:ve,field:xe}=this.props;ve(ie,xe),this.handleClose()}),Z(this,"handleDelete",()=>{const{selectedFile:de}=this.state,{files:ie,deleteMedia:ve,privateUpload:xe,t:ke}=this.props;window.confirm(ke("mediaLibrary.mediaLibrary.onDelete"))&&ve(ie.find(Ce=>de.key===Ce.key),{privateUpload:xe}).then(()=>{this.setState({selectedFile:{}})})}),Z(this,"handleDownload",()=>{const{selectedFile:de}=this.state,{displayURLs:ie}=this.props,ve=ie.getIn([de.id,"url"])||de.url;if(!ve)return;const xe=de.name,ke=document.createElement("a");ke.setAttribute("href",ve),ke.setAttribute("download",xe),ke.style.display="none",document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),this.setState({selectedFile:{}})}),Z(this,"handleLoadMore",()=>{const{loadMedia:de,dynamicSearchQuery:ie,page:ve,privateUpload:xe}=this.props;de({query:ie,page:ve+1,privateUpload:xe})}),Z(this,"handleSearchKeyDown",async de=>{const{dynamicSearch:ie,loadMedia:ve,privateUpload:xe}=this.props;de.key==="Enter"&&ie&&(await ve({query:this.state.query,privateUpload:xe}),this.scrollToTop())}),Z(this,"scrollToTop",()=>{this.scrollContainerRef.scrollTop=0}),Z(this,"handleSearchChange",de=>{this.setState({query:de.target.value})}),Z(this,"queryFilter",(de,ie)=>{const ve=de.replace(/ /g,"");return j.default.filter(ve,ie,{extract:xe=>xe.name}).map((xe,ke)=>G(G({},ie[xe.index]),{},{queryIndex:ke}))})}componentDidMount(){this.props.loadMedia()}UNSAFE_componentWillReceiveProps(se){!this.props.isVisible&&se.isVisible&&this.setState({selectedFile:{},query:""}),this.state.isPersisted&&this.setState({selectedFile:se.files[0],isPersisted:!1})}componentDidUpdate(se){!se.isVisible&&this.props.isVisible&&se.privateUpload!==this.props.privateUpload&&this.props.loadMedia({privateUpload:this.props.privateUpload}),this.state.isPersisted&&this.setState({selectedFile:this.props.files[0],isPersisted:!1})}render(){const{isVisible:se,canInsert:de,files:ie,dynamicSearch:ve,dynamicSearchActive:xe,forImage:ke,isLoading:Ce,isPersisting:Oe,isDeleting:Ae,hasNextPage:Pe,isPaginating:Ee,privateUpload:Te,displayURLs:Re,t:Me}=this.props;return(0,q.jsx)(F.default,{isVisible:se,canInsert:de,files:ie,dynamicSearch:ve,dynamicSearchActive:xe,forImage:ke,isLoading:Ce,isPersisting:Oe,isDeleting:Ae,hasNextPage:Pe,isPaginating:Ee,privateUpload:Te,query:this.state.query,selectedFile:this.state.selectedFile,handleFilter:this.filterImages,handleQuery:this.queryFilter,toTableData:this.toTableData,handleClose:this.handleClose,handleSearchChange:this.handleSearchChange,handleSearchKeyDown:this.handleSearchKeyDown,handlePersist:this.handlePersist,handleDelete:this.handleDelete,handleInsert:this.handleInsert,handleDownload:this.handleDownload,setScrollContainerRef:ze=>this.scrollContainerRef=ze,handleAssetClick:this.handleAssetClick,handleLoadMore:this.handleLoadMore,displayURLs:Re,loadDisplayURL:this.loadDisplayURL,t:Me})}}Z(J,"propTypes",{isVisible:P.default.bool,loadMediaDisplayURL:P.default.func,displayURLs:R.default.map,canInsert:P.default.bool,files:P.default.arrayOf(P.default.shape(F.fileShape)).isRequired,dynamicSearch:P.default.bool,dynamicSearchActive:P.default.bool,forImage:P.default.bool,isLoading:P.default.bool,isPersisting:P.default.bool,isDeleting:P.default.bool,hasNextPage:P.default.bool,isPaginating:P.default.bool,privateUpload:P.default.bool,config:R.default.map,loadMedia:P.default.func.isRequired,dynamicSearchQuery:P.default.string,page:P.default.number,persistMedia:P.default.func.isRequired,deleteMedia:P.default.func.isRequired,insertMedia:P.default.func.isRequired,closeMediaLibrary:P.default.func.isRequired,t:P.default.func.isRequired}),Z(J,"defaultProps",{files:[]});const Q={loadMedia:z.loadMedia,persistMedia:z.persistMedia,deleteMedia:z.deleteMedia,insertMedia:z.insertMedia,loadMediaDisplayURL:z.loadMediaDisplayURL,closeMediaLibrary:z.closeMediaLibrary};E.default=(0,I.connect)(function(te){const{mediaLibrary:se}=te,de=se.get("field");return G({},{isVisible:se.get("isVisible"),canInsert:se.get("canInsert"),files:(0,V.selectMediaFiles)(te,de),displayURLs:se.get("displayURLs"),dynamicSearch:se.get("dynamicSearch"),dynamicSearchActive:se.get("dynamicSearchActive"),dynamicSearchQuery:se.get("dynamicSearchQuery"),forImage:se.get("forImage"),isLoading:se.get("isLoading"),isPersisting:se.get("isPersisting"),isDeleting:se.get("isDeleting"),privateUpload:se.get("privateUpload"),config:se.get("config"),page:se.get("page"),hasNextPage:se.get("hasNextPage"),isPaginating:se.get("isPaginating"),field:de})},Q)((0,N.translate)()(J))},69302:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.UploadButton=E.InsertButton=E.DownloadButton=E.DeleteButton=E.CopyToClipBoardButton=void 0;var A=U(_(70894)),T=U(_(12244)),O=U(_(13980)),P=_(28165),R=U(_(85411)),I=_(33806),N=_(30762),j=_(50758);function U(B){return B&&B.__esModule?B:{default:B}}function z(B,W,H){var G;return(W=typeof(G=function(Z,Y){if(typeof Z!="object"||!Z)return Z;var ee=Z[Symbol.toPrimitive];if(ee!==void 0){var J=ee.call(Z,"string");if(typeof J!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(W))=="symbol"?G:String(G))in B?Object.defineProperty(B,W,{value:H,enumerable:!0,configurable:!0,writable:!0}):B[W]=H,B}const V={button:(0,P.css)(N.buttons.button,";",N.buttons.default,";display:inline-block;margin-left:15px;margin-right:2px;&[disabled]{",N.buttons.disabled,";cursor:default;};label:button;")},F=(E.UploadButton=(0,A.default)(j.FileUploadButton,{target:"e288rjk3",label:"UploadButton"})(V.button,";",N.buttons.gray,";",N.shadows.dropMain,";margin-bottom:0;span{font-size:14px;font-weight:500;display:flex;justify-content:center;align-items:center;}input{height:0.1px;width:0.1px;margin:0;padding:0;opacity:0;overflow:hidden;position:absolute;z-index:",N.zIndex.zIndex0,";outline:none;}"),E.DeleteButton=(0,A.default)("button",{target:"e288rjk2",label:"DeleteButton"})(V.button,";",N.buttons.lightRed,";"),E.InsertButton=(0,A.default)("button",{target:"e288rjk1",label:"InsertButton"})(V.button,";",N.buttons.green,";"),(0,A.default)("button",{target:"e288rjk0",label:"ActionButton"})(V.button,";",B=>!B.disabled&&(0,P.css)(N.buttons.gray,";;label:ActionButton;"),";"));E.DownloadButton=F;class q extends T.default.Component{constructor(...W){super(...W),z(this,"mounted",!1),z(this,"timeout",void 0),z(this,"state",{copied:!1}),z(this,"handleCopy",()=>{clearTimeout(this.timeout);const{path:H,draft:G,name:Z}=this.props;(0,R.default)((0,I.isAbsolutePath)(H)||!G?H:Z),this.setState({copied:!0}),this.timeout=setTimeout(()=>this.mounted&&this.setState({copied:!1}),1500)}),z(this,"getTitle",()=>{const{t:H,path:G,draft:Z}=this.props;return this.state.copied?H("mediaLibrary.mediaLibraryCard.copied"):G?(0,I.isAbsolutePath)(G)?H("mediaLibrary.mediaLibraryCard.copyUrl"):H(Z?"mediaLibrary.mediaLibraryCard.copyName":"mediaLibrary.mediaLibraryCard.copyPath"):H("mediaLibrary.mediaLibraryCard.copy")})}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const{disabled:W}=this.props;return(0,P.jsx)(F,{disabled:W,onClick:this.handleCopy},this.getTitle())}}E.CopyToClipBoardButton=q,q.propTypes={disabled:O.default.bool.isRequired,draft:O.default.bool,path:O.default.string,name:O.default.string,t:O.default.func.isRequired}},93100:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=N(_(70894)),T=N(_(12244)),O=N(_(13980)),P=N(_(19155)),R=_(30762),I=_(28165);function N(W){return W&&W.__esModule?W:{default:W}}const j=(0,A.default)("div",{target:"e2etv5a5",label:"Card"})("width:",W=>W.width,";height:",W=>W.height,";margin:",W=>W.margin,";border:",R.borders.textField,";border-color:",W=>W.isSelected&&R.colors.active,";border-radius:",R.lengths.borderRadius,";cursor:pointer;overflow:hidden;background-color:",W=>W.isPrivate&&R.colors.textFieldBorder,";&:focus{outline:none;}"),U=(0,A.default)("div",{target:"e2etv5a4",label:"CardImageWrapper"})("height:",162,"px;",R.effects.checkerboard,";",R.shadows.inset,";border-bottom:solid ",R.lengths.borderWidth," ",R.colors.textFieldBorder,";position:relative;"),z=(0,A.default)("img",{target:"e2etv5a3",label:"CardImage"})("width:100%;height:",160,"px;object-fit:contain;border-radius:2px 2px 0 0;"),V=(0,A.default)("div",{target:"e2etv5a2",label:"CardFileIcon"})({name:"viljxp",styles:"width:100%;height:160px;object-fit:cover;border-radius:2px 2px 0 0;padding:1em;font-size:3em"}),F=(0,A.default)("p",{target:"e2etv5a1",label:"CardText"})("color:",R.colors.text,";padding:8px;margin-top:20px;overflow-wrap:break-word;line-height:1.3!important;"),q=(0,A.default)("p",{target:"e2etv5a0",label:"DraftText"})("color:",R.colors.mediaDraftText,";background-color:",R.colors.mediaDraftBackground,";position:absolute;padding:8px;border-radius:",R.lengths.borderRadius," 0 ",R.lengths.borderRadius," 0;");class B extends T.default.Component{render(){const{isSelected:H,displayURL:G,text:Z,onClick:Y,draftText:ee,width:J,height:Q,margin:te,isPrivate:se,type:de,isViewableImage:ie,isDraft:ve}=this.props,xe=G.get("url");return(0,I.jsx)(j,{isSelected:H,onClick:Y,width:J,height:Q,margin:te,tabIndex:"-1",isPrivate:se},(0,I.jsx)(U,null,ve?(0,I.jsx)(q,{"data-testid":"draft-text"},ee):null,xe&&ie?(0,I.jsx)(z,{loading:"lazy",src:xe}):(0,I.jsx)(V,{"data-testid":"card-file-icon"},de)),(0,I.jsx)(F,null,Z))}componentDidMount(){const{displayURL:H,loadDisplayURL:G}=this.props;H.get("url")||G()}}B.propTypes={isSelected:O.default.bool,displayURL:P.default.map.isRequired,text:O.default.string.isRequired,onClick:O.default.func.isRequired,draftText:O.default.string.isRequired,width:O.default.string.isRequired,height:O.default.string.isRequired,margin:O.default.string.isRequired,isPrivate:O.default.bool,type:O.default.string,isViewableImage:O.default.bool.isRequired,loadDisplayURL:O.default.func.isRequired,isDraft:O.default.bool},E.default=B},63435:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=z(_(70894)),T=(z(_(12244)),z(_(13980))),O=_(94076),P=_(46670),R=_(30762),I=_(50166),N=z(_(6738)),j=z(_(93100)),U=_(28165);function z(ee){return ee&&ee.__esModule?ee:{default:ee}}function V(ee,J){var Q=Object.keys(ee);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(ee);J&&(te=te.filter(function(se){return Object.getOwnPropertyDescriptor(ee,se).enumerable})),Q.push.apply(Q,te)}return Q}function F(ee){for(var J=1;J<arguments.length;J++){var Q=arguments[J]!=null?arguments[J]:{};J%2?V(Object(Q),!0).forEach(function(te){var se,de,ie,ve;se=ee,de=te,ie=Q[te],(de=typeof(ve=function(xe,ke){if(typeof xe!="object"||!xe)return xe;var Ce=xe[Symbol.toPrimitive];if(Ce!==void 0){var Oe=Ce.call(xe,"string");if(typeof Oe!="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(xe)}(de))=="symbol"?ve:String(ve))in se?Object.defineProperty(se,de,{value:ie,enumerable:!0,configurable:!0,writable:!0}):se[de]=ie}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Q)):V(Object(Q)).forEach(function(te){Object.defineProperty(ee,te,Object.getOwnPropertyDescriptor(Q,te))})}return ee}function q(ee){const{rowIndex:J,columnIndex:Q,style:te,data:{mediaItems:se,isSelectedFile:de,onAssetClick:ie,cardDraftText:ve,cardWidth:xe,cardHeight:ke,isPrivate:Ce,displayURLs:Oe,loadDisplayURL:Ae,columnCount:Pe,gutter:Ee}}=ee,Te=J*Pe+Q;if(Te>=se.length)return null;const Re=se[Te];return(0,U.jsx)("div",{tabIndex:"0",style:F(F({},te),{},{left:te.left+Ee*Q,top:te.top+Ee,width:te.width-Ee,height:te.height-Ee})},(0,U.jsx)(j.default,{key:Re.key,isSelected:de(Re),text:Re.name,onClick:()=>ie(Re),isDraft:Re.draft,draftText:ve,width:xe,height:ke,margin:"0px",isPrivate:Ce,displayURL:Oe.get(Re.id,Re.url?(0,P.Map)({url:Re.url}):(0,P.Map)()),loadDisplayURL:()=>Ae(Re),type:Re.type,isViewableImage:Re.isViewableImage}))}function B(ee){const{mediaItems:J,setScrollContainerRef:Q}=ee;return(0,U.jsx)(H,{ref:Q},(0,U.jsx)(N.default,null,({height:te,width:se})=>{const de=parseInt(ee.cardWidth,10),ie=parseInt(ee.cardHeight,10),ve=parseInt(ee.cardMargin,10),xe=de+ve,ke=ie+ve,Ce=Math.floor(se/xe),Oe=Math.ceil(J.length/Ce);return(0,U.jsx)(I.FixedSizeGrid,{columnCount:Ce,columnWidth:xe,rowCount:Oe,rowHeight:ke,width:se,height:te,itemData:F(F({},ee),{},{gutter:ve,columnCount:Ce})},q)}))}function W({setScrollContainerRef:ee,mediaItems:J,isSelectedFile:Q,onAssetClick:te,cardDraftText:se,cardWidth:de,cardHeight:ie,cardMargin:ve,isPrivate:xe,displayURLs:ke,loadDisplayURL:Ce,canLoadMore:Oe,onLoadMore:Ae,isPaginating:Pe,paginatingMessage:Ee}){return(0,U.jsx)(H,{ref:ee},(0,U.jsx)(G,null,J.map(Te=>(0,U.jsx)(j.default,{key:Te.key,isSelected:Q(Te),text:Te.name,onClick:()=>te(Te),isDraft:Te.draft,draftText:se,width:de,height:ie,margin:ve,isPrivate:xe,displayURL:ke.get(Te.id,Te.url?(0,P.Map)({url:Te.url}):(0,P.Map)()),loadDisplayURL:()=>Ce(Te),type:Te.type,isViewableImage:Te.isViewableImage})),Oe?(0,U.jsx)(O.Waypoint,{onEnter:Ae}):null),Pe?(0,U.jsx)(Z,{isPrivate:xe},Ee):null)}const H=(0,A.default)("div",{target:"e1l5oka22",label:"CardGridContainer"})({name:"bv8zlo",styles:"overflow-y:auto;overflow-x:hidden"}),G=(0,A.default)("div",{target:"e1l5oka21",label:"CardGrid"})({name:"15jhlc1",styles:"display:flex;flex-wrap:wrap;margin-left:-10px;margin-right:-10px"}),Z=(0,A.default)("h1",{target:"e1l5oka20",label:"PaginatingMessage"})("color:",ee=>ee.isPrivate&&R.colors.textFieldBorder,";");function Y(ee){const{canLoadMore:J,isPaginating:Q}=ee;return J||Q?(0,U.jsx)(W,ee):(0,U.jsx)(B,ee)}Y.propTypes={setScrollContainerRef:T.default.func.isRequired,mediaItems:T.default.arrayOf(T.default.shape({displayURL:T.default.oneOfType([T.default.string,T.default.object]),id:T.default.string.isRequired,key:T.default.string.isRequired,name:T.default.string.isRequired,type:T.default.string.isRequired,draft:T.default.bool})).isRequired,isSelectedFile:T.default.func.isRequired,onAssetClick:T.default.func.isRequired,canLoadMore:T.default.bool,onLoadMore:T.default.func.isRequired,isPaginating:T.default.bool,paginatingMessage:T.default.string,cardDraftText:T.default.string.isRequired,cardWidth:T.default.string.isRequired,cardMargin:T.default.string.isRequired,loadDisplayURL:T.default.func.isRequired,isPrivate:T.default.bool,displayURLs:T.default.instanceOf(P.Map).isRequired},E.default=Y},63298:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=R(_(70894)),T=(R(_(12244)),R(_(13980))),O=_(30762),P=_(28165);function R(U){return U&&U.__esModule?U:{default:U}}const I=(0,A.default)("button",{target:"estf6121",label:"CloseButton"})(O.buttons.button,";",O.shadows.dropMiddle,";position:absolute;margin-right:-40px;left:-40px;top:-40px;width:40px;height:40px;border-radius:50%;background-color:white;padding:0;display:flex;justify-content:center;align-items:center;"),N=(0,A.default)("h1",{target:"estf6120",label:"LibraryTitle"})("line-height:36px;font-size:22px;text-align:left;margin-bottom:25px;color:",U=>U.isPrivate&&O.colors.textFieldBorder,";");function j({onClose:U,title:z,isPrivate:V}){return(0,P.jsx)("div",null,(0,P.jsx)(I,{onClick:U},(0,P.jsx)(O.Icon,{type:"close"})),(0,P.jsx)(N,{isPrivate:V},z))}j.propTypes={onClose:T.default.func.isRequired,title:T.default.string.isRequired,isPrivate:T.default.bool},E.default=j},94366:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.fileShape=E.default=void 0;var A=F(_(70894)),T=F(_(45455)),O=(F(_(12244)),F(_(13980))),P=_(46670),R=_(9316),I=_(30762),N=_(50758),j=F(_(77951)),U=F(_(63435)),z=F(_(52545)),V=_(28165);function F(G){return G&&G.__esModule?G:{default:G}}const q="300px",B=(0,A.default)(N.Modal,{target:"e4d0svf0",label:"StyledModal"})("display:grid;grid-template-rows:120px auto;width:calc(",q," + 20px);background-color:",G=>G.isPrivate&&I.colors.grayDark,";@media (min-width: 800px){width:calc(",q," * 2 + 20px);}@media (min-width: 1120px){width:calc(",q," * 3 + 20px);}@media (min-width: 1440px){width:calc(",q," * 4 + 20px);}@media (min-width: 1760px){width:calc(",q," * 5 + 20px);}@media (min-width: 2080px){width:calc(",q," * 6 + 20px);}h1{color:",G=>G.isPrivate&&I.colors.textFieldBorder,";}button:disabled,label[disabled]{background-color:",G=>G.isPrivate&&"rgba(217, 217, 217, 0.15)",";}");function W({isVisible:G,canInsert:Z,files:Y,dynamicSearch:ee,dynamicSearchActive:J,forImage:Q,isLoading:te,isPersisting:se,isDeleting:de,hasNextPage:ie,isPaginating:ve,privateUpload:xe,query:ke,selectedFile:Ce,handleFilter:Oe,handleQuery:Ae,toTableData:Pe,handleClose:Ee,handleSearchChange:Te,handleSearchKeyDown:Re,handlePersist:Me,handleDelete:ze,handleInsert:Le,handleDownload:je,setScrollContainerRef:Ne,handleAssetClick:qe,handleLoadMore:Ye,loadDisplayURL:Ve,displayURLs:tt,t:it}){const Ze=Q?Oe(Y):Y,We=!ee&&ke?Ae(ke,Ze):Ze,He=Pe(We),Ue=Y&&!!Y.length,Qe=Ze&&!!Ze.length,Be=We&&!!We.length,$e=Be,Xe=!$e,lt=te&&!$e&&it("mediaLibrary.mediaLibraryModal.loading")||J&&it("mediaLibrary.mediaLibraryModal.noResults")||!Ue&&it("mediaLibrary.mediaLibraryModal.noAssetsFound")||!Qe&&it("mediaLibrary.mediaLibraryModal.noImagesFound")||!Be&&it("mediaLibrary.mediaLibraryModal.noResults"),dt=$e&&!(0,T.default)(Ce);return(0,V.jsx)(B,{isOpen:G,onClose:Ee,isPrivate:xe},(0,V.jsx)(j.default,{t:it,onClose:Ee,privateUpload:xe,forImage:Q,onDownload:je,onUpload:Me,query:ke,onSearchChange:Te,onSearchKeyDown:Re,searchDisabled:!J&&!Qe,onDelete:ze,canInsert:Z,onInsert:Le,hasSelection:dt,isPersisting:se,isDeleting:de,selectedFile:Ce}),Xe?(0,V.jsx)(z.default,{content:lt,isPrivate:xe}):null,(0,V.jsx)(U.default,{setScrollContainerRef:Ne,mediaItems:He,isSelectedFile:ft=>Ce.key===ft.key,onAssetClick:qe,canLoadMore:ie,onLoadMore:Ye,isPaginating:ve,paginatingMessage:it("mediaLibrary.mediaLibraryModal.loading"),cardDraftText:it("mediaLibrary.mediaLibraryCard.draft"),cardWidth:"280px",cardHeight:"240px",cardMargin:"10px",isPrivate:xe,loadDisplayURL:Ve,displayURLs:tt}))}const H=E.fileShape={displayURL:O.default.oneOfType([O.default.string,O.default.object]).isRequired,id:O.default.string.isRequired,key:O.default.string.isRequired,name:O.default.string.isRequired,queryOrder:O.default.number,size:O.default.number,path:O.default.string.isRequired};W.propTypes={isVisible:O.default.bool,canInsert:O.default.bool,files:O.default.arrayOf(O.default.shape(H)).isRequired,dynamicSearch:O.default.bool,dynamicSearchActive:O.default.bool,forImage:O.default.bool,isLoading:O.default.bool,isPersisting:O.default.bool,isDeleting:O.default.bool,hasNextPage:O.default.bool,isPaginating:O.default.bool,privateUpload:O.default.bool,query:O.default.string,selectedFile:O.default.oneOfType([O.default.shape(H),O.default.shape({})]),handleFilter:O.default.func.isRequired,handleQuery:O.default.func.isRequired,toTableData:O.default.func.isRequired,handleClose:O.default.func.isRequired,handleSearchChange:O.default.func.isRequired,handleSearchKeyDown:O.default.func.isRequired,handlePersist:O.default.func.isRequired,handleDelete:O.default.func.isRequired,handleInsert:O.default.func.isRequired,setScrollContainerRef:O.default.func.isRequired,handleAssetClick:O.default.func.isRequired,handleLoadMore:O.default.func.isRequired,loadDisplayURL:O.default.func.isRequired,t:O.default.func.isRequired,displayURLs:O.default.instanceOf(P.Map).isRequired},E.default=(0,R.translate)()(W)},96218:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=R(_(70894)),T=(R(_(12244)),R(_(13980))),O=_(30762),P=_(28165);function R(z){return z&&z.__esModule?z:{default:z}}const I=(0,A.default)("div",{target:"el0uck02",label:"SearchContainer"})({name:"sycyb7",styles:"height:37px;display:flex;align-items:center;position:relative;width:400px"}),N=(0,A.default)("input",{target:"el0uck01",label:"SearchInput"})("background-color:#eff0f4;border-radius:",O.lengths.borderRadius,";font-size:14px;padding:10px 6px 10px 32px;width:100%;position:relative;z-index:",O.zIndex.zIndex1,";&:focus{outline:none;box-shadow:inset 0 0 0 2px ",O.colors.active,";}"),j=(0,A.default)(O.Icon,{target:"el0uck00",label:"SearchIcon"})("position:absolute;top:50%;left:6px;z-index:",O.zIndex.zIndex2,";transform:translate(0, -50%);");function U({value:z,onChange:V,onKeyDown:F,placeholder:q,disabled:B}){return(0,P.jsx)(I,null,(0,P.jsx)(j,{type:"search",size:"small"}),(0,P.jsx)(N,{value:z,onChange:V,onKeyDown:F,placeholder:q,disabled:B}))}U.propTypes={value:T.default.string,onChange:T.default.func.isRequired,onKeyDown:T.default.func.isRequired,placeholder:T.default.string.isRequired,disabled:T.default.bool},E.default=U},77951:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=N(_(70894)),T=(N(_(12244)),N(_(13980))),O=N(_(96218)),P=N(_(63298)),R=_(69302),I=_(28165);function N(F){return F&&F.__esModule?F:{default:F}}const j=(0,A.default)("div",{target:"e1n0ky5z2",label:"LibraryTop"})({name:"16hjiy4",styles:"position:relative;display:flex;flex-direction:column"}),U=(0,A.default)("div",{target:"e1n0ky5z1",label:"RowContainer"})({name:"1eoy87d",styles:"display:flex;justify-content:space-between"}),z=(0,A.default)("div",{target:"e1n0ky5z0",label:"ButtonsContainer"})({name:"ozd7xs",styles:"flex-shrink:0"});function V({t:F,onClose:q,privateUpload:B,forImage:W,onDownload:H,onUpload:G,query:Z,onSearchChange:Y,onSearchKeyDown:ee,searchDisabled:J,onDelete:Q,canInsert:te,onInsert:se,hasSelection:de,isPersisting:ie,isDeleting:ve,selectedFile:xe}){const ke=ie||ve,Ce=!ke,Oe=!ke&&de,Ae=F(ie?"mediaLibrary.mediaLibraryModal.uploading":"mediaLibrary.mediaLibraryModal.upload"),Pe=F(ve?"mediaLibrary.mediaLibraryModal.deleting":"mediaLibrary.mediaLibraryModal.deleteSelected"),Ee=F("mediaLibrary.mediaLibraryModal.download"),Te=F("mediaLibrary.mediaLibraryModal.chooseSelected");return(0,I.jsx)(j,null,(0,I.jsx)(U,null,(0,I.jsx)(P.default,{onClose:q,title:`${B?F("mediaLibrary.mediaLibraryModal.private"):""}${F(W?"mediaLibrary.mediaLibraryModal.images":"mediaLibrary.mediaLibraryModal.mediaAssets")}`,isPrivate:B}),(0,I.jsx)(z,null,(0,I.jsx)(R.CopyToClipBoardButton,{disabled:!de,path:xe.path,name:xe.name,draft:xe.draft,t:F}),(0,I.jsx)(R.DownloadButton,{onClick:H,disabled:!de},Ee),(0,I.jsx)(R.UploadButton,{label:Ae,imagesOnly:W,onChange:G,disabled:!Ce}))),(0,I.jsx)(U,null,(0,I.jsx)(O.default,{value:Z,onChange:Y,onKeyDown:ee,placeholder:F("mediaLibrary.mediaLibraryModal.search"),disabled:J}),(0,I.jsx)(z,null,(0,I.jsx)(R.DeleteButton,{onClick:Q,disabled:!Oe},Pe),te?(0,I.jsx)(R.InsertButton,{onClick:se,disabled:!de},Te):null)))}V.propTypes={t:T.default.func.isRequired,onClose:T.default.func.isRequired,privateUpload:T.default.bool,forImage:T.default.bool,onDownload:T.default.func.isRequired,onUpload:T.default.func.isRequired,query:T.default.string,onSearchChange:T.default.func.isRequired,onSearchKeyDown:T.default.func.isRequired,searchDisabled:T.default.bool.isRequired,onDelete:T.default.func.isRequired,canInsert:T.default.bool,onInsert:T.default.func.isRequired,hasSelection:T.default.bool.isRequired,isPersisting:T.default.bool,isDeleting:T.default.bool,selectedFile:T.default.oneOfType([T.default.shape({path:T.default.string.isRequired,draft:T.default.bool.isRequired,name:T.default.string.isRequired}),T.default.shape({})])},E.default=V},12086:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.DragSource=V,E.DropTarget=F,E.HTML5DragDrop=function(q){return class extends O.default.Component{render(){return(0,R.jsx)(T.DndProvider,{backend:A.HTML5Backend},(0,R.jsx)(q,this.props))}}};var A=_(51092),T=_(99273),O=U(_(12244)),P=U(_(13980)),R=_(28165);const I=["namespace"],N=["children","isDragging","connectDragComponent"],j=["onDrop","namespace"];function U(q){return q&&q.__esModule?q:{default:q}}function z(q,B){if(q==null)return{};var W,H,G=function(Y,ee){if(Y==null)return{};var J,Q,te={},se=Object.keys(Y);for(Q=0;Q<se.length;Q++)J=se[Q],ee.indexOf(J)>=0||(te[J]=Y[J]);return te}(q,B);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(q);for(H=0;H<Z.length;H++)W=Z[H],B.indexOf(W)>=0||Object.prototype.propertyIsEnumerable.call(q,W)&&(G[W]=q[W])}return G}function V(q){let{namespace:B}=q,W=z(q,I);const H=(0,T.DragSource)(B,{beginDrag(G){return z(G,N)}},G=>({connectDragComponent:G.dragSource()}))(({children:G,connectDragComponent:Z})=>G(Z));return O.default.createElement(H,W,W.children)}function F(q){let{onDrop:B,namespace:W}=q,H=z(q,j);const G=(0,T.DropTarget)(W,{drop(Z,Y){B(Y.getItem())}},(Z,Y)=>({connectDropTarget:Z.dropTarget(),isHovered:Y.isOver()}))(({children:Z,connectDropTarget:Y,isHovered:ee})=>Z(Y,{isHovered:ee}));return O.default.createElement(G,H,H.children)}V.propTypes={namespace:P.default.any.isRequired,children:P.default.func.isRequired},F.propTypes={onDrop:P.default.func.isRequired,namespace:P.default.any.isRequired,children:P.default.func.isRequired}},55059:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.ErrorBoundary=void 0;var A=F(_(70894)),T=F(_(36585)),O=F(_(12244)),P=F(_(13980)),R=_(9316),I=F(_(60155)),N=F(_(85411)),j=_(33806),U=_(30762),z=F(_(46994)),V=_(28165);function F(J){return J&&J.__esModule?J:{default:J}}function q(J,Q,te){var se;return(Q=typeof(se=function(de,ie){if(typeof de!="object"||!de)return de;var ve=de[Symbol.toPrimitive];if(ve!==void 0){var xe=ve.call(de,"string");if(typeof xe!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Q))=="symbol"?se:String(se))in J?Object.defineProperty(J,Q,{value:te,enumerable:!0,configurable:!0,writable:!0}):J[Q]=te,J}const B="https://github.com/decaporg/decap-cms/issues/new?";function W({title:J,config:Q}){try{const te=function({config:de}){let ie="";return ie=typeof DECAP_CMS_VERSION=="string"?`decap-cms@${DECAP_CMS_VERSION}`:"decap-cms-app@3.4.0",function({version:xe,provider:ke,browser:Ce,config:Oe}){return`
**Describe the bug**

**To Reproduce**

**Expected behavior**

**Screenshots**

**Applicable Versions:**
 - Decap CMS version: \`${xe}\`
 - Git provider: \`${ke}\`
 - Browser version: \`${Ce}\`

**CMS configuration**
\`\`\`
${Oe}
\`\`\`

**Additional context**
`}({version:ie,provider:de.backend.name,browser:navigator.userAgent,config:I.default.stringify(de)})}({config:Q}),se=new URLSearchParams;return se.append("title",(0,T.default)(J,{length:100})),se.append("body",(0,T.default)(te,{length:4e3,omission:`
...`})),se.append("labels","type: bug"),`${B}${se.toString()}`}catch(te){return console.log(te),`${B}template=bug_report.md`}}const H=(0,A.default)("div",{target:"emw4gx72",label:"ErrorBoundaryContainer"})("padding:40px;h1{font-size:28px;color:",U.colors.text,";}h2{font-size:20px;}strong{color:",U.colors.textLead,";font-weight:500;}hr{width:200px;margin:30px 0;border:0;height:1px;background-color:",U.colors.text,";}a{color:",U.colors.active,";}"),G=(0,A.default)("span",{target:"emw4gx71",label:"PrivacyWarning"})("color:",U.colors.text,";"),Z=(0,A.default)("button",{target:"emw4gx70",label:"CopyButton"})(U.buttons.button,";",U.buttons.default,";",U.buttons.gray,";display:block;margin:12px 0;");function Y({entry:J,t:Q}){return console.log(J),(0,V.jsx)(O.default.Fragment,null,(0,V.jsx)("hr",null),(0,V.jsx)("h2",null,Q("ui.errorBoundary.recoveredEntry.heading")),(0,V.jsx)("strong",null,Q("ui.errorBoundary.recoveredEntry.warning")),(0,V.jsx)(Z,{onClick:()=>(0,N.default)(J)},Q("ui.errorBoundary.recoveredEntry.copyButtonLabel")),(0,V.jsx)("pre",null,(0,V.jsx)("code",null,J)))}class ee extends O.default.Component{constructor(...Q){super(...Q),q(this,"state",{hasError:!1,errorMessage:"",errorTitle:"",backup:""})}static getDerivedStateFromError(Q){return console.error(Q),{hasError:!0,errorMessage:(0,z.default)(Q.stack,{basePath:window.location.origin||""}),errorTitle:Q.toString()}}shouldComponentUpdate(Q,te){return!this.props.showBackup||this.state.errorMessage!==te.errorMessage||this.state.backup!==te.backup}async componentDidUpdate(){if(this.props.showBackup){const Q=await j.localForage.getItem("backup");Q&&console.log(Q),this.setState({backup:Q})}}render(){const{hasError:Q,errorMessage:te,backup:se,errorTitle:de}=this.state,{showBackup:ie,t:ve}=this.props;return Q?(0,V.jsx)(H,null,(0,V.jsx)("h1",null,ve("ui.errorBoundary.title")),(0,V.jsx)("p",null,(0,V.jsx)("span",null,ve("ui.errorBoundary.details")),(0,V.jsx)("a",{href:W({title:de,config:this.props.config}),target:"_blank",rel:"noopener noreferrer","data-testid":"issue-url"},ve("ui.errorBoundary.reportIt"))),(0,V.jsx)("p",null,ve("ui.errorBoundary.privacyWarning").split(`
`).map((xe,ke)=>(0,V.jsx)(O.default.Fragment,null,(0,V.jsx)(G,{key:ke},xe),(0,V.jsx)("br",null)))),(0,V.jsx)("hr",null),(0,V.jsx)("h2",null,ve("ui.errorBoundary.detailsHeading")),(0,V.jsx)("p",null,te),se&&ie&&(0,V.jsx)(Y,{entry:se,t:ve})):this.props.children}}E.ErrorBoundary=ee,q(ee,"propTypes",{children:P.default.node,t:P.default.func.isRequired,config:P.default.object.isRequired}),E.default=(0,R.translate)()(ee)},95921:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.FileUploadButton=P,O(_(12244));var A=O(_(13980)),T=_(28165);function O(R){return R&&R.__esModule?R:{default:R}}function P({label:R,imagesOnly:I,onChange:N,disabled:j,className:U}){return(0,T.jsx)("label",{tabIndex:"0",className:`nc-fileUploadButton ${U||""}`},(0,T.jsx)("span",null,R),(0,T.jsx)("input",{type:"file",accept:I?"image/*":"*/*",onChange:N,disabled:j}))}P.propTypes={className:A.default.string,label:A.default.string.isRequired,imagesOnly:A.default.bool,onChange:A.default.func.isRequired,disabled:A.default.bool}},21904:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Modal=void 0;var A=I(_(12244)),T=I(_(13980)),O=_(28165),P=I(_(37149)),R=_(30762);function I(H){return H&&H.__esModule?H:{default:H}}var N={name:"1o9c9d2-ReactModalGlobalStyles",styles:".ReactModal__Body--open{overflow:hidden;};label:ReactModalGlobalStyles;"};function j(){return(0,O.jsx)(O.Global,{styles:N})}const U=`
    ${R.shadows.dropDeep};
    background-color: #fff;
    border-radius: ${R.lengths.borderRadius};
    height: 80%;
    text-align: center;
    max-width: 2200px;
    padding: 20px;

    &:focus {
      outline: none;
    }
  `,z=`
    z-index: ${R.zIndex.zIndex99999};
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    background-color: rgba(0, 0, 0, 0);
    transition: background-color ${R.transitions.main}, opacity ${R.transitions.main};
  `;class V extends A.default.Component{componentDidMount(){P.default.setAppElement("#nc-root")}render(){const{isOpen:G,children:Z,className:Y,onClose:ee}=this.props;return(0,O.jsx)(A.default.Fragment,null,(0,O.jsx)(j,null),(0,O.jsx)(O.ClassNames,null,({css:J,cx:Q})=>(0,O.jsx)(P.default,{isOpen:G,onRequestClose:ee,closeTimeoutMS:300,className:{base:Q(J`
                    ${U};
                  `,Y),afterOpen:"",beforeClose:""},overlayClassName:{base:J`
                  ${z};
                `,afterOpen:J`
                  ${`
    background-color: rgba(0, 0, 0, 0.6);
    opacity: 1;
  `};
                `,beforeClose:J`
                  ${`
    background-color: rgba(0, 0, 0, 0);
    opacity: 0;
  `};
                `}},Z)))}}var F,q,B,W;E.Modal=V,F=V,q="propTypes",B={children:T.default.node.isRequired,isOpen:T.default.bool.isRequired,className:T.default.string,onClose:T.default.func.isRequired},(q=typeof(W=function(H,G){if(typeof H!="object"||!H)return H;var Z=H[Symbol.toPrimitive];if(Z!==void 0){var Y=Z.call(H,"string");if(typeof Y!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(q))=="symbol"?W:String(W))in F?Object.defineProperty(F,q,{value:B,enumerable:!0,configurable:!0,writable:!0}):F[q]=B},92458:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=function(z,V){if(z&&z.__esModule)return z;if(z===null||typeof z!="object"&&typeof z!="function")return{default:z};var F=j(V);if(F&&F.has(z))return F.get(z);var q={__proto__:null},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in z)if(W!=="default"&&Object.prototype.hasOwnProperty.call(z,W)){var H=B?Object.getOwnPropertyDescriptor(z,W):null;H&&(H.get||H.set)?Object.defineProperty(q,W,H):q[W]=z[W]}return q.default=z,F&&F.set(z,q),q}(_(12244)),T=_(61116),O=_(48919),P=_(57903),R=_(9316),I=_(5690),N=_(28165);function j(z){if(typeof WeakMap!="function")return null;var V=new WeakMap,F=new WeakMap;return(j=function(q){return q?F:V})(z)}function U(z,V){var F=Object.keys(z);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(z);V&&(q=q.filter(function(B){return Object.getOwnPropertyDescriptor(z,B).enumerable})),F.push.apply(F,q)}return F}(0,T.injectStyle)(),E.default=(0,P.connect)(function({notifications:z}){return{notifications:z.notifications}})(function({notifications:z}){const V=(0,R.useTranslate)(),F=(0,P.useDispatch)(),[q,B]=A.default.useState({});return(0,A.useEffect)(()=>{z.filter(W=>!q[W.id]).forEach(W=>{const H=(0,O.toast)(typeof W.message=="string"?W.message:V(W.message.key,function(G){for(var Z=1;Z<arguments.length;Z++){var Y=arguments[Z]!=null?arguments[Z]:{};Z%2?U(Object(Y),!0).forEach(function(ee){var J,Q,te,se;J=G,Q=ee,te=Y[ee],(Q=typeof(se=function(de,ie){if(typeof de!="object"||!de)return de;var ve=de[Symbol.toPrimitive];if(ve!==void 0){var xe=ve.call(de,"string");if(typeof xe!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Q))=="symbol"?se:String(se))in J?Object.defineProperty(J,Q,{value:te,enumerable:!0,configurable:!0,writable:!0}):J[Q]=te}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(Y)):U(Object(Y)).forEach(function(ee){Object.defineProperty(G,ee,Object.getOwnPropertyDescriptor(Y,ee))})}return G}({},W.message)),{autoClose:W.dismissAfter,type:W.type});q[W.id]=H,B(q),W.dismissAfter&&setTimeout(()=>{F((0,I.dismissNotification)(W.id))},W.dismissAfter)}),Object.entries(q).forEach(([W,H])=>{z.find(G=>G.id===W)||(O.toast.dismiss(H),delete q[W],B(q))})},[z]),O.toast.onChange(W=>{if(W.status=="removed"){var H;const G=(H=Object.entries(q).find(([,Z])=>Z===W.id))===null||H===void 0?void 0:H[0];G&&F((0,I.dismissNotification)(G))}}),(0,N.jsx)(A.default.Fragment,null,(0,N.jsx)(O.ToastContainer,{position:"top-right",theme:"colored",className:"notif__container"}))})},79708:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=j(_(70894)),T=j(_(12244)),O=j(_(13980)),P=_(28165),R=_(9316),I=_(30762),N=_(9904);function j(G){return G&&G.__esModule?G:{default:G}}const U={name:"m2n7c1-avatarImage",styles:"width:32px;border-radius:32px;label:avatarImage;"},z=(0,A.default)(I.DropdownButton,{target:"e1gt62yu4",label:"AvatarDropdownButton"})({name:"dtukf8",styles:"display:inline-block;padding:8px;cursor:pointer;color:#1e2532;background-color:transparent"}),V=(0,A.default)("img",{target:"e1gt62yu3",label:"AvatarImage"})(U,";"),F=(0,A.default)(I.Icon,{target:"e1gt62yu2",label:"AvatarPlaceholderIcon"})(U,";height:32px;color:#1e2532;background-color:",I.colors.textFieldBorder,";"),q=(0,A.default)("a",{target:"e1gt62yu1",label:"AppHeaderSiteLink"})({name:"1uk00au",styles:"font-size:14px;font-weight:400;color:#7b8290;padding:10px 16px"}),B=(0,A.default)("a",{target:"e1gt62yu0",label:"AppHeaderTestRepoIndicator"})({name:"1uk00au",styles:"font-size:14px;font-weight:400;color:#7b8290;padding:10px 16px"});function W({imageUrl:G}){return G?(0,P.jsx)(V,{src:G}):(0,P.jsx)(F,{type:"user",size:"large"})}function H({displayUrl:G,isTestRepo:Z,imageUrl:Y,onLogoutClick:ee,t:J}){return(0,P.jsx)(T.default.Fragment,null,Z&&(0,P.jsx)(B,{href:"https://www.decapcms.org/docs/test-backend",target:"_blank",rel:"noopener noreferrer"},"Test Backend ↗"),G?(0,P.jsx)(q,{href:G,target:"_blank"},(0,N.stripProtocol)(G)):null,(0,P.jsx)(I.Dropdown,{dropdownTopOverlap:"50px",dropdownWidth:"100px",dropdownPosition:"right",renderButton:()=>(0,P.jsx)(z,null,(0,P.jsx)(W,{imageUrl:Y}))},(0,P.jsx)(I.DropdownItem,{label:J("ui.settingsDropdown.logOut"),onClick:ee})))}W.propTypes={imageUrl:O.default.string},H.propTypes={displayUrl:O.default.string,isTestRepo:O.default.bool,imageUrl:O.default.string,onLogoutClick:O.default.func.isRequired,t:O.default.func.isRequired},E.default=(0,R.translate)()(H)},50758:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),Object.defineProperty(E,"DragSource",{enumerable:!0,get:function(){return A.DragSource}}),Object.defineProperty(E,"DropTarget",{enumerable:!0,get:function(){return A.DropTarget}}),Object.defineProperty(E,"ErrorBoundary",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(E,"FileUploadButton",{enumerable:!0,get:function(){return O.FileUploadButton}}),Object.defineProperty(E,"HTML5DragDrop",{enumerable:!0,get:function(){return A.HTML5DragDrop}}),Object.defineProperty(E,"Modal",{enumerable:!0,get:function(){return P.Modal}}),Object.defineProperty(E,"Notifications",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(E,"SettingsDropdown",{enumerable:!0,get:function(){return I.default}});var A=_(12086),T=N(_(55059)),O=_(95921),P=_(21904),R=N(_(92458)),I=N(_(79708));function N(j){return j&&j.__esModule?j:{default:j}}},33407:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=H(_(70894)),T=H(_(13980)),O=function(ve,xe){if(ve&&ve.__esModule)return ve;if(ve===null||typeof ve!="object"&&typeof ve!="function")return{default:ve};var ke=W(xe);if(ke&&ke.has(ve))return ke.get(ve);var Ce={__proto__:null},Oe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ae in ve)if(Ae!=="default"&&Object.prototype.hasOwnProperty.call(ve,Ae)){var Pe=Oe?Object.getOwnPropertyDescriptor(ve,Ae):null;Pe&&(Pe.get||Pe.set)?Object.defineProperty(Ce,Ae,Pe):Ce[Ae]=ve[Ae]}return Ce.default=ve,ke&&ke.set(ve,Ce),Ce}(_(12244)),P=H(_(19155)),R=_(46670),I=_(9316),N=_(57903),j=_(30762),U=_(1582),z=_(91358),V=_(36642),F=_(61928),q=H(_(91678)),B=_(28165);function W(ve){if(typeof WeakMap!="function")return null;var xe=new WeakMap,ke=new WeakMap;return(W=function(Ce){return Ce?ke:xe})(ve)}function H(ve){return ve&&ve.__esModule?ve:{default:ve}}const G=(0,A.default)("div",{target:"e1t9l5ui4",label:"WorkflowContainer"})("padding:",j.lengths.pageMargin," 0;height:100vh;"),Z=(0,A.default)("div",{target:"e1t9l5ui3",label:"WorkflowTop"})(j.components.cardTop,";"),Y=(0,A.default)("div",{target:"e1t9l5ui2",label:"WorkflowTopRow"})("display:flex;justify-content:space-between;span[role='button']{",j.shadows.dropDeep,";}"),ee=(0,A.default)("h1",{target:"e1t9l5ui1",label:"WorkflowTopHeading"})(j.components.cardTopHeading,";"),J=(0,A.default)("p",{target:"e1t9l5ui0",label:"WorkflowTopDescription"})(j.components.cardTopDescription,";");class Q extends O.Component{componentDidMount(){const{loadUnpublishedEntries:xe,isEditorialWorkflow:ke,collections:Ce}=this.props;ke&&xe(Ce)}render(){const{isEditorialWorkflow:xe,isOpenAuthoring:ke,isFetching:Ce,unpublishedEntries:Oe,updateUnpublishedEntryStatus:Ae,publishUnpublishedEntry:Pe,deleteUnpublishedEntry:Ee,collections:Te,t:Re}=this.props;if(!xe)return null;if(Ce)return(0,B.jsx)(j.Loader,{active:!0},Re("workflow.workflow.loading"));const Me=Oe.get("pending_review").size,ze=Oe.get("pending_publish").size;return(0,B.jsx)(G,null,(0,B.jsx)(Z,null,(0,B.jsx)(Y,null,(0,B.jsx)(ee,null,Re("workflow.workflow.workflowHeading")),(0,B.jsx)(j.Dropdown,{dropdownWidth:"160px",dropdownPosition:"left",dropdownTopOverlap:"40px",renderButton:()=>(0,B.jsx)(j.StyledDropdownButton,null,Re("workflow.workflow.newPost"))},Te.filter(Le=>Le.get("create")).toList().map(Le=>(0,B.jsx)(j.DropdownItem,{key:Le.get("name"),label:Le.get("label"),onClick:()=>(0,U.createNewEntry)(Le.get("name"))})))),(0,B.jsx)(J,null,Re("workflow.workflow.description",{smart_count:Me,readyCount:ze}))),(0,B.jsx)(q.default,{entries:Oe,handleChangeStatus:Ae,handlePublish:Pe,handleDelete:Ee,isOpenAuthoring:ke,collections:Te}))}}var te,se,de,ie;te=Q,se="propTypes",de={collections:P.default.map.isRequired,isEditorialWorkflow:T.default.bool.isRequired,isOpenAuthoring:T.default.bool,isFetching:T.default.bool,unpublishedEntries:P.default.map,loadUnpublishedEntries:T.default.func.isRequired,updateUnpublishedEntryStatus:T.default.func.isRequired,publishUnpublishedEntry:T.default.func.isRequired,deleteUnpublishedEntry:T.default.func.isRequired,t:T.default.func.isRequired},(se=typeof(ie=function(ve,xe){if(typeof ve!="object"||!ve)return ve;var ke=ve[Symbol.toPrimitive];if(ke!==void 0){var Ce=ke.call(ve,"string");if(typeof Ce!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(se))=="symbol"?ie:String(ie))in te?Object.defineProperty(te,se,{value:de,enumerable:!0,configurable:!0,writable:!0}):te[se]=de,E.default=(0,N.connect)(function(ve){const{collections:xe,config:ke,globalUI:Ce}=ve,Oe=ke.publish_mode===F.EDITORIAL_WORKFLOW,Ae={collections:xe,isEditorialWorkflow:Oe,isOpenAuthoring:Ce.useOpenAuthoring};return Oe&&(Ae.isFetching=ve.editorialWorkflow.getIn(["pages","isFetching"],!1),Ae.unpublishedEntries=F.status.reduce((Pe,Ee)=>{const Te=(0,V.selectUnpublishedEntriesByStatus)(ve,Ee);return Pe.set(Ee,Te)},(0,R.OrderedMap)())),Ae},{loadUnpublishedEntries:z.loadUnpublishedEntries,updateUnpublishedEntryStatus:z.updateUnpublishedEntryStatus,publishUnpublishedEntry:z.publishUnpublishedEntry,deleteUnpublishedEntry:z.deleteUnpublishedEntry})((0,I.translate)()(Q))},69689:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=N(_(70894)),T=(N(_(12244)),N(_(13980))),O=_(28165),P=_(9316),R=_(34752),I=_(30762);function N(ee){return ee&&ee.__esModule?ee:{default:ee}}const j={text:{name:"1lc6g5t-text",styles:"font-size:13px;font-weight:normal;margin-top:4px;label:text;"},button:(0,O.css)(I.buttons.button,";width:auto;flex:1 0 0;font-size:13px;padding:6px 0;;label:button;")},U=(0,A.default)(R.Link,{target:"ewffzyy8",label:"WorkflowLink"})({name:"am2158",styles:"display:block;padding:0 18px 18px;height:200px;overflow:hidden"}),z=(0,A.default)("div",{target:"ewffzyy7",label:"CardCollection"})("font-size:14px;color:",I.colors.textLead,";text-transform:uppercase;margin-top:12px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),V=(0,A.default)("h2",{target:"ewffzyy6",label:"CardTitle"})("margin:28px 0 0;color:",I.colors.textLead,";"),F=(0,A.default)("div",{target:"ewffzyy5",label:"CardDateContainer"})(j.text,";"),q=(0,A.default)("p",{target:"ewffzyy4",label:"CardBody"})(j.text,";color:",I.colors.text,";margin:24px 0 0;overflow-wrap:break-word;word-break:break-word;hyphens:auto;"),B=(0,A.default)("div",{target:"ewffzyy3",label:"CardButtonContainer"})("background-color:",I.colors.foreground,";position:absolute;bottom:0;width:100%;padding:12px 18px;display:flex;opacity:0;transition:opacity ",I.transitions.main,";cursor:pointer;"),W=(0,A.default)("button",{target:"ewffzyy2",label:"DeleteButton"})(j.button,";background-color:",I.colorsRaw.redLight,";color:",I.colorsRaw.red,";margin-right:6px;"),H=(0,A.default)("button",{target:"ewffzyy1",label:"PublishButton"})(j.button,";background-color:",I.colorsRaw.teal,";color:",I.colors.textLight,";margin-left:6px;&[disabled]{",I.buttons.disabled,";}"),G=(0,A.default)("div",{target:"ewffzyy0",label:"WorkflowCardContainer"})(I.components.card,";margin-bottom:24px;position:relative;overflow:hidden;&:hover ",B,"{opacity:1;}"),Z=(0,P.translate)()(({t:ee,date:J,author:Q})=>{const te=function(se,de){return se&&de?"lastChange":se?"lastChangeNoAuthor":de?"lastChangeNoDate":void 0}(J,Q);if(te)return(0,O.jsx)(F,null,ee(`workflow.workflowCard.${te}`,{date:J,author:Q}))});function Y({collectionLabel:ee,title:J,authorLastChange:Q,body:te,isModification:se,editLink:de,timestamp:ie,onDelete:ve,allowPublish:xe,canPublish:ke,onPublish:Ce,postAuthor:Oe,t:Ae}){return(0,O.jsx)(G,null,(0,O.jsx)(U,{to:de},(0,O.jsx)(z,null,ee),Oe,(0,O.jsx)(V,null,J),(ie||Q)&&(0,O.jsx)(Z,{date:ie,author:Q}),(0,O.jsx)(q,null,te)),(0,O.jsx)(B,null,(0,O.jsx)(W,{onClick:ve},Ae(se?"workflow.workflowCard.deleteChanges":"workflow.workflowCard.deleteNewEntry")),xe&&(0,O.jsx)(H,{disabled:!ke,onClick:Ce},Ae(se?"workflow.workflowCard.publishChanges":"workflow.workflowCard.publishNewEntry"))))}Y.propTypes={collectionLabel:T.default.string.isRequired,title:T.default.string,authorLastChange:T.default.string,body:T.default.string,isModification:T.default.bool,editLink:T.default.string.isRequired,timestamp:T.default.string.isRequired,onDelete:T.default.func.isRequired,allowPublish:T.default.bool.isRequired,canPublish:T.default.bool.isRequired,onPublish:T.default.func.isRequired,postAuthor:T.default.string,t:T.default.func.isRequired},E.default=(0,P.translate)()(Y)},91678:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=q(_(70894)),T=q(_(13980)),O=q(_(12244)),P=q(_(19155)),R=_(28165),I=q(_(28879)),N=_(9316),j=_(30762),U=_(61928),z=_(50758),V=q(_(69689)),F=_(45624);function q(se){return se&&se.__esModule?se:{default:se}}function B(se,de,ie){var ve;return(de=typeof(ve=function(xe,ke){if(typeof xe!="object"||!xe)return xe;var Ce=xe[Symbol.toPrimitive];if(Ce!==void 0){var Oe=Ce.call(xe,"string");if(typeof Oe!="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(xe)}(de))=="symbol"?ve:String(ve))in se?Object.defineProperty(se,de,{value:ie,enumerable:!0,configurable:!0,writable:!0}):se[de]=ie,se}const W=(0,A.default)("div",{target:"e190xgae3",label:"WorkflowListContainer"})({name:"16oyyfa",styles:"min-height:60%;display:grid;grid-template-columns:33.3% 33.3% 33.3%"}),H=(0,A.default)("div",{target:"e190xgae2",label:"WorkflowListContainerOpenAuthoring"})({name:"1e70u5x",styles:"min-height:60%;display:grid;grid-template-columns:50% 50% 0%"});var G={name:"108sck7-columnPosition",styles:"margin-right:0;label:columnPosition;"},Z={name:"l4owvh-columnPosition",styles:"margin-left:0;label:columnPosition;"};const Y={columnPosition:se=>se===0&&Z||se===2&&G||(0,R.css)("&:before,&:after{content:'';display:block;position:absolute;width:2px;height:80%;top:76px;background-color:",j.colors.textFieldBorder,";}&:before{left:-23px;}&:after{right:-23px;};label:columnPosition;"),column:{name:"m4x6w5-column",styles:"margin:0 20px;transition:background-color 0.5s ease;border:2px dashed transparent;border-radius:4px;position:relative;height:100%;label:column;"},columnHovered:(0,R.css)("border-color:",j.colors.active,";;label:columnHovered;"),hiddenColumn:{name:"1woovtn-hiddenColumn",styles:"display:none;label:hiddenColumn;"},hiddenRightBorder:{name:"hg8806-hiddenRightBorder",styles:"&:not(:first-child):not(:last-child){&:after{display:none;}};label:hiddenRightBorder;"}},ee=(0,A.default)("h2",{target:"e190xgae1",label:"ColumnHeader"})("font-size:20px;font-weight:normal;padding:4px 14px;border-radius:",j.lengths.borderRadius,";margin-bottom:28px;",se=>se.name==="draft"&&(0,R.css)("background-color:",j.colors.statusDraftBackground,";color:",j.colors.statusDraftText,";;label:ColumnHeader;")," ",se=>se.name==="pending_review"&&(0,R.css)("background-color:",j.colors.statusReviewBackground,";color:",j.colors.statusReviewText,";;label:ColumnHeader;")," ",se=>se.name==="pending_publish"&&(0,R.css)("background-color:",j.colors.statusReadyBackground,";color:",j.colors.statusReadyText,";;label:ColumnHeader;"),";"),J=(0,A.default)("p",{target:"e190xgae0",label:"ColumnCount"})("font-size:13px;font-weight:500;color:",j.colors.text,";text-transform:uppercase;margin-bottom:6px;"),Q="cms-workflow";class te extends O.default.Component{constructor(...de){super(...de),B(this,"handleChangeStatus",(ie,ve)=>{const xe=ve.slug,ke=ve.collection,Ce=ve.ownStatus;this.props.handleChangeStatus(ke,xe,Ce,ie)}),B(this,"requestDelete",(ie,ve,xe)=>{window.confirm(this.props.t("workflow.workflowList.onDeleteEntry"))&&this.props.handleDelete(ie,ve,xe)}),B(this,"requestPublish",(ie,ve,xe)=>{xe===U.status.last()?window.confirm(this.props.t("workflow.workflowList.onPublishEntry"))&&this.props.handlePublish(ie,ve):window.alert(this.props.t("workflow.workflowList.onPublishingNotReadyEntry"))}),B(this,"renderColumns",(ie,ve)=>{const{isOpenAuthoring:xe,collections:ke,t:Ce}=this.props;return ie?ve?(0,R.jsx)("div",null,ie.map(Oe=>{const Ae=(0,I.default)(Oe.get("updatedOn")).format(Ce("workflow.workflow.dateFormat")),Pe=Oe.get("slug"),Ee=Oe.get("collection"),Te=`collections/${Ee}/entries/${Pe}?ref=workflow`,Re=Oe.get("status"),Me=ke.find(Ye=>Ye.get("name")===Ee),ze=Me==null?void 0:Me.get("label"),Le=Oe.get("isModification"),je=Me==null?void 0:Me.get("publish"),Ne=Re===U.status.last()&&!Oe.get("isPersisting",!1),qe=Oe.get("author");return(0,R.jsx)(z.DragSource,{namespace:Q,key:`${Ee}-${Pe}`,slug:Pe,collection:Ee,ownStatus:Re},Ye=>Ye((0,R.jsx)("div",null,(0,R.jsx)(V.default,{collectionLabel:ze||Ee,title:(0,F.selectEntryCollectionTitle)(Me,Oe),authorLastChange:Oe.getIn(["metaData","user"]),body:Oe.getIn(["data","body"]),isModification:Le,editLink:Te,timestamp:Ae,onDelete:this.requestDelete.bind(this,Ee,Pe,Re),allowPublish:je,canPublish:Ne,onPublish:this.requestPublish.bind(this,Ee,Pe,Re),postAuthor:qe}))))})):ie.entrySeq().map(([Oe,Ae],Pe)=>(0,R.jsx)(z.DropTarget,{namespace:Q,key:Oe,onDrop:this.handleChangeStatus.bind(this,Oe)},(Ee,{isHovered:Te})=>Ee((0,R.jsx)("div",{style:{height:"100%"}},(0,R.jsx)("div",{css:[Y.column,Y.columnPosition(Pe),Te&&Y.columnHovered,xe&&Oe==="pending_publish"&&Y.hiddenColumn,xe&&Oe==="pending_review"&&Y.hiddenRightBorder,";label:WorkflowList;"]},(0,R.jsx)(ee,{name:Oe},function(Re,Me){switch(Re){case"draft":return Me("workflow.workflowList.draftHeader");case"pending_review":return Me("workflow.workflowList.inReviewHeader");case"pending_publish":return Me("workflow.workflowList.readyHeader")}}(Oe,this.props.t)),(0,R.jsx)(J,null,this.props.t("workflow.workflowList.currentEntries",{smart_count:Ae.size})),this.renderColumns(Ae,Oe)))))):null})}render(){const de=this.renderColumns(this.props.entries),ie=this.props.isOpenAuthoring?H:W;return(0,R.jsx)(ie,null,de)}}B(te,"propTypes",{entries:P.default.orderedMap,handleChangeStatus:T.default.func.isRequired,handlePublish:T.default.func.isRequired,handleDelete:T.default.func.isRequired,t:T.default.func.isRequired,isOpenAuthoring:T.default.bool,collections:P.default.map.isRequired}),E.default=(0,z.HTML5DragDrop)((0,N.translate)()(te))},48781:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.FOLDER=E.FILES=void 0,E.FILES="file_based_collection",E.FOLDER="folder_based_collection"},78882:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.VIEW_STYLE_LIST=E.VIEW_STYLE_GRID=void 0,E.VIEW_STYLE_LIST="VIEW_STYLE_LIST",E.VIEW_STYLE_GRID="VIEW_STYLE_GRID"},93492:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.COMMIT_DATE=E.COMMIT_AUTHOR=void 0,E.COMMIT_AUTHOR="commit_author",E.COMMIT_DATE="commit_date"},35276:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.validateConfig=function(J){const Q=new A.default({allErrors:!0,$data:!0,strict:!1});if((0,T.uniqueItemProperties)(Q),(0,T.select)(Q),(0,T.instanceof)(Q),(0,T.prohibited)(Q),(0,O.default)(Q),!Q.validate({type:"object",properties:{backend:{type:"object",properties:{name:{type:"string",examples:["test-repo"]},auth_scope:{type:"string",examples:["repo","public_repo"],enum:["repo","public_repo"]},cms_label_prefix:{type:"string",minLength:1},open_authoring:{type:"boolean",examples:[!0]}},required:["name"]},local_backend:{oneOf:[{type:"boolean"},{type:"object",properties:{url:{type:"string",examples:["http://localhost:8081/api/v1"]},allowed_hosts:{type:"array",items:{type:"string"}}},additionalProperties:!1}]},locale:{type:"string",examples:["en","fr","de"]},i18n:q,site_url:{type:"string",examples:["https://example.com"]},display_url:{type:"string",examples:["https://example.com"]},logo_url:{type:"string",examples:["https://example.com/images/logo.svg"]},show_preview_links:{type:"boolean"},media_folder:{type:"string",examples:["assets/uploads"]},public_folder:{type:"string",examples:["/uploads"]},media_folder_relative:{type:"boolean"},media_library:{type:"object",properties:{name:{type:"string",examples:["uploadcare"]},config:{type:"object"}},required:["name"]},publish_mode:{type:"string",enum:["simple","editorial_workflow",""],examples:["editorial_workflow"]},slug:{type:"object",properties:{encoding:{type:"string",enum:["unicode","ascii"]},clean_accents:{type:"boolean"}}},collections:{type:"array",minItems:1,items:{type:"object",properties:{name:{type:"string"},label:{type:"string"},label_singular:{type:"string"},description:{type:"string"},folder:{type:"string"},files:{type:"array",items:{type:"object",properties:{name:{type:"string"},label:{type:"string"},label_singular:{type:"string"},description:{type:"string"},file:{type:"string"},preview_path:{type:"string"},preview_path_date_field:{type:"string"},fields:H()},required:["name","label","file","fields"]},uniqueItemProperties:["name"]},identifier_field:{type:"string"},summary:{type:"string"},slug:{type:"string"},path:{type:"string"},preview_path:{type:"string"},preview_path_date_field:{type:"string"},create:{type:"boolean"},publish:{type:"boolean"},hide:{type:"boolean"},editor:{type:"object",properties:{preview:{type:"boolean"}}},format:{type:"string"},extension:{type:"string"},frontmatter_delimiter:{type:["string","array"],minItems:2,maxItems:2,items:{type:"string"}},fields:H(),sortable_fields:{type:"array",items:{type:"string"}},sortableFields:{type:"array",items:{type:"string"}},view_filters:G,view_groups:Z,nested:{type:"object",properties:{depth:{type:"number",minimum:1,maximum:1e3},summary:{type:"string"}},required:["depth"]},meta:{type:"object",properties:{path:{type:"object",properties:{label:{type:"string"},widget:{type:"string"},index_file:{type:"string"}},required:["label","widget","index_file"]}},additionalProperties:!1,minProperties:1},i18n:B},required:["name","label"],oneOf:[{required:["files"]},{required:["folder","fields"]}],not:{required:["sortable_fields","sortableFields"]},if:{required:["extension"]},then:{if:{properties:{extension:{enum:Object.keys(R.extensionFormatters)}}},else:{required:["format"]}},dependencies:{frontmatter_delimiter:{properties:{format:{enum:R.frontmatterFormats}},required:["format"]}}},uniqueItemProperties:["name"]},editor:{type:"object",properties:{preview:{type:"boolean"}}}},required:["backend","collections"],anyOf:[{required:["media_folder"]},{required:["media_library"]}]},J)){const te=Q.errors.map(se=>{switch(se.keyword){case"uniqueItemProperties":{const de=se.instancePath||"";let ie=se;return de.endsWith("/fields")?ie=z(z({},se),{},{message:"fields names must be unique"}):de.endsWith("/files")?ie=z(z({},se),{},{message:"files names must be unique"}):de.endsWith("/collections")&&(ie=z(z({},se),{},{message:"collections names must be unique"})),ie}case"instanceof":{const de=se.instancePath||"";let ie=se;return/fields\/\d+\/pattern\/\d+/.test(de)&&(ie=z(z({},se),{},{message:"must be a regular expression"})),ie}default:return se}});throw console.error("Config Errors",te),new ee(te)}};var A=j(_(96477)),T=_(66454),O=j(_(53521)),P=_(29987),R=_(85575),I=_(41891),N=_(13943);function j(J){return J&&J.__esModule?J:{default:J}}function U(J,Q){var te=Object.keys(J);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(J);Q&&(se=se.filter(function(de){return Object.getOwnPropertyDescriptor(J,de).enumerable})),te.push.apply(te,se)}return te}function z(J){for(var Q=1;Q<arguments.length;Q++){var te=arguments[Q]!=null?arguments[Q]:{};Q%2?U(Object(te),!0).forEach(function(se){var de,ie,ve,xe;de=J,ie=se,ve=te[se],(ie=typeof(xe=function(ke,Ce){if(typeof ke!="object"||!ke)return ke;var Oe=ke[Symbol.toPrimitive];if(Oe!==void 0){var Ae=Oe.call(ke,"string");if(typeof Ae!="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ke)}(ie))=="symbol"?xe:String(xe))in de?Object.defineProperty(de,ie,{value:ve,enumerable:!0,configurable:!0,writable:!0}):de[ie]=ve}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(te)):U(Object(te)).forEach(function(se){Object.defineProperty(J,se,Object.getOwnPropertyDescriptor(te,se))})}return J}const V={type:"string",minLength:2,maxLength:10,pattern:"^[a-zA-Z-_]+$"},F={type:"object",properties:{structure:{type:"string",enum:Object.values(N.I18N_STRUCTURE)},locales:{type:"array",minItems:1,items:V,uniqueItems:!0},default_locale:V}},q=z(z({},F),{},{required:["structure","locales"]}),B={oneOf:[{type:"boolean"},F]},W={oneOf:[{type:"boolean"},{type:"string",enum:Object.values(N.I18N_FIELD)}]};function H(){const J=(0,P.v4)();return{$id:`fields_${J}`,type:"array",minItems:1,items:{$id:`field_${J}`,type:"object",properties:{name:{type:"string"},label:{type:"string"},widget:{type:"string"},required:{type:"boolean"},i18n:W,hint:{type:"string"},pattern:{type:"array",minItems:2,items:[{oneOf:[{type:"string"},{instanceof:"RegExp"}]},{type:"string"}]},field:{$ref:`field_${J}`},fields:{$ref:`fields_${J}`},types:{$ref:`fields_${J}`}},select:{$data:"0/widget"},selectCases:z({},Y()),required:["name"]},uniqueItemProperties:["name"]}}const G={type:"array",minItems:1,items:{type:"object",properties:{label:{type:"string"},field:{type:"string"},pattern:{oneOf:[{type:"boolean"},{type:"string"}]}},additionalProperties:!1,required:["label","field","pattern"]}},Z={type:"array",minItems:1,items:{type:"object",properties:{label:{type:"string"},field:{type:"string"},pattern:{type:"string"}},additionalProperties:!1,required:["label","field"]}};function Y(){const J=(0,I.getWidgets)().map(Q=>({[Q.name]:Q.schema}));return Object.assign(...J)}class ee extends function(Q){function te(){var se=Reflect.construct(Q,Array.from(arguments));return Object.setPrototypeOf(se,Object.getPrototypeOf(this)),se}return te.prototype=Object.create(Q.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(te,Q):te.__proto__=Q,te}(Error){constructor(Q,...te){const se=Q.map(({message:de,instancePath:ie})=>{const ve=ie.slice(1).split("/").map(xe=>xe.match(/^\d+$/)?`[${xe}]`:`.${xe}`).join("").slice(1);return`${ve?`'${ve}'`:"config"} ${de}`}).join(`
`);super(se,...te),this.errors=Q,this.message=se}toString(){return this.message}}},39010:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.SORTABLE_FIELDS=E.INFERABLE_FIELDS=E.IDENTIFIER_FIELDS=void 0,(A=_(12244))&&A.__esModule;var A,T=_(28165);E.IDENTIFIER_FIELDS=["title","path"],E.SORTABLE_FIELDS=["title","date","author","description"],E.INFERABLE_FIELDS={title:{type:"string",secondaryTypes:[],synonyms:["title","name","label","headline","header"],defaultPreview:O=>(0,T.jsx)("h1",null,O),fallbackToFirstField:!0,showError:!0},shortTitle:{type:"string",secondaryTypes:[],synonyms:["short_title","shortTitle","short"],defaultPreview:O=>(0,T.jsx)("h2",null,O),fallbackToFirstField:!1,showError:!1},author:{type:"string",secondaryTypes:[],synonyms:["author","name","by","byline","owner"],defaultPreview:O=>(0,T.jsx)("strong",null,O),fallbackToFirstField:!1,showError:!1},date:{type:"datetime",secondaryTypes:["date"],synonyms:["date","publishDate","publish_date"],defaultPreview:O=>O,fallbackToFirstField:!1,showError:!1},description:{type:"string",secondaryTypes:["text","markdown"],synonyms:["shortDescription","short_description","shortdescription","description","intro","introduction","brief","content","biography","bio","summary"],defaultPreview:O=>O,fallbackToFirstField:!1,showError:!1},image:{type:"image",secondaryTypes:[],synonyms:["image","thumbnail","thumb","picture","avatar","photo","cover","hero","logo"],defaultPreview:O=>O,fallbackToFirstField:!1,showError:!1}}},61928:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.statusDescriptions=E.status=E.Statues=E.SIMPLE=E.EDITORIAL_WORKFLOW=void 0;var A=_(46670);E.SIMPLE="simple",E.EDITORIAL_WORKFLOW="editorial_workflow";const T=E.Statues={DRAFT:"draft",PENDING_REVIEW:"pending_review",PENDING_PUBLISH:"pending_publish"},O=E.status=(0,A.OrderedMap)(T);E.statusDescriptions=(0,A.Map)({[O.get("DRAFT")]:"Draft",[O.get("PENDING_REVIEW")]:"Waiting for Review",[O.get("PENDING_PUBLISH")]:"Waiting to go live"})},1757:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default={PRESENCE:"PRESENCE",PATTERN:"PATTERN",RANGE:"RANGE",CUSTOM:"CUSTOM"}},85575:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.frontmatterFormats=E.formatExtensions=E.extensionFormatters=void 0,E.getFormatExtensions=function(){return z(z({},V),(0,N.getCustomFormatsExtensions)())},E.resolveFormat=function(B,W){const H=B.get("frontmatter_delimiter"),G=(Y=H,T.List.isList(Y)?H.toArray():H),Z=B.get("format");var Y;if(Z)return q(Z,G);const ee=W&&W.path;if(ee){const Q=ee.split(".").pop();if(Q)return(0,A.default)(F,Q)}const J=B.get("extension");return J?(0,A.default)(F,J):q("frontmatter",G)};var A=j(_(72579)),T=_(46670),O=j(_(45367)),P=j(_(94379)),R=j(_(93223)),I=_(43303),N=_(41891);function j(B){return B&&B.__esModule?B:{default:B}}function U(B,W){var H=Object.keys(B);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(B);W&&(G=G.filter(function(Z){return Object.getOwnPropertyDescriptor(B,Z).enumerable})),H.push.apply(H,G)}return H}function z(B){for(var W=1;W<arguments.length;W++){var H=arguments[W]!=null?arguments[W]:{};W%2?U(Object(H),!0).forEach(function(G){var Z,Y,ee,J;Z=B,Y=G,ee=H[G],(Y=typeof(J=function(Q,te){if(typeof Q!="object"||!Q)return Q;var se=Q[Symbol.toPrimitive];if(se!==void 0){var de=se.call(Q,"string");if(typeof de!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(Y))=="symbol"?J:String(J))in Z?Object.defineProperty(Z,Y,{value:ee,enumerable:!0,configurable:!0,writable:!0}):Z[Y]=ee}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(H)):U(Object(H)).forEach(function(G){Object.defineProperty(B,G,Object.getOwnPropertyDescriptor(H,G))})}return B}E.frontmatterFormats=["yaml-frontmatter","toml-frontmatter","json-frontmatter"];const V=E.formatExtensions={yml:"yml",yaml:"yml",toml:"toml",json:"json",frontmatter:"md","json-frontmatter":"md","toml-frontmatter":"md","yaml-frontmatter":"md"},F=E.extensionFormatters={yml:O.default,yaml:O.default,toml:P.default,json:R.default,md:I.FrontmatterInfer,markdown:I.FrontmatterInfer,html:I.FrontmatterInfer};function q(B,W){const H=z({yml:O.default,yaml:O.default,toml:P.default,json:R.default,frontmatter:I.FrontmatterInfer,"json-frontmatter":(0,I.frontmatterJSON)(W),"toml-frontmatter":(0,I.frontmatterTOML)(W),"yaml-frontmatter":(0,I.frontmatterYAML)(W)},(0,N.getCustomFormatsFormatters)());if(B in H)return H[B];throw new Error(`No formatter available with name: ${B}`)}},43303:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.FrontmatterInfer=E.FrontmatterFormatter=void 0,E.frontmatterJSON=function(B){return new q(z.JSON,B)},E.frontmatterTOML=function(B){return new q(z.TOML,B)},E.frontmatterYAML=function(B){return new q(z.YAML,B)},E.getFormatOpts=F;var A=I(_(61035)),T=I(_(94379)),O=I(_(45367)),P=I(_(93223));const R=["body"];function I(B){return B&&B.__esModule?B:{default:B}}function N(B,W){var H=Object.keys(B);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(B);W&&(G=G.filter(function(Z){return Object.getOwnPropertyDescriptor(B,Z).enumerable})),H.push.apply(H,G)}return H}function j(B){for(var W=1;W<arguments.length;W++){var H=arguments[W]!=null?arguments[W]:{};W%2?N(Object(H),!0).forEach(function(G){U(B,G,H[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(H)):N(Object(H)).forEach(function(G){Object.defineProperty(B,G,Object.getOwnPropertyDescriptor(H,G))})}return B}function U(B,W,H){var G;return(W=typeof(G=function(Z,Y){if(typeof Z!="object"||!Z)return Z;var ee=Z[Symbol.toPrimitive];if(ee!==void 0){var J=ee.call(Z,"string");if(typeof J!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(W))=="symbol"?G:String(G))in B?Object.defineProperty(B,W,{value:H,enumerable:!0,configurable:!0,writable:!0}):B[W]=H,B}const z={YAML:"yaml",TOML:"toml",JSON:"json"},V={toml:{parse:B=>T.default.fromFile(B),stringify:(B,W)=>{const{sortedKeys:H}=W||{};return T.default.toFile(B,H)}},json:{parse:B=>{let W=B.trim();return W.slice(0,1)!=="{"&&(W="{"+W+"}"),P.default.fromFile(W)},stringify:B=>{let W=P.default.toFile(B).trim();return W.slice(0,1)==="{"&&W.slice(-1)==="}"&&(W=W.slice(1,-1)),W}},yaml:{parse:B=>O.default.fromFile(B),stringify:(B,W)=>{const{sortedKeys:H,comments:G}=W||{};return O.default.toFile(B,H,G)}}};function F(B,W){if(!B)return;const H={yaml:{language:z.YAML,delimiters:"---"},toml:{language:z.TOML,delimiters:"+++"},json:{language:z.JSON,delimiters:["{","}"]}},{language:G,delimiters:Z}=H[B];return{language:G,delimiters:W||Z}}class q{constructor(W,H){U(this,"format",void 0),this.format=F(W,H)}fromFile(W){const H=this.format||function(Z){const Y=Z.indexOf(`
`),ee=Z.slice(0,Y!==-1?Y:0).trim();if(!(ee.length>3&&ee.slice(0,3)==="---"))switch(ee){case"---":return F(z.YAML);case"+++":return F(z.TOML);case"{":return F(z.JSON);default:console.warn("Unrecognized front-matter format.")}}(W),G=(0,A.default)(W,j({engines:V},H));return j(j({},G.data),G.content.trim()&&{body:G.content})}toFile(W,H,G){const{body:Z=""}=W,Y=function(te,se){if(te==null)return{};var de,ie,ve=function(ke,Ce){if(ke==null)return{};var Oe,Ae,Pe={},Ee=Object.keys(ke);for(Ae=0;Ae<Ee.length;Ae++)Oe=Ee[Ae],Ce.indexOf(Oe)>=0||(Pe[Oe]=ke[Oe]);return Pe}(te,se);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(te);for(ie=0;ie<xe.length;ie++)de=xe[ie],se.indexOf(de)>=0||Object.prototype.propertyIsEnumerable.call(te,de)&&(ve[de]=te[de])}return ve}(W,R),ee=this.format||F(z.YAML),J=Z.slice(-1)!==`
`,Q=A.default.stringify(Z,Y,j({engines:V,sortedKeys:H,comments:G},ee));return J&&Q.slice(-1)===`
`?Q.slice(0,-1):Q}}E.FrontmatterFormatter=q,E.FrontmatterInfer=new q},67048:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.sortKeys=function(_,A=T=>T){return(T,O)=>{const P=_.indexOf(A(T)),R=_.indexOf(A(O));return P===-1||R===-1?0:P>R?1:P<R?-1:0}}},93223:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default={fromFile:_=>JSON.parse(_),toFile:_=>JSON.stringify(_,null,2)}},94379:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=I(_(6901)),T=I(_(56330)),O=I(_(28879)),P=I(_(25606)),R=_(67048);function I(j){return j&&j.__esModule?j:{default:j}}function N(j,U){return O.default.isDayjs(U)?U.format(U._f):U instanceof P.default?`${U.path}`:!(typeof U!="number"||!Number.isInteger(U))&&U.toString()}E.default={fromFile:j=>A.default.parse(j),toFile:(j,U=[])=>T.default.toToml(j,{replace:N,sort:(0,R.sortKeys)(U)})}},45367:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A,T=(A=_(60155))&&A.__esModule?A:{default:A},O=_(67048);function P(I,N,j=""){I.forEach(U=>{if(U.key!==void 0){var z;const V=U.key.toString(),F=j?`${j}.${V}`:V;if(N[F]){const q=N[F].split("\\n").join(`
 `);U.commentBefore=` ${q}`}Array.isArray((z=U.value)===null||z===void 0?void 0:z.items)&&P(U.value.items,N,F)}})}const R={identify:I=>I instanceof Date,default:!0,tag:"!timestamp",test:RegExp("^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2}(\\.[0-9]+)?)Z$"),resolve:I=>new Date(I),stringify:I=>I.toISOString()};E.default={fromFile:I=>(I&&I.trim().endsWith("---")&&(I=I.trim().slice(0,-3)),T.default.parse(I,{customTags:[R]})),toFile(I,N=[],j={}){const U=T.default.createNode(I);P(U.items,j),U.items.sort((0,O.sortKeys)(N,V=>{var F;return(F=V.key)===null||F===void 0?void 0:F.toString()}));const z=new T.default.Document;return z.contents=U,z.toString()}}},84185:($,E,_)=>{E.Nw=void 0;var A=O(_(4342)),T=O(_(41891));function O(I){return I&&I.__esModule?I:{default:I}}function P(I,N){var j=Object.keys(I);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(I);N&&(U=U.filter(function(z){return Object.getOwnPropertyDescriptor(I,z).enumerable})),j.push.apply(j,U)}return j}function R(I){for(var N=1;N<arguments.length;N++){var j=arguments[N]!=null?arguments[N]:{};N%2?P(Object(j),!0).forEach(function(U){var z,V,F,q;z=I,V=U,F=j[U],(V=typeof(q=function(B,W){if(typeof B!="object"||!B)return B;var H=B[Symbol.toPrimitive];if(H!==void 0){var G=H.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(V))=="symbol"?q:String(q))in z?Object.defineProperty(z,V,{value:F,enumerable:!0,configurable:!0,writable:!0}):z[V]=F}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(j)):P(Object(j)).forEach(function(U){Object.defineProperty(I,U,Object.getOwnPropertyDescriptor(j,U))})}return I}E.Nw=R(R({},T.default),{},{init:A.default})},766:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.getIntegrationProvider=void 0,E.resolveIntegrations=R;var A=_(46670),T=P(_(615)),O=P(_(99238));function P(I){return I&&I.__esModule?I:{default:I}}function R(I,N){let j=(0,A.Map)({});return I.get("providers").forEach((U,z)=>{switch(z){case"algolia":j=j.set("algolia",new T.default(U));break;case"assetStore":j=j.set("assetStore",new O.default(U,N))}}),j}E.getIntegrationProvider=function(){let I=null;return(N,j,U)=>(I||(I=R(N,j)),I.get(U))}()},615:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A,T=(A=_(35676))&&A.__esModule?A:{default:A},O=_(33806),P=_(15583),R=_(45624);function I(z,V){var F=Object.keys(z);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(z);V&&(q=q.filter(function(B){return Object.getOwnPropertyDescriptor(z,B).enumerable})),F.push.apply(F,q)}return F}function N(z){for(var V=1;V<arguments.length;V++){var F=arguments[V]!=null?arguments[V]:{};V%2?I(Object(F),!0).forEach(function(q){j(z,q,F[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(F)):I(Object(F)).forEach(function(q){Object.defineProperty(z,q,Object.getOwnPropertyDescriptor(F,q))})}return z}function j(z,V,F){var q;return(V=typeof(q=function(B,W){if(typeof B!="object"||!B)return B;var H=B[Symbol.toPrimitive];if(H!==void 0){var G=H.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(V))=="symbol"?q:String(q))in z?Object.defineProperty(z,V,{value:F,enumerable:!0,configurable:!0,writable:!0}):z[V]=F,z}const{fetchWithTimeout:U}=O.unsentRequest;E.default=class{constructor(z){if(this.config=z,z.get("applicationID")==null||z.get("apiKey")==null)throw"The Algolia search integration needs the credentials (applicationID and apiKey) in the integration configuration.";this.applicationID=z.get("applicationID"),this.apiKey=z.get("apiKey");const V=z.get("indexPrefix");this.indexPrefix=V?`${V}-`:"",this.searchURL=`https://${this.applicationID}-dsn.algolia.net/1`,this.entriesCache={collection:null,page:null,entries:[]}}requestHeaders(z={}){return N({"X-Algolia-API-Key":this.apiKey,"X-Algolia-Application-Id":this.applicationID,"Content-Type":"application/json"},z)}parseJsonResponse(z){return z.json().then(V=>z.ok?V:Promise.reject(V))}urlFor(z,V){const F=[];if(V.params)for(const q in V.params)F.push(`${q}=${encodeURIComponent(V.params[q])}`);return F.length&&(z+=`?${F.join("&")}`),z}request(z,V={}){const F=this.requestHeaders(V.headers||{}),q=this.urlFor(z,V);return U(q,N(N({},V),{},{headers:F})).then(B=>{const W=B.headers.get("Content-Type");return W&&W.match(/json/)?this.parseJsonResponse(B):B.text()})}search(z,V,F){const q=z.map(B=>({indexName:`${this.indexPrefix}${B}`,params:`query=${V}&page=${F}`}));return this.request(`${this.searchURL}/indexes/*/queries`,{method:"POST",body:JSON.stringify({requests:q})}).then(B=>{const W=B.results.map((H,G)=>H.hits.map(Z=>{const Y=Z.path.split("/").pop().replace(/\.[^.]+$/,"");return(0,P.createEntry)(z[G],Y,Z.path,{data:Z.data,partial:!0})}));return{entries:(0,T.default)(W),pagination:F}})}searchBy(z,V,F){return this.request(`${this.searchURL}/indexes/${this.indexPrefix}${V}`,{params:{restrictSearchableAttributes:z,query:F}})}listEntries(z,V){return this.entriesCache.collection===z&&this.entriesCache.page===V?Promise.resolve({page:this.entriesCache.page,entries:this.entriesCache.entries}):this.request(`${this.searchURL}/indexes/${this.indexPrefix}${z.get("name")}`,{params:{page:V}}).then(F=>{const q=F.hits.map(B=>{const W=(0,R.selectEntrySlug)(z,B.path);return(0,P.createEntry)(z.get("name"),W,B.path,{data:B.data,partial:!0})});return this.entriesCache={collection:z,pagination:F.page,entries:q},{entries:q,pagination:F.page}})}async listAllEntries(z){const V={hitsPerPage:1e3};let F=await this.request(`${this.searchURL}/indexes/${this.indexPrefix}${z.get("name")}`,{params:V}),{nbPages:q=0,hits:B,page:W}=F;for(W+=1;W<q;)F=await this.request(`${this.searchURL}/indexes/${this.indexPrefix}${z.get("name")}`,{params:N(N({},V),{},{page:W})}),B=[...B,...F.hits],W+=1;return B.map(H=>{const G=(0,R.selectEntrySlug)(z,H.path);return(0,P.createEntry)(z.get("name"),G,H.path,{data:H.data,partial:!0})})}getEntry(z,V){return this.searchBy("slug",z.get("name"),V).then(F=>{const q=F.hits.filter(B=>B.slug===V)[0];return(0,P.createEntry)(z.get("name"),V,q.path,{data:q.data,partial:!0})})}}},99238:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=R(_(1573)),T=R(_(42208)),O=_(33806),P=_(9904);function R(U){return U&&U.__esModule?U:{default:U}}function I(U,z){var V=Object.keys(U);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(U);z&&(F=F.filter(function(q){return Object.getOwnPropertyDescriptor(U,q).enumerable})),V.push.apply(V,F)}return V}function N(U){for(var z=1;z<arguments.length;z++){var V=arguments[z]!=null?arguments[z]:{};z%2?I(Object(V),!0).forEach(function(F){var q,B,W,H;q=U,B=F,W=V[F],(B=typeof(H=function(G,Z){if(typeof G!="object"||!G)return G;var Y=G[Symbol.toPrimitive];if(Y!==void 0){var ee=Y.call(G,"string");if(typeof ee!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(B))=="symbol"?H:String(H))in q?Object.defineProperty(q,B,{value:W,enumerable:!0,configurable:!0,writable:!0}):q[B]=W}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(V)):I(Object(V)).forEach(function(F){Object.defineProperty(U,F,Object.getOwnPropertyDescriptor(V,F))})}return U}const{fetchWithTimeout:j}=O.unsentRequest;E.default=class{constructor(U,z){if(this.config=U,U.get("getSignedFormURL")==null)throw"The AssetStore integration needs the getSignedFormURL in the integration configuration.";this.getToken=z,this.shouldConfirmUpload=U.get("shouldConfirmUpload",!1),this.getSignedFormURL=(0,A.default)(U.get("getSignedFormURL"),"/")}parseJsonResponse(U){return U.json().then(z=>U.ok?z:Promise.reject(z))}urlFor(U,z){const V=[];if(z.params)for(const F in z.params)V.push(`${F}=${encodeURIComponent(z.params[F])}`);return V.length&&(U+=`?${V.join("&")}`),U}requestHeaders(U={}){return N({},U)}confirmRequest(U){this.getToken().then(z=>this.request(`${this.getSignedFormURL}/${U}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({state:"uploaded"})}))}async request(U,z={}){const V=this.requestHeaders(z.headers||{}),F=this.urlFor(U,z),q=await j(F,N(N({},z),{},{headers:V})),B=q.headers.get("Content-Type");return B&&B.match(/json/)?await this.parseJsonResponse(q):q.text()}async retrieve(U,z,V){const F=(0,T.default)({search:U,page:z,filter:V?"private":"public"},W=>!!W),q=(0,P.addParams)(this.getSignedFormURL,F),B={"Content-Type":"application/json",Authorization:`Bearer ${await this.getToken()}`};return(await this.request(q,{headers:B})).map(({id:W,name:H,size:G,url:Z})=>({id:W,name:H,size:G,displayURL:Z,url:Z,path:Z}))}delete(U){const z=`${this.getSignedFormURL}/${U}`;return this.getToken().then(V=>this.request(z,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`}}))}async upload(U,z=!1){const V={name:U.name,size:U.size};U.type&&(V.content_type=U.type),z&&(V.visibility="private");try{const F=await this.getToken(),q=await this.request(this.getSignedFormURL,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify(V)}),B=q.form.url,W=q.form.fields,{id:H,name:G,size:Z,url:Y}=q.asset,ee=new FormData;return Object.keys(W).forEach(J=>ee.append(J,W[J])),ee.append("file",U,U.name),await this.request(B,{method:"POST",body:ee}),this.shouldConfirmUpload&&await this.confirmRequest(H),{success:!0,asset:{id:H,name:G,size:Z,displayURL:Y,url:Y,path:Y}}}catch(F){throw console.error(F),F}}}},54876:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(_,A){console.error(`%c ⛔ ${_}
%c${A}

`,"color: black; font-weight: bold; font-size: 16px; line-height: 50px;","color: black;")}},59311:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.commitMessageFormatter=function(te,se,{slug:de,path:ie,collection:ve,authorLogin:xe,authorName:ke},Ce){const Oe=q(q({},Y),se.backend.commit_messages||{}),Ae=Oe[te].replace(ee,(Pe,Ee)=>{switch(Ee){case"slug":return de||"";case"path":return ie||"";case"collection":return ve?ve.get("label_singular")||ve.get("label"):"";case"author-login":return xe||"";case"author-name":return ke||"";default:return console.warn(`Ignoring unknown variable “${Ee}” in commit message template.`),""}});return Ce?Oe.openAuthoring.replace(ee,(Pe,Ee)=>{switch(Ee){case"message":return Ae;case"author-login":return xe||"";case"author-name":return ke||"";default:return console.warn(`Ignoring unknown variable “${Ee}” in open authoring message template.`),""}}):Ae},E.folderFormatter=function(te,se,de,ie,ve,xe){if(!se||!se.get("data"))return te;let ke=se.get("data").set(ve,ie);ke=Z(se.get("path"),ke,de.get("folder"));const Ce=W(se,(0,N.selectInferredField)(de,"date"))||null,Oe=ke.getIn(G((0,N.selectIdentifier)(de))),Ae=Q(xe,[ie,ke.get("dirname")]);return B(te,Ce,Oe,ke,Ae)},E.getProcessSegment=Q,E.prepareSlug=J,E.previewUrlFormatter=function(te,se,de,ie,ve){if(!te)return;const xe=(0,T.default)(te,"/"),ke=se.get("type")===U.FILES?(0,N.getFileFromSlug)(se,ie.get("slug")):void 0,Ce=(Oe=ke==null?void 0:ke.get("preview_path"))!==null&&Oe!==void 0?Oe:se.get("preview_path");var Oe;if(!Ce)return te;let Ae=ie.get("data");Ae=Z(ie.get("path"),Ae,se.get("folder"));const Pe=((Re=ke==null?void 0:ke.get("preview_path_date_field"))!==null&&Re!==void 0?Re:se.get("preview_path_date_field"))||(0,N.selectInferredField)(se,"date"),Ee=W(ie,Pe),Te=Q(ve,[Ae.get("dirname")]);var Re;let Me;try{Me=B(Ce,Ee,de,Ae,Te)}catch(ze){if(ze.name===H)return console.error(I.stripIndent`
        Collection "${se.get("name")}" configuration error:
          \`preview_path_date_field\` must be a field with a valid date. Ignoring \`preview_path\`.
      `),xe;throw ze}return`${xe}/${(0,A.default)(Me," /")}`},E.slugFormatter=function(te,se,de){const ie=te.get("slug")||"{{slug}}",ve=se.getIn(G((0,N.selectIdentifier)(te)));if(!ve)throw new Error("Collection must have a field name that is a valid entry identifier, or must have `identifier_field` set");const xe=Q(de),ke=new Date,Ce=B(ie,ke,ve,se,xe);if(te.has("path")){const Oe=J(te.get("path"));return B(Oe,ke,Ce,se,Ae=>Ae===Ce?Ae:xe(Ae))}return Ce},E.summaryFormatter=function(te,se,de){let ie=se.get("data");const ve=W(se,(0,N.selectInferredField)(de,"date"))||null,xe=ie.getIn(G((0,N.selectIdentifier)(de)));return ie=Z(se.get("path"),ie,de.get("folder")),se.get("author")&&!(0,N.selectField)(de,z.COMMIT_AUTHOR)&&(ie=ie.set(z.COMMIT_AUTHOR,se.get("author"))),se.get("updatedOn")&&!(0,N.selectField)(de,z.COMMIT_DATE)&&(ie=ie.set(z.COMMIT_DATE,se.get("updatedOn"))),B(te,ve,xe,ie)};var A=V(_(93433)),T=V(_(1573)),O=V(_(26434)),P=V(_(85395)),R=_(1704),I=_(13856),N=_(45624),j=_(9904),U=_(48781),z=_(93492);function V(te){return te&&te.__esModule?te:{default:te}}function F(te,se){var de=Object.keys(te);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(te);se&&(ie=ie.filter(function(ve){return Object.getOwnPropertyDescriptor(te,ve).enumerable})),de.push.apply(de,ie)}return de}function q(te){for(var se=1;se<arguments.length;se++){var de=arguments[se]!=null?arguments[se]:{};se%2?F(Object(de),!0).forEach(function(ie){var ve,xe,ke,Ce;ve=te,xe=ie,ke=de[ie],(xe=typeof(Ce=function(Oe,Ae){if(typeof Oe!="object"||!Oe)return Oe;var Pe=Oe[Symbol.toPrimitive];if(Pe!==void 0){var Ee=Pe.call(Oe,"string");if(typeof Ee!="object")return Ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Oe)}(xe))=="symbol"?Ce:String(Ce))in ve?Object.defineProperty(ve,xe,{value:ke,enumerable:!0,configurable:!0,writable:!0}):ve[xe]=ke}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(de)):F(Object(de)).forEach(function(ie){Object.defineProperty(te,ie,Object.getOwnPropertyDescriptor(de,ie))})}return te}const{compileStringTemplate:B,parseDateFromEntry:W,SLUG_MISSING_REQUIRED_DATE:H,keyToPathArray:G,addFileTemplateFields:Z}=R.stringTemplate,Y={create:"Create {{collection}} “{{slug}}”",update:"Update {{collection}} “{{slug}}”",delete:"Delete {{collection}} “{{slug}}”",uploadMedia:"Upload “{{path}}”",deleteMedia:"Delete “{{path}}”",openAuthoring:"{{message}}"},ee=/\{\{([^}]+)\}\}/g;function J(te){return te.trim().toLocaleLowerCase().replace(/[']/g,"").replace(/[.]/g,"-")}function Q(te,se){return de=>se&&se.includes(de)?de:(0,P.default)([ie=>String(ie),J,(0,O.default)(j.sanitizeSlug,te)])(de)}},13943:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.I18N_STRUCTURE=E.I18N_FIELD=E.I18N=void 0,E.duplicateDefaultI18nFields=function(Q,te){const{locales:se,defaultLocale:de}=q(Q);return Object.fromEntries(se.filter(ie=>ie!==de).map(ie=>[ie,{data:te}]))},E.duplicateI18nFields=function Q(te,se,de,ie,ve=[se.get("name")]){const xe=te.getIn(["entry","data",...ve]);return se.get(U)===V.DUPLICATE&&de.filter(ke=>ke!==ie).forEach(ke=>{te=te.setIn(["entry",...W(ke,ie),...ve],xe)}),se.has("field")&&!P.List.isList(xe)?[se.get("field")].forEach(ke=>{te=Q(te,ke,de,ie,[...ve,ke.get("name")])}):se.has("fields")&&!P.List.isList(xe)&&se.get("fields").toArray().forEach(ke=>{te=Q(te,ke,de,ie,[...ve,ke.get("name")])}),te},E.formatI18nBackup=function(Q,te){return Object.entries(Q).reduce((se,[de,{raw:ie}])=>{const ve=te(ie);return j(j({},se),{},{[de]:{data:ve.data}})},{})},E.getDataPath=W,E.getFilePath=H,E.getFilePaths=Z,E.getI18nBackup=function(Q,te,se){const{locales:de,defaultLocale:ie}=q(Q);return de.filter(ve=>ve!==ie).reduce((ve,xe)=>{const ke=W(xe,ie),Ce=te.getIn(ke);if(!Ce)return ve;const Oe=te.set("data",Ce);return j(j({},ve),{},{[xe]:{raw:se(Oe)}})},{})},E.getI18nDataFiles=function(Q,te,se,de,ie){const{structure:ve}=q(Q);return ve===z.SINGLE_FILE?ie:Z(Q,te,se,de).reduce((xe,ke)=>{const Ce=ie.find(Oe=>Oe.path===ke);return Ce?[...xe,Ce]:[...xe,{path:ke,id:"",newFile:!1}]},[])},E.getI18nEntry=async function(Q,te,se,de,ie){const{structure:ve,locales:xe,defaultLocale:ke}=q(Q);let Ce;if(ve===z.SINGLE_FILE)Ce=J(await ie(se),ke,xe);else{const Oe=(await Promise.all(xe.map(async Ae=>{const Pe=H(ve,te,se,de,Ae);return{value:await ie(Pe).catch(()=>null),locale:Ae}}))).filter(Ae=>Ae.value!==null);Ce=ee(Q,ve,ke,Oe)}return Ce},E.getI18nFiles=function(Q,te,se,de,ie,ve,xe){const{structure:ke,defaultLocale:Ce,locales:Oe}=q(Q);if(ke===z.SINGLE_FILE){const Ae=Oe.reduce((Ee,Te)=>{const Re=W(Te,Ce);return Ee.set(Te,se.getIn(Re))},(0,P.Map)({})),Pe=se.set("data",Ae);return[j({path:H(ke,te,ie,ve,Oe[0]),slug:ve,raw:de(Pe)},xe&&{newPath:H(ke,te,xe,ve,Oe[0])})]}return Oe.map(Ae=>{const Pe=W(Ae,Ce),Ee=se.set("data",se.getIn(Pe));return j({path:H(ke,te,ie,ve,Ae),slug:ve,raw:Ee.get("data")?de(Ee):""},xe&&{newPath:H(ke,te,xe,ve,Ae)})}).filter(Ae=>Ae.raw)},E.getI18nFilesDepth=function(Q,te){const{structure:se}=q(Q);return se===z.MULTIPLE_FOLDERS?te+1:te},E.getI18nInfo=q,E.getLocaleDataPath=B,E.getLocaleFromPath=G,E.getPreviewEntry=function(Q,te,se){return te===se?Q:Q.set("data",Q.getIn([U,te,"data"]))},E.groupEntries=function(Q,te,se){const{structure:de,defaultLocale:ie,locales:ve}=q(Q);if(de===z.SINGLE_FILE)return se.map(ke=>J(ke,ie,ve));const xe=(0,T.default)(se.map(ke=>({locale:G(de,te,ke.path),value:ke})),({locale:ke,value:Ce})=>Y(de,Ce.path,ke));return Object.values(xe).reduce((ke,Ce)=>[...ke,ee(Q,de,ie,Ce)],[])},E.hasI18n=F,E.isFieldDuplicate=function(Q,te,se){return te!==se&&Q.get(U)===V.DUPLICATE},E.isFieldHidden=function(Q,te,se){return te!==se&&Q.get(U)===V.NONE},E.isFieldTranslatable=function(Q,te,se){return te!==se&&Q.get(U)===V.TRANSLATE},E.normalizeFilePath=Y,E.serializeI18n=function(Q,te,se){const{locales:de,defaultLocale:ie}=q(Q);return de.filter(ve=>ve!==ie).forEach(ve=>{const xe=B(ve);te=te.setIn(xe,se(te.getIn(xe)))}),te};var A=I(_(89166)),T=I(_(3440)),O=I(_(16765)),P=_(46670),R=_(45624);function I(Q){return Q&&Q.__esModule?Q:{default:Q}}function N(Q,te){var se=Object.keys(Q);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(Q);te&&(de=de.filter(function(ie){return Object.getOwnPropertyDescriptor(Q,ie).enumerable})),se.push.apply(se,de)}return se}function j(Q){for(var te=1;te<arguments.length;te++){var se=arguments[te]!=null?arguments[te]:{};te%2?N(Object(se),!0).forEach(function(de){var ie,ve,xe,ke;ie=Q,ve=de,xe=se[de],(ve=typeof(ke=function(Ce,Oe){if(typeof Ce!="object"||!Ce)return Ce;var Ae=Ce[Symbol.toPrimitive];if(Ae!==void 0){var Pe=Ae.call(Ce,"string");if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(ve))=="symbol"?ke:String(ke))in ie?Object.defineProperty(ie,ve,{value:xe,enumerable:!0,configurable:!0,writable:!0}):ie[ve]=xe}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(se)):N(Object(se)).forEach(function(de){Object.defineProperty(Q,de,Object.getOwnPropertyDescriptor(se,de))})}return Q}const U=E.I18N="i18n";let z=E.I18N_STRUCTURE=function(Q){return Q.MULTIPLE_FOLDERS="multiple_folders",Q.MULTIPLE_FILES="multiple_files",Q.SINGLE_FILE="single_file",Q}({}),V=E.I18N_FIELD=function(Q){return Q.TRANSLATE="translate",Q.DUPLICATE="duplicate",Q.NONE="none",Q}({});function F(Q){return Q.has(U)}function q(Q){if(!F(Q))return{};const{structure:te,locales:se,default_locale:de}=Q.get(U).toJS();return{structure:te,locales:se,defaultLocale:de}}function B(Q){return[U,Q,"data"]}function W(Q,te){return Q!==te?B(Q):["data"]}function H(Q,te,se,de,ie){switch(Q){case z.MULTIPLE_FOLDERS:return se.replace(`/${de}`,`/${ie}/${de}`);case z.MULTIPLE_FILES:return se.replace(new RegExp(`${(0,A.default)(te)}$`),`${ie}.${te}`);case z.SINGLE_FILE:default:return se}}function G(Q,te,se){switch(Q){case z.MULTIPLE_FOLDERS:{const de=se.split("/");return de.pop(),de.pop()}case z.MULTIPLE_FILES:return se.slice(0,-`.${te}`.length).split(".").pop();case z.SINGLE_FILE:default:return""}}function Z(Q,te,se,de){const{structure:ie,locales:ve}=q(Q);return ie===z.SINGLE_FILE?[se]:ve.map(xe=>H(ie,te,se,de,xe))}function Y(Q,te,se){switch(Q){case z.MULTIPLE_FOLDERS:return te.replace(`${se}/`,"");case z.MULTIPLE_FILES:return te.replace(`.${se}`,"");case z.SINGLE_FILE:default:return te}}function ee(Q,te,se,de){let ie=de.find(Ce=>Ce.locale===se);ie||(ie=de[0],console.warn(`Could not locale entry for default locale '${se}'`));const ve=de.filter(Ce=>Ce.locale!==ie.locale).reduce((Ce,{locale:Oe,value:Ae})=>{const Pe=B(Oe);return(0,O.default)(Ce,Pe,Ae.data)},{}),xe=Y(te,ie.value.path,se),ke=(0,R.selectEntrySlug)(Q,xe);return j(j(j({},ie.value),{},{raw:""},ve),{},{path:xe,slug:ke})}function J(Q,te,se){const de=Q.data[te]||{},ie=se.filter(ve=>ve!==te).map(ve=>({locale:ve,value:Q.data[ve]})).filter(ve=>ve.value).reduce((ve,xe)=>j(j({},ve),{},{[xe.locale]:{data:xe.value}}),{});return j(j({},Q),{},{data:de,i18n:ie,raw:""})}},99187:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.getPhrases=function(P){return(0,T.default)({},(0,O.getLocale)("en"),(0,O.getLocale)(P))};var A,T=(A=_(98537))&&A.__esModule?A:{default:A},O=_(41891)},41891:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.getBackend=xe,E.getCustomFormats=Le,E.getCustomFormatsExtensions=je,E.getCustomFormatsFormatters=Ne,E.getEditorComponents=Q,E.getEventListeners=Ae,E.getFormatter=function(qe){var Ye;return(Ye=F.formats[qe])===null||Ye===void 0?void 0:Ye.formatter},E.getLocale=Me,E.getMediaLibrary=Ce,E.getPreviewStyles=B,E.getPreviewTemplate=H,E.getRemarkPlugins=se,E.getWidget=Z,E.getWidgetValueSerializer=ie,E.getWidgets=Y,E.invokeEvent=Ee,E.registerBackend=ve,E.registerCustomFormat=ze,E.registerEditorComponent=J,E.registerEventListener=Pe,E.registerLocale=Re,E.registerMediaLibrary=ke,E.registerPreviewStyle=q,E.registerPreviewTemplate=W,E.registerRemarkPlugin=te,E.registerWidget=G,E.registerWidgetValueSerializer=de,E.removeEventListener=Te,E.resolveWidget=ee;var A,T=_(46670),O=_(30412),P=_(13856),R=(A=_(57331))&&A.__esModule?A:{default:A};const I=["name","controlComponent","previewComponent","schema","allowMapValue","globalStyles"];function N(qe,Ye){var Ve=Object.keys(qe);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(qe);Ye&&(tt=tt.filter(function(it){return Object.getOwnPropertyDescriptor(qe,it).enumerable})),Ve.push.apply(Ve,tt)}return Ve}function j(qe){for(var Ye=1;Ye<arguments.length;Ye++){var Ve=arguments[Ye]!=null?arguments[Ye]:{};Ye%2?N(Object(Ve),!0).forEach(function(tt){U(qe,tt,Ve[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(qe,Object.getOwnPropertyDescriptors(Ve)):N(Object(Ve)).forEach(function(tt){Object.defineProperty(qe,tt,Object.getOwnPropertyDescriptor(Ve,tt))})}return qe}function U(qe,Ye,Ve){var tt;return(Ye=typeof(tt=function(it,Ze){if(typeof it!="object"||!it)return it;var We=it[Symbol.toPrimitive];if(We!==void 0){var He=We.call(it,"string");if(typeof He!="object")return He;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(it)}(Ye))=="symbol"?tt:String(tt))in qe?Object.defineProperty(qe,Ye,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):qe[Ye]=Ve,qe}const z=["prePublish","postPublish","preUnpublish","postUnpublish","preSave","postSave"],V={};z.forEach(qe=>{V[qe]=[]});const F={backends:{},templates:{},previewStyles:[],widgets:{},editorComponents:(0,T.Map)(),remarkPlugins:[],widgetValueSerializers:{},mediaLibraries:[],locales:{},eventHandlers:V,formats:{}};function q(qe,Ye){F.previewStyles.push(j(j({},Ye),{},{value:qe}))}function B(){return F.previewStyles}function W(qe,Ye){F.templates[qe]=Ye}function H(qe){return F.templates[qe]}function G(qe,Ye,Ve,tt={}){if(Array.isArray(qe))qe.forEach(it=>{typeof it!="object"?console.error(`Cannot register widget: ${it}`):G(it)});else if(typeof qe=="string"){const it=typeof Ye=="string"?F.widgets[Ye].control:Ye;F.widgets[qe]={control:it,preview:Ve,schema:tt}}else if(typeof qe=="object"){const{name:it,controlComponent:Ze,previewComponent:We,schema:He={},allowMapValue:Ue,globalStyles:Qe}=qe,Be=function($e,Xe){if($e==null)return{};var lt,dt,ft=function(Mt,ht){if(Mt==null)return{};var ct,vt,Et={},gt=Object.keys(Mt);for(vt=0;vt<gt.length;vt++)ct=gt[vt],ht.indexOf(ct)>=0||(Et[ct]=Mt[ct]);return Et}($e,Xe);if(Object.getOwnPropertySymbols){var St=Object.getOwnPropertySymbols($e);for(dt=0;dt<St.length;dt++)lt=St[dt],Xe.indexOf(lt)>=0||Object.prototype.propertyIsEnumerable.call($e,lt)&&(ft[lt]=$e[lt])}return ft}(qe,I);if(F.widgets[it]&&console.warn(P.oneLine`
        Multiple widgets registered with name "${it}". Only the last widget registered with
        this name will be used.
      `),!Ze)throw Error(`Widget "${it}" registered without \`controlComponent\`.`);F.widgets[it]=j({control:Ze,preview:We,schema:He,globalStyles:Qe,allowMapValue:Ue},Be)}else console.error("`registerWidget` failed, called with incorrect arguments.")}function Z(qe){return F.widgets[qe]}function Y(){return(0,O.produce)(Object.entries(F.widgets),qe=>qe.map(([Ye,Ve])=>j({name:Ye},Ve)))}function ee(qe){return Z(qe||"string")||Z("unknown")}function J(qe){const Ye=(0,R.default)(qe);if(Ye.type==="code-block"){const Ve=F.editorComponents.find(tt=>tt.type==="code-block");Ve&&(console.warn(P.oneLine`
        Only one editor component of type "code-block" may be registered. Previously registered code
        block component(s) will be overwritten.
      `),F.editorComponents=F.editorComponents.delete(Ve.id))}F.editorComponents=F.editorComponents.set(Ye.id,Ye)}function Q(){return F.editorComponents}function te(qe){F.remarkPlugins.push(qe)}function se(){return F.remarkPlugins}function de(qe,Ye){F.widgetValueSerializers[qe]=Ye}function ie(qe){return F.widgetValueSerializers[qe]}function ve(qe,Ye){qe&&Ye?F.backends[qe]?console.error(`Backend [${qe}] already registered. Please choose a different name.`):F.backends[qe]={init:(...Ve)=>new Ye(...Ve)}:console.error("Backend parameters invalid. example: CMS.registerBackend('myBackend', BackendClass)")}function xe(qe){return F.backends[qe]}function ke(qe,Ye){if(F.mediaLibraries.find(Ve=>qe.name===Ve.name))throw new Error(`A media library named ${qe.name} has already been registered.`);F.mediaLibraries.push(j(j({},qe),{},{options:Ye}))}function Ce(qe){return F.mediaLibraries.find(Ye=>Ye.name===qe)}function Oe(qe){if(!z.includes(qe))throw new Error(`Invalid event name '${qe}'`)}function Ae(qe){return Oe(qe),[...F.eventHandlers[qe]]}function Pe({name:qe,handler:Ye},Ve={}){Oe(qe),F.eventHandlers[qe].push({handler:Ye,options:Ve})}async function Ee({name:qe,data:Ye}){Oe(qe);const Ve=F.eventHandlers[qe];let tt=j({},Ye);for(const{handler:it,options:Ze}of Ve){const We=await it(tt,Ze);if(We!==void 0){const He=tt.entry.set("data",We);tt=j(j({},Ye),{},{entry:He})}}return tt.entry.get("data")}function Te({name:qe,handler:Ye}){Oe(qe),F.eventHandlers[qe]=Ye?F.eventHandlers[qe].filter(Ve=>Ve.handler!==Ye):[]}function Re(qe,Ye){qe&&Ye?F.locales[qe]=Ye:console.error("Locale parameters invalid. example: CMS.registerLocale('locale', phrases)")}function Me(qe){return F.locales[qe]}function ze(qe,Ye,Ve){F.formats[qe]={extension:Ye,formatter:Ve}}function Le(){return F.formats}function je(){return Object.entries(F.formats).reduce(function(qe,[Ye,{extension:Ve}]){return j(j({},qe),{},{[Ye]:Ve})},{})}function Ne(){return Object.entries(F.formats).reduce(function(qe,[Ye,{formatter:Ve}]){return j(j({},qe),{},{[Ye]:Ve})},{})}E.default={registerPreviewStyle:q,getPreviewStyles:B,registerPreviewTemplate:W,getPreviewTemplate:H,registerWidget:G,getWidget:Z,getWidgets:Y,resolveWidget:ee,registerEditorComponent:J,getEditorComponents:Q,registerRemarkPlugin:te,getRemarkPlugins:se,registerWidgetValueSerializer:de,getWidgetValueSerializer:ie,registerBackend:ve,getBackend:xe,registerMediaLibrary:ke,getMediaLibrary:Ce,registerLocale:Re,getLocale:Me,registerEventListener:Pe,removeEventListener:Te,getEventListeners:Ae,invokeEvent:Ee,registerCustomFormat:ze,getCustomFormats:Le,getCustomFormatsExtensions:je,getCustomFormatsFormatters:Ne}},33188:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.deserializeValues=function(I,N){return R(I,N,"deserialize")},E.serializeValues=function(I,N){return R(I,N,"serialize")};var A,T=(A=_(1842))&&A.__esModule?A:{default:A},O=_(46670),P=_(41891);function R(I,N,j){let U=N.reduce((z,V)=>{const F=V.get("name"),q=I.get(F),B=(0,P.getWidgetValueSerializer)(V.get("widget")),W=V.get("fields");return W&&O.List.isList(q)?z.set(F,q.map(H=>R(H,W,j))):W&&O.Map.isMap(q)?z.set(F,R(q,W,j)):B&&!(0,T.default)(q)?z.set(F,B[j](q)):(0,T.default)(q)?z:z.set(F,q)},(0,O.Map)());return U=I.mergeDeep(U),U}},9904:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.addParams=function(Y,ee){const J=R.default.parse(Y,!0);return J.query=V(V({},J.query),ee),R.default.format(J)},E.getCharReplacer=G,E.getCollectionUrl=function(Y,ee){return F(`/collections/${Y}`,ee)},E.getNewEntryUrl=function(Y,ee){return F(`/collections/${Y}/new`,ee)},E.joinUrlPath=function(Y,...ee){return(0,I.default)(Y,...ee)},E.sanitizeChar=function(Y,ee){const{encoding:J="unicode",sanitize_replacement:Q=""}=ee||{};return G(J,Q)(Y)},E.sanitizeSlug=function(Y,ee){if(!(0,P.default)(Y))throw new Error("The input slug must be a string.");const{encoding:J,clean_accents:Q,sanitize_replacement:te}=ee||{},se=(0,T.default)([...Q?[N.default.remove]:[],(0,A.default)(Z,{replacement:te,encoding:J}),(0,A.default)(j.default,{replacement:te})])(Y),de=new RegExp(`(?:${(0,O.default)(te)})+`,"g"),ie=new RegExp(`${(0,O.default)(te)}$`),ve=new RegExp(`^${(0,O.default)(te)}`);return se.replace(de,te).replace(ve,"").replace(ie,"")},E.sanitizeURI=Z,E.stripProtocol=function(Y){const ee=Y.indexOf("//");return ee>-1?Y.slice(ee+2):Y};var A=U(_(26434)),T=U(_(85395)),O=U(_(89166)),P=U(_(85505)),R=U(_(883)),I=U(_(49705)),N=U(_(63449)),j=U(_(17826));function U(Y){return Y&&Y.__esModule?Y:{default:Y}}function z(Y,ee){var J=Object.keys(Y);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(Y);ee&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(Y,te).enumerable})),J.push.apply(J,Q)}return J}function V(Y){for(var ee=1;ee<arguments.length;ee++){var J=arguments[ee]!=null?arguments[ee]:{};ee%2?z(Object(J),!0).forEach(function(Q){var te,se,de,ie;te=Y,se=Q,de=J[Q],(se=typeof(ie=function(ve,xe){if(typeof ve!="object"||!ve)return ve;var ke=ve[Symbol.toPrimitive];if(ke!==void 0){var Ce=ke.call(ve,"string");if(typeof Ce!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(se))=="symbol"?ie:String(ie))in te?Object.defineProperty(te,se,{value:de,enumerable:!0,configurable:!0,writable:!0}):te[se]=de}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(J)):z(Object(J)).forEach(function(Q){Object.defineProperty(Y,Q,Object.getOwnPropertyDescriptor(J,Q))})}return Y}function F(Y,ee){return`${ee?"/#":""}${Y}`}const q=/[\w\-.~]/i,B=/[\xA0-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFEF}\u{10000}-\u{1FFFD}\u{20000}-\u{2FFFD}\u{30000}-\u{3FFFD}\u{40000}-\u{4FFFD}\u{50000}-\u{5FFFD}\u{60000}-\u{6FFFD}\u{70000}-\u{7FFFD}\u{80000}-\u{8FFFD}\u{90000}-\u{9FFFD}\u{A0000}-\u{AFFFD}\u{B0000}-\u{BFFFD}\u{C0000}-\u{CFFFD}\u{D0000}-\u{DFFFD}\u{E1000}-\u{EFFFD}]/u;function W(Y){return q.test(Y)}function H(Y){return q.test(Y)||B.test(Y)}function G(Y,ee){let J;if(Y==="unicode")J=H;else{if(Y!=="ascii")throw new Error('`options.encoding` must be "unicode" or "ascii".');J=W}if(!Array.from(ee).every(J))throw new Error("The replacement character(s) (options.replacement) is itself unsafe.");return Q=>J(Q)?Q:ee}function Z(Y,ee){const{replacement:J="",encoding:Q="unicode"}=ee||{};if(!(0,P.default)(Y))throw new Error("The input slug must be a string.");if(!(0,P.default)(J))throw new Error("`options.replacement` must be a string.");return Array.from(Y).map(G(Q,J)).join("")}},72649:($,E,_)=>{var A,T=(A=_(25291))&&A.__esModule?A:{default:A},O=_(41891),P=_(21837),R=_(54750),I=_(68104);function N(U){return P.store.dispatch((0,I.insertMedia)(U,void 0))}const j=(0,T.default)(async function(U,z){const V=(0,O.getMediaLibrary)(U);if(V){const F=await V.init({options:z,handleInsert:N});P.store.dispatch((0,I.createMediaLibrary)(F))}else{const F=new Error(`Missing external media library '${U}'. Please use 'registerMediaLibrary' to register it.`);P.store.dispatch((0,R.configFailed)(F))}});P.store.subscribe(()=>{const U=P.store.getState();if(U){var z;const V=(z=U.config.media_library)===null||z===void 0?void 0:z.name;if(V&&!U.mediaLibrary.get("externalLibrary")){const F=U.config.media_library;j(V,F)}}})},11449:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.defaultState=E.default=void 0;var A=_(30412),T=_(76167);const O=E.defaultState={isFetching:!1,user:void 0,error:void 0},P=(0,A.produce)((R,I)=>{switch(I.type){case T.AUTH_REQUEST:R.isFetching=!0;break;case T.AUTH_SUCCESS:R.user=I.payload;break;case T.AUTH_FAILURE:R.error=I.payload&&I.payload.toString();break;case T.AUTH_REQUEST_DONE:R.isFetching=!1;break;case T.LOGOUT:R.user=void 0,R.isFetching=!1}},O);E.default=P},45624:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.getFieldsNames=te,E.getFileFromSlug=ee,E.selectAllowDeletion=function(xe){return Z[xe.get("type")].allowDeletion(xe)},E.selectAllowNewEntries=function(xe){return Z[xe.get("type")].allowNewEntries(xe)},E.selectDefaultSortableFields=function(xe,ke,Ce){let Oe=U.SORTABLE_FIELDS.map(Ae=>{const Pe=ve(xe,Ae);return!ke.isGitBackend()||Ae!=="author"||Pe||Ce?Pe:j.COMMIT_AUTHOR}).filter(Boolean);return ke.isGitBackend()&&!Ce&&(Oe=[j.COMMIT_DATE,...Oe]),Oe},E.selectEntryCollectionTitle=function(xe,ke){const Ce=xe.get("summary");if(Ce)return(0,F.summaryFormatter)(Ce,ke,xe);if(xe.get("type")==N.FILES){const Ee=Q(xe,ke.get("slug"));if(Ee)return Ee}const Oe=ke.get("data"),Ae=ve(xe,"title"),Pe=Ae&&Oe.getIn(H(Ae));return Pe||Ae==="title"?Pe:Oe.getIn(H("title"))},E.selectEntryPath=function(xe,ke){return Z[xe.get("type")].entryPath(xe,ke)},E.selectEntrySlug=function(xe,ke){return Z[xe.get("type")].entrySlug(xe,ke)},E.selectField=se,E.selectFields=function(xe,ke){return Z[xe.get("type")].fields(xe,ke)},E.selectFieldsComments=function(xe,ke){let Ce=[];xe.has("folder")?Ce=xe.get("fields").toArray():xe.has("files")&&(Ce=xe.get("files").find(Ae=>(Ae==null?void 0:Ae.get("name"))===ke.get("slug")).get("fields").toArray());const Oe={};return te(Ce).forEach(Ae=>{const Pe=se(xe,Ae);Pe!=null&&Pe.has("comment")&&(Oe[Ae]=Pe.get("comment"))}),Oe},E.selectFieldsWithMediaFolders=J,E.selectFileEntryLabel=Q,E.selectFolderEntryExtension=function(xe){return Z[N.FOLDER].entryExtension(xe)},E.selectHasMetaPath=function(xe){var ke;return xe.has("folder")&&xe.get("type")===N.FOLDER&&xe.has("meta")&&((ke=xe.get("meta"))===null||ke===void 0?void 0:ke.has("path"))},E.selectIdentifier=ie,E.selectInferredField=ve,E.selectMediaFolders=function(xe,ke,Ce){const Oe=J(ke,Ce.get("slug")).map(Ae=>(0,V.selectMediaFolder)(xe,ke,Ce,Ae));return ke.has("files")&&ee(ke,Ce.get("slug"))&&Oe.unshift((0,V.selectMediaFolder)(xe,ke,Ce,void 0)),ke.has("media_folder")&&(ke=ke.delete("files"),Oe.unshift((0,V.selectMediaFolder)(xe,ke,Ce,void 0))),(0,O.Set)(Oe).toArray()},E.selectSortDataPath=function(xe,ke){return ke===j.COMMIT_DATE?"updatedOn":ke!==j.COMMIT_AUTHOR||se(xe,ke)?`data.${ke}`:"author"},E.selectSortableFields=function(xe,ke){return xe.get("sortable_fields").toArray().map(Ce=>{if(Ce===j.COMMIT_DATE)return{key:Ce,field:{name:Ce,label:ke("collection.defaultFields.updatedOn.label")}};const Oe=se(xe,Ce);return Ce!==j.COMMIT_AUTHOR||Oe?{key:Ce,field:Oe==null?void 0:Oe.toJS()}:{key:Ce,field:{name:Ce,label:ke("collection.defaultFields.author.label")}}}).filter(Ce=>!!Ce.field).map(Ce=>W(W({},Ce.field),{},{key:Ce.key}))},E.selectTemplateName=function(xe,ke){return Z[xe.get("type")].templateName(xe,ke)},E.selectViewFilters=function(xe){return xe.get("view_filters").toJS()},E.selectViewGroups=function(xe){return xe.get("view_groups").toJS()},E.traverseFields=de,E.updateFieldByKey=function(xe,ke,Ce){const Oe=se(xe,ke);if(!Oe)return xe;let Ae=!1;return xe.set("fields",de(xe.get("fields",(0,O.List)()),function(Pe){const Ee=Pe;return Ee===Oe?(Ae=!0,Ce(Ee)):Ee},()=>Ae))};var A=q(_(89166)),T=q(_(72579)),O=_(46670),P=_(1704),R=q(_(54876)),I=_(54750),N=_(48781),j=_(93492),U=_(39010),z=_(85575),V=_(58308),F=_(59311);function q(xe){return xe&&xe.__esModule?xe:{default:xe}}function B(xe,ke){var Ce=Object.keys(xe);if(Object.getOwnPropertySymbols){var Oe=Object.getOwnPropertySymbols(xe);ke&&(Oe=Oe.filter(function(Ae){return Object.getOwnPropertyDescriptor(xe,Ae).enumerable})),Ce.push.apply(Ce,Oe)}return Ce}function W(xe){for(var ke=1;ke<arguments.length;ke++){var Ce=arguments[ke]!=null?arguments[ke]:{};ke%2?B(Object(Ce),!0).forEach(function(Oe){var Ae,Pe,Ee,Te;Ae=xe,Pe=Oe,Ee=Ce[Oe],(Pe=typeof(Te=function(Re,Me){if(typeof Re!="object"||!Re)return Re;var ze=Re[Symbol.toPrimitive];if(ze!==void 0){var Le=ze.call(Re,"string");if(typeof Le!="object")return Le;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Re)}(Pe))=="symbol"?Te:String(Te))in Ae?Object.defineProperty(Ae,Pe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):Ae[Pe]=Ee}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(Ce)):B(Object(Ce)).forEach(function(Oe){Object.defineProperty(xe,Oe,Object.getOwnPropertyDescriptor(Ce,Oe))})}return xe}const{keyToPathArray:H}=P.stringTemplate,G=(0,O.fromJS)({}),Z={[N.FOLDER]:{entryExtension(xe){const ke=xe.get("extension")||(0,T.default)((0,z.getFormatExtensions)(),xe.get("format")||"frontmatter");if(!ke)throw new Error(`No extension found for format ${xe.get("format")}`);return ke.replace(/^\./,"")},fields:xe=>xe.get("fields"),entryPath(xe,ke){return`${xe.get("folder").replace(/\/$/,"")}/${ke}.${this.entryExtension(xe)}`},entrySlug(xe,ke){var Ce;const Oe=xe.get("folder").replace(/\/$/,"");return(Ce=ke.split(Oe+"/").pop())===null||Ce===void 0?void 0:Ce.replace(new RegExp(`\\.${(0,A.default)(this.entryExtension(xe))}$`),"")},allowNewEntries:xe=>xe.get("create"),allowDeletion:xe=>xe.get("delete",!0),templateName:xe=>xe.get("name")},[N.FILES]:{fileForEntry(xe,ke){const Ce=xe.get("files");return Ce&&Ce.filter(Oe=>(Oe==null?void 0:Oe.get("name"))===ke).get(0)},fields(xe,ke){const Ce=this.fileForEntry(xe,ke);return Ce&&Ce.get("fields")},entryPath(xe,ke){const Ce=this.fileForEntry(xe,ke);return Ce&&Ce.get("file")},entrySlug(xe,ke){const Ce=xe.get("files").filter(Oe=>(Oe==null?void 0:Oe.get("file"))===ke).get(0);return Ce&&Ce.get("name")},entryLabel(xe,ke){const Ce=this.fileForEntry(xe,ke);return Ce&&Ce.get("label")},allowNewEntries:()=>!1,allowDeletion:xe=>xe.get("delete",!1),templateName:(xe,ke)=>ke}};function Y(xe){return xe.reduce((ke,Ce)=>{if(Ce.has("media_folder")&&(ke=[...ke,Ce]),Ce.has("fields")){var Oe;const Pe=(Oe=Ce.get("fields"))===null||Oe===void 0?void 0:Oe.toArray();ke=[...ke,...Y(Pe)]}else if(Ce.has("field")){const Pe=Ce.get("field");ke=[...ke,...Y([Pe])]}else if(Ce.has("types")){var Ae;const Pe=(Ae=Ce.get("types"))===null||Ae===void 0?void 0:Ae.toArray();ke=[...ke,...Y(Pe)]}return ke},[])}function ee(xe,ke){var Ce;return(Ce=xe.get("files"))===null||Ce===void 0?void 0:Ce.toArray().find(Oe=>Oe.get("name")===ke)}function J(xe,ke){return xe.has("folder")?Y(xe.get("fields").toArray()):xe.has("files")?Y(((Ce=ee(xe,ke))===null||Ce===void 0?void 0:Ce.get("fields").toArray())||[]):[];var Ce}function Q(xe,ke){return Z[N.FILES].entryLabel(xe,ke)}function te(xe,ke=""){let Ce=xe.map(Oe=>`${ke}${Oe.get("name")}`);return xe.forEach((Oe,Ae)=>{if(Oe.has("fields")){var Pe;const Te=(Pe=Oe.get("fields"))===null||Pe===void 0?void 0:Pe.toArray();Ce=[...Ce,...te(Te,`${Ce[Ae]}.`)]}else if(Oe.has("field")){const Te=Oe.get("field");Ce=[...Ce,...te([Te],`${Ce[Ae]}.`)]}else if(Oe.has("types")){var Ee;const Te=(Ee=Oe.get("types"))===null||Ee===void 0?void 0:Ee.toArray();Ce=[...Ce,...te(Te,`${Ce[Ae]}.`)]}}),Ce}function se(xe,ke){const Ce=H(ke);let Oe,Ae,Pe=xe.get("fields",(0,O.List)()).toArray();for(;(Oe=Ce.shift())&&Pe;){var Ee,Te,Re,Me,ze;if(Ae=Pe.find(qe=>qe.get("name")===Oe),(Ee=Ae)!==null&&Ee!==void 0&&Ee.has("fields"))Pe=(Me=Ae)===null||Me===void 0||(ze=Me.get("fields"))===null||ze===void 0?void 0:ze.toArray();else if((Te=Ae)!==null&&Te!==void 0&&Te.has("field")){var Le;Pe=[(Le=Ae)===null||Le===void 0?void 0:Le.get("field")]}else if((Re=Ae)!==null&&Re!==void 0&&Re.has("types")){var je,Ne;Pe=(je=Ae)===null||je===void 0||(Ne=je.get("types"))===null||Ne===void 0?void 0:Ne.toArray()}}return Ae}function de(xe,ke,Ce=()=>!1){return Ce()?xe:xe=xe.map(Oe=>{const Ae=ke(Oe);return Ce()?Ae:Ae.has("fields")?Ae.set("fields",de(Ae.get("fields"),ke,Ce)):Ae.has("field")?Ae.set("field",de((0,O.List)([Ae.get("field")]),ke,Ce).get(0)):Ae.has("types")?Ae.set("types",de(Ae.get("types"),ke,Ce)):Ae}).toList()}function ie(xe){const ke=xe.get("identifier_field"),Ce=ke?[ke,...U.IDENTIFIER_FIELDS]:[...U.IDENTIFIER_FIELDS],Oe=te(xe.get("fields",(0,O.List)()).toArray());return Ce.find(Ae=>Oe.find(Pe=>Pe.toLowerCase().trim()===Ae.toLowerCase().trim()))}function ve(xe,ke){if(ke==="title"&&xe.get("identifier_field"))return ie(xe);const Ce=U.INFERABLE_FIELDS[ke],Oe=xe.get("fields");let Ae;if(!Oe||!Ce)return null;const Pe=Oe.filter(Ee=>(Ee==null?void 0:Ee.get("widget","string"))===Ce.type).map(Ee=>Ee==null?void 0:Ee.get("name"));return Ae=Pe.filter(Ee=>Ce.synonyms.indexOf(Ee)!==-1),Ae&&Ae.size>0?Ae.first():(Ae=Oe.filter(Ee=>Ce.secondaryTypes.indexOf(Ee==null?void 0:Ee.get("widget","string"))!==-1).map(Ee=>Ee==null?void 0:Ee.get("name")).filter(Ee=>Ce.synonyms.indexOf(Ee)!==-1),Ae&&Ae.size>0?Ae.first():Ce.fallbackToFirstField&&Pe.size>0?Pe.first():(Ce.showError&&(0,R.default)(`The Field ${ke} is missing for the collection “${xe.get("name")}”`,`Decap CMS tries to infer the entry ${ke} automatically, but one couldn't be found for entries of the collection “${xe.get("name")}”. Please check your site configuration.`),null))}E.default=function(xe=G,ke){if(ke.type===I.CONFIG_SUCCESS){const Ce=ke.payload.collections;let Oe=(0,O.OrderedMap)({});return Ce.forEach(Ae=>{Oe=Oe.set(Ae.name,(0,O.fromJS)(Ae))}),Oe}return xe}},16797:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A,T=_(74081),O=(A=_(36642))&&A.__esModule?A:{default:A};function P(I,N){var j=Object.keys(I);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(I);N&&(U=U.filter(function(z){return Object.getOwnPropertyDescriptor(I,z).enumerable})),j.push.apply(j,U)}return j}function R(I,N,j){var U;return(N=typeof(U=function(z,V){if(typeof z!="object"||!z)return z;var F=z[Symbol.toPrimitive];if(F!==void 0){var q=F.call(z,"string");if(typeof q!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}(N))=="symbol"?U:String(U))in I?Object.defineProperty(I,N,{value:j,enumerable:!0,configurable:!0,writable:!0}):I[N]=j,I}E.default=function(){return(0,T.combineReducers)(function(I){for(var N=1;N<arguments.length;N++){var j=arguments[N]!=null?arguments[N]:{};N%2?P(Object(j),!0).forEach(function(U){R(I,U,j[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(j)):P(Object(j)).forEach(function(U){Object.defineProperty(I,U,Object.getOwnPropertyDescriptor(j,U))})}return I}({},O.default))}},23260:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.selectLocale=function(N){return N.locale||"en"},E.selectUseWorkflow=function(N){return N.publish_mode===O.EDITORIAL_WORKFLOW};var A=_(30412),T=_(54750),O=_(61928);function P(N,j){var U=Object.keys(N);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(N);j&&(z=z.filter(function(V){return Object.getOwnPropertyDescriptor(N,V).enumerable})),U.push.apply(U,z)}return U}function R(N){for(var j=1;j<arguments.length;j++){var U=arguments[j]!=null?arguments[j]:{};j%2?P(Object(U),!0).forEach(function(z){var V,F,q,B;V=N,F=z,q=U[z],(F=typeof(B=function(W,H){if(typeof W!="object"||!W)return W;var G=W[Symbol.toPrimitive];if(G!==void 0){var Z=G.call(W,"string");if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(F))=="symbol"?B:String(B))in V?Object.defineProperty(V,F,{value:q,enumerable:!0,configurable:!0,writable:!0}):V[F]=q}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(U)):P(Object(U)).forEach(function(z){Object.defineProperty(N,z,Object.getOwnPropertyDescriptor(U,z))})}return N}const I=(0,A.produce)((N,j)=>{switch(j.type){case T.CONFIG_REQUEST:N.isFetching=!0;break;case T.CONFIG_SUCCESS:return R(R({},j.payload),{},{isFetching:!1,error:void 0});case T.CONFIG_FAILURE:N.isFetching=!1,N.error=j.payload.toString()}},{isFetching:!0});E.default=I},63647:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.selectCollectionEntriesCursor=function(P,R){return new T.Cursor(P.getIn(["cursorsByType","collectionEntries",R]))};var A=_(46670),T=_(33806),O=_(50236);E.default=function(P=(0,A.fromJS)({cursorsByType:{collectionEntries:{}}}),R){switch(R.type){case O.ENTRIES_SUCCESS:return P.setIn(["cursorsByType","collectionEntries",R.payload.collection],T.Cursor.create(R.payload.cursor).store);case O.FILTER_ENTRIES_SUCCESS:case O.GROUP_ENTRIES_SUCCESS:case O.SORT_ENTRIES_SUCCESS:return P.deleteIn(["cursorsByType","collectionEntries",R.payload.collection]);default:return P}}},54989:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.selectDeployPreview=function(P,R,I){return P[`${R}.${I}`]};var A=_(30412),T=_(66145);const O=(0,A.produce)((P,R)=>{switch(R.type){case T.DEPLOY_PREVIEW_REQUEST:{const{collection:I,slug:N}=R.payload,j=`${I}.${N}`;P[j]=P[j]||{},P[j].isFetching=!0;break}case T.DEPLOY_PREVIEW_SUCCESS:{const{collection:I,slug:N,url:j,status:U}=R.payload,z=`${I}.${N}`;P[z].isFetching=!1,P[z].url=j,P[z].status=U;break}case T.DEPLOY_PREVIEW_FAILURE:{const{collection:I,slug:N}=R.payload;P[`${I}.${N}`].isFetching=!1;break}}},{});E.default=O},94778:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.selectUnpublishedEntriesByStatus=function(z,V){return z?z.get("entities").filter(F=>F.get("status")===V).valueSeq():null},E.selectUnpublishedEntry=function(z,V,F){return z&&z.getIn(["entities",`${V}.${F}`])},E.selectUnpublishedSlugs=function(z,V){return z.get("entities")?z.get("entities").filter((F,q)=>(0,T.default)(q,`${V}.`)).map(F=>F.get("slug")).valueSeq():null};var A,T=(A=_(37994))&&A.__esModule?A:{default:A},O=_(46670),P=_(61928),R=_(91358),I=_(54750);function N(z,V){var F=Object.keys(z);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(z);V&&(q=q.filter(function(B){return Object.getOwnPropertyDescriptor(z,B).enumerable})),F.push.apply(F,q)}return F}function j(z){for(var V=1;V<arguments.length;V++){var F=arguments[V]!=null?arguments[V]:{};V%2?N(Object(F),!0).forEach(function(q){U(z,q,F[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(F)):N(Object(F)).forEach(function(q){Object.defineProperty(z,q,Object.getOwnPropertyDescriptor(F,q))})}return z}function U(z,V,F){var q;return(V=typeof(q=function(B,W){if(typeof B!="object"||!B)return B;var H=B[Symbol.toPrimitive];if(H!==void 0){var G=H.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(V))=="symbol"?q:String(q))in z?Object.defineProperty(z,V,{value:F,enumerable:!0,configurable:!0,writable:!0}):z[V]=F,z}E.default=function(z=(0,O.Map)(),V){switch(V.type){case I.CONFIG_SUCCESS:return(V.payload&&V.payload.publish_mode)===P.EDITORIAL_WORKFLOW?(0,O.Map)({entities:(0,O.Map)(),pages:(0,O.Map)()}):z;case R.UNPUBLISHED_ENTRY_REQUEST:return z.setIn(["entities",`${V.payload.collection}.${V.payload.slug}`,"isFetching"],!0);case R.UNPUBLISHED_ENTRY_REDIRECT:return z.deleteIn(["entities",`${V.payload.collection}.${V.payload.slug}`]);case R.UNPUBLISHED_ENTRY_SUCCESS:return z.setIn(["entities",`${V.payload.collection}.${V.payload.entry.slug}`],(0,O.fromJS)(V.payload.entry));case R.UNPUBLISHED_ENTRIES_REQUEST:return z.setIn(["pages","isFetching"],!0);case R.UNPUBLISHED_ENTRIES_SUCCESS:return z.withMutations(F=>{V.payload.entries.forEach(q=>F.setIn(["entities",`${q.collection}.${q.slug}`],(0,O.fromJS)(q).set("isFetching",!1))),F.set("pages",(0,O.Map)(j(j({},V.payload.pages),{},{ids:(0,O.List)(V.payload.entries.map(q=>q.slug))})))});case R.UNPUBLISHED_ENTRY_PERSIST_REQUEST:return z.setIn(["entities",`${V.payload.collection}.${V.payload.slug}`,"isPersisting"],!0);case R.UNPUBLISHED_ENTRY_PERSIST_SUCCESS:return z.withMutations(F=>{F.setIn(["entities",`${V.payload.collection}.${V.payload.entry.get("slug")}`],(0,O.fromJS)(V.payload.entry)),F.deleteIn(["entities",`${V.payload.collection}.${V.payload.entry.get("slug")}`,"isPersisting"]),F.updateIn(["pages","ids"],(0,O.List)(),q=>q.push(V.payload.entry.get("slug")))});case R.UNPUBLISHED_ENTRY_PERSIST_FAILURE:return z.setIn(["entities",`${V.payload.collection}.${V.payload.slug}`,"isPersisting"],!1);case R.UNPUBLISHED_ENTRY_STATUS_CHANGE_REQUEST:return z.setIn(["entities",`${V.payload.collection}.${V.payload.slug}`,"isUpdatingStatus"],!0);case R.UNPUBLISHED_ENTRY_STATUS_CHANGE_SUCCESS:return z.withMutations(F=>{F.setIn(["entities",`${V.payload.collection}.${V.payload.slug}`,"status"],V.payload.newStatus),F.setIn(["entities",`${V.payload.collection}.${V.payload.slug}`,"isUpdatingStatus"],!1)});case R.UNPUBLISHED_ENTRY_STATUS_CHANGE_FAILURE:return z.setIn(["entities",`${V.payload.collection}.${V.payload.slug}`,"isUpdatingStatus"],!1);case R.UNPUBLISHED_ENTRY_PUBLISH_REQUEST:return z.setIn(["entities",`${V.payload.collection}.${V.payload.slug}`,"isPublishing"],!0);case R.UNPUBLISHED_ENTRY_PUBLISH_SUCCESS:case R.UNPUBLISHED_ENTRY_DELETE_SUCCESS:return z.deleteIn(["entities",`${V.payload.collection}.${V.payload.slug}`]);case R.UNPUBLISHED_ENTRY_PUBLISH_FAILURE:default:return z}}},58308:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.selectEditingDraft=function(Ze){const We=Ze.get("entry");return We&&!We.isEmpty()},E.selectEntries=function(Ze,We){const He=We.get("name");let Ue=je(Ze,He);const Qe=Re(Ze,He);if(Qe&&Qe.length>0){const $e=Qe.map(lt=>(0,q.selectSortDataPath)(We,lt.get("key"))),Xe=Qe.map(lt=>lt.get("direction")===V.SortDirection.Ascending?"asc":"desc");Ue=(0,N.fromJS)((0,T.default)(Ue.toJS(),$e,Xe))}const Be=Me(Ze,He);return Be&&Be.length>0&&(Ue=Ue.filter($e=>Be.every(Xe=>{const lt=Xe.get("pattern"),dt=Xe.get("field"),ft=($e.get("data")||(0,N.Map)()).getIn(J(dt));return ft!==void 0&&new RegExp(String(lt)).test(String(ft))})).toList()),Ue},E.selectEntriesFilter=Pe,E.selectEntriesFilterFields=Me,E.selectEntriesGroup=Ee,E.selectEntriesGroupField=Te,E.selectEntriesLoaded=function(Ze,We){return!!Ze.getIn(["pages",We])},E.selectEntriesSort=Ae,E.selectEntriesSortFields=Re,E.selectEntry=ze,E.selectEntryByPath=function(Ze,We,He){const Ue=Le(Ze,We),Qe=Ue&&Ue.map(Be=>ze(Ze,We,Be));return Qe&&Qe.find(Be=>(Be==null?void 0:Be.get("path"))===He)},E.selectGroups=function(Ze,We){const He=We.get("name"),Ue=je(Ze,He),Qe=Te(Ze,He);if(Qe===void 0)return[];let Be={};const $e=(0,A.default)(Ue.toArray(),lt=>{const dt=function(ft,St){const Mt=St.get("label"),ht=St.get("field"),ct=ft.getIn(["data",...J(ht)]);if(ct===void 0)return{id:"missing_value",label:Mt,value:ct};const vt=String(ct);if(St.has("pattern")){const Et=St.get("pattern");let gt="";try{const xt=new RegExp(Et),at=vt.match(xt);at&&(gt=at[0])}catch(xt){console.warn(`Invalid view group pattern '${Et}' for field '${ht}'`,xt)}return{id:`${Mt}${gt}`,label:Mt,value:gt}}return{id:`${Mt}${ct}`,label:Mt,value:typeof ct=="boolean"?ct:vt}}(lt,Qe);return Be=ee(ee({},Be),{},{[dt.id]:dt}),dt.id});return Object.entries($e).map(([lt,dt])=>ee(ee({},Be[lt]),{},{paths:(0,N.Set)(dt.map(ft=>ft.get("path")))}))},E.selectIsFetching=function(Ze,We){return Ze.getIn(["pages",We,"isFetching"],!1)},E.selectMediaFilePath=function(Ze,We,He,Ue,Qe){if((0,U.isAbsolutePath)(Ue))return Ue;const Be=it(Ze,We,He,Qe);return(0,j.join)(Be,(0,U.basename)(Ue))},E.selectMediaFilePublicPath=function(Ze,We,He,Ue,Qe){if((0,U.isAbsolutePath)(He))return He;const Be="public_folder";let $e=Ze[Be];return Ye(Be,We,Ue==null?void 0:Ue.get("slug"),Qe)&&($e=tt(Be,Ze,We,Ue,Qe)),(0,U.isAbsolutePath)($e)?(0,G.joinUrlPath)($e,(0,U.basename)(He)):(0,j.join)($e,(0,U.basename)(He))},E.selectMediaFolder=it,E.selectPublishedSlugs=Le,E.selectViewStyle=function(Ze){return Ze.get("viewStyle")};var A=Z(_(3440)),T=Z(_(34498)),O=Z(_(16765)),P=Z(_(829)),R=Z(_(25291)),I=Z(_(5648)),N=_(46670),j=_(21023),U=_(33806),z=_(1704),V=_(67964),F=_(59311),q=_(45624),B=_(15207),W=_(50236),H=_(78882),G=_(9904);function Z(Ze){return Ze&&Ze.__esModule?Ze:{default:Ze}}function Y(Ze,We){var He=Object.keys(Ze);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ze);We&&(Ue=Ue.filter(function(Qe){return Object.getOwnPropertyDescriptor(Ze,Qe).enumerable})),He.push.apply(He,Ue)}return He}function ee(Ze){for(var We=1;We<arguments.length;We++){var He=arguments[We]!=null?arguments[We]:{};We%2?Y(Object(He),!0).forEach(function(Ue){var Qe,Be,$e,Xe;Qe=Ze,Be=Ue,$e=He[Ue],(Be=typeof(Xe=function(lt,dt){if(typeof lt!="object"||!lt)return lt;var ft=lt[Symbol.toPrimitive];if(ft!==void 0){var St=ft.call(lt,"string");if(typeof St!="object")return St;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(lt)}(Be))=="symbol"?Xe:String(Xe))in Qe?Object.defineProperty(Qe,Be,{value:$e,enumerable:!0,configurable:!0,writable:!0}):Qe[Be]=$e}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ze,Object.getOwnPropertyDescriptors(He)):Y(Object(He)).forEach(function(Ue){Object.defineProperty(Ze,Ue,Object.getOwnPropertyDescriptor(He,Ue))})}return Ze}const{keyToPathArray:J}=z.stringTemplate;let Q,te,se,de,ie;const ve="decap-cms.entries.sort",xe="decap-cms.entries.viewStyle",ke=(0,R.default)(()=>{const Ze=localStorage.getItem(ve);if(Ze)try{const We=JSON.parse(Ze);let He=(0,N.Map)();return Object.entries(We).forEach(([Ue,Qe])=>{let Be=(0,N.OrderedMap)();(0,P.default)(Object.values(Qe),["index"]).forEach($e=>{const{key:Xe,direction:lt}=$e;Be=Be.set(Xe,(0,N.fromJS)({key:Xe,direction:lt}))}),He=He.set(Ue,Be)}),He}catch{return(0,N.Map)()}return(0,N.Map)()});function Ce(Ze){if(Ze){const We={};Ze.keySeq().forEach(He=>{const Ue=He;Ze.get(Ue).valueSeq().toJS().map((Qe,Be)=>ee(ee({},Qe),{},{index:Be})).forEach(Qe=>{(0,O.default)(We,[Ue,Qe.key],Qe)})}),localStorage.setItem(ve,JSON.stringify(We))}else localStorage.removeItem(ve)}const Oe=(0,R.default)(()=>localStorage.getItem(xe)||(localStorage.setItem(xe,H.VIEW_STYLE_LIST),H.VIEW_STYLE_LIST));function Ae(Ze,We){const He=Ze.get("sort");return He==null?void 0:He.get(We)}function Pe(Ze,We){const He=Ze.get("filter");return(He==null?void 0:He.get(We))||(0,N.Map)()}function Ee(Ze,We){const He=Ze.get("group");return(He==null?void 0:He.get(We))||(0,N.Map)()}function Te(Ze,We){const He=Ee(Ze,We);return He==null?void 0:He.valueSeq().find(Ue=>(Ue==null?void 0:Ue.get("active"))===!0)}function Re(Ze,We){const He=Ae(Ze,We);return(He==null?void 0:He.valueSeq().filter(Ue=>(Ue==null?void 0:Ue.get("direction"))!==V.SortDirection.None).toArray())||[]}function Me(Ze,We){const He=Pe(Ze,We);return(He==null?void 0:He.valueSeq().filter(Ue=>(Ue==null?void 0:Ue.get("active"))===!0).toArray())||[]}function ze(Ze,We,He){return Ze.getIn(["entities",`${We}.${He}`])}function Le(Ze,We){return Ze.getIn(["pages",We,"ids"],(0,N.List)())}function je(Ze,We){const He=Le(Ze,We);return He&&He.map(Qe=>ze(Ze,We,Qe))}const Ne="DRAFT_MEDIA_FILES";function qe(Ze,We){return Ze.find(He=>(He==null?void 0:He.get("name"))===We)}function Ye(Ze,We,He,Ue){if(!We)return!1;if(Ue&&Ue.has(Ze))return!0;if(We.has("files")){const Qe=qe(We.get("files"),He);if(Qe&&Qe.has(Ze))return!0}return!!We.has(Ze)}function Ve(Ze,We,He,Ue,Qe,Be,$e){const Xe=Be.filter(lt=>lt===Qe)[0];if(Xe)return(0,F.folderFormatter)(Xe.has(Ze)?Xe.get(Ze):`{{${Ze}}}`,Ue,He,$e,Ze,We.slug);for(let lt of Be){lt.has(Ze)||(lt=lt.set(Ze,`{{${Ze}}}`));const dt=(0,F.folderFormatter)(lt.get(Ze),Ue,He,$e,Ze,We.slug);let ft=null;if(lt.has("fields")?ft=Ve(Ze,We,He,Ue,Qe,lt.get("fields").toArray(),dt):lt.has("field")?ft=Ve(Ze,We,He,Ue,Qe,[lt.get("field")],dt):lt.has("types")&&(ft=Ve(Ze,We,He,Ue,Qe,lt.get("types").toArray(),dt)),ft!=null)return ft}return null}function tt(Ze,We,He,Ue,Qe){let Be=We[Ze];if(He.has(Ze)||(He=He.set(Ze,`{{${Ze}}}`)),He.has("files")){Be=(0,F.folderFormatter)(He.get(Ze),Ue,He,Be,Ze,We.slug);let $e=qe(He.get("files"),Ue==null?void 0:Ue.get("slug"));if($e&&($e.has(Ze)||($e=$e.set(Ze,`{{${Ze}}}`)),Be=(0,F.folderFormatter)($e.get(Ze),Ue,He,Be,Ze,We.slug),Qe)){const Xe=Ve(Ze,We,He,Ue,Qe,$e.get("fields").toArray(),Be);Xe!==null&&(Be=Xe)}}else if(Be=(0,F.folderFormatter)(He.get(Ze),Ue,He,Be,Ze,We.slug),Qe){const $e=Ve(Ze,We,He,Ue,Qe,He.get("fields").toArray(),Be);$e!==null&&(Be=$e)}return Be}function it(Ze,We,He,Ue){const Qe="media_folder";let Be=Ze[Qe];if(Ye(Qe,We,He==null?void 0:He.get("slug"),Ue)){const $e=tt(Qe,Ze,We,He,Ue);if($e.startsWith("/"))Be=(0,j.join)($e);else{const Xe=He==null?void 0:He.get("path");Be=Xe?(0,j.join)((0,j.dirname)(Xe),$e):(0,j.join)(We.get("folder"),Ne)}}return(0,I.default)(Be,"/")}E.default=function(Ze=(0,N.Map)({entities:(0,N.Map)(),pages:(0,N.Map)(),sort:ke(),viewStyle:Oe()}),We){switch(We.type){case W.ENTRY_REQUEST:{const Ue=We.payload;return Ze.setIn(["entities",`${Ue.collection}.${Ue.slug}`,"isFetching"],!0)}case W.ENTRY_SUCCESS:{const Ue=We.payload;return Q=Ue.collection,ie=Ue.entry.slug,Ze.withMutations(Qe=>{Qe.setIn(["entities",`${Q}.${ie}`],(0,N.fromJS)(Ue.entry));const Be=Qe.getIn(["pages",Q,"ids"],(0,N.List)());Be.includes(ie)||Qe.setIn(["pages",Q,"ids"],Be.unshift(ie))})}case W.ENTRIES_REQUEST:{const Ue=We.payload;return Ze.withMutations(Qe=>{Qe.setIn(["pages",Ue.collection,"isFetching"],!0)})}case W.ENTRIES_SUCCESS:{const Ue=We.payload;return Q=Ue.collection,te=Ue.entries,se=Ue.append,de=Ue.page,Ze.withMutations(Qe=>{te.forEach($e=>Qe.setIn(["entities",`${Q}.${$e.slug}`],(0,N.fromJS)($e).set("isFetching",!1)));const Be=(0,N.List)(te.map($e=>$e.slug));Qe.setIn(["pages",Q],(0,N.Map)({page:de,ids:se?Qe.getIn(["pages",Q,"ids"],(0,N.List)()).concat(Be):Be}))})}case W.ENTRIES_FAILURE:return Ze.setIn(["pages",We.meta.collection,"isFetching"],!1);case W.ENTRY_FAILURE:{const Ue=We.payload;return Ze.withMutations(Qe=>{Qe.setIn(["entities",`${Ue.collection}.${Ue.slug}`,"isFetching"],!1),Qe.setIn(["entities",`${Ue.collection}.${Ue.slug}`,"error"],Ue.error.message)})}case B.SEARCH_ENTRIES_SUCCESS:return te=We.payload.entries,Ze.withMutations(Qe=>{te.forEach(Be=>Qe.setIn(["entities",`${Be.collection}.${Be.slug}`],(0,N.fromJS)(Be).set("isFetching",!1)))});case W.ENTRY_DELETE_SUCCESS:{const Ue=We.payload;return Ze.withMutations(Qe=>{Qe.deleteIn(["entities",`${Ue.collectionName}.${Ue.entrySlug}`]),Qe.updateIn(["pages",Ue.collectionName,"ids"],Be=>Be.filter($e=>$e!==Ue.entrySlug))})}case W.SORT_ENTRIES_REQUEST:{const Ue=We.payload,{collection:Qe,key:Be,direction:$e}=Ue,Xe=Ze.withMutations(lt=>{const dt=(0,N.OrderedMap)({[Be]:(0,N.Map)({key:Be,direction:$e})});lt.setIn(["sort",Qe],dt),lt.setIn(["pages",Qe,"isFetching"],!0),lt.deleteIn(["pages",Qe,"page"])});return Ce(Xe.get("sort")),Xe}case W.GROUP_ENTRIES_SUCCESS:case W.FILTER_ENTRIES_SUCCESS:case W.SORT_ENTRIES_SUCCESS:{const Ue=We.payload,{collection:Qe,entries:Be}=Ue;return te=Be,Ze.withMutations($e=>{te.forEach(lt=>$e.setIn(["entities",`${lt.collection}.${lt.slug}`],(0,N.fromJS)(lt).set("isFetching",!1))),$e.setIn(["pages",Qe,"isFetching"],!1);const Xe=(0,N.List)(te.map(lt=>lt.slug));$e.setIn(["pages",Qe],(0,N.Map)({page:1,ids:Xe}))})}case W.SORT_ENTRIES_FAILURE:{const Ue=We.payload,{collection:Qe,key:Be}=Ue,$e=Ze.withMutations(Xe=>{Xe.deleteIn(["sort",Qe,Be]),Xe.setIn(["pages",Qe,"isFetching"],!1)});return Ce($e.get("sort")),$e}case W.FILTER_ENTRIES_REQUEST:{const Ue=We.payload,{collection:Qe,filter:Be}=Ue;return Ze.withMutations($e=>{const Xe=$e.getIn(["filter",Qe,Be.id],(0,N.fromJS)(Be));$e.setIn(["filter",Qe,Xe.get("id")],Xe.set("active",!Xe.get("active")))})}case W.FILTER_ENTRIES_FAILURE:{const Ue=We.payload,{collection:Qe,filter:Be}=Ue;return Ze.withMutations($e=>{$e.deleteIn(["filter",Qe,Be.id]),$e.setIn(["pages",Qe,"isFetching"],!1)})}case W.GROUP_ENTRIES_REQUEST:{const Ue=We.payload,{collection:Qe,group:Be}=Ue;return Ze.withMutations($e=>{const Xe=$e.getIn(["group",Qe,Be.id],(0,N.fromJS)(Be));$e.deleteIn(["group",Qe]),$e.setIn(["group",Qe,Xe.get("id")],Xe.set("active",!Xe.get("active")))})}case W.GROUP_ENTRIES_FAILURE:{const Ue=We.payload,{collection:Qe,group:Be}=Ue;return Ze.withMutations($e=>{$e.deleteIn(["group",Qe,Be.id]),$e.setIn(["pages",Qe,"isFetching"],!1)})}case W.CHANGE_VIEW_STYLE:{const Ue=We.payload,{style:Qe}=Ue,Be=Ze.withMutations($e=>{$e.setIn(["viewStyle"],Qe)});return(He=Be.get("viewStyle"))?localStorage.setItem(xe,He):localStorage.removeItem(xe),Be}default:return Ze}var He}},51748:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.selectCustomPath=function(V,F){if(!(0,j.selectHasMetaPath)(V))return;const q=F.getIn(["entry","meta"]),B=q&&q.get("path"),W=(0,T.default)(V.toJS(),["meta","path","index_file"]),H=(0,j.selectFolderEntryExtension)(V);return B&&(0,R.join)(V.get("folder"),B,`${W}.${H}`)};var A,T=(A=_(72579))&&A.__esModule?A:{default:A},O=_(46670),P=_(29987),R=_(21023),I=_(50236),N=_(91358),j=_(45624),U=_(13943);const z=(0,O.Map)({entry:(0,O.Map)(),fieldsMetaData:(0,O.Map)(),fieldsErrors:(0,O.Map)(),hasChanged:!1,key:""});E.default=function(V=(0,O.Map)(),F){switch(F.type){case I.DRAFT_CREATE_FROM_ENTRY:return V.withMutations(q=>{q.set("entry",(0,O.fromJS)(F.payload.entry)),q.setIn(["entry","newRecord"],!1),q.set("fieldsMetaData",(0,O.Map)()),q.set("fieldsErrors",(0,O.Map)()),q.set("hasChanged",!1),q.set("key",(0,P.v4)())});case I.DRAFT_CREATE_EMPTY:return V.withMutations(q=>{q.set("entry",(0,O.fromJS)(F.payload)),q.setIn(["entry","newRecord"],!0),q.set("fieldsMetaData",(0,O.Map)()),q.set("fieldsErrors",(0,O.Map)()),q.set("hasChanged",!1),q.set("key",(0,P.v4)())});case I.DRAFT_CREATE_FROM_LOCAL_BACKUP:return V.withMutations(q=>{const B=q.get("localBackup").get("entry");q.delete("localBackup"),q.set("entry",B),q.setIn(["entry","newRecord"],!B.get("path")),q.set("fieldsMetaData",(0,O.Map)()),q.set("fieldsErrors",(0,O.Map)()),q.set("hasChanged",!0),q.set("key",(0,P.v4)())});case I.DRAFT_CREATE_DUPLICATE_FROM_ENTRY:return V.withMutations(q=>{q.set("entry",(0,O.fromJS)(F.payload)),q.setIn(["entry","newRecord"],!0),q.set("mediaFiles",(0,O.List)()),q.set("fieldsMetaData",(0,O.Map)()),q.set("fieldsErrors",(0,O.Map)()),q.set("hasChanged",!0)});case I.DRAFT_DISCARD:return z;case I.DRAFT_LOCAL_BACKUP_RETRIEVED:{const{entry:q}=F.payload,B=new O.Map({entry:(0,O.fromJS)(q)});return V.set("localBackup",B)}case I.DRAFT_CHANGE_FIELD:return V.withMutations(q=>{const{field:B,value:W,metadata:H,entries:G,i18n:Z}=F.payload,Y=B.get("name"),ee=B.get("meta"),J=Z&&(0,U.getDataPath)(Z.currentLocale,Z.defaultLocale)||["data"];ee?q.setIn(["entry","meta",Y],W):(q.setIn(["entry",...J,Y],W),Z&&(q=(0,U.duplicateI18nFields)(q,B,Z.locales,Z.defaultLocale))),q.mergeDeepIn(["fieldsMetaData"],(0,O.fromJS)(H));const Q=q.getIn(["entry",...J]),te=q.getIn(["entry","meta"]);q.set("hasChanged",!G.some(se=>Q.equals(se.get(...J)))||!G.some(se=>te.equals(se.get("meta"))))});case I.DRAFT_VALIDATION_ERRORS:return F.payload.errors.length===0?V.deleteIn(["fieldsErrors",F.payload.uniquefieldId]):V.setIn(["fieldsErrors",F.payload.uniquefieldId],F.payload.errors);case I.DRAFT_CLEAR_ERRORS:{const{uniqueFieldId:q}=F.payload;return V.deleteIn(["fieldsErrors",q])}case I.ENTRY_PERSIST_REQUEST:case N.UNPUBLISHED_ENTRY_PERSIST_REQUEST:return V.setIn(["entry","isPersisting"],!0);case I.ENTRY_PERSIST_FAILURE:case N.UNPUBLISHED_ENTRY_PERSIST_FAILURE:return V.deleteIn(["entry","isPersisting"]);case N.UNPUBLISHED_ENTRY_STATUS_CHANGE_REQUEST:return V.setIn(["entry","isUpdatingStatus"],!0);case N.UNPUBLISHED_ENTRY_STATUS_CHANGE_FAILURE:case N.UNPUBLISHED_ENTRY_STATUS_CHANGE_SUCCESS:return V.deleteIn(["entry","isUpdatingStatus"]);case N.UNPUBLISHED_ENTRY_PUBLISH_REQUEST:return V.setIn(["entry","isPublishing"],!0);case N.UNPUBLISHED_ENTRY_PUBLISH_SUCCESS:case N.UNPUBLISHED_ENTRY_PUBLISH_FAILURE:return V.deleteIn(["entry","isPublishing"]);case I.ENTRY_PERSIST_SUCCESS:case N.UNPUBLISHED_ENTRY_PERSIST_SUCCESS:return V.withMutations(q=>{q.deleteIn(["entry","isPersisting"]),q.set("hasChanged",!1),q.getIn(["entry","slug"])||q.setIn(["entry","slug"],F.payload.slug)});case I.ENTRY_DELETE_SUCCESS:return V.withMutations(q=>{q.deleteIn(["entry","isPersisting"]),q.set("hasChanged",!1)});case I.ADD_DRAFT_ENTRY_MEDIA_FILE:return V.withMutations(q=>{const B=q.getIn(["entry","mediaFiles"]);q.setIn(["entry","mediaFiles"],B.filterNot(W=>W.get("id")===F.payload.id).insert(0,(0,O.fromJS)(F.payload))),q.set("hasChanged",!0)});case I.REMOVE_DRAFT_ENTRY_MEDIA_FILE:return V.withMutations(q=>{const B=q.getIn(["entry","mediaFiles"]);q.setIn(["entry","mediaFiles"],B.filterNot(W=>W.get("id")===F.payload.id)),q.set("hasChanged",!0)});default:return V}}},3661:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=_(30412),T=_(76167);const O=["DEPLOY_PREVIEW","STATUS_REQUEST","STATUS_SUCCESS","STATUS_FAILURE"];function P(I){return O.some(N=>I.type.includes(N))}const R=(0,A.produce)((I,N)=>{!P(N)&&N.type.includes("REQUEST")?I.isFetching=!0:P(N)||!N.type.includes("SUCCESS")&&!N.type.includes("FAILURE")?N.type===T.USE_OPEN_AUTHORING&&(I.useOpenAuthoring=!0):I.isFetching=!1},{isFetching:!1,useOpenAuthoring:!1});E.default=R},36642:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.selectDeployPreview=function(de,ie,ve){return G.selectDeployPreview(de.deploys,ie,ve)},E.selectEntries=function(de,ie){return N.selectEntries(de.entries,ie)},E.selectEntry=function(de,ie,ve){return N.selectEntry(de.entries,ie,ve)},E.selectIntegration=function(de,ie,ve){return R.selectIntegration(de.integrations,ie,ve)},E.selectPublishedSlugs=function(de,ie){return N.selectPublishedSlugs(de.entries,ie)},E.selectSearchedEntries=function(de,ie){return(0,A.List)(de.search.entryIds).filter(ve=>ie.indexOf(ve.collection)!==-1).map(ve=>N.selectEntry(de.entries,ve.collection,ve.slug))},E.selectUnpublishedEntriesByStatus=function(de,ie){return z.selectUnpublishedEntriesByStatus(de.editorialWorkflow,ie)},E.selectUnpublishedEntry=function(de,ie,ve){return z.selectUnpublishedEntry(de.editorialWorkflow,ie,ve)},E.selectUnpublishedSlugs=function(de,ie){return z.selectUnpublishedSlugs(de.editorialWorkflow,ie)};var A=_(46670),T=te(_(11449)),O=te(_(23260)),P=Q(_(487)),R=P,I=Q(_(58308)),N=I,j=te(_(63647)),U=Q(_(94778)),z=U,V=te(_(51748)),F=te(_(45624)),q=te(_(56863)),B=te(_(33474)),W=te(_(90694)),H=Q(_(54989)),G=H,Z=te(_(3661)),Y=te(_(18259)),ee=te(_(85594));function J(de){if(typeof WeakMap!="function")return null;var ie=new WeakMap,ve=new WeakMap;return(J=function(xe){return xe?ve:ie})(de)}function Q(de,ie){if(de&&de.__esModule)return de;if(de===null||typeof de!="object"&&typeof de!="function")return{default:de};var ve=J(ie);if(ve&&ve.has(de))return ve.get(de);var xe={__proto__:null},ke=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in de)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(de,Ce)){var Oe=ke?Object.getOwnPropertyDescriptor(de,Ce):null;Oe&&(Oe.get||Oe.set)?Object.defineProperty(xe,Ce,Oe):xe[Ce]=de[Ce]}return xe.default=de,ve&&ve.set(de,xe),xe}function te(de){return de&&de.__esModule?de:{default:de}}const se={auth:T.default,config:O.default,collections:F.default,search:q.default,integrations:P.default,entries:I.default,cursors:j.default,editorialWorkflow:U.default,entryDraft:V.default,medias:B.default,mediaLibrary:W.default,deploys:H.default,globalUI:Z.default,status:Y.default,notifications:ee.default};E.default=se},487:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.getIntegrations=R,E.selectIntegration=function(N,j,U){return j?N.getIn(["hooks",j,U],!1):N.getIn(["hooks",U],!1)};var A=_(46670),T=_(54750);const O=["hooks","collections","provider"];function P(N,j){var U=Object.keys(N);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(N);j&&(z=z.filter(function(V){return Object.getOwnPropertyDescriptor(N,V).enumerable})),U.push.apply(U,z)}return U}function R(N){const j=(N.integrations||[]).reduce((U,z)=>{const{hooks:V,collections:F,provider:q}=z,B=function(W,H){if(W==null)return{};var G,Z,Y=function(J,Q){if(J==null)return{};var te,se,de={},ie=Object.keys(J);for(se=0;se<ie.length;se++)te=ie[se],Q.indexOf(te)>=0||(de[te]=J[te]);return de}(W,H);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(W);for(Z=0;Z<ee.length;Z++)G=ee[Z],H.indexOf(G)>=0||Object.prototype.propertyIsEnumerable.call(W,G)&&(Y[G]=W[G])}return Y}(z,O);return U.providers[q]=function(W){for(var H=1;H<arguments.length;H++){var G=arguments[H]!=null?arguments[H]:{};H%2?P(Object(G),!0).forEach(function(Z){var Y,ee,J,Q;Y=W,ee=Z,J=G[Z],(ee=typeof(Q=function(te,se){if(typeof te!="object"||!te)return te;var de=te[Symbol.toPrimitive];if(de!==void 0){var ie=de.call(te,"string");if(typeof ie!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(ee))=="symbol"?Q:String(Q))in Y?Object.defineProperty(Y,ee,{value:J,enumerable:!0,configurable:!0,writable:!0}):Y[ee]=J}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(G)):P(Object(G)).forEach(function(Z){Object.defineProperty(W,Z,Object.getOwnPropertyDescriptor(G,Z))})}return W}({},B),F?((F==="*"?N.collections.map(W=>W.name):F).forEach(W=>{V.forEach(H=>{U.hooks[W]?U.hooks[W][H]=q:U.hooks[W]={[H]:q}})}),U):(V.forEach(W=>{U.hooks[W]=q}),U)},{providers:{},hooks:{}});return(0,A.fromJS)(j)}const I=(0,A.fromJS)({providers:{},hooks:{}});E.default=function(N=I,j){return j.type===T.CONFIG_SUCCESS?R(j.payload):N}},90694:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.selectMediaDisplayURL=function(V,F){return V.mediaLibrary.getIn(["displayURLs",F],(0,A.Map)())},E.selectMediaFileByPath=function(V,F){return z(V).find(q=>q.path===F)},E.selectMediaFiles=z;var A=_(46670),T=_(29987),O=_(21023),P=_(68104),R=_(58308),I=_(36642);function N(V,F){var q=Object.keys(V);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(V);F&&(B=B.filter(function(W){return Object.getOwnPropertyDescriptor(V,W).enumerable})),q.push.apply(q,B)}return q}function j(V){for(var F=1;F<arguments.length;F++){var q=arguments[F]!=null?arguments[F]:{};F%2?N(Object(q),!0).forEach(function(B){var W,H,G,Z;W=V,H=B,G=q[B],(H=typeof(Z=function(Y,ee){if(typeof Y!="object"||!Y)return Y;var J=Y[Symbol.toPrimitive];if(J!==void 0){var Q=J.call(Y,"string");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(H))=="symbol"?Z:String(Z))in W?Object.defineProperty(W,H,{value:G,enumerable:!0,configurable:!0,writable:!0}):W[H]=G}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(q)):N(Object(q)).forEach(function(B){Object.defineProperty(V,B,Object.getOwnPropertyDescriptor(q,B))})}return V}const U={isVisible:!1,showMediaButton:!0,controlMedia:(0,A.Map)(),displayURLs:(0,A.Map)(),config:(0,A.Map)()};function z(V,F){const{mediaLibrary:q,entryDraft:B}=V,W=(0,R.selectEditingDraft)(V.entryDraft),H=(0,I.selectIntegration)(V,null,"assetStore");let G;if(W&&!H){const Z=B.getIn(["entry","mediaFiles"],(0,A.List)()).toJS(),Y=B.get("entry"),ee=V.collections.get(Y==null?void 0:Y.get("collection")),J=(0,R.selectMediaFolder)(V.config,ee,Y,F);G=Z.filter(Q=>(0,O.dirname)(Q.path)===J).map(Q=>j({key:Q.id},Q))}else G=q.get("files")||[];return G}E.default=function(V=(0,A.Map)(U),F){switch(F.type){case P.MEDIA_LIBRARY_CREATE:return V.withMutations(q=>{q.set("externalLibrary",F.payload),q.set("showMediaButton",F.payload.enableStandalone())});case P.MEDIA_LIBRARY_OPEN:{const{controlID:q,forImage:B,privateUpload:W,config:H,field:G,value:Z,replaceIndex:Y}=F.payload,ee=H||(0,A.Map)();return V.get("privateUpload")!==W?(0,A.Map)({isVisible:!0,forImage:B,controlID:q,canInsert:!!q,privateUpload:W,config:ee,controlMedia:(0,A.Map)(),displayURLs:(0,A.Map)(),field:G,value:Z,replaceIndex:Y}):V.withMutations(J=>{J.set("isVisible",!0),J.set("forImage",B!=null&&B),J.set("controlID",q??""),J.set("canInsert",!!q),J.set("privateUpload",W),J.set("config",ee),J.set("field",G??""),J.set("value",Z==""&&ee.get("multiple")?[]:Z??""),J.set("replaceIndex",Y!=null&&Y)})}case P.MEDIA_LIBRARY_CLOSE:return V.set("isVisible",!1);case P.MEDIA_INSERT:{const{mediaPath:q}=F.payload,B=V.get("controlID"),W=V.get("value");if(!Array.isArray(W))return V.withMutations(Y=>{Y.setIn(["controlMedia",B],q)});const H=V.get("replaceIndex"),G=Array.isArray(q)?q:[q],Z=W;return typeof H=="number"?Z[H]=G[0]:Z.push(...G),V.withMutations(Y=>{Y.setIn(["controlMedia",B],Z)})}case P.MEDIA_REMOVE_INSERTED:{const q=F.payload.controlID;return V.setIn(["controlMedia",q],"")}case P.MEDIA_LOAD_REQUEST:return V.withMutations(q=>{q.set("isLoading",!0),q.set("isPaginating",F.payload.page>1)});case P.MEDIA_LOAD_SUCCESS:{const{files:q=[],page:B,canPaginate:W,dynamicSearch:H,dynamicSearchQuery:G,privateUpload:Z}=F.payload;if(V.get("privateUpload")!==Z)return V;const Y=q.map(ee=>j(j({},ee),{},{key:(0,T.v4)()}));return V.withMutations(ee=>{if(ee.set("isLoading",!1),ee.set("isPaginating",!1),ee.set("page",B??1),ee.set("hasNextPage",!!(W&&q.length>0)),ee.set("dynamicSearch",H!=null&&H),ee.set("dynamicSearchQuery",G??""),ee.set("dynamicSearchActive",!!G),B&&B>1){const J=ee.get("files").concat(Y);ee.set("files",J)}else ee.set("files",Y)})}case P.MEDIA_LOAD_FAILURE:return V.get("privateUpload")!==F.payload.privateUpload?V:V.set("isLoading",!1);case P.MEDIA_PERSIST_REQUEST:return V.set("isPersisting",!0);case P.MEDIA_PERSIST_SUCCESS:{const{file:q,privateUpload:B}=F.payload;return V.get("privateUpload")!==B?V:V.withMutations(W=>{const H=[j(j({},q),{},{key:(0,T.v4)()}),...W.get("files")];W.set("files",H),W.set("isPersisting",!1)})}case P.MEDIA_PERSIST_FAILURE:return V.get("privateUpload")!==F.payload.privateUpload?V:V.set("isPersisting",!1);case P.MEDIA_DELETE_REQUEST:return V.set("isDeleting",!0);case P.MEDIA_DELETE_SUCCESS:{const{file:q,privateUpload:B}=F.payload,{key:W,id:H}=q;return V.get("privateUpload")!==B?V:V.withMutations(G=>{const Z=G.get("files").filter(Y=>W?Y.key!==W:Y.id!==H);G.set("files",Z),G.deleteIn(["displayURLs",H]),G.set("isDeleting",!1)})}case P.MEDIA_DELETE_FAILURE:return V.get("privateUpload")!==F.payload.privateUpload?V:V.set("isDeleting",!1);case P.MEDIA_DISPLAY_URL_REQUEST:return V.setIn(["displayURLs",F.payload.key,"isFetching"],!0);case P.MEDIA_DISPLAY_URL_SUCCESS:{const q=["displayURLs",F.payload.key];return V.setIn([...q,"isFetching"],!1).setIn([...q,"url"],F.payload.url)}case P.MEDIA_DISPLAY_URL_FAILURE:{const q=["displayURLs",F.payload.key];return V.setIn([...q,"isFetching"],!1).setIn([...q,"err"],F.payload.err||!0).deleteIn([...q,"url"])}default:return V}}},33474:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.selectIsLoadingAsset=function(P){return Object.values(P).some(R=>R.isLoading)};var A=_(30412),T=_(71033);const O=(0,A.produce)((P,R)=>{switch(R.type){case T.ADD_ASSETS:R.payload.forEach(I=>{P[I.path]={asset:I,isLoading:!1,error:null}});break;case T.ADD_ASSET:{const I=R.payload;P[I.path]={asset:I,isLoading:!1,error:null};break}case T.REMOVE_ASSET:{const I=R.payload;delete P[I];break}case T.LOAD_ASSET_REQUEST:{const{path:I}=R.payload;P[I]=P[I]||{},P[I].isLoading=!0;break}case T.LOAD_ASSET_SUCCESS:{const{path:I}=R.payload;P[I]=P[I]||{},P[I].isLoading=!1,P[I].error=null;break}case T.LOAD_ASSET_FAILURE:{const{path:I,error:N}=R.payload;P[I]=P[I]||{},P[I].isLoading=!1,P[I].error=N}}},{});E.default=O},85594:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=_(30412),T=_(29987),O=_(5690);function P(N,j){var U=Object.keys(N);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(N);j&&(z=z.filter(function(V){return Object.getOwnPropertyDescriptor(N,V).enumerable})),U.push.apply(U,z)}return U}function R(N){for(var j=1;j<arguments.length;j++){var U=arguments[j]!=null?arguments[j]:{};j%2?P(Object(U),!0).forEach(function(z){var V,F,q,B;V=N,F=z,q=U[z],(F=typeof(B=function(W,H){if(typeof W!="object"||!W)return W;var G=W[Symbol.toPrimitive];if(G!==void 0){var Z=G.call(W,"string");if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(F))=="symbol"?B:String(B))in V?Object.defineProperty(V,F,{value:q,enumerable:!0,configurable:!0,writable:!0}):V[F]=q}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(U)):P(Object(U)).forEach(function(z){Object.defineProperty(N,z,Object.getOwnPropertyDescriptor(U,z))})}return N}const I=(0,A.produce)((N,j)=>{switch(j.type){case O.NOTIFICATIONS_CLEAR:N.notifications=[];break;case O.NOTIFICATION_DISMISS:N.notifications=N.notifications.filter(U=>U.id!==j.id);break;case O.NOTIFICATION_SEND:N.notifications=[...N.notifications,R({id:(0,T.v4)()},j.payload)]}},{notifications:[]});E.default=I},56863:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=_(30412),T=_(15207);const O={isFetching:!1,term:"",collections:[],page:0,entryIds:[],queryHits:{},error:void 0,requests:[]},P=(0,A.produce)((R,I)=>{switch(I.type){case T.SEARCH_CLEAR:return O;case T.SEARCH_ENTRIES_REQUEST:{const{page:N,searchTerm:j,searchCollections:U}=I.payload;R.isFetching=!0,R.term=j,R.collections=U,R.page=N;break}case T.SEARCH_ENTRIES_SUCCESS:{const{entries:N,page:j}=I.payload,U=N.map(z=>({collection:z.collection,slug:z.slug}));R.isFetching=!1,R.page=j,R.entryIds=!j||isNaN(j)||j===0?U:R.entryIds.concat(U);break}case T.SEARCH_ENTRIES_FAILURE:{const{error:N}=I.payload;R.isFetching=!1,R.error=N;break}case T.QUERY_REQUEST:{const{searchTerm:N,request:j}=I.payload;R.isFetching=!0,R.term=N,j&&R.requests.push(j);break}case T.CLEAR_REQUESTS:R.requests=R.requests.filter(N=>N.expires>=new Date);break;case T.QUERY_SUCCESS:{const{namespace:N,hits:j}=I.payload;R.isFetching=!1,R.queryHits[N]=j;break}case T.QUERY_FAILURE:{const{error:N}=I.payload;R.isFetching=!1,R.error=N}}},O);E.default=P},18259:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=_(30412),T=_(9687);const O=(0,A.produce)((P,R)=>{switch(R.type){case T.STATUS_REQUEST:P.isFetching=!0;break;case T.STATUS_SUCCESS:P.isFetching=!1,P.status=R.payload.status;break;case T.STATUS_FAILURE:P.isFetching=!1,P.error=R.payload.error}},{isFetching:!1,status:{auth:{status:!0},api:{status:!0,statusPage:""}},error:void 0});E.default=O},21837:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.store=void 0;var A=_(74081),T=_(58267),O=I(_(43292)),P=_(89258),R=I(_(16797));function I(N){return N&&N.__esModule?N:{default:N}}E.store=(0,A.createStore)((0,R.default)(),(0,T.composeWithDevTools)((0,A.applyMiddleware)(O.default,P.waitUntilAction)))},89258:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.waitUntilAction=E.WAIT_UNTIL_ACTION=void 0;const _=E.WAIT_UNTIL_ACTION="WAIT_UNTIL_ACTION";E.waitUntilAction=({dispatch:A,getState:T})=>{let O=[];return P=>R=>{if(R.type===_)return O.push(R),null;const I=P(R);return function(N){const j=[],U=[];for(const z of O)z.predicate(N)?j.push(z):U.push(z);O=U;for(const z of j)z.run(A,T,N)}(R),I}}},79278:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.history=void 0,E.navigateToCollection=function(O){return T.push(`/collections/${O}`)},E.navigateToEntry=function(O,P){return T.replace(`/collections/${O}/entries/${P}`)},E.navigateToNewEntry=function(O){return T.replace(`/collections/${O}/new`)};var A=_(70809);const T=E.history=(0,A.createHashHistory)()},67964:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.SortDirection=void 0,E.SortDirection=function(_){return _.Ascending="Ascending",_.Descending="Descending",_.None="None",_}({})},25606:($,E)=>{function _(T,O,P){var R;return(O=typeof(R=function(I,N){if(typeof I!="object"||!I)return I;var j=I[Symbol.toPrimitive];if(j!==void 0){var U=j.call(I,"string");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(O))=="symbol"?R:String(R))in T?Object.defineProperty(T,O,{value:P,enumerable:!0,configurable:!0,writable:!0}):T[O]=P,T}Object.defineProperty(E,"__esModule",{value:!0}),E.createAssetProxy=function({url:T,file:O,path:P,field:R}){return new A({url:T,file:O,path:P,field:R})},E.default=void 0;class A{constructor({url:O,file:P,path:R,field:I}){_(this,"url",void 0),_(this,"fileObj",void 0),_(this,"path",void 0),_(this,"field",void 0),this.url=O||(P?window.URL.createObjectURL(P):""),this.fileObj=P,this.path=R,this.field=I}toString(){return this.url}async toBase64(){const O=await fetch(this.url).then(P=>P.blob());return O.size<=0?"":await new Promise(P=>{const R=new FileReader;R.onload=I=>{var N;const j=((N=I.target)===null||N===void 0?void 0:N.result)||"";P(j.toString().split("base64,")[1])},R.readAsDataURL(O)})}}E.default=A},57331:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(U){const{id:z=null,label:V="unnamed component",icon:F="exclamation-triangle",type:q="shortcode",widget:B="object",pattern:W=N,fields:H=[],fromBlock:G,toBlock:Z,toPreview:Y}=U,ee=function(J,Q){if(J==null)return{};var te,se,de=function(ve,xe){if(ve==null)return{};var ke,Ce,Oe={},Ae=Object.keys(ve);for(Ce=0;Ce<Ae.length;Ce++)ke=Ae[Ce],xe.indexOf(ke)>=0||(Oe[ke]=ve[ke]);return Oe}(J,Q);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(J);for(se=0;se<ie.length;se++)te=ie[se],Q.indexOf(te)>=0||Object.prototype.propertyIsEnumerable.call(J,te)&&(de[te]=J[te])}return de}(U,P);return function(J){for(var Q=1;Q<arguments.length;Q++){var te=arguments[Q]!=null?arguments[Q]:{};Q%2?R(Object(te),!0).forEach(function(se){I(J,se,te[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(te)):R(Object(te)).forEach(function(se){Object.defineProperty(J,se,Object.getOwnPropertyDescriptor(te,se))})}return J}({id:z||V.replace(/[^A-Z0-9]+/gi,"_"),label:V,type:q,icon:F,widget:B,pattern:W,fromBlock:j(G)||(()=>({})),toBlock:j(Z)||(()=>"Plugin"),toPreview:j(Y)||!B&&(j(Z)||(()=>"Plugin")),fields:(0,O.fromJS)(H)},ee)};var A,T=(A=_(61049))&&A.__esModule?A:{default:A},O=_(46670);const P=["id","label","icon","type","widget","pattern","fields","fromBlock","toBlock","toPreview"];function R(U,z){var V=Object.keys(U);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(U);z&&(F=F.filter(function(q){return Object.getOwnPropertyDescriptor(U,q).enumerable})),V.push.apply(V,F)}return V}function I(U,z,V){var F;return(z=typeof(F=function(q,B){if(typeof q!="object"||!q)return q;var W=q[Symbol.toPrimitive];if(W!==void 0){var H=W.call(q,"string");if(typeof H!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(q)}(z))=="symbol"?F:String(F))in U?Object.defineProperty(U,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):U[z]=V,U}const N=/.^/;function j(U){return(0,T.default)(U)&&U.bind(null)}},15583:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.createEntry=function(O,P="",R="",I={}){return{collection:O,slug:P,path:R,partial:I.partial||!1,raw:I.raw||"",data:I.data||{},label:I.label||null,isModification:(0,T.default)(I.isModification)?I.isModification:null,mediaFiles:I.mediaFiles||[],author:I.author||"",updatedOn:I.updatedOn||"",status:I.status||"",meta:I.meta||{},i18n:I.i18n||{}}};var A,T=(A=_(4335))&&A.__esModule?A:{default:A}},40299:($,E,_)=>{E.ZP=void 0,(A=_(12244))&&A.__esModule;var A,T=_(28165);const O={label:"Image",id:"image",fromBlock:P=>P&&{image:P[2],alt:P[1],title:P[4]},toBlock:({alt:P,image:R,title:I})=>`![${P||""}](${R||""}${I?` "${I.replace(/"/g,'\\"')}"`:""})`,toPreview:({alt:P,image:R,title:I},N,j)=>{const U=N(R,j==null?void 0:j.find(z=>z.get("widget")==="image"));return(0,T.jsx)("img",{src:U||"",alt:P||"",title:I||""})},pattern:/^!\[(.*)\]\((.*?)(\s"(.*)")?\)$/,fields:[{label:"Image",name:"image",widget:"image",media_library:{allow_multiple:!1}},{label:"Alt Text",name:"alt"},{label:"Title",name:"title"}]};E.ZP=O},84299:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=_(46670),T=I(_(5648)),O=I(_(1573)),P=_(85555);const R=["access_token"];function I(j){return j&&j.__esModule?j:{default:j}}function N(j,U){var z=Object.keys(j);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(j);U&&(V=V.filter(function(F){return Object.getOwnPropertyDescriptor(j,F).enumerable})),z.push.apply(z,V)}return z}E.default=class{constructor(j={}){const U=(0,O.default)(j.base_url,"/"),z=(0,T.default)(j.auth_endpoint,"/");this.auth_url=`${U}/${z}`,this.appID=j.app_id,this.clearHash=j.clearHash}authenticate(j,U){if((0,P.isInsecureProtocol)())return U(new Error("Cannot authenticate over insecure protocol!"));const z=new URL(this.auth_url);z.searchParams.set("client_id",this.appID),z.searchParams.set("redirect_uri",document.location.origin+document.location.pathname),z.searchParams.set("response_type","token"),z.searchParams.set("scope",j.scope),j.prompt!=null&&j.prompt!=null&&z.searchParams.set("prompt",j.prompt),j.resource!=null&&j.resource!=null&&z.searchParams.set("resource",j.resource);const V=JSON.stringify({auth_type:"implicit",nonce:(0,P.createNonce)()});z.searchParams.set("state",V),document.location.assign(z.href)}completeAuth(j){const U=new URLSearchParams(document.location.hash.replace(/^#?\/?/,""));if(!U.has("access_token")&&!U.has("error"))return;this.clearHash();const z=(0,A.Map)(U.entries()),{nonce:V}=JSON.parse(z.get("state"));if(!(0,P.validateNonce)(V))return j(new Error("Invalid nonce"));if(z.has("error"))return j(new Error(`${z.get("error")}: ${z.get("error_description")}`));if(z.has("access_token")){const F=z.toJS(),{access_token:q}=F;j(null,function(B){for(var W=1;W<arguments.length;W++){var H=arguments[W]!=null?arguments[W]:{};W%2?N(Object(H),!0).forEach(function(G){var Z,Y,ee,J;Z=B,Y=G,ee=H[G],(Y=typeof(J=function(Q,te){if(typeof Q!="object"||!Q)return Q;var se=Q[Symbol.toPrimitive];if(se!==void 0){var de=se.call(Q,"string");if(typeof de!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(Y))=="symbol"?J:String(J))in Z?Object.defineProperty(Z,Y,{value:ee,enumerable:!0,configurable:!0,writable:!0}):Z[Y]=ee}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(H)):N(Object(H)).forEach(function(G){Object.defineProperty(B,G,Object.getOwnPropertyDescriptor(H,G))})}return B}({token:q},function(B,W){if(B==null)return{};var H,G,Z=function(ee,J){if(ee==null)return{};var Q,te,se={},de=Object.keys(ee);for(te=0;te<de.length;te++)Q=de[te],J.indexOf(Q)>=0||(se[Q]=ee[Q]);return se}(B,W);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(B);for(G=0;G<Y.length;G++)H=Y[G],W.indexOf(H)>=0||Object.prototype.propertyIsEnumerable.call(B,H)&&(Z[H]=B[H])}return Z}(F,R)))}}}},76320:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.DecapCmsLibAuth=void 0,Object.defineProperty(E,"ImplicitAuthenticator",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(E,"NetlifyAuthenticator",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(E,"PkceAuthenticator",{enumerable:!0,get:function(){return O.default}});var A=P(_(55746)),T=P(_(84299)),O=P(_(76814));function P(R){return R&&R.__esModule?R:{default:R}}E.DecapCmsLibAuth={NetlifyAuthenticator:A.default,ImplicitAuthenticator:T.default,PkceAuthenticator:O.default}},55746:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=O(_(5648)),T=O(_(1573));function O(I){return I&&I.__esModule?I:{default:I}}class P{constructor(N){this.err=N}toString(){return this.err&&this.err.message}}const R={github:{width:960,height:600},gitlab:{width:960,height:600},bitbucket:{width:960,height:500},email:{width:500,height:400}};E.default=class{constructor(I={}){this.site_id=I.site_id||null,this.base_url=(0,T.default)(I.base_url,"/")||"https://api.netlify.com",this.auth_endpoint=(0,A.default)(I.auth_endpoint,"/")||"auth"}handshakeCallback(I,N){const j=U=>{if(U.data==="authorizing:"+I.provider&&U.origin===this.base_url)return window.removeEventListener("message",j,!1),window.addEventListener("message",this.authorizeCallback(I,N),!1),this.authWindow.postMessage(U.data,U.origin)};return j}authorizeCallback(I,N){const j=U=>{if(U.origin===this.base_url){if(U.data.indexOf("authorization:"+I.provider+":success:")===0){const z=JSON.parse(U.data.match(new RegExp("^authorization:"+I.provider+":success:(.+)$"))[1]);window.removeEventListener("message",j,!1),this.authWindow.close(),N(null,z)}if(U.data.indexOf("authorization:"+I.provider+":error:")===0){const z=JSON.parse(U.data.match(new RegExp("^authorization:"+I.provider+":error:(.+)$"))[1]);window.removeEventListener("message",j,!1),this.authWindow.close(),N(new P(z))}}};return j}getSiteID(){if(this.site_id)return this.site_id;const I=document.location.host.split(":")[0];return I==="localhost"?"demo.decapcms.org":I}authenticate(I,N){const{provider:j}=I,U=this.getSiteID();if(!j)return N(new P({message:"You must specify a provider when calling netlify.authenticate"}));if(!U)return N(new P({message:"You must set a site_id with netlify.configure({site_id: 'your-site-id'}) to make authentication work from localhost"}));const z=R[j]||R.github,V=screen.width/2-z.width/2,F=screen.height/2-z.height/2;window.addEventListener("message",this.handshakeCallback(I,N),!1);let q=`${this.base_url}/${this.auth_endpoint}?provider=${I.provider}&site_id=${U}`;I.scope&&(q+="&scope="+I.scope),I.login===!0&&(q+="&login=true"),I.beta_invite&&(q+="&beta_invite="+I.beta_invite),I.invite_code&&(q+="&invite_code="+I.invite_code),this.authWindow=window.open(q,"Netlify Authorization",`width=${z.width}, height=${z.height}, top=${F}, left=${V}`),this.authWindow.focus()}refresh(I,N){const{provider:j,refresh_token:U}=I,z=this.getSiteID(),V=N||Promise.reject.bind(Promise);if(!j||!U)return V(new P({message:"You must specify a provider and refresh token when calling netlify.refresh"}));if(!z)return V(new P({message:"You must set a site_id with netlify.configure({site_id: 'your-site-id'}) to make token refresh work from localhost"}));const F=`${this.base_url}/${this.auth_endpoint}/refresh?provider=${j}&site_id=${z}&refresh_token=${U}`,q=fetch(F,{method:"POST",body:""}).then(B=>B.json());if(!N)return q;q.then(B=>N(null,B)).catch(N)}}},76814:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=P(_(5648)),T=P(_(1573)),O=_(85555);function P(N){return N&&N.__esModule?N:{default:N}}function R(N,j){var U=Object.keys(N);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(N);j&&(z=z.filter(function(V){return Object.getOwnPropertyDescriptor(N,V).enumerable})),U.push.apply(U,z)}return U}const I="decap-cms-pkce-verifier-code";E.default=class{constructor(N={}){const j=(0,T.default)(N.base_url,"/"),U=(0,A.default)(N.auth_endpoint,"/"),z=(0,A.default)(N.auth_token_endpoint,"/");this.auth_url=`${j}/${U}`,this.auth_token_url=`${j}/${z}`,this.auth_token_endpoint_content_type=N.auth_token_endpoint_content_type,this.appID=N.app_id}async authenticate(N,j){if((0,O.isInsecureProtocol)())return j(new Error("Cannot authenticate over insecure protocol!"));const U=new URL(this.auth_url);U.searchParams.set("client_id",this.appID),U.searchParams.set("redirect_uri",document.location.origin+document.location.pathname),U.searchParams.set("response_type","code"),U.searchParams.set("scope",N.scope);const z=JSON.stringify({auth_type:"pkce",nonce:(0,O.createNonce)()});U.searchParams.set("state",z),U.searchParams.set("code_challenge_method","S256");const V=function(){const q=Array.from(window.crypto.getRandomValues(new Uint8Array(128))).map(B=>"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-."[B%64]).join("");return window.sessionStorage.setItem(I,q),q}(),F=await async function(q){const B=await async function(W){const H=new TextEncoder().encode(W),G=await window.crypto.subtle.digest("SHA-256",H);return String.fromCharCode(...new Uint8Array(G))}(q);return btoa(B).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_")}(V);U.searchParams.set("code_challenge",F),document.location.assign(U.href)}async completeAuth(N){const j=new URLSearchParams(document.location.search);if(window.history.replaceState(null,"",document.location.pathname),!j.has("code")&&!j.has("error"))return;let U;try{U=JSON.parse(j.get("state")).nonce}catch{U=JSON.parse(j.get("state").replace(/\\"/g,'"')).nonce}if(!(0,O.validateNonce)(U))return N(new Error("Invalid nonce"));if(j.has("error"))return N(new Error(`${j.get("error")}: ${j.get("error_description")}`));if(j.has("code")){const z=j.get("code"),V=new URL(this.auth_token_url),F={client_id:this.appID,code:z,grant_type:"authorization_code",redirect_uri:document.location.origin+document.location.pathname,code_verifier:window.sessionStorage.getItem(I)},q=await fetch(V.href,{method:"POST",body:this.auth_token_endpoint_content_type.startsWith("application/x-www-form-urlencoded")?new URLSearchParams(Object.entries(F)).toString():JSON.stringify(F),headers:{"Content-Type":this.auth_token_endpoint_content_type}}),B=await q.json();window.sessionStorage.removeItem(I),N(null,function(W){for(var H=1;H<arguments.length;H++){var G=arguments[H]!=null?arguments[H]:{};H%2?R(Object(G),!0).forEach(function(Z){var Y,ee,J,Q;Y=W,ee=Z,J=G[Z],(ee=typeof(Q=function(te,se){if(typeof te!="object"||!te)return te;var de=te[Symbol.toPrimitive];if(de!==void 0){var ie=de.call(te,"string");if(typeof ie!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(ee))=="symbol"?Q:String(Q))in Y?Object.defineProperty(Y,ee,{value:J,enumerable:!0,configurable:!0,writable:!0}):Y[ee]=J}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(G)):R(Object(G)).forEach(function(Z){Object.defineProperty(W,Z,Object.getOwnPropertyDescriptor(G,Z))})}return W}({token:B.access_token},B))}}}},85555:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.createNonce=function(){const T=(0,A.v4)();return window.sessionStorage.setItem("decap-cms-auth",JSON.stringify({nonce:T})),T},E.isInsecureProtocol=function(){return document.location.protocol!=="https:"&&document.location.hostname!=="localhost"&&document.location.hostname!=="127.0.0.1"},E.validateNonce=function(T){const O=window.sessionStorage.getItem("decap-cms-auth"),P=O&&JSON.parse(O).nonce;return window.localStorage.removeItem("decap-cms-auth"),T===P};var A=_(29987)},65727:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PreviewState=void 0,E.apiRequest=B,E.endpointConstants=E.apiRoots=void 0,E.getDefaultBranchName=async function(G){let Z;const{token:Y,backend:ee,repo:J,apiRoot:Q}=G;switch(ee){case"gitlab":Z=`/projects/${encodeURIComponent(J)}`;break;case"bitbucket":Z=`/repositories/${J}`;break;default:Z=`/repos/${J}`}const te=await B(Z,{token:Y,backend:ee,apiRoot:Q});let se;if(ee==="bitbucket"){const{mainbranch:{name:de}}=te;se=de}else{const{default_branch:de}=te;se=de}return se},E.getPreviewStatus=function(G,Z){return G.find(({context:Y})=>H(Y,Z))},E.isPreviewContext=H,E.parseResponse=z,E.readFile=async function(G,Z,Y,ee){const J=G?ee?`gh.${G}`:`gh.${G}.blob`:null,Q=J?await Y.getItem(J):null;if(Q)return Q;const te=await Z();return J&&await Y.setItem(J,te),te},E.readFileMetadata=async function(G,Z,Y){const ee=G?function(te){return`gh.${te}.meta`}(G):null,J=ee&&await Y.getItem(ee);if(J)return J;const Q=await Z();return ee&&await Y.setItem(ee,Q),Q},E.requestWithBackoff=V,E.throwOnConflictingBranches=async function(G,Z,Y){const ee=function(Q){const te=Q.split("/");return te.pop(),te.reduce((se,de,ie)=>[...se,te.slice(0,ie+1).join("/")],[])}(G),J=(await Promise.all(ee.map(Q=>Z(Q).then(te=>te.name).catch(()=>"")))).filter(Boolean)[0];if(J)throw new O.default(`Failed creating branch '${G}' since there is already a branch named '${J}'. Please delete the '${J}' branch and try again`,500,Y)};var A=_(87131),T=R(_(25664)),O=R(_(67026));const P=["token","backend"];function R(G){return G&&G.__esModule?G:{default:G}}function I(G,Z){var Y=Object.keys(G);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(G);Z&&(ee=ee.filter(function(J){return Object.getOwnPropertyDescriptor(G,J).enumerable})),Y.push.apply(Y,ee)}return Y}function N(G){for(var Z=1;Z<arguments.length;Z++){var Y=arguments[Z]!=null?arguments[Z]:{};Z%2?I(Object(Y),!0).forEach(function(ee){j(G,ee,Y[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(Y)):I(Object(Y)).forEach(function(ee){Object.defineProperty(G,ee,Object.getOwnPropertyDescriptor(Y,ee))})}return G}function j(G,Z,Y){var ee;return(Z=typeof(ee=function(J,Q){if(typeof J!="object"||!J)return J;var te=J[Symbol.toPrimitive];if(te!==void 0){var se=te.call(J,"string");if(typeof se!="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}(Z))=="symbol"?ee:String(ee))in G?Object.defineProperty(G,Z,{value:Y,enumerable:!0,configurable:!0,writable:!0}):G[Z]=Y,G}class U extends function(Z){function Y(){var ee=Reflect.construct(Z,Array.from(arguments));return Object.setPrototypeOf(ee,Object.getPrototypeOf(this)),ee}return Y.prototype=Object.create(Z.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(Y,Z):Y.__proto__=Z,Y}(Error){constructor(Z,Y){super(Z),j(this,"resetSeconds",void 0),this.resetSeconds=Y<0?1:Y>3600?3600:Y}}function z(G){const Z=G.headers.get("Content-Type");return Z&&Z.match(/json/)?async function(Y){const ee=await Y.json();return Y.ok?ee:Promise.reject(ee)}(G):G.text().then(Y=>G.ok?Y:Promise.reject(Y))}async function V(G,Z,Y=1){G.rateLimiter&&await G.rateLimiter.acquire();try{const ee=await G.buildRequest(Z),J=G.requestFunction||T.default.performRequest,Q=await J(ee);if(Q.status===429){const te=await Q.text().catch(()=>"Too many requests");throw new Error(te)}if(Q.status===403){const te=await Q.json().catch(()=>({message:""}));if(te.message.match("API rate limit exceeded")){const se=new Date,de=Q.headers.has("X-RateLimit-Reset")?parseInt(Q.headers.get("X-RateLimit-Reset")):se.getTime()/1e3+60;throw new U(te.message,de)}Q.json=()=>Promise.resolve(te)}return Q}catch(ee){if(Y>5||ee.message==="Can't refresh access token when using implicit auth")throw ee;if(!G.rateLimiter){const J=ee.resetSeconds||Y*Y;console.log(`Pausing requests for ${J} ${Y===1?"second":"seconds"} due to fetch failures:`,ee.message),G.rateLimiter=(0,A.asyncLock)(),G.rateLimiter.acquire(),setTimeout(()=>{var Q;(Q=G.rateLimiter)===null||Q===void 0||Q.release(),G.rateLimiter=void 0,console.log("Done pausing requests")},1e3*J)}return V(G,Z,Y+1)}}const F=E.apiRoots={github:"https://api.github.com",gitlab:"https://gitlab.com/api/v4",bitbucket:"https://api.bitbucket.org/2.0"},q=(E.endpointConstants={singleRepo:{bitbucket:"/repositories",github:"/repos",gitlab:"/projects"}},{buildRequest:G=>G});async function B(G,Z,Y=ee=>z(ee)){var ee;const{token:J,backend:Q}=Z,te=N({cache:"no-cache"},function(ve,xe){if(ve==null)return{};var ke,Ce,Oe=function(Pe,Ee){if(Pe==null)return{};var Te,Re,Me={},ze=Object.keys(Pe);for(Re=0;Re<ze.length;Re++)Te=ze[Re],Ee.indexOf(Te)>=0||(Me[Te]=Pe[Te]);return Me}(ve,xe);if(Object.getOwnPropertySymbols){var Ae=Object.getOwnPropertySymbols(ve);for(Ce=0;Ce<Ae.length;Ce++)ke=Ae[Ce],xe.indexOf(ke)>=0||Object.prototype.propertyIsEnumerable.call(ve,ke)&&(Oe[ke]=ve[ke])}return Oe}(Z,P)),se=await async function(ve){const{token:xe,headers:ke}=ve,Ce=N({"Content-Type":"application/json; charset=utf-8"},ke);return xe&&(Ce.Authorization=`Bearer ${xe}`),Promise.resolve(Ce)}({headers:te.headers||{},token:J}),de=function(ve,xe){if(xe){const ke=[];for(const Ce in xe)ke.push(`${Ce}=${encodeURIComponent(xe[Ce])}`);ke.length&&(ve+=`?${ke.join("&")}`)}return ve}(`${(ee=Z.apiRoot)!==null&&ee!==void 0?ee:F[Q]}${G}`,te.params);let ie=500;try{const ve=T.default.fromFetchArguments(de,N(N({},te),{},{headers:se})),xe=await V(q,ve);return ie=xe.status,await Y(xe)}catch(ve){return function(xe,ke,Ce){throw new O.default(xe.message,ke,Ce)}(ve,ie,Q)}}const W=["deploy"];function H(G,Z){return Z?G===Z:W.some(Y=>G.includes(Y))}E.PreviewState=function(G){return G.Other="other",G.Success="success",G}({})},67026:($,E)=>{function _(O,P,R){var I;return(P=typeof(I=function(N,j){if(typeof N!="object"||!N)return N;var U=N[Symbol.toPrimitive];if(U!==void 0){var z=U.call(N,"string");if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(P))=="symbol"?I:String(I))in O?Object.defineProperty(O,P,{value:R,enumerable:!0,configurable:!0,writable:!0}):O[P]=R,O}Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.API_ERROR=void 0;const A=E.API_ERROR="API_ERROR";class T extends function(P){function R(){var I=Reflect.construct(P,Array.from(arguments));return Object.setPrototypeOf(I,Object.getPrototypeOf(this)),I}return R.prototype=Object.create(P.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(R,P):R.__proto__=P,R}(Error){constructor(P,R,I,N={}){super(P),_(this,"message",void 0),_(this,"status",void 0),_(this,"api",void 0),_(this,"meta",void 0),this.message=P,this.status=R,this.api=I,this.name=A,this.meta=N}}E.default=T},97478:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.MERGE_COMMIT_MESSAGE=E.DEFAULT_PR_BODY=E.CMS_BRANCH_PREFIX=void 0,E.branchFromContentKey=function(O){return`${_}/${O}`},E.contentKeyFromBranch=function(O){return O.slice(`${_}/`.length)},E.generateContentKey=function(O,P){return`${O}/${P}`},E.isCMSLabel=function(O,P){return O.startsWith(T(P))},E.labelToStatus=function(O,P){return O.slice(T(P).length)},E.parseContentKey=function(O){const P=O.indexOf("/");return{collection:O.slice(0,P),slug:O.slice(P+1)}},E.statusToLabel=function(O,P){return`${T(P)}${O}`};const _=E.CMS_BRANCH_PREFIX="cms",A=(E.DEFAULT_PR_BODY="Automatically generated by Decap CMS",E.MERGE_COMMIT_MESSAGE="Automatically generated. Merged on Decap CMS.","decap-cms/");function T(O){return O||A}},6137:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.ACCESS_TOKEN_ERROR=void 0;const _=E.ACCESS_TOKEN_ERROR="ACCESS_TOKEN_ERROR";class A extends function(O){function P(){var R=Reflect.construct(O,Array.from(arguments));return Object.setPrototypeOf(R,Object.getPrototypeOf(this)),R}return P.prototype=Object.create(O.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(P,O):P.__proto__=O,P}(Error){constructor(O){var P,R,I,N;super(O),P=this,I=void 0,(R=typeof(N=function(j,U){if(typeof j!="object"||!j)return j;var z=j[Symbol.toPrimitive];if(z!==void 0){var V=z.call(j,"string");if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R="message"))=="symbol"?N:String(N))in P?Object.defineProperty(P,R,{value:I,enumerable:!0,configurable:!0,writable:!0}):P[R]=I,this.message=O,this.name=_}}E.default=A},68075:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.CURSOR_COMPATIBILITY_SYMBOL=void 0;var A=_(46670);function T(N,j,U){var z;return(j=typeof(z=function(V,F){if(typeof V!="object"||!V)return V;var q=V[Symbol.toPrimitive];if(q!==void 0){var B=q.call(V,"string");if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)}(j))=="symbol"?z:String(z))in N?Object.defineProperty(N,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):N[j]=U,N}function O(N){if(N===void 0)return(0,A.Map)();const j=(0,A.fromJS)(N);if(!A.Map.isMap(j))throw new Error("Object must be equivalent to a Map.");return j}const P=(0,A.Set)(["index","page","count","pageSize","pageCount","usingOldPaginationAPI","extension","folder","depth"]);function R(N){return N.filter((j,U)=>P.has(U))}class I{static create(...j){return new I(...j)}constructor(...j){if(T(this,"store",void 0),T(this,"actions",void 0),T(this,"data",void 0),T(this,"meta",void 0),j[0]instanceof I)return j[0];this.store=function(...U){const{actions:z,data:V,meta:F}=U.length===1?O(U[0]).toObject():{actions:U[0],data:U[1],meta:U[2]};return(0,A.Map)({actions:(0,A.Set)(z),data:O(V),meta:O(F).update(R)})}(...j),this.actions=this.store.get("actions"),this.data=this.store.get("data"),this.meta=this.store.get("meta")}updateStore(...j){return new I(this.store.update(...j))}updateInStore(...j){return new I(this.store.updateIn(...j))}hasAction(j){return function(U,z){return U.hasIn(["actions",z])}(this.store,j)}addAction(j){return this.updateStore("actions",U=>U.add(j))}removeAction(j){return this.updateStore("actions",U=>U.delete(j))}setActions(j){return this.updateStore(U=>U.set("actions",(0,A.Set)(j)))}mergeActions(j){return this.updateStore("actions",U=>U.union(j))}getActionHandlers(j){return function(U,z){return U.get("actions",(0,A.Set)()).toMap().map(V=>z(V))}(this.store,j)}setData(j){return new I(this.store.set("data",O(j)))}mergeData(j){return new I(this.store.mergeIn(["data"],O(j)))}wrapData(j){return this.updateStore("data",U=>O(j).set("wrapped_cursor_data",U))}unwrapData(){return[this.store.get("data").delete("wrapped_cursor_data"),this.updateStore("data",j=>j.get("wrapped_cursor_data"))]}clearData(){return this.updateStore("data",()=>(0,A.Map)())}setMeta(j){return this.updateStore(U=>U.set("meta",O(j)))}mergeMeta(j){return this.updateStore(U=>U.update("meta",z=>z.merge(O(j))))}}E.default=I,E.CURSOR_COMPATIBILITY_SYMBOL=Symbol("cursor key for compatibility with old backends")},67097:($,E)=>{function _(O,P,R){var I;return(P=typeof(I=function(N,j){if(typeof N!="object"||!N)return N;var U=N[Symbol.toPrimitive];if(U!==void 0){var z=U.call(N,"string");if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(P))=="symbol"?I:String(I))in O?Object.defineProperty(O,P,{value:R,enumerable:!0,configurable:!0,writable:!0}):O[P]=R,O}Object.defineProperty(E,"__esModule",{value:!0}),E.default=E.EDITORIAL_WORKFLOW_ERROR=void 0;const A=E.EDITORIAL_WORKFLOW_ERROR="EDITORIAL_WORKFLOW_ERROR";class T extends function(P){function R(){var I=Reflect.construct(P,Array.from(arguments));return Object.setPrototypeOf(I,Object.getPrototypeOf(this)),I}return R.prototype=Object.create(P.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(R,P):R.__proto__=P,R}(Error){constructor(P,R){super(P),_(this,"message",void 0),_(this,"notUnderEditorialWorkflow",void 0),this.message=P,this.notUnderEditorialWorkflow=R,this.name=A}}E.default=T},87131:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.asyncLock=function(){let O=(0,T.default)(1);return{acquire:function(P=15e3){return new Promise(R=>{const I=setTimeout(()=>{O=(0,T.default)(1),R(!1)},P);O.take(()=>{clearTimeout(I),R(!0)})})},release:function(){try{O.leave()}catch(P){if(P.message!=="leave called too many times.")throw P;console.warn("leave called too many times."),O=(0,T.default)(1)}}}};var A,T=(A=_(63252))&&A.__esModule?A:{default:A}},47021:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.filterByExtension=function(F,q){return((F==null?void 0:F.path)||"").endsWith(q.startsWith(".")?q:`.${q}`)},E.getAllResponses=async function(F,q={},B,W){let H=1,G=R.default.fromFetchArguments(F,q);const Z=[];for(;G&&H<30;){const Y=await R.default.performRequest(G),ee=Y.headers.get("Link"),J=ee&&V(ee)[B],{headers:Q={}}=q;G=J&&R.default.fromFetchArguments(W(J),{headers:Q}),Z.push(Y),H++}return Z},E.getPathDepth=function(F){return F.split("/").length},E.parseLinkHeader=V,E.parseResponse=z,E.responseParser=function(F){return q=>z(q,F)};var A=N(_(65159)),T=N(_(10017)),O=N(_(85395)),P=_(46670),R=N(_(25664)),I=N(_(67026));function N(F){return F&&F.__esModule?F:{default:F}}function j(F,q){return B=>{try{return q(B)}catch(W){throw new Error(`Response cannot be parsed into the expected format (${F}): ${W.message}`)}}}const U=(0,P.fromJS)({json:async F=>{const q=F.headers.get("Content-Type")||"";if(!q.startsWith("application/json")&&!q.startsWith("text/json"))throw new Error(`${q} is not a valid JSON Content-Type`);return F.json()},text:async F=>F.text(),blob:async F=>F.blob()}).mapEntries(([F,q])=>[F,j(F,q)]);async function z(F,{expectingOk:q=!0,format:B="text",apiName:W=""}){let H;try{const Z=U.get(B,!1);if(!Z)throw new Error(`${B} is not a supported response format.`);H=await Z(F)}catch(Z){throw new I.default(Z.message,F.status,W)}if(q&&!F.ok){var G;const Z=B==="json",Y=Z?H.message||H.msg||((G=H.error)===null||G===void 0?void 0:G.message):H;throw new I.default(Z&&Y?Y:H,F.status,W)}return H}function V(F){return F?(0,O.default)([q=>q.split(","),(0,A.default)(q=>q.trim().split(";")),(0,A.default)(([q,B])=>[B.match(/rel="(.*?)"/)[1],q.trim().match(/<(.*?)>/)[1].replace(/\+/g,"%20")]),T.default])(F):{}}},44951:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=_(91965);E.default=T=>new Promise((O,P)=>{const R=new FileReader;R.onload=({target:I})=>O((0,A.sha256)((I==null?void 0:I.result)||"")),R.onerror=I=>{R.abort(),P(I)},R.readAsArrayBuffer(T)})},80120:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.createPointerFile=H,E.getLargeMediaFilteredMediaFiles=async function(Z,Y){return await Promise.all(Y.map(async ee=>{const{fileObj:J,path:Q}=ee,te=Q.startsWith("/")?Q.slice(1):Q;if(!Z.matchPath(te))return ee;const se=await G(Z,J,Q);return U(U({},ee),se)}))},E.getLargeMediaPatternsFromGitAttributesFile=void 0,E.getPointerFileForMediaFileObj=G,E.parsePointerFile=void 0;var A=N(_(65159)),T=N(_(23162)),O=N(_(10094)),P=N(_(58072)),R=N(_(44951));const I=["size","oid"];function N(Z){return Z&&Z.__esModule?Z:{default:Z}}function j(Z,Y){var ee=Object.keys(Z);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Z);Y&&(J=J.filter(function(Q){return Object.getOwnPropertyDescriptor(Z,Q).enumerable})),ee.push.apply(ee,J)}return ee}function U(Z){for(var Y=1;Y<arguments.length;Y++){var ee=arguments[Y]!=null?arguments[Y]:{};Y%2?j(Object(ee),!0).forEach(function(J){var Q,te,se,de;Q=Z,te=J,se=ee[J],(te=typeof(de=function(ie,ve){if(typeof ie!="object"||!ie)return ie;var xe=ie[Symbol.toPrimitive];if(xe!==void 0){var ke=xe.call(ie,"string");if(typeof ke!="object")return ke;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ie)}(te))=="symbol"?de:String(de))in Q?Object.defineProperty(Q,te,{value:se,enumerable:!0,configurable:!0,writable:!0}):Q[te]=se}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(ee)):j(Object(ee)).forEach(function(J){Object.defineProperty(Z,J,Object.getOwnPropertyDescriptor(ee,J))})}return Z}function z(Z){return Z.split(`
`)}function V(Z){return Z.split(/\s+/g)}const F=(0,O.default)([(0,A.default)(Z=>Z.trim()),(0,P.default)(function(Z){return Z!==""})]);E.parsePointerFile=(0,O.default)([z,F,(0,A.default)(V),T.default,Z=>{let{size:Y,oid:ee}=Z,J=function(Q,te){if(Q==null)return{};var se,de,ie=function(xe,ke){if(xe==null)return{};var Ce,Oe,Ae={},Pe=Object.keys(xe);for(Oe=0;Oe<Pe.length;Oe++)Ce=Pe[Oe],ke.indexOf(Ce)>=0||(Ae[Ce]=xe[Ce]);return Ae}(Q,te);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(Q);for(de=0;de<ve.length;de++)se=ve[de],te.indexOf(se)>=0||Object.prototype.propertyIsEnumerable.call(Q,se)&&(ie[se]=Q[se])}return ie}(Z,I);return U({size:parseInt(Y),sha:ee==null?void 0:ee.split(":")[1]},J)}]);const q=(0,O.default)([(0,A.default)(function(Z){return Z.includes("=")?Z.split("="):Z.startsWith("-")?[Z.slice(1),!1]:[Z,!0]}),T.default]),B=(0,O.default)([V,([Z,...Y])=>[Z,q(Y)]]),W=(0,O.default)([z,(0,A.default)(function(Z){return Z.split("#")[0]}),F,(0,A.default)(B)]);function H({size:Z,sha:Y}){return`version https://git-lfs.github.com/spec/v1
oid sha256:${Y}
size ${Z}
`}async function G(Z,Y,ee){const{name:J,size:Q}=Y,te=await(0,R.default)(Y);await Z.uploadResource({sha:te,size:Q},Y);const se=H({sha:te,size:Q}),de=new Blob([se]),ie=new File([de],J,{type:"text/plain"}),ve=await(0,R.default)(ie);return{fileObj:ie,size:de.size,sha:ve,raw:se,path:ee}}E.getLargeMediaPatternsFromGitAttributesFile=(0,O.default)([W,(0,P.default)(([,Z])=>Z.filter==="lfs"&&Z.diff==="lfs"&&Z.merge==="lfs"),(0,A.default)(([Z])=>Z)])},86314:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.allEntriesByFolder=async function({listAllFiles:W,readFile:H,readFileMetadata:G,apiName:Z,branch:Y,localForage:ee,folder:J,extension:Q,depth:te,getDefaultBranch:se,isShaExistsInBranch:de,getDifferences:ie,getFileId:ve,filterFile:xe,customFetch:ke}){async function Ce(){const Ae=await W(J,Q,te),Pe=await se();return await q({localForage:ee,localTree:{head:Pe.sha,files:Ae.map(Ee=>({id:Ee.id,path:Ee.path,name:(0,P.basename)(Ee.path)}))},branch:Pe.name,depth:te,extension:Q,folder:J}),Ae}const Oe=await async function(){const Ae=await B({localForage:ee,branch:Y,folder:J,extension:Q,depth:te});if(Ae){const Pe=await se();if(!await de(Pe.name,Ae.head))return console.log(`Can't find local tree head '${Ae.head}' in branch '${Pe.name}', rebuilding local tree`),Ce();const Ee=await async function({branch:Te,localTree:Re,folder:Me,getDifferences:ze,filterFile:Le,getFileId:je}){const Ne=(await ze(Te.sha,Re.head)).filter(qe=>{var Ye,Ve;return((Ye=qe.oldPath)===null||Ye===void 0?void 0:Ye.startsWith(Me))||((Ve=qe.newPath)===null||Ve===void 0?void 0:Ve.startsWith(Me))}).reduce((qe,Ye)=>(Ye.status==="renamed"?(qe.push({path:Ye.oldPath,name:(0,P.basename)(Ye.oldPath),deleted:!0}),qe.push({path:Ye.newPath,name:(0,P.basename)(Ye.newPath),deleted:!1})):Ye.status==="deleted"?qe.push({path:Ye.oldPath,name:(0,P.basename)(Ye.oldPath),deleted:!0}):qe.push({path:Ye.newPath||Ye.oldPath,name:(0,P.basename)(Ye.newPath||Ye.oldPath),deleted:!1}),qe),[]).filter(Le);return await Promise.all(Ne.map(async qe=>{if(qe.deleted)return N(N({},qe),{},{id:""});{const Ye=await je(qe.path);return N(N({},qe),{},{id:Ye})}}))}({branch:Pe,localTree:Ae,folder:J,extension:Q,depth:te,getDifferences:ie,getFileId:ve,filterFile:xe}).catch(Te=>(console.log("Failed getting diff from local tree:",Te),null));if(!Ee)return console.log("Diff is null, rebuilding local tree"),Ce();if(Ee.length===0)return Ae.files;{const Te=Ee.reduce((Me,ze)=>(Me[ze.path]=ze.deleted,Me),{}),Re=(0,A.default)((0,T.default)(Ee.filter(Me=>!Te[Me.path]),Ae.files.filter(Me=>!Te[Me.path]),Me=>Me.path),Me=>Me.path);return await q({localForage:ee,localTree:{head:Pe.sha,files:Re},branch:Pe.name,depth:te,extension:Q,folder:J}),Re}}return Ce()}();return ke?await ke(Oe):await U(Oe,H,G,Z)},E.blobToFileObj=function(W,H){const G=W.match(/.svg$/)?{type:"image/svg+xml"}:{};return new File([H],W,G)},E.entriesByFiles=async function(W,H,G,Z){return U(W,H,G,Z)},E.entriesByFolder=async function(W,H,G,Z){return U(await W(),H,G,Z)},E.getLocalTree=B,E.getMediaAsBlob=z,E.getMediaDisplayURL=async function(W,H,G){const{path:Z,id:Y}=W;return new Promise((ee,J)=>G.take(()=>z(Z,Y,H).then(Q=>URL.createObjectURL(Q)).then(ee,J).finally(()=>G.leave())))},E.persistLocalTree=q,E.runWithLock=async function(W,H,G){try{return await W.acquire()||console.warn(G),await H()}finally{W.release()}},E.unpublishedEntries=async function(W){try{return await W()}catch(H){if(H.message==="Not Found")return Promise.resolve([]);throw H}};var A=R(_(829)),T=R(_(15316)),O=R(_(63252)),P=_(92478);function R(W){return W&&W.__esModule?W:{default:W}}function I(W,H){var G=Object.keys(W);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(W);H&&(Z=Z.filter(function(Y){return Object.getOwnPropertyDescriptor(W,Y).enumerable})),G.push.apply(G,Z)}return G}function N(W){for(var H=1;H<arguments.length;H++){var G=arguments[H]!=null?arguments[H]:{};H%2?I(Object(G),!0).forEach(function(Z){var Y,ee,J,Q;Y=W,ee=Z,J=G[Z],(ee=typeof(Q=function(te,se){if(typeof te!="object"||!te)return te;var de=te[Symbol.toPrimitive];if(de!==void 0){var ie=de.call(te,"string");if(typeof ie!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(ee))=="symbol"?Q:String(Q))in Y?Object.defineProperty(Y,ee,{value:J,enumerable:!0,configurable:!0,writable:!0}):Y[ee]=J}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(G)):I(Object(G)).forEach(function(Z){Object.defineProperty(W,Z,Object.getOwnPropertyDescriptor(G,Z))})}return W}const j=10;async function U(W,H,G,Z){const Y=(0,O.default)(j),ee=[];return W.forEach(J=>{ee.push(new Promise(Q=>Y.take(async()=>{try{const[te,se]=await Promise.all([H(J.path,J.id,{parseText:!0}),G(J.path,J.id)]);Q({file:N(N({},J),se),data:te}),Y.leave()}catch{Y.leave(),console.error(`failed to load file from ${Z}: ${J.path}`),Q({error:!0})}})))}),Promise.all(ee).then(J=>J.filter(Q=>!Q.error))}async function z(W,H,G){let Z;if(W.match(/.svg$/)){const Y=await G(W,H,{parseText:!0});Z=new Blob([Y],{type:"image/svg+xml"})}else Z=await G(W,H,{parseText:!1});return Z}const V="git.local";function F({branch:W,folder:H,extension:G,depth:Z}){return`${V}.${W}.${H}.${G}.${Z}`}async function q({localForage:W,localTree:H,branch:G,folder:Z,extension:Y,depth:ee}){await W.setItem(F({branch:G,folder:Z,extension:Y,depth:ee}),H)}async function B({localForage:W,branch:H,folder:G,extension:Z,depth:Y}){return await W.getItem(F({branch:H,folder:G,extension:Z,depth:Y}))}},33806:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),Object.defineProperty(E,"APIError",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(E,"AccessTokenError",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(E,"CMS_BRANCH_PREFIX",{enumerable:!0,get:function(){return W.CMS_BRANCH_PREFIX}}),Object.defineProperty(E,"CURSOR_COMPATIBILITY_SYMBOL",{enumerable:!0,get:function(){return T.CURSOR_COMPATIBILITY_SYMBOL}}),Object.defineProperty(E,"Cursor",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(E,"DEFAULT_PR_BODY",{enumerable:!0,get:function(){return W.DEFAULT_PR_BODY}}),E.DecapCmsLibUtil=void 0,Object.defineProperty(E,"EDITORIAL_WORKFLOW_ERROR",{enumerable:!0,get:function(){return O.EDITORIAL_WORKFLOW_ERROR}}),Object.defineProperty(E,"EditorialWorkflowError",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(E,"MERGE_COMMIT_MESSAGE",{enumerable:!0,get:function(){return W.MERGE_COMMIT_MESSAGE}}),Object.defineProperty(E,"PreviewState",{enumerable:!0,get:function(){return B.PreviewState}}),Object.defineProperty(E,"allEntriesByFolder",{enumerable:!0,get:function(){return q.allEntriesByFolder}}),Object.defineProperty(E,"asyncLock",{enumerable:!0,get:function(){return F.asyncLock}}),Object.defineProperty(E,"basename",{enumerable:!0,get:function(){return I.basename}}),Object.defineProperty(E,"blobToFileObj",{enumerable:!0,get:function(){return q.blobToFileObj}}),Object.defineProperty(E,"branchFromContentKey",{enumerable:!0,get:function(){return W.branchFromContentKey}}),Object.defineProperty(E,"contentKeyFromBranch",{enumerable:!0,get:function(){return W.contentKeyFromBranch}}),Object.defineProperty(E,"createPointerFile",{enumerable:!0,get:function(){return H.createPointerFile}}),Object.defineProperty(E,"entriesByFiles",{enumerable:!0,get:function(){return q.entriesByFiles}}),Object.defineProperty(E,"entriesByFolder",{enumerable:!0,get:function(){return q.entriesByFolder}}),Object.defineProperty(E,"fileExtension",{enumerable:!0,get:function(){return I.fileExtension}}),Object.defineProperty(E,"fileExtensionWithSeparator",{enumerable:!0,get:function(){return I.fileExtensionWithSeparator}}),Object.defineProperty(E,"filterByExtension",{enumerable:!0,get:function(){return U.filterByExtension}}),Object.defineProperty(E,"flowAsync",{enumerable:!0,get:function(){return N.flowAsync}}),Object.defineProperty(E,"generateContentKey",{enumerable:!0,get:function(){return W.generateContentKey}}),Object.defineProperty(E,"getAllResponses",{enumerable:!0,get:function(){return U.getAllResponses}}),Object.defineProperty(E,"getBlobSHA",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(E,"getDefaultBranchName",{enumerable:!0,get:function(){return B.getDefaultBranchName}}),Object.defineProperty(E,"getLargeMediaFilteredMediaFiles",{enumerable:!0,get:function(){return H.getLargeMediaFilteredMediaFiles}}),Object.defineProperty(E,"getLargeMediaPatternsFromGitAttributesFile",{enumerable:!0,get:function(){return H.getLargeMediaPatternsFromGitAttributesFile}}),Object.defineProperty(E,"getMediaAsBlob",{enumerable:!0,get:function(){return q.getMediaAsBlob}}),Object.defineProperty(E,"getMediaDisplayURL",{enumerable:!0,get:function(){return q.getMediaDisplayURL}}),Object.defineProperty(E,"getPathDepth",{enumerable:!0,get:function(){return U.getPathDepth}}),Object.defineProperty(E,"getPointerFileForMediaFileObj",{enumerable:!0,get:function(){return H.getPointerFileForMediaFileObj}}),Object.defineProperty(E,"getPreviewStatus",{enumerable:!0,get:function(){return B.getPreviewStatus}}),Object.defineProperty(E,"isAbsolutePath",{enumerable:!0,get:function(){return I.isAbsolutePath}}),Object.defineProperty(E,"isCMSLabel",{enumerable:!0,get:function(){return W.isCMSLabel}}),Object.defineProperty(E,"isPreviewContext",{enumerable:!0,get:function(){return B.isPreviewContext}}),Object.defineProperty(E,"labelToStatus",{enumerable:!0,get:function(){return W.labelToStatus}}),Object.defineProperty(E,"loadScript",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(E,"localForage",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(E,"onlySuccessfulPromises",{enumerable:!0,get:function(){return N.onlySuccessfulPromises}}),Object.defineProperty(E,"parseContentKey",{enumerable:!0,get:function(){return W.parseContentKey}}),Object.defineProperty(E,"parseLinkHeader",{enumerable:!0,get:function(){return U.parseLinkHeader}}),Object.defineProperty(E,"parsePointerFile",{enumerable:!0,get:function(){return H.parsePointerFile}}),Object.defineProperty(E,"parseResponse",{enumerable:!0,get:function(){return U.parseResponse}}),Object.defineProperty(E,"readFile",{enumerable:!0,get:function(){return B.readFile}}),Object.defineProperty(E,"readFileMetadata",{enumerable:!0,get:function(){return B.readFileMetadata}}),Object.defineProperty(E,"requestWithBackoff",{enumerable:!0,get:function(){return B.requestWithBackoff}}),Object.defineProperty(E,"responseParser",{enumerable:!0,get:function(){return U.responseParser}}),Object.defineProperty(E,"runWithLock",{enumerable:!0,get:function(){return q.runWithLock}}),Object.defineProperty(E,"statusToLabel",{enumerable:!0,get:function(){return W.statusToLabel}}),Object.defineProperty(E,"then",{enumerable:!0,get:function(){return N.then}}),Object.defineProperty(E,"throwOnConflictingBranches",{enumerable:!0,get:function(){return B.throwOnConflictingBranches}}),Object.defineProperty(E,"unpublishedEntries",{enumerable:!0,get:function(){return q.unpublishedEntries}}),Object.defineProperty(E,"unsentRequest",{enumerable:!0,get:function(){return j.default}});var A=Y(_(67026)),T=Z(_(68075)),O=Z(_(67097)),P=Y(_(6137)),R=Y(_(55538)),I=_(92478),N=_(44486),j=Y(_(25664)),U=_(47021),z=Y(_(73209)),V=Y(_(44951)),F=_(87131),q=_(86314),B=_(65727),W=_(97478),H=_(80120);function G(ee){if(typeof WeakMap!="function")return null;var J=new WeakMap,Q=new WeakMap;return(G=function(te){return te?Q:J})(ee)}function Z(ee,J){if(ee&&ee.__esModule)return ee;if(ee===null||typeof ee!="object"&&typeof ee!="function")return{default:ee};var Q=G(J);if(Q&&Q.has(ee))return Q.get(ee);var te={__proto__:null},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var de in ee)if(de!=="default"&&Object.prototype.hasOwnProperty.call(ee,de)){var ie=se?Object.getOwnPropertyDescriptor(ee,de):null;ie&&(ie.get||ie.set)?Object.defineProperty(te,de,ie):te[de]=ee[de]}return te.default=ee,Q&&Q.set(ee,te),te}function Y(ee){return ee&&ee.__esModule?ee:{default:ee}}E.DecapCmsLibUtil={APIError:A.default,Cursor:T.default,CURSOR_COMPATIBILITY_SYMBOL:T.CURSOR_COMPATIBILITY_SYMBOL,EditorialWorkflowError:O.default,EDITORIAL_WORKFLOW_ERROR:O.EDITORIAL_WORKFLOW_ERROR,localForage:R.default,basename:I.basename,fileExtensionWithSeparator:I.fileExtensionWithSeparator,fileExtension:I.fileExtension,onlySuccessfulPromises:N.onlySuccessfulPromises,flowAsync:N.flowAsync,then:N.then,unsentRequest:j.default,filterByExtension:U.filterByExtension,parseLinkHeader:U.parseLinkHeader,parseResponse:U.parseResponse,responseParser:U.responseParser,loadScript:z.default,getBlobSHA:V.default,getPathDepth:U.getPathDepth,entriesByFiles:q.entriesByFiles,entriesByFolder:q.entriesByFolder,unpublishedEntries:q.unpublishedEntries,getMediaDisplayURL:q.getMediaDisplayURL,getMediaAsBlob:q.getMediaAsBlob,readFile:B.readFile,readFileMetadata:B.readFileMetadata,CMS_BRANCH_PREFIX:W.CMS_BRANCH_PREFIX,generateContentKey:W.generateContentKey,isCMSLabel:W.isCMSLabel,labelToStatus:W.labelToStatus,statusToLabel:W.statusToLabel,DEFAULT_PR_BODY:W.DEFAULT_PR_BODY,MERGE_COMMIT_MESSAGE:W.MERGE_COMMIT_MESSAGE,isPreviewContext:B.isPreviewContext,getPreviewStatus:B.getPreviewStatus,runWithLock:q.runWithLock,PreviewState:B.PreviewState,parseContentKey:W.parseContentKey,createPointerFile:H.createPointerFile,getLargeMediaFilteredMediaFiles:H.getLargeMediaFilteredMediaFiles,getLargeMediaPatternsFromGitAttributesFile:H.getLargeMediaPatternsFromGitAttributesFile,parsePointerFile:H.parsePointerFile,getPointerFileForMediaFileObj:H.getPointerFileForMediaFileObj,branchFromContentKey:W.branchFromContentKey,contentKeyFromBranch:W.contentKeyFromBranch,blobToFileObj:q.blobToFileObj,requestWithBackoff:B.requestWithBackoff,getDefaultBranchName:B.getDefaultBranchName,allEntriesByFolder:q.allEntriesByFolder,AccessTokenError:P.default,throwOnConflictingBranches:B.throwOnConflictingBranches}},73209:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(_){return new Promise((A,T)=>{let O=!1;const P=document.getElementsByTagName("head")[0],R=document.createElement("script");R.src=_,R.onload=R.onreadystatechange=function(){O||this.readyState&&this.readyState!=="loaded"&&this.readyState!=="complete"?T():(O=!0,A())},R.onerror=I=>T(I),P.appendChild(R)})}},55538:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A,T=(A=_(75486))&&A.__esModule?A:{default:A};(function(){const O="localForageTest";T.default.setItem(O,{expires:Date.now()+3e5}).then(()=>{T.default.removeItem(O)}).catch(P=>{P.code===22&&console.warn("Unable to set localStorage key. Quota exceeded! Full disk?"),console.log(P)})})(),E.default=T.default},92478:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.basename=function(O,P=""){if(O==="")return O;const R=(O=A(O)).split("/"),I=R[R.length-1];return I===""&&R.length>1?R[R.length-2]:P.length>0&&I.slice(-P.length)===P?I.slice(0,-P.length):I},E.fileExtension=function(O){const P=T(O);return P===""?P:P.slice(1)},E.fileExtensionWithSeparator=T,E.isAbsolutePath=function(O){return _.test(O)};const _=new RegExp("^(?:[a-z]+:)?//","i");function A(O){return O.replace(/[\\/]+/g,"/")}function T(O){const P=(O=A(O)).split("/");if((O=P.pop())===""&&P.length>0&&(O=P.pop()),O==="..")return"";const R=O.lastIndexOf(".");return R===-1||R===0?"":O.slice(R)}},44486:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.flowAsync=function(P){return(0,T.default)(P.map(R=>function(I){return async N=>I(await N)}(R)))},E.onlySuccessfulPromises=function(P){return Promise.all(P.map(R=>R.catch(()=>O))).then(R=>R.filter(I=>I!==O))},E.then=function(P){return R=>Promise.resolve(R).then(P)};var A,T=(A=_(85395))&&A.__esModule?A:{default:A};const O=Symbol("filterPromiseSymbol")},25664:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var A=_(46670),T=R(_(12957)),O=R(_(85395)),P=R(_(85505));function R(se){return se&&se.__esModule?se:{default:se}}function I(se,de){var ie=Object.keys(se);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(se);de&&(ve=ve.filter(function(xe){return Object.getOwnPropertyDescriptor(se,xe).enumerable})),ie.push.apply(ie,ve)}return ie}function N(se){for(var de=1;de<arguments.length;de++){var ie=arguments[de]!=null?arguments[de]:{};de%2?I(Object(ie),!0).forEach(function(ve){var xe,ke,Ce,Oe;xe=se,ke=ve,Ce=ie[ve],(ke=typeof(Oe=function(Ae,Pe){if(typeof Ae!="object"||!Ae)return Ae;var Ee=Ae[Symbol.toPrimitive];if(Ee!==void 0){var Te=Ee.call(Ae,"string");if(typeof Te!="object")return Te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ae)}(ke))=="symbol"?Oe:String(Oe))in xe?Object.defineProperty(xe,ke,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):xe[ke]=Ce}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(ie)):I(Object(ie)).forEach(function(ve){Object.defineProperty(se,ve,Object.getOwnPropertyDescriptor(ie,ve))})}return se}function j(se,de){if(de&&de.signal||typeof window>"u"||!window.AbortController)return fetch(se,de);const ie=new AbortController,ve=setTimeout(()=>ie.abort(),6e4);return fetch(se,N(N({},de),{},{signal:ie.signal})).then(xe=>(clearTimeout(ve),xe)).catch(xe=>{throw xe.name==="AbortError"||xe.name==="DOMException"?new Error("Request timed out after 60 seconds"):xe})}function U(se){const[de,ie]=se.split("?");return(0,A.Map)(N({url:de},ie?{params:(ve=ie,(0,A.List)(ve.split("&")).map(xe=>(0,A.List)(xe.split("=")).map(decodeURIComponent)).update(A.Map))}:{}));var ve}function z(se){return`${se.get("url")}${se.get("params")?`?${de=se.get("params"),de.entrySeq().map(([ie,ve])=>`${encodeURIComponent(ie)}=${encodeURIComponent(ve)}`).join("&")}`:""}`;var de}function V(se){return(0,P.default)(se)?U(se):se?(0,A.fromJS)(se):(0,A.Map)()}const F=(q=se=>{const de=function(ie){return[z(ie),ie.remove("url").remove("params").toJS()]}(se);return j(...de)},se=>q(V(se)));var q;const B=(0,O.default)([function(se){return(de,ie)=>se(de,V(ie))},T.default]);function W(se){return B((de,ie)=>ie.setIn(se,de))}function H(se){return B((de,ie)=>ie.updateIn(se,(ve=(0,A.Map)())=>ve.merge(de)))}const G=W(["method"]),Z=W(["body"]),Y=W(["cache"])("no-cache"),ee=H(["params"]),J=H(["headers"]),Q=new RegExp("^(?:[a-z]+:)?//","i"),te=B((se,de)=>de.update("url",ie=>Q.test(ie)?ie:se&&ie&&ie[0]!=="/"&&se[se.length-1]!=="/"?`${se}/${ie}`:`${se}${ie}`));E.default={toURL:z,fromURL:U,fromFetchArguments:function(se,de){return U(se).merge((de?(0,A.fromJS)(de):(0,A.Map)()).remove("url").remove("params"))},performRequest:F,withMethod:G,withBody:Z,withHeaders:J,withParams:ee,withRoot:te,withNoCache:Y,fetchWithTimeout:j}},1704:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.validations=E.stringTemplate=E.DecapCmsLibWidgets=void 0;var A=P(_(34635));E.stringTemplate=A;var T=P(_(13433));function O(R){if(typeof WeakMap!="function")return null;var I=new WeakMap,N=new WeakMap;return(O=function(j){return j?N:I})(R)}function P(R,I){if(R&&R.__esModule)return R;if(R===null||typeof R!="object"&&typeof R!="function")return{default:R};var N=O(I);if(N&&N.has(R))return N.get(R);var j={__proto__:null},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in R)if(z!=="default"&&Object.prototype.hasOwnProperty.call(R,z)){var V=U?Object.getOwnPropertyDescriptor(R,z):null;V&&(V.get||V.set)?Object.defineProperty(j,z,V):j[z]=R[z]}return j.default=R,N&&N.set(R,j),j}E.validations=T,E.DecapCmsLibWidgets={stringTemplate:A,validations:T}},34635:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.SLUG_MISSING_REQUIRED_DATE=void 0,E.addFileTemplateFields=function(H,G,Z=""){if(!H)return G;const Y=(0,I.extname)(H),ee=(0,I.basename)(H,Y),J=(0,I.dirname)(H).replace(new RegExp(`^(/?)${Z}/?`),"$1");return G.withMutations(Q=>{Q.set("dirname",J),Q.set("filename",ee),Q.set("extension",Y===""?Y:Y.slice(1))})},E.compileStringTemplate=function(H,G,Z="",Y=(0,P.Map)(),ee){let J;const Q=G!==null,te=H.replace(RegExp(V,"g"),(se,de,ie,ve)=>{let xe;const ke=function(Ce,Oe){if(!Ce.startsWith(U))return;const Ae=Ce.slice(U.length),Pe=Oe.getIn(W(Ae));return typeof Pe=="object"&&Pe!==null?JSON.stringify(Pe):Pe}(de,Y);if(ke)xe=ke;else{if(q[de]&&!G)return J=!0,"";xe=q[de]?q[de](G):de==="slug"?Z:Y.getIn(W(de),"")}if(ee)return ee(xe);{const Ce=function(Oe){if(Oe){let Ae=null;const Pe=j.find(Ee=>(Ae=Oe.match(Ee.pattern),!!Ae));if(Pe)return Ee=>Pe.transform(Ee,Ae)}return null}(ve);Ce&&(xe=Ce(xe))}return xe});if(Q&&J){const se=new Error;throw se.name=B,se}return te},E.dateParsers=void 0,E.expandPath=function H({data:G,path:Z,paths:Y=[]}){Z.endsWith(".*")&&(Z+=".");const ee=Z.split(".*.");if(ee.length===1)Y.push(Z);else{const J=ee[0],Q=(0,O.default)(G,J);Array.isArray(Q)&&Q.forEach((te,se)=>{H({data:G,path:(0,T.default)(`${J}.${se}.${ee.slice(1).join(".*.")}`,"."),paths:Y})})}return Y},E.extractTemplateVars=function(H){const G=RegExp(V,"g"),Z=RegExp(z,"g");return(H.match(G)||[]).map(Y=>{const ee=Y.match(Z);return ee?ee[0]:""})},E.keyToPathArray=W,E.parseDateFromEntry=function(H,G){if(!G)return;const Z=H.getIn(["data",G]),Y=Z&&(0,R.default)(Z);return Y&&Y.isValid()?Y.toDate():void 0};var A=N(_(36585)),T=N(_(1573)),O=N(_(72579)),P=_(46670),R=N(_(28879)),I=_(21023);function N(H){return H&&H.__esModule?H:{default:H}}const j=[{pattern:/^upper$/,transform:H=>H.toUpperCase()},{pattern:/^lower$/,transform:H=>H.toLowerCase()},{pattern:/^date\('(.+)'\)$/,transform:(H,G)=>(0,R.default)(H).format(G[1])},{pattern:/^default\('(.+)'\)$/,transform:(H,G)=>H||G[1]},{pattern:/^ternary\('(.*)',\s*'(.*)'\)$/,transform:(H,G)=>H?G[1]:G[2]},{pattern:/^truncate\(([0-9]+)(?:(?:,\s*['"])([^'"]*)(?:['"]))?\)$/,transform:(H,G)=>{const Z=G[2]||"...",Y=parseInt(G[1])+Z.length;return(0,A.default)(H,{length:Y,omission:Z})}}],U="fields.",z=" *([^}{| ]+)",V=`{{${z}( \\| ([^}{]+?))? *}}`;function F(H){return`0${H}`.slice(-2)}const q=E.dateParsers={year:H=>`${H.getUTCFullYear()}`,month:H=>F(H.getUTCMonth()+1),day:H=>F(H.getUTCDate()),hour:H=>F(H.getUTCHours()),minute:H=>F(H.getUTCMinutes()),second:H=>F(H.getUTCSeconds())},B=E.SLUG_MISSING_REQUIRED_DATE="SLUG_MISSING_REQUIRED_DATE";function W(H){if(!H)return[];const G=[],Z=H.split("");let Y,ee=[];for(;Y=Z.shift();)["[","]","."].includes(Y)?(ee.length>0&&G.push(ee.join("")),ee=[]):ee.push(Y);return ee.length>0&&G.push(ee.join("")),G}},13433:($,E,_)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.validateMinMax=function(O,P,R,I,N){function j(U){return{type:"RANGE",message:O(`editor.editorControlPane.widget.${U}`,{fieldLabel:P,minCount:I,maxCount:N,count:I})}}return[I,N,R==null?void 0:R.size].every(T.default)&&(R.size<I||R.size>N)?j(I===N?"rangeCountExact":"rangeCount"):(0,T.default)(I)&&I>0&&R!=null&&R.size&&R.size<I?j("rangeMin"):(0,T.default)(N)&&R!=null&&R.size&&R.size>N?j("rangeMax"):void 0};var A,T=(A=_(80537))&&A.__esModule?A:{default:A}},63379:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default={auth:{login:"Вход",loggingIn:"Влизане...",loginWithNetlifyIdentity:"Вход с Netlify Identity",loginWithAzure:"Вход с Azure",loginWithBitbucket:"Вход с Bitbucket",loginWithGitHub:"Вход с GitHub",loginWithGitLab:"Вход с GitLab",loginWithGitea:"Вход с Gitea",errors:{email:"Въведете вашия имейл.",password:"Въведете паролата.",identitySettings:"Няма достъп до настройките. Ако използвате git-gateway, не забравяйте да активирате услугата Identity и Git Gateway."}},app:{header:{content:"Съдържание",workflow:"Работен процес",media:"Мултимедийни файлове",quickAdd:"Бързо добавяне"},app:{errorHeader:"Грешка при зареждането на конфигурацията на CMS",configErrors:"Грешки в конфигурацията",checkConfigYml:"Проверете вашия файл config.yml.",loadingConfig:"Зареждане на конфигурация ...",waitingBackend:"В очакване на отговор от бекенда ..."},notFoundPage:{header:"Не е намерен"}},collection:{sidebar:{collections:"Колекции",allCollections:"Всички колекции",searchAll:"Търсете навсякъде",searchIn:"Търсене в"},collectionTop:{sortBy:"Сортирай по",viewAs:"Виж като",newButton:"Създай %{collectionLabel}",ascending:"Възходящ",descending:"Низходящ",searchResults:'Ресултати от търсенето за "%{searchTerm}"',searchResultsInCollection:'Ресултати от търсенето за "%{searchTerm}" в %{collection}',filterBy:"Филтрирай по",groupBy:"Групирай по"},entries:{loadingEntries:"Зареждане на записи...",cachingEntries:"Кеширане на записи...",longerLoading:"Това може да отнеме няколко минути",noEntries:"Няма записи"},groups:{other:"Други",negateLabel:"Не %{label}"},defaultFields:{author:{label:"Автор"},updatedOn:{label:"Обновено"}}},editor:{editorControl:{field:{optional:"незадължителен"}},editorControlPane:{widget:{required:"%{fieldLabel} е задължително.",regexPattern:"%{fieldLabel} не съответства на модела: %{pattern}.",processing:"%{fieldLabel} се обработва.",min:"%{fieldLabel} трябва да бъде поне %{minValue}.",range:"%{fieldLabel} трябва да бъде между %{minValue} и %{maxValue}.",max:"%{fieldLabel} трябва да бъде %{maxValue} или по-малко.",rangeCount:"%{fieldLabel} трябва да има между %{minCount} и %{maxCount} елемент(и).",rangeCountExact:"%{fieldLabel} трябва да има точно %{count} елемент(и).",minCount:"%{fieldLabel} трябва да бъде поне %{minCount} елемент(и).",maxCount:"%{fieldLabel} трябва да бъде %{maxCount} или по-малко елемент(и).",invalidPath:"'%{path}' не е валиден път",pathExists:"Пътят '%{path}' вече съществува"},i18n:{writingInLocale:"Писане на %{locale}"}},editor:{onLeavePage:"Наистина ли искате да напуснете тази страница?",onUpdatingWithUnsavedChanges:"Имате незапазени промени, моля, запазете преди актуализиране на състоянието.",onPublishingNotReady:"Моля, актуализирайте състоянието на „Готово“, преди да публикувате",onPublishingWithUnsavedChanges:"Имате незапазени промени, моля, запазете преди публикуване.",onPublishing:"Наистина ли искате да публикувате този запис?",onUnpublishing:"Наистина ли искате да прекратите публикуването на този запис?",onDeleteWithUnsavedChanges:"Наистина ли искате да изтриете този публикуван запис, както и незаписаните промени от текущата сесия?",onDeletePublishedEntry:"Наистина ли искате да изтриете този публикуван запис?",onDeleteUnpublishedChangesWithUnsavedChanges:"Това ще изтрие всички непубликувани промени в този запис, както и незаписаните ви промени от текущата сесия. Все още ли искате да изтриете?",onDeleteUnpublishedChanges:"Всички непубликувани промени в този запис ще бъдат изтрити. Все още ли искате да изтриете?",loadingEntry:"Зареждане на запис...",confirmLoadBackup:"За този запис беше възстановен локален архив, бихте ли искали да го използвате?"},editorInterface:{toggleI18n:"Превключване i18n",togglePreview:"Превключване на визуализация",toggleScrollSync:"Синхронизирай превъртане"},editorToolbar:{publishing:"Публикуване...",publish:"Публикувай",published:"Публикуван",unpublish:"Непубликувай",duplicate:"Дублирай",unpublishing:"Непубликуване...",publishAndCreateNew:"Публикувай и създай нов",publishAndDuplicate:"Публикувай и дублирай",deleteUnpublishedChanges:"Изтриване на непубликувани промени",deleteUnpublishedEntry:"Изтрий непубликувани записи",deletePublishedEntry:"Изтрий публикувани записи",deleteEntry:"Изтрий запис",saving:"Запазване...",save:"Запази",deleting:"Изтриване...",updating:"Актуализиране...",status:"Cъстояние: %{status}",backCollection:"Записване в %{collectionLabel} колекция",unsavedChanges:"Незапазени Промени",changesSaved:"Запазени промени",draft:"Чернова",inReview:"В ревю",ready:"Готово",publishNow:"Публикувай сега",deployPreviewPendingButtonLabel:"Проверете  визуализацията",deployPreviewButtonLabel:"Визуализация",deployButtonLabel:"Изглед"},editorWidgets:{markdown:{bold:"Удебелен",italic:"Курсив",code:"Код",link:"Връзка",linkPrompt:"Моля, въведете URL на връзката",headings:"Заглавия",quote:"Цитат",bulletedList:"Маркиран Списък",numberedList:"Номериран Списък",addComponent:"Добави Компонент",richText:"Форматиране на текст",markdown:"Markdown"},image:{choose:"Избери изображение",chooseUrl:"Вмъкване от URL",replaceUrl:"Замяна с URL",promptUrl:"Въведете URL адреса на изображението",chooseDifferent:"Избери различно изображение",remove:"Премахни изображение"},file:{choose:"Избери файл file",chooseUrl:"Вмъкване от URL",replaceUrl:"Замяна с URL",promptUrl:"Въведете URL адреса на файла",chooseDifferent:"Избери различен файл",remove:"Премахни файл"},unknownControl:{noControl:"Няма контрол за приспособлението '%{widget}'."},unknownPreview:{noPreview:"Няма визуализация за приспособлението '%{widget}'."},headingOptions:{headingOne:"Heading 1",headingTwo:"Heading 2",headingThree:"Heading 3",headingFour:"Heading 4",headingFive:"Heading 5",headingSix:"Heading 6"},datetime:{now:"Сега",clear:"Изчисти"}}},mediaLibrary:{mediaLibraryCard:{draft:"Чернова",copy:"Копирай",copyUrl:"Копирай URL",copyPath:"Копитай път",copyName:"Копитай име",copied:"Копирано"},mediaLibrary:{onDelete:"Наистина ли искате да изтриете избрания медиен файл?",fileTooLarge:`Файлът е твърде голям.
Настройките не позволяват запазване на файлове по-големи от %{size} kB.`},mediaLibraryModal:{loading:"Зареждане...",noResults:"Няма резултати.",noAssetsFound:"Няма намерени ресурси.",noImagesFound:"Няма намерени изображения.",private:"Частен ",images:"Изображения",mediaAssets:"Медийни ресурси",search:"Търсене...",uploading:"Качване...",upload:"Качи",download:"Изтегли",deleting:"Изтриване...",deleteSelected:"Изтрай избрани",chooseSelected:"Избери избрани"}},ui:{default:{goBackToSite:"Обратно към сайта"},errorBoundary:{title:"Грешка",details:"Възникна грешка - моля ",reportIt:"докладвайте в GitHub.",detailsHeading:"Детайли",privacyWarning:`При отваряне на билет той автоматично се попълва предварително със съобщение за грешка и информация за отстраняване на грешки.
Моля, проверете дали данните са верни и не съдържат поверителна информация.`,recoveredEntry:{heading:"Възстановен документ",warning:"Моля, копирайте това съобщение някъде, преди да напуснете страницата!",copyButtonLabel:"Копиране в клипборда"}},settingsDropdown:{logOut:"Изход"},toast:{onFailToLoadEntries:"Неуспешно зареждане на записа: %{details}",onFailToLoadDeployPreview:"Неуспешно зареждане на визуализация: %{details}",onFailToPersist:"Неуспешно запазване на записа: %{details}",onFailToDelete:"Неуспешно изтриване на записа: %{details}",onFailToUpdateStatus:"Неуспешно актуализиране на състоянието: %{details}",missingRequiredField:"Извинете, пропуснахте задължително поле. Моля, попълнете преди запазване.",entrySaved:"Записът е запазен",entryPublished:"Записът е публикуван",entryUnpublished:"Записът е непубликуван",onFailToPublishEntry:"Неуспешно публикуване на запис: %{details}",onFailToUnpublishEntry:"Неуспешно премахване на публикацията на записа: %{details}",entryUpdated:"Статусът на записа е актуализиран",onDeleteUnpublishedChanges:"Непубликуваните промени са изтрити",onFailToAuth:"%{details}",onLoggedOut:"Излезли сте. Моля, запазете всички данни и влезте отново",onBackendDown:"Има прекъсване в работата на бекенда. Виж детайлите %{details}"}},workflow:{workflow:{loading:"Зареждане на редакционни записи",workflowHeading:"Редакционен работен процес",newPost:"Нова публикация",description:"Броят на записите, които очакват проверка -% {smart_count}, готови за публикуване -% {readyCount}. |||| Броят на записите, които очакват проверка -% {smart_count}, готови за публикуване -% {readyCount}. ",dateFormat:"MMMM D"},workflowCard:{lastChange:"%{date}, %{author}",lastChangeNoAuthor:"%{date}",lastChangeNoDate:"%{author}",deleteChanges:"Изтриване на промените",deleteNewEntry:"Изтриване на нов запис",pubChanges:"Публикуване на промени",objavNewEntry:"Публикуване на нов запис"},workflowList:{onDeleteEntry:"Наистина ли искате да изтриете този запис?",onPublishingNotReadyEntry:'Могат да се публикуват само елементи със статус "Готов". Плъзенете картата в колоната "Готов" за да активирате публикуването.',onPublishEntry:"Наистина ли искате да публикувате този запис?",draftHeader:"Чернови",inReviewHeader:"В Ревю",readyHeader:"Готов",currentEntries:"%{smart_count} запис |||| %{smart_count} записи"}}}},20026:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default={auth:{login:"Iniciar sessió",loggingIn:"Iniciant sessió...",loginWithNetlifyIdentity:"Iniciar sessió amb l'identitat de Netlify",loginWithBitbucket:"Iniciar sessió amb Bitbucket",loginWithGitHub:"Iniciar sessió amb GitHub",loginWithGitLab:"Iniciar sessió amb GitLab",loginWithGitea:"Iniciar sessió amb Gitea",errors:{email:"Comprova que has escrit el teu email.",password:"Si us plau escriu la teva contrasenya.",identitySettings:"No s'ha pogut obtenir accés a les configuracions d'identitat. Quan feu servir backend de git-gateway, assegureu-vos que activeu el servei d’identitat i la passarel·la de Git."}},app:{header:{content:"Contingut",workflow:"Flux Editorial",media:"Multimèdia",quickAdd:"Afegir"},app:{errorHeader:"Error al carregar la configuració del CMS",configErrors:"Errors de configuració",checkConfigYml:"Comprovi l'arxiu config.yml.",loadingConfig:"Carregant configuració....",waitingBackend:"Esperant al servidor..."},notFoundPage:{header:"No trobat"}},collection:{sidebar:{collections:"Col·leccions",allCollections:"Totes les col·leccions",searchAll:"Buscar tots",searchIn:"Buscar a"},collectionTop:{sortBy:"Ordenar per",viewAs:"Veure com",newButton:"Nou %{collectionLabel}",ascending:"Ascendent",descending:"Descendent",searchResults:'Buscar resultats per "%{searchTerm}"',searchResultsInCollection:'Buscar resultats per "%{searchTerm}" a %{collection}',filterBy:"Filtrar per",groupBy:"Agrupar per"},entries:{loadingEntries:"Carregant entrades",cachingEntries:"Emmagatzemant entrades a la caché",longerLoading:"Això podria tardar uns minuts",noEntries:"Cap entrada"},groups:{other:"Altre",negateLabel:"No %{label}"},defaultFields:{author:{label:"Autor"},updatedOn:{label:"Actualitzat el"}}},editor:{editorControl:{field:{optional:"opcional"}},editorControlPane:{widget:{required:"%{fieldLabel} és obligatori.",regexPattern:"%{fieldLabel} no coincideix amb el patró: %{pattern}.",processing:"%{fieldLabel} està processant.",range:"%{fieldLabel} ha d'estar entre %{minValue} i %{maxValue}.",min:"%{fieldLabel} ha ser com a mínim %{minValue}.",max:"%{fieldLabel} ha de ser %{maxValue} o més.",rangeCount:"%{fieldLabel} ha de tenir entre %{minCount} i %{maxCount} element(s).",rangeCountExact:"%{fieldLabel} ha de tenir exactament %{count} element(s).",rangeMin:"%{fieldLabel} ha de tenir com a mínim %{minCount} d'element(s).",rangeMax:"%{fieldLabel} ha de ser %{maxCount} o inferior.",invalidPath:"'%{path}' no és una ruta valida",pathExists:"'%{path}' ja existeix"},i18n:{writingInLocale:"Escriure en %{locale}"}},editor:{onLeavePage:"Estàs segur que vols deixar aquesta pàgina?",onUpdatingWithUnsavedChanges:"Tens canvis no guardats, si us plau, guarda'ls abans d'actualitzar l'estat.",onPublishingNotReady:`Si us plau, actualitza l'estat a "Llest" abans de publicar.`,onPublishingWithUnsavedChanges:"Tens canvis no guardats, si us plau, guarda'ls abans de publicar-los.",onPublishing:"Estàs segur que vols publicar aquesta entrada?",onUnpublishing:"Estàs segur que vols esborrar aquesta entrada?",onDeleteWithUnsavedChanges:"Està segur que vol eliminar aquesta entrada publicada, així com els canvis no guardats de la sessió actual?",onDeletePublishedEntry:"Està segur que vol eliminar aquesta entrada publicada?",onDeleteUnpublishedChangesWithUnsavedChanges:"Això eliminarà tots els canvis no publicats d'aquesta entrada així com els canvis no guardats de la sessió actual. Encara vol procedir?",onDeleteUnpublishedChanges:"Tots els canvis no publicats en aquesta entrada seràn esborrats. Encara els vol eliminar?",loadingEntry:"Carregant entrada...",confirmLoadBackup:"S'ha recuperat una copia de seguretat local per aquesta entrada. La vol utilitzar?"},editorInterface:{toggleI18n:"Mostrar/Amagar traduccions",togglePreview:"Mostrar/Amagar previsualització"},editorToolbar:{publishing:"Publicant...",publish:"Publicar",published:"Publicat",unpublish:"Despublicar",duplicate:"Duplicar",unpublishing:"Despublicant...",publishAndCreateNew:"Publicar i crear de nou",publishAndDuplicate:"Publica i duplica",deleteUnpublishedChanges:"Eliminar canvis no publicats",deleteUnpublishedEntry:"Eliminar entrada no publicada",deletePublishedEntry:"Eliminar entrada publicada",deleteEntry:"Eliminar entrada",saving:"Guardant...",save:"Guardar",deleting:"Eliminant...",updating:"Actualizant...",status:"Estat: %{status}",backCollection:"Escrivint a la colecció %{collectionLabel}",unsavedChanges:"Canvis no guardats",changesSaved:"Canvis guardats",draft:"Esborrany",inReview:"En revisió",ready:"Llest",publishNow:"Publicar ara",deployPreviewPendingButtonLabel:"Comprovar Vista Prèvia",deployPreviewButtonLabel:"Veure Vista Prèvia",deployButtonLabel:"Veure publicació"},editorWidgets:{markdown:{bold:"Negreta",italic:"Cursiva",code:"Codi",link:"Enllaç",linkPrompt:"Introdueix l'URL de l'enllaç",headings:"Encapçalaments",bulletedList:"Llista",numberedList:"Llista numèrica",addComponent:"Afegir component",richText:"Text enriquit",markdown:"Markdown"},image:{choose:"Escull una imatge",chooseUrl:"Introdueix una URL",replaceUrl:"Substitueix per una URL",promptUrl:"Introdueix l'URL de la imatge",chooseDifferent:"Escull una imatge diferent",remove:"Treu la imatge"},file:{choose:"Escull un arxiu",chooseUrl:"Introdueix una URL",replaceUrl:"Substitueix per una URL",promptUrl:"Introdueix l'URL de l'arxiu",chooseDifferent:"Escull un arxiu diferent",remove:"Esborrar arxiu"},unknownControl:{noControl:"No existeix un control per al widget '%{widget}'."},unknownPreview:{noPreview:"No existeix una vista prèvia per al widget '%{widget}'."},headingOptions:{headingOne:"Encapçalament 1",headingTwo:"Encapçalament 2",headingThree:"Encapçalament 3",headingFour:"Encapçalament 4",headingFive:"Encapçalament 5",headingSix:"Encapçalament 6"},datetime:{now:"Ara",clear:"Netejar"}}},mediaLibrary:{mediaLibraryCard:{draft:"Esborrany",copy:"Copiar",copyUrl:"Copiar URL",copyPath:"Copiar path",copyName:"Copiar nom",copied:"Copiat"},mediaLibrary:{onDelete:"Està segur de que vol eliminar el mitjà seleccionat?",fileTooLarge:`El fitxer és massa gran.
La configuració no permet fitxers més grans de %{size} kB.`},mediaLibraryModal:{loading:"Carregant...",noResults:"Sense resultats.",noAssetsFound:"Arxius no trobats.",noImagesFound:"Imatges no trobades.",private:"Privat",images:"Imatges",mediaAssets:"Arxius multimèdia",search:"Buscar...",uploading:"Penjant...",upload:"Penjar nou",download:"Descarregar",deleting:"Eliminant...",deleteSelected:"Eliminar selecció",chooseSelected:"Confirmar selecció"}},ui:{default:{goBackToSite:"Torna enrere al lloc"},errorBoundary:{title:"Error",details:"S'ha produït un error - si us plau ",reportIt:"Informa'ns d'això a GitHub.",detailsHeading:"Detalls",recoveredEntry:{heading:"Document recuperat",warning:"Si us plau, copiï/enganxi això en algun lloc abans de navegar a una altre pàgina!",copyButtonLabel:"Copiar al porta-retalls"}},settingsDropdown:{logOut:"Tancar sessió"},toast:{onFailToLoadEntries:"No s'ha ha pogut carregar l'entrada: %{details}",onFailToLoadDeployPreview:"No s'ha pogut carregar la vista prèvia: %{details}",onFailToPersist:"No s'ha pogut guardar l'entrada: %{details}",onFailToDelete:"No s'ha pogut eliminar l'entrada: %{details}",onFailToUpdateStatus:"No s'ha pogut actualitzar l'estat: %{details}",missingRequiredField:"Ups, no ha omplert un camp obligatori. Si us plau,  ompli'l abans de guardar.",entrySaved:"Entrada guardada",entryPublished:"Entrada publicada",entryUnpublished:"Entrada despublicada",onFailToPublishEntry:"No s'ha pogut publicar: %{details}",onFailToUnpublishEntry:"No s'ha pogut despublicar l'entrada: %{details}",entryUpdated:"Estat de l'entrada actualitzat",onDeleteUnpublishedChanges:"Canvis no publicats eliminats",onFailToAuth:"%{details}",onLoggedOut:"La teva sessió ha estat tancada. Si us plau, torna a iniciar-la",onBackendDown:"El servidor està patint problemes. Consulta %{details} per a més informació"}},workflow:{workflow:{loading:"Carregant Entradas del Flux Editorial",workflowHeading:"Flux Editorial",newPost:"Nou article",description:"%{smart_count} entrada esperant revisió, %{readyCount} llesta per a publicar |||| %{smart_count} entrades esperant revisió, %{readyCount} llestes per a publicar. ",dateFormat:"MMMM D"},workflowCard:{lastChange:"%{date} per %{author}",lastChangeNoAuthor:"%{date}",lastChangeNoDate:"per %{author}",deleteChanges:"Eliminar canvis",deleteNewEntry:"Eliminar nova entrada",publishChanges:"Publicar canvis",publishNewEntry:"Publicar nova entrada"},workflowList:{onDeleteEntry:"Està segur que vol borrar aquesta entrada?",onPublishingNotReadyEntry:`Només es poden publicar elements amb estat "Llest". Si us plau, arrossegui la targeta fins la columna "Llest" per a permetre'n la publicació`,onPublishEntry:"Està segur que vol publicar aquesta entrada?",draftHeader:"Esborranys",inReviewHeader:"En revisió",readyHeader:"Llest",currentEntries:"%{smart_count} entrada |||| %{smart_count} entrades"}}}},47775:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default={auth:{login:"Přihlásit",loggingIn:"Přihlašování…",loginWithNetlifyIdentity:"Přihlásit pomocí Netlify Identity",loginWithAzure:"Přihlásit pomocí Azure",loginWithBitbucket:"Přihlásit pomocí Bitbucket",loginWithGitHub:"Přihlásit pomocí GitHub",loginWithGitLab:"Přihlásit pomocí GitLab",loginWithGitea:"Přihlásit pomocí Gitea",errors:{email:"Vyplňte e-mailovou adresu.",password:"Vyplňte heslo.",identitySettings:"Nastavení identity nenalezeno. Používáte-li git-gateway server nezapomeňte aktivovat službu Identity a Git Gateway."}},app:{header:{content:"Obsah",workflow:"Workflow",media:"Média",quickAdd:"Přidat"},app:{errorHeader:"Chyba při načítání CMS konfigurace",configErrors:"Chyba konfigurace",checkConfigYml:"Zkontrolujte soubor config.yml.",loadingConfig:"Načítání konfigurace…",waitingBackend:"Čekání na server…"},notFoundPage:{header:"Nenalezeno"}},collection:{sidebar:{collections:"Kolekce",allCollections:"Všechny kolekce",searchAll:"Hledat",searchIn:"Hledat v"},collectionTop:{sortBy:"Seřadit podle",viewAs:"Zobrazit jako",newButton:"Nový %{collectionLabel}",ascending:"Vzestupné",descending:"Sestupné",searchResults:'Výsledky vyhledávání pro "%{searchTerm}"',searchResultsInCollection:'Výsledky vyhledávání pro "%{searchTerm}" v kolekci %{collection}',filterBy:"Filtrovat podle",groupBy:"Seskupit podle"},entries:{loadingEntries:"Načítání záznamů",cachingEntries:"Úkládání záznamů do mezipaměti",longerLoading:"Načítání může trvat několik minut",noEntries:"Žádné záznamy"},groups:{other:"Ostatní",negateLabel:"Není %{label}"},defaultFields:{author:{label:"Autor"},updatedOn:{label:"Poslední aktualizace"}}},editor:{editorControl:{field:{optional:"volitelný"}},editorControlPane:{widget:{required:"%{fieldLabel} je povinný.",regexPattern:"%{fieldLabel} nesouhlasí s předepsaným vzorem: %{pattern}.",processing:"%{fieldLabel} se zpracovává.",range:"%{fieldLabel} musí být mezi %{minValue} a %{maxValue}.",min:"%{fieldLabel} musí být alespoň %{minValue}.",max:"%{fieldLabel} musí být %{maxValue} nebo méně.",rangeCount:"%{fieldLabel} musí mít %{minCount} až %{maxCount} položek.",rangeCountExact:"%{fieldLabel} musí mít přesně %{count} položek.",rangeMin:"%{fieldLabel} musí mít nejméně %{minCount} položky.",rangeMax:"%{fieldLabel} musí mít %{maxCount} nebo méně položek.",invalidPath:"'%{path}' není platnou cestou.",pathExists:"Cesta '%{path}' už existuje."},i18n:{writingInLocale:"Psát v %{locale}"}},editor:{onLeavePage:"Chcete opravdu opustit tuto stránku?",onUpdatingWithUnsavedChanges:"Máte neuložené změny. Uložte je prosím před změnou statusu.",onPublishingNotReady:"Změňte stav na „Připraveno“ před publikováním.",onPublishingWithUnsavedChanges:"Máte neuložené změny, prosím uložte je před publikováním.",onPublishing:"Chcete opravdu publikovat tento záznam?",onUnpublishing:"Chcete opravdu zrušit publikování tohoto záznamu?",onDeleteWithUnsavedChanges:"Chcete opravdu vymazat tento publikovaný záznam a všechny neuložené změny z této relace?",onDeletePublishedEntry:"Chcete opravdu smazat tento publikovaný záznam?",onDeleteUnpublishedChangesWithUnsavedChanges:"Tato akce vymaže všechny nepublikované změny v tomto záznamu a také všechny neuložené změny z této relace. Chcete záznam skutečně vymazat?",onDeleteUnpublishedChanges:"Všechny nepublivkoané změny v tomto záznamu budou vymazány. Chcete ho skuteně vymazat?",loadingEntry:"Načítání záznamu…",confirmLoadBackup:"Lokální kopie tohoto záznamu byla nalezena, chcete ji použít?"},editorInterface:{toggleI18n:"Přepnout lokalizaci",togglePreview:"Přepnout náhled",toggleScrollSync:"Sladit skrolování"},editorToolbar:{publishing:"Publikování…",publish:"Publikovat",published:"Publikovaný",unpublish:"Zrušit publikování",duplicate:"Duplikovat",unpublishing:"Rušení publikování…",publishAndCreateNew:"Publikovat a vytvořit nový",publishAndDuplicate:"Publikovat a duplikovat",deleteUnpublishedChanges:"Vymazat nepublikované změny",deleteUnpublishedEntry:"Vymazat nepublikovaný záznam",deletePublishedEntry:"Vymazat publikovaný záznam",deleteEntry:"Vymazat záznam",saving:"Ukládání…",save:"Uložit",deleting:"Vymazávání…",updating:"Aktualizace…",status:"Status: %{status}",backCollection:" Píšete v kolekci %{collectionLabel}",unsavedChanges:"Neuložené změny",changesSaved:"Změny uloženy",draft:"Koncept",inReview:"V revizi",ready:"Připraveno",publishNow:"Publikovat teď",deployPreviewPendingButtonLabel:"Zkontrolovat náhled",deployPreviewButtonLabel:"Zobrazit náhled",deployButtonLabel:"Zobrazit na webu"},editorWidgets:{markdown:{bold:"Tučně",italic:"Kurzíva",code:"Kód",link:"Odkaz",linkPrompt:"Zadejte URL odkazu",headings:"Nadpisy",quote:"Citovat",bulletedList:"Odrážkový seznam",numberedList:"Číslovaný seznam",addComponent:"Přidat součástku",richText:"Rich Text",markdown:"Markdown"},image:{choose:"Vyberte obrázek",chooseUrl:"Přidat z URL",replaceUrl:"Nahradit z URL",promptUrl:"Zadejte URL obrázku",chooseDifferent:"Vyberte jiný obrázek",remove:"Odstranit obrázek"},file:{choose:"Vyberte soubor",chooseUrl:"Přidat z URL",replaceUrl:"Nahradit z URL",promptUrl:"Zadejte URL souboru",chooseDifferent:"Vyberte jiný soubor",remove:"Odebrat soubor"},unknownControl:{noControl:"Žádné ovládání pro widget '%{widget}'."},unknownPreview:{noPreview:"Žádný náhled pro widget '%{widget}'."},headingOptions:{headingOne:"Nadpis 1",headingTwo:"Nadpis 2",headingThree:"Nadpis 3",headingFour:"Nadpis 4",headingFive:"Nadpis 5",headingSix:"Nadpis 6"},datetime:{now:"Teď",clear:"Vymazat"}}},mediaLibrary:{mediaLibraryCard:{draft:"Koncept",copy:"Kopírovat",copyUrl:"Kopírovat URL",copyPath:"Kopírovat cestu",copyName:"Kopírovat název",copied:"Zkopírováno"},mediaLibrary:{onDelete:"Chcete skutečně vymazat označená média?",fileTooLarge:`Soubor je příliš velký.
Soubor musí být menší než %{size} kB.`},mediaLibraryModal:{loading:"Načítání…",noResults:"Nic nenalezeno.",noAssetsFound:"Média nenalezena.",noImagesFound:"Obrázky nenalezeny.",private:"Soukromé ",images:"Obrázky",mediaAssets:"Média",search:"Hledat…",uploading:"Nahrávání…",upload:"Nahrát nový",download:"Stáhnout",deleting:"Vymazávání…",deleteSelected:"Smazat označené",chooseSelected:"Vybrat označené"}},ui:{default:{goBackToSite:"Vrátit se na stránku"},errorBoundary:{title:"Chyba",details:"Nastala chyba – prosím ",reportIt:"nahlašte ji.",detailsHeading:"Detaily",privacyWarning:`Při otevření problému budou předvyplněny ladící data a chybová zpráva.
Prosím zkontrolujte, jestli jsou informace správné, a případně odstraňte citlivé údaje.`,recoveredEntry:{heading:"Nalezený dokument",warning:"Prosím zkopírujte dokument do schránky před tím než odejte z této stránky!",copyButtonLabel:"Zkopírovat do schránky"}},settingsDropdown:{logOut:"Odhlásit"},toast:{onFailToLoadEntries:"Chyba při načítání záznamu: %{details}",onFailToLoadDeployPreview:"Chyba při načítání náhledu: %{details}",onFailToPersist:"Chyba při ukládání záznamu: %{details}",onFailToDelete:"Chyba při vymazávání záznamu: %{details}",onFailToUpdateStatus:"Chyba při změně stavu záznamu: %{details}",missingRequiredField:"Vynechali jste povinné pole. Prosím vyplňte ho.",entrySaved:"Záznam uložen",entryPublished:"Záznam publikován",entryUnpublished:"Publikování záznamu zrušeno",onFailToPublishEntry:"Chyba při publikování záznamu: %{details}",onFailToUnpublishEntry:"Chyba při rušení publikování záznamu: %{details}",entryUpdated:"Stav záznamu byl změněn",onDeleteUnpublishedChanges:"Nepublikované změny byly smazány",onFailToAuth:"%{details}",onLoggedOut:"Byli jste odhlášeni, prosím zálohujte všechna data a znova se přihlašte",onBackendDown:"Backend zaznamenal výpadek. Podívejte se do %{details} pro více informací."}},workflow:{workflow:{loading:"Načítání workflow záznamů",workflowHeading:"Schvalovací Workflow",newPost:"Nový post",description:"%{smart_count} záznam čeká na schválení, %{readyCount} připraven k publikaci. |||| %{smart_count} čeká na schválení, %{readyCount} připraveno k publikaci. ",dateFormat:"MMMM D"},workflowCard:{lastChange:"%{date} (%{author})",lastChangeNoAuthor:"%{date}",lastChangeNoDate:"%{author}",deleteChanges:"Vymazat změny",deleteNewEntry:"Vymazat nový záznam",publishChanges:"Publikovat změny",publishNewEntry:"Publikovat nový záznam"},workflowList:{onDeleteEntry:"Opravdu chcete smazat tento záznam?",onPublishingNotReadyEntry:'Pouze položky se statusem "Připraveno" mohou být publikováno. Pro umožnění publikace musíte přetáhnout kartu do sloupce "Připraveno"',onPublishEntry:"Opravdu chcete publikovat tento záznam?",draftHeader:"Koncepty",inReviewHeader:"V revizi",readyHeader:"Připraveno",currentEntries:"%{smart_count} záznam |||| %{smart_count} záznamů"}}}},49312:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default={auth:{login:"Log ind",loggingIn:"Logger ind...",loginWithNetlifyIdentity:"Log ind med Netlify Identity",loginWithAzure:"Log ind med Azure",loginWithBitbucket:"Log ind med Bitbucket",loginWithGitHub:"Log ind med GitHub",loginWithGitLab:"Log ind med GitLab",loginWithGitea:"Log ind med Gitea",errors:{email:"Vær sikker på du har indtastet din e-mail.",password:"Indtast dit kodeord.",identitySettings:"Kunne ikke tilgå identity opsætning. Ved brug af git-gateway som bagvedliggende service, sørg for at aktivere Identity service og Git Gateway."}},app:{header:{content:"Indhold",workflow:"Arbejdsgang",media:"Medier",quickAdd:"Hurtig opret"},app:{errorHeader:"Fejl ved indlæsning af CMS opsætningen",configErrors:"Opsætningsfejl",checkConfigYml:"Kontroller din config.yml fil.",loadingConfig:"Indlæser opsætning...",waitingBackend:"Venter på bagvedliggende service..."},notFoundPage:{header:"Ikke fundet"}},collection:{sidebar:{collections:"Samlinger",allCollections:"Alle samlinger",searchAll:"Søg i alt",searchIn:"Søg i"},collectionTop:{sortBy:"Sorter efter",viewAs:"Vis som",newButton:"Ny %{collectionLabel}",ascending:"Stigende",descending:"Faldende",searchResults:'Søgeresultater for "%{searchTerm}"',searchResultsInCollection:'Søgeresultater for "%{searchTerm}" i %{collection}',filterBy:"Filtrer efter",groupBy:"Grupper efter"},entries:{loadingEntries:"Indlæser dokumenter...",cachingEntries:"Caching af dokumenter...",longerLoading:"Dette kan tage adskillige minutter",noEntries:"Ingen dokumenter"},groups:{other:"Anden",negateLabel:"Ikke %{label}"},defaultFields:{author:{label:"Forfatter"},updatedOn:{label:"Opdateret "}}},editor:{editorControl:{field:{optional:"kan udelades"}},editorControlPane:{widget:{required:"%{fieldLabel} er påkrævet.",regexPattern:"%{fieldLabel} matchede ikke: %{pattern}.",processing:"%{fieldLabel} behandles.",range:"%{fieldLabel} skal være mellem %{minValue} og %{maxValue}.",min:"%{fieldLabel} skal være mindst %{minValue}.",max:"%{fieldLabel} være være %{maxValue} eller mindre.",rangeCount:"%{fieldLabel} skal have mellem %{minCount} og %{maxCount} element(er).",rangeCountExact:"%{fieldLabel} skal have præcis %{count} element(er).",rangeMin:"%{fieldLabel} skal have mindst %{minCount} element(er).",rangeMax:"%{fieldLabel} skal have %{maxCount} eller færre element(er).",invalidPath:"'%{path}' er ikke en gyldig sti",pathExists:"Stien '%{path}' findes allerede"},i18n:{writingInLocale:"Skriver på %{locale}",copyFromLocale:"Kopier fra et andet sprog",copyFromLocaleConfirm:`Vil du indsætte data fra sproget %{locale}?
Alt eksisterende indhold vil blive overskrevet.`}},editor:{onLeavePage:"Er du sikker på at du vil forlade siden?",onUpdatingWithUnsavedChanges:"Du har ændringer der ikke er gemt, gem disse før status ændres.",onPublishingNotReady:'Skift status til "Klar" inden publicering.',onPublishingWithUnsavedChanges:"Du har ændringer der ikke er gemt, gem inden publicing.",onPublishing:"Er du sikker på at du vil publicere dette dokument?",onUnpublishing:"Er du sikker på at du vil afpublicere dette dokument?",onDeleteWithUnsavedChanges:"Er du sikker på at du vil slette dette tidliere publiceret dokument, samt dine nuværende ugemte ændringer fra denne session?",onDeletePublishedEntry:"Er du sikker på at du vil slette dette tidliere publiceret dokument?",onDeleteUnpublishedChangesWithUnsavedChanges:"Alle ikke publicerede ændringer til dette dokument vil blive slettet ligesom dine nuværende ugemte ændringer fra denne session. Er du sikker på at du vil slette?",onDeleteUnpublishedChanges:"Alle ikke publicerede ændringer til dette dokument vil blive slettet. Er du sikker på at du vil slette?",loadingEntry:"Indlæser dokument...",confirmLoadBackup:"En lokal sikkerhedskopi blev gendannet for dette dokument, vil du anvende denne?"},editorToolbar:{publishing:"Publicerer...",publish:"Publicer",published:"Publiceret",unpublish:"Afpublicer",duplicate:"Kopier",unpublishing:"Afpublicerer...",publishAndCreateNew:"Publicer og opret ny",publishAndDuplicate:"Publicer og kopier",deleteUnpublishedChanges:"Slet upublicerede ændringer",deleteUnpublishedEntry:"Slet upubliceret dokument",deletePublishedEntry:"Slet publiceret dokument",deleteEntry:"Slet dokument",saving:"Gemmer...",save:"Gem",statusInfoTooltipDraft:"Status for elementet er kladde. For at afslutte og sende til gennemsyn, skift status til ‘Til gennemsyn’",statusInfoTooltipInReview:"Elementet er til gennemsyn, det er ikke nødvendigt med yderligere handlinger. Du kan dog stadig lave yderligere ændringer mens det er til gennemsyn.",deleting:"Sletter...",updating:"Opdaterer...",status:"Status: %{status}",backCollection:" Skriver til %{collectionLabel} samlingen",unsavedChanges:"Ugemte ændringer",changesSaved:"Ændringer gemt",draft:"Kladder",inReview:"Til gennemsyn",ready:"Klar",publishNow:"Publicer nu",deployPreviewPendingButtonLabel:"Lav preview",deployPreviewButtonLabel:"Vis preview",deployButtonLabel:"Vis live"},editorWidgets:{markdown:{bold:"Fed",italic:"Kursiv",code:"Kode",link:"Link",linkPrompt:"Indtast URL for link",headings:"Overskrifter",quote:"Citat",bulletedList:"Punktopstilling",numberedList:"Nummeret liste",addComponent:"Tilføj komponent",richText:"Formatteret tekst",markdown:"Markdown"},image:{choose:"Vælg et billede",chooseMultiple:"Vælg billeder",chooseUrl:"Indsæt fra URL",replaceUrl:"Erstat med URL",promptUrl:"Indtast URL for billeder",chooseDifferent:"Vælg et andet billede",addMore:"Tilføj flere billeder",remove:"Fjern billede",removeAll:"Fjern alle billeder"},file:{choose:"Vælg fil",chooseUrl:"Indsæt fra URL",chooseMultiple:"Vælg filer",replaceUrl:"Erstat med URL",promptUrl:"Indtast URL for filen",chooseDifferent:"Vælg en anden fil",addMore:"Tilføj flere filer",remove:"Fjern fil",removeAll:"Fjern alle filer"},unknownControl:{noControl:"Ingen kontrol for '%{widget}'."},unknownPreview:{noPreview:"Ingen preview for '%{widget}'."},headingOptions:{headingOne:"Overskrift 1",headingTwo:"Overskrift 2",headingThree:"Overskrift 3",headingFour:"Overskrift 4",headingFive:"Overskrift 5",headingSix:"Overskrift 6"},datetime:{now:"Nu",clear:"Ryd"},list:{add:"Tilføj %{item}",addType:"Tilføj %{item}"}}},mediaLibrary:{mediaLibraryCard:{draft:"Kladde",copy:"Kopier",copyUrl:"Kopier URL",copyPath:"Kopier sti",copyName:"Kopier navn",copied:"Kopieret"},mediaLibrary:{onDelete:"Er du sikker på at du vil slette det valgte medie?",fileTooLarge:`Filen er for stor.
Opsætningen tillader ikke filer større end %{size} kB.`},mediaLibraryModal:{loading:"Indlæser...",noResults:"Ingen resultater.",noAssetsFound:"Ingen elementer fundet.",noImagesFound:"Ingen billeder fundet.",private:"Privat ",images:"Billeder",mediaAssets:"Medie elementer",search:"Søg...",uploading:"Uploader...",upload:"Upload",download:"Download",deleting:"Slet...",deleteSelected:"Slet valgte",chooseSelected:"Anvend valgte"}},ui:{default:{goBackToSite:"Tilbage til hjemmesiden"},errorBoundary:{title:"Fejl",details:"Der opstod en fejl - venligst ",reportIt:"opret et issue på GitHub.",detailsHeading:"Detalger",privacyWarning:`Ved at oprette et issue forudfyldes det med fejlbeskeden og data til debugging.
Kontroller venligst at informationerne er korrekte og fjern eventuelle følsomme data.`,recoveredEntry:{heading:"Gendannet dokument",warning:"Kopier dette et sted hen inden du navigerer væk!",copyButtonLabel:"Kopier til udklipsholder"}},settingsDropdown:{logOut:"Log af"},toast:{onFailToLoadEntries:"Fejl ved indlæsning af dokumenter: %{details}",onFailToLoadDeployPreview:"Preview kunne ikke indlæses: %{details}",onFailToPersist:"Dokumentet kunne ikke gemmes: %{details}",onFailToDelete:"Dokumentet kunne ikke slettes: %{details}",onFailToUpdateStatus:"Status kunne ikke opdateres: %{details}",missingRequiredField:"Ups, du mangler et påkrævet felt. Udfyld de påkrævede felter før dokumentet gemmes.",entrySaved:"Dokumentet er gemt",entryPublished:"Dokumentet er publiceret ",entryUnpublished:"Dokumentet er afpubliceret",onFailToPublishEntry:"Kunne ikke publicere på grund af en fejl: %{details}",onFailToUnpublishEntry:"Kunne ikke afpublicere på grund af en fejl: %{details}",entryUpdated:"Dokumentstatus er opdateret",onDeleteUnpublishedChanges:"Upublicerede ændringer blev slettet",onFailToAuth:"%{details}",onLoggedOut:"Du er blevet logget ind, gem venligst evt. ændringer og log på igen",onBackendDown:"Den bagvedliggende service er ikke tilgængelig i øjeblikket. Se %{details} for mere information"}},workflow:{workflow:{loading:"Indlæser dokumenter i redaktionel arbejdsgang",workflowHeading:"Redaktionel arbejdsgang",newPost:"Nyt indlæg",description:"%{smart_count} dokumenter afventer gennemsyn, %{readyCount} er klar til live. |||| %{smart_count} dokumenter afventer gennemsyn, %{readyCount} klar til go live. ",dateFormat:"D. MMMM"},workflowCard:{lastChange:"%{date} af %{author}",lastChangeNoAuthor:"%{date}",lastChangeNoDate:"af %{author}",deleteChanges:"Slet ændringer",deleteNewEntry:"Slet nye dokumenter",publishChanges:"Publicer ændringer",publishNewEntry:"Publicer nye dokumenter"},workflowList:{onDeleteEntry:"Er du sikker på at du vil slette dette dokument?",onPublishingNotReadyEntry:'Kun dokumenter med "Klar" status kan publiceres. Træk kortet til "Klar" kolonnen for at tillade publicering.',onPublishEntry:"Er du sikker på at du vil publicere dokumentet?",draftHeader:"Kladder",inReviewHeader:"Til gennemsyn",readyHeader:"Klar",currentEntries:"%{smart_count} dokument |||| %{smart_count} dokumenter"}}}},36407:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default={auth:{login:"Login",loggingIn:"Sie werden eingeloggt...",loginWithNetlifyIdentity:"Mit Netlify Identity einloggen",loginWithAzure:"Mit Azure einloggen",loginWithBitbucket:"Mit Bitbucket einloggen",loginWithGitHub:"Mit GitHub einloggen",loginWithGitLab:"Mit GitLab einloggen",loginWithGitea:"Mit Gitea einloggen",errors:{email:"Stellen Sie sicher, Ihre E-Mail-Adresse einzugeben.",password:"Bitte geben Sie Ihr Passwort ein.",identitySettings:"Identity Einstellungen konnten nicht abgerufen werden. Stellen Sie bei der Verwendung des Git-Gateway Backends sicher, den Identity Service und das Git Gateway zu aktivieren."}},app:{header:{content:"Inhalt",workflow:"Arbeitsablauf",media:"Medien",quickAdd:"Schnell-Erstellung"},app:{errorHeader:"Fehler beim Laden der CMS-Konfiguration.",configErrors:"Konfigurationsfehler",checkConfigYml:"Überprüfen Sie die config.yml Konfigurationsdatei.",loadingConfig:"Konfiguration laden...",waitingBackend:"Auf Server warten..."},notFoundPage:{header:"Nicht gefunden"}},collection:{sidebar:{collections:"Inhaltstypen",allCollections:"Allen Inhaltstypen",searchAll:"Alles durchsuchen",searchIn:"Suchen in"},collectionTop:{sortBy:"Sortieren nach",viewAs:"Anzeigen als",newButton:"Neue(r/s) %{collectionLabel}",ascending:"Aufsteigend",descending:"Absteigend",searchResults:'Suchergebnisse für "%{searchTerm}"',searchResultsInCollection:'Suchergebnisse für "%{searchTerm}" in %{collection}',filterBy:"Filtern nach",groupBy:"Gruppieren nach"},entries:{loadingEntries:"Beiträge laden",cachingEntries:"Beiträge zwischenspeichern",longerLoading:"Diese Aktion kann einige Minuten in Anspruch nehmen",noEntries:"Keine Beiträge"},groups:{other:"Andere",negateLabel:"Nicht %{label}"},defaultFields:{author:{label:"Autor"},updatedOn:{label:"Änderungsdatum"}}},editor:{editorControl:{field:{optional:"optional"}},editorControlPane:{widget:{required:"%{fieldLabel} ist erforderlich.",regexPattern:"%{fieldLabel} entspricht nicht dem Muster: %{pattern}.",processing:"%{fieldLabel} wird verarbeitet.",range:"%{fieldLabel} muss zwischen %{minValue} und %{maxValue} liegen.",min:"%{fieldLabel} muss größer als %{minValue} sein.",max:"%{fieldLabel} darf nicht größer als %{maxValue} sein.",rangeCount:"%{fieldLabel} muss %{minCount} bis %{maxCount} Element(e) enthalten.",rangeCountExact:"%{fieldLabel} muss exakt %{count} Element(e) enthalten.",rangeMin:"%{fieldLabel} muss mindestens %{minCount} Element(e) enthalten.",rangeMax:"%{fieldLabel} darf maximal %{maxCount} Element(e) enthalten.",invalidPath:"'%{path}' ist kein gültiger Pfad",pathExists:"Pfad '%{path}' existiert bereits"},i18n:{writingInLocale:"Aktuelle Sprache: %{locale}",copyFromLocale:"Aus anderer Sprache übernehmen",copyFromLocaleConfirm:`Wollen Sie wirklich die Daten aus der Sprache %{locale} übernehmen?
Alle bishergen Inhalte werden überschrieben.`}},editor:{onLeavePage:"Möchten Sie diese Seite wirklich verlassen?",onUpdatingWithUnsavedChanges:"Es sind noch ungespeicherte Änderungen vorhanden. Bitte speichern Sie diese, bevor Sie den Status aktualisieren.",onPublishingNotReady:'Bitte setzten die den Status vor dem Veröffentlichen auf "Abgeschlossen".',onPublishingWithUnsavedChanges:"Es sind noch ungespeicherte Änderungen vorhanden. Bitte speicheren Sie vor dem Veröffentlichen.",onPublishing:"Soll dieser Beitrag wirklich veröffentlicht werden?",onUnpublishing:"Soll die Veröffentlichung dieses Beitrags wirklich zurückgezogen werden?",onDeleteWithUnsavedChanges:"Möchten Sie diesen veröffentlichten Beitrag, sowie Ihre nicht gespeicherten Änderungen löschen?",onDeletePublishedEntry:"Soll dieser veröffentlichte Beitrag wirklich gelöscht werden?",onDeleteUnpublishedChangesWithUnsavedChanges:"Möchten Sie diesen unveröffentlichten Beitrag, sowie Ihre nicht gespeicherten Änderungen löschen?",onDeleteUnpublishedChanges:"Alle unveröffentlichten Änderungen werden gelöscht. Möchten Sie wirklich löschen?",loadingEntry:"Beitrag laden...",confirmLoadBackup:"Für diesen Beitrag ist ein lokales Backup vorhanden. Möchten Sie dieses benutzen?"},editorInterface:{toggleI18n:"Übersetzungen",togglePreview:"Vorschau",toggleScrollSync:"Synchron scrollen"},editorToolbar:{publishing:"Veröffentlichen...",publish:"Veröffentlichen",published:"Veröffentlicht",unpublish:"Veröffentlichung zurückziehen",duplicate:"Duplizieren",unpublishing:"Veröffentlichung wird zurückgezogen...",publishAndCreateNew:"Veröffentlichen und neuen Beitrag erstellen",publishAndDuplicate:"Veröffentlichen und Beitrag duplizieren",deleteUnpublishedChanges:"Unveröffentlichte Änderungen verwerfen",deleteUnpublishedEntry:"Lösche unveröffentlichten Beitrag",deletePublishedEntry:"Lösche veröffentlichten Beitrag",deleteEntry:"Lösche Beitrag",saving:"Speichern...",save:"Speichern",statusInfoTooltipDraft:"Beitrag ist im Entwurfsstatus. Um ihn fertigzustellen und zur Überprüfung freizugeben, setzen Sie den Status auf ‘Zur Überprüfung‘.",statusInfoTooltipInReview:"Beitrag wird überprüft, keine weitere Aktion erforderlich. Sie können weitere Änderungen vornehmen, während die Überprüfung läuft.",deleting:"Löschen...",updating:"Aktualisieren...",status:"Status: %{status}",backCollection:"Zurück zu allen %{collectionLabel}",unsavedChanges:"Ungespeicherte Änderungen",changesSaved:"Änderungen gespeichert",draft:"Entwurf",inReview:"Zur Überprüfung",ready:"Abgeschlossen",publishNow:"Jetzt veröffentlichen",deployPreviewPendingButtonLabel:"Überprüfen ob eine Vorschau vorhanden ist",deployPreviewButtonLabel:"Vorschau anzeigen",deployButtonLabel:"Live ansehen"},editorWidgets:{markdown:{bold:"Fett",italic:"Kursiv",code:"Code",link:"Link",linkPrompt:"Link-URL eingeben",headings:"Überschriften",quote:"Zitat",bulletedList:"Aufzählungsliste",numberedList:"Nummerierte Liste",addComponent:"Komponente hinzufügen",richText:"Rich Text",markdown:"Markdown"},image:{choose:"Wähle ein Bild",chooseUrl:"Von URL hinzufügen",replaceUrl:"Von URL ersetzen",promptUrl:"Bild-URL eingeben",chooseDifferent:"Wähle ein anderes Bild",remove:"Entferne Bild"},file:{choose:"Wählen Sie eine Datei",chooseUrl:"Von URL hinzufügen",replaceUrl:"Von URL ersetzen",promptUrl:"Datei-URL eingeben",chooseDifferent:"Wählen Sie eine andere Datei",remove:"Datei löschen"},unknownControl:{noControl:"Kein Bedienelement für Widget '%{widget}'."},unknownPreview:{noPreview:"Keine Vorschau für Widget '%{widget}'."},headingOptions:{headingOne:"Überschrift 1",headingTwo:"Überschrift 2",headingThree:"Überschrift 3",headingFour:"Überschrift 4",headingFive:"Überschrift 5",headingSix:"Überschrift 6"},datetime:{now:"Jetzt",clear:"Löschen"},list:{add:"%{item} hinzufügen",addType:"%{item} hinzufügen"}}},mediaLibrary:{mediaLibraryCard:{draft:"Entwurf",copy:"Kopieren",copyUrl:"URL kopieren",copyPath:"Pfad kopieren",copyName:"Name kopieren",copied:"Kopiert"},mediaLibrary:{onDelete:"Soll das ausgewählte Medium wirklich gelöscht werden?",fileTooLarge:`Datei zu groß.
Erlaubt sind nur Dateien bis %{size} kB.`},mediaLibraryModal:{loading:"Laden...",noResults:"Keine Egebnisse.",noAssetsFound:"Keine Medien gefunden.",noImagesFound:"Keine Bilder gefunden.",private:"Privat ",images:"Bilder",mediaAssets:"Medien",search:"Suchen...",uploading:"Hochladen...",upload:"Hochladen",download:"Download",deleting:"Löschen...",deleteSelected:"Ausgewähltes Element löschen",chooseSelected:"Ausgewähltes Element verwenden"}},ui:{default:{goBackToSite:"Zurück zur Seite"},errorBoundary:{title:"Fehler",details:"Ein Fehler ist aufgetreten - bitte ",reportIt:"berichte ihn.",detailsHeading:"Details",privacyWarning:`Beim Eröffnen eines Fehlerberichts werden automatisch die Fehlermeldung und Debugdaten eingefügt.
Bitte überprüfen Sie, ob die Informationen korrrekt sind und entfernen Sie ggfs. sensible Daten.`,recoveredEntry:{heading:"Wiederhergestellter Beitrag",warning:"Bitte sichern Sie sich diese Informationen, bevor Sie die Seite verlassen!",copyButtonLabel:"In Zwischenablage speichern"}},settingsDropdown:{logOut:"Abmelden"},toast:{onFailToLoadEntries:"Beitrag konnte nicht geladen werden: %{details}",onFailToLoadDeployPreview:"Vorschau konnte nicht geladen werden: %{details}",onFailToPersist:"Beitrag speichern fehlgeschlagen: %{details}",onFailToDelete:"Beitrag löschen fehlgeschlagen: %{details}",onFailToUpdateStatus:"Status aktualisieren fehlgeschlagen: %{details}",missingRequiredField:"Oops, einige zwingend erforderliche Felder sind nicht ausgefüllt.",entrySaved:"Beitrag gespeichert",entryPublished:"Beitrag veröffentlicht",entryUnpublished:"Beitrag nicht mehr öffentlich",onFailToPublishEntry:"Veröffentlichen fehlgeschlagen: %{details}",onFailToUnpublishEntry:"Veröffentlichung des Beitrags konnte nicht rückgängig gemacht werden: %{details}",entryUpdated:"Beitragsstatus aktualisiert",onDeleteUnpublishedChanges:"Unveröffentlichte Änderungen verworfen",onFailToAuth:"%{details}",onLoggedOut:"Sie wurden ausgeloggt. Bitte sichern Sie Ihre Daten und melden Sie sich erneut an.",onBackendDown:"Der Server ist aktuell nicht erreichbar. Für weitere Informationen, siehe: %{details}"}},workflow:{workflow:{loading:"Arbeitsablauf Beiträge laden",workflowHeading:"Redaktioneller Arbeitsablauf",newPost:"Neuer Beitrag",description:"%{smart_count} Beitrag zur Überprüfung bereit, %{readyCount} bereit zur Veröffentlichung. |||| %{smart_count} Beiträge zur Überprüfung bereit, %{readyCount} bereit zur Veröffentlichung. ",dateFormat:"MMMM D"},workflowCard:{lastChange:"%{date} von %{author}",lastChangeNoAuthor:"%{date}",lastChangeNoDate:"von %{author}",deleteChanges:"Änderungen verwerfen",deleteNewEntry:"Lösche neuen Beitrag",publishChanges:"Veröffentliche Änderungen",publishNewEntry:"Veröffentliche neuen Beitrag"},workflowList:{onDeleteEntry:"Soll dieser Beitrag wirklich gelöscht werden?",onPublishingNotReadyEntry:'Nur Beiträge im Status "Abgeschlossen" können veröffentlicht werden. Bitte ziehen Sie den Beitrag in die "Abgeschlossen" Spalte um die Veröffentlichung zu aktivieren.',onPublishEntry:"Soll dieser Beitrag wirklich veröffentlicht werden soll?",draftHeader:"Entwurf",inReviewHeader:"In Prüfung",readyHeader:"Abgeschlossen",currentEntries:"%{smart_count} Beitrag |||| %{smart_count} Beiträge"}}}},95590:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default={auth:{login:"Login",loggingIn:"Logging in...",loginWithNetlifyIdentity:"Login with Netlify Identity",loginWithAzure:"Login with Azure",loginWithBitbucket:"Login with Bitbucket",loginWithGitHub:"Login with GitHub",loginWithGitLab:"Login with GitLab",loginWithGitea:"Login with Gitea",errors:{email:"Make sure to enter your email.",password:"Please enter your password.",identitySettings:"Unable to access identity settings. When using git-gateway backend make sure to enable Identity service and Git Gateway."}},app:{header:{content:"Contents",workflow:"Workflow",media:"Media",quickAdd:"Quick add"},app:{errorHeader:"Error loading the CMS configuration",configErrors:"Config Errors",checkConfigYml:"Check your config.yml file.",loadingConfig:"Loading configuration...",waitingBackend:"Waiting for backend..."},notFoundPage:{header:"Not Found"}},collection:{sidebar:{collections:"Collections",allCollections:"All Collections",searchAll:"Search all",searchIn:"Search in"},collectionTop:{sortBy:"Sort by",viewAs:"View as",newButton:"New %{collectionLabel}",ascending:"Ascending",descending:"Descending",searchResults:'Search Results for "%{searchTerm}"',searchResultsInCollection:'Search Results for "%{searchTerm}" in %{collection}',filterBy:"Filter by",groupBy:"Group by"},entries:{loadingEntries:"Loading Entries...",cachingEntries:"Caching Entries...",longerLoading:"This might take several minutes",noEntries:"No Entries"},groups:{other:"Other",negateLabel:"Not %{label}"},defaultFields:{author:{label:"Author"},updatedOn:{label:"Updated On"}}},editor:{editorControl:{field:{optional:"optional"}},editorControlPane:{widget:{required:"%{fieldLabel} is required.",regexPattern:"%{fieldLabel} didn't match the pattern: %{pattern}.",processing:"%{fieldLabel} is processing.",range:"%{fieldLabel} must be between %{minValue} and %{maxValue}.",min:"%{fieldLabel} must be at least %{minValue}.",max:"%{fieldLabel} must be %{maxValue} or less.",rangeCount:"%{fieldLabel} must have between %{minCount} and %{maxCount} item(s).",rangeCountExact:"%{fieldLabel} must have exactly %{count} item(s).",rangeMin:"%{fieldLabel} must be at least %{minCount} item(s).",rangeMax:"%{fieldLabel} must be %{maxCount} or less item(s).",invalidPath:"'%{path}' is not a valid path",pathExists:"Path '%{path}' already exists"},i18n:{writingInLocale:"Writing in %{locale}",copyFromLocale:"Fill in from another locale",copyFromLocaleConfirm:`Do you want to fill in data from %{locale} locale?
All existing content will be overwritten.`}},editor:{onLeavePage:"Are you sure you want to leave this page?",onUpdatingWithUnsavedChanges:"You have unsaved changes, please save before updating status.",onPublishingNotReady:'Please update status to "Ready" before publishing.',onPublishingWithUnsavedChanges:"You have unsaved changes, please save before publishing.",onPublishing:"Are you sure you want to publish this entry?",onUnpublishing:"Are you sure you want to unpublish this entry?",onDeleteWithUnsavedChanges:"Are you sure you want to delete this published entry, as well as your unsaved changes from the current session?",onDeletePublishedEntry:"Are you sure you want to delete this published entry?",onDeleteUnpublishedChangesWithUnsavedChanges:"This will delete all unpublished changes to this entry, as well as your unsaved changes from the current session. Do you still want to delete?",onDeleteUnpublishedChanges:"All unpublished changes to this entry will be deleted. Do you still want to delete?",loadingEntry:"Loading entry...",confirmLoadBackup:"A local backup was recovered for this entry, would you like to use it?"},editorInterface:{toggleI18n:"Toggle i18n",togglePreview:"Toggle preview",toggleScrollSync:"Sync scrolling"},editorToolbar:{publishing:"Publishing...",publish:"Publish",published:"Published",unpublish:"Unpublish",duplicate:"Duplicate",unpublishing:"Unpublishing...",publishAndCreateNew:"Publish and create new",publishAndDuplicate:"Publish and duplicate",deleteUnpublishedChanges:"Delete unpublished changes",deleteUnpublishedEntry:"Delete unpublished entry",deletePublishedEntry:"Delete published entry",deleteEntry:"Delete entry",saving:"Saving...",save:"Save",statusInfoTooltipDraft:"Entry status is set to draft. To finalize and submit it for review, set the status to ‘In review’",statusInfoTooltipInReview:"Entry is being reviewed, no further actions are required. However, you can still make additional changes while it is being reviewed.",deleting:"Deleting...",updating:"Updating...",status:"Status: %{status}",backCollection:" Writing in %{collectionLabel} collection",unsavedChanges:"Unsaved Changes",changesSaved:"Changes saved",draft:"Draft",inReview:"In review",ready:"Ready",publishNow:"Publish now",deployPreviewPendingButtonLabel:"Check for Preview",deployPreviewButtonLabel:"View Preview",deployButtonLabel:"View Live"},editorWidgets:{markdown:{bold:"Bold",italic:"Italic",code:"Code",link:"Link",linkPrompt:"Enter the URL of the link",headings:"Headings",quote:"Quote",bulletedList:"Bulleted List",numberedList:"Numbered List",addComponent:"Add Component",richText:"Rich Text",markdown:"Markdown"},image:{choose:"Choose an image",chooseMultiple:"Choose images",chooseUrl:"Insert from URL",replaceUrl:"Replace with URL",promptUrl:"Enter the URL of the image",chooseDifferent:"Choose different image",addMore:"Add more images",remove:"Remove image",removeAll:"Remove all images"},file:{choose:"Choose a file",chooseUrl:"Insert from URL",chooseMultiple:"Choose files",replaceUrl:"Replace with URL",promptUrl:"Enter the URL of the file",chooseDifferent:"Choose different file",addMore:"Add more files",remove:"Remove file",removeAll:"Remove all files"},unknownControl:{noControl:"No control for widget '%{widget}'."},unknownPreview:{noPreview:"No preview for widget '%{widget}'."},headingOptions:{headingOne:"Heading 1",headingTwo:"Heading 2",headingThree:"Heading 3",headingFour:"Heading 4",headingFive:"Heading 5",headingSix:"Heading 6"},datetime:{now:"Now",clear:"Clear"},list:{add:"Add %{item}",addType:"Add %{item}"}}},mediaLibrary:{mediaLibraryCard:{draft:"Draft",copy:"Copy",copyUrl:"Copy URL",copyPath:"Copy Path",copyName:"Copy Name",copied:"Copied"},mediaLibrary:{onDelete:"Are you sure you want to delete selected media?",fileTooLarge:`File too large.
Configured to not allow files greater than %{size} kB.`},mediaLibraryModal:{loading:"Loading...",noResults:"No results.",noAssetsFound:"No assets found.",noImagesFound:"No images found.",private:"Private ",images:"Images",mediaAssets:"Media assets",search:"Search...",uploading:"Uploading...",upload:"Upload",download:"Download",deleting:"Deleting...",deleteSelected:"Delete selected",chooseSelected:"Choose selected"}},ui:{default:{goBackToSite:"Go back to site"},errorBoundary:{title:"Error",details:"There's been an error - please ",reportIt:"open an issue on GitHub.",detailsHeading:"Details",privacyWarning:`Opening an issue pre-populates it with the error message and debugging data.
Please verify the information is correct and remove sensitive data if exists.`,recoveredEntry:{heading:"Recovered document",warning:"Please copy/paste this somewhere before navigating away!",copyButtonLabel:"Copy to clipboard"}},settingsDropdown:{logOut:"Log Out"},toast:{onFailToLoadEntries:"Failed to load entry: %{details}",onFailToLoadDeployPreview:"Failed to load preview: %{details}",onFailToPersist:"Failed to persist entry: %{details}",onFailToDelete:"Failed to delete entry: %{details}",onFailToUpdateStatus:"Failed to update status: %{details}",missingRequiredField:"Oops, you've missed a required field. Please complete before saving.",entrySaved:"Entry saved",entryPublished:"Entry published",entryUnpublished:"Entry unpublished",onFailToPublishEntry:"Failed to publish: %{details}",onFailToUnpublishEntry:"Failed to unpublish entry: %{details}",entryUpdated:"Entry status updated",onDeleteUnpublishedChanges:"Unpublished changes deleted",onFailToAuth:"%{details}",onLoggedOut:"You have been logged out, please back up any data and login again",onBackendDown:"The backend service is experiencing an outage. See %{details} for more information"}},workflow:{workflow:{loading:"Loading Editorial Workflow Entries",workflowHeading:"Editorial Workflow",newPost:"New Post",description:"%{smart_count} entry waiting for review, %{readyCount} ready to go live. |||| %{smart_count} entries waiting for review, %{readyCount} ready to go live. ",dateFormat:"MMMM D"},workflowCard:{lastChange:"%{date} by %{author}",lastChangeNoAuthor:"%{date}",lastChangeNoDate:"by %{author}",deleteChanges:"Delete changes",deleteNewEntry:"Delete new entry",publishChanges:"Publish changes",publishNewEntry:"Publish new entry"},workflowList:{onDeleteEntry:"Are you sure you want to delete this entry?",onPublishingNotReadyEntry:'Only items with a "Ready" status can be published. Please drag the card to the "Ready" column to enable publishing.',onPublishEntry:"Are you sure you want to publish this entry?",draftHeader:"Drafts",inReviewHeader:"In Review",readyHeader:"Ready",currentEntries:"%{smart_count} entry |||| %{smart_count} entries"}}}},33321:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default={auth:{login:"Iniciar sesión",loggingIn:"Iniciando sesión...",loginWithNetlifyIdentity:"Iniciar sesión con Netlify Identity",loginWithBitbucket:"Iniciar sesión con Bitbucket",loginWithGitHub:"Iniciar sesión con GitHub",loginWithGitLab:"Iniciar sesión con GitLab",loginWithGitea:"Iniciar sesión con Gitea",errors:{email:"Asegúrate de introducir tu correo electrónico.",password:"Por favor introduce tu contraseña.",identitySettings:"No se pudo acceder a la configuración de Identity. Cuando uses el backend git-gateway asegurate de habilitar el servicio Identity y Git Gateway."}},app:{header:{content:"Contenido",workflow:"Flujo Editorial",media:"Medios",quickAdd:"Añadir rápido"},app:{errorHeader:"Error al cargar la configuración del CMS",configErrors:"Errores de configuración",checkConfigYml:"Compruebe el archivo config.yml.",loadingConfig:"Cargando configuración....",waitingBackend:"Esperando al servidor..."},notFoundPage:{header:"No encontrado"}},collection:{sidebar:{collections:"Colecciones",searchAll:"Buscar todas"},collectionTop:{sortBy:"Ordenar por",viewAs:"Ver como",newButton:"Nuevo %{collectionLabel}",ascending:"Ascendente",descending:"Descendente"},entries:{loadingEntries:"Cargando entradas",cachingEntries:"Almacenando entradas en caché",longerLoading:"Esto puede tardar varios minutos",noEntries:"Ninguna entrada"},defaultFields:{author:{label:"Autor"},updatedOn:{label:"Actualizado en"}}},editor:{editorControl:{field:{optional:"opcional"}},editorControlPane:{widget:{required:"%{fieldLabel} es obligatorio.",regexPattern:"%{fieldLabel} no coincide con el patrón: %{pattern}.",processing:"%{fieldLabel} está procesando.",range:"%{fieldLabel} debe estar entre %{minValue} y %{maxValue}.",min:"%{fieldLabel} debe ser por lo menos %{minValue}.",max:"%{fieldLabel} debe ser %{maxValue} o menos.",rangeCount:"%{fieldLabel} debe tener entre %{minCount} y %{maxCount} elemento(s).",rangeCountExact:"%{fieldLabel} debe tener exactamente %{count} elemento(s).",rangeMin:"%{fieldLabel} debe ser por lo menos %{minCount} elemento(s).",rangeMax:"%{fieldLabel} debe ser %{maxCount} o menos elemento(s)."}},editor:{onLeavePage:"¿Estás seguro de que quieres dejar esta página?",onUpdatingWithUnsavedChanges:"Tiene cambios no guardados, por favor, guárdelos antes de actualizar el estado.",onPublishingNotReady:'Por favor, actualice el estado a "Ready" antes de publicar.',onPublishingWithUnsavedChanges:"Tiene cambios no guardados, por favor guárdelos antes de publicarlos.",onPublishing:"¿Estás seguro de que quieres publicar esta entrada?",onUnpublishing:"¿Estás seguro de que quieres retirar esta entrada?",onDeleteWithUnsavedChanges:"¿Está seguro de que desea eliminar esta entrada publicada, así como los cambios no guardados de la sesión actual?",onDeletePublishedEntry:"¿Estás seguro de que quieres borrar esta entrada publicada?",onDeleteUnpublishedChangesWithUnsavedChanges:"Esto eliminará todos los cambios no publicados de esta entrada, así como los cambios no guardados de la sesión actual. ¿Todavía quieres borrar?",onDeleteUnpublishedChanges:"Todos los cambios no publicados en esta entrada serán eliminados. ¿Todavía quieres borrar?",loadingEntry:"Cargando entrada...",confirmLoadBackup:"Se recuperó una copia de seguridad local para esta entrada, ¿le gustaría utilizarla?"},editorToolbar:{publishing:"Publicando...",publish:"Publicar",published:"Publicado",unpublish:"Retirar",duplicate:"Duplicar",unpublishing:"Retirando...",publishAndCreateNew:"Publicar y crear nuevo",publishAndDuplicate:"Publicar y duplicar",deleteUnpublishedChanges:"Eliminar cambios no publicados",deleteUnpublishedEntry:"Eliminar entrada no publicada",deletePublishedEntry:"Eliminar entrada publicada",deleteEntry:"Eliminar entrada",saving:"Guardando...",save:"Guardar",deleting:"Eliminando...",updating:"Actualizando...",status:"Estado: %{status}",backCollection:" Escribiendo en la colección %{collectionLabel}",unsavedChanges:"Cambios no guardados",changesSaved:"Cambios guardados",draft:"Borrador",inReview:"En revisión",ready:"Listo",publishNow:"Publicar ahora",deployPreviewPendingButtonLabel:"Comprobar Vista Previa",deployPreviewButtonLabel:"Ver Vista Previa",deployButtonLabel:"Ver publicación"},editorWidgets:{markdown:{richText:"Texto enriquecido",markdown:"Markdown"},image:{choose:"Elige una imagen",chooseDifferent:"Elige una imagen diferente",remove:"Quita la imagen"},file:{choose:"Escoge un archivo",chooseDifferent:"Elige un archivo diferente",remove:"Remover archivo"},unknownControl:{noControl:"No existe un control para el widget '%{widget}'."},unknownPreview:{noPreview:"No existe una vista previa para el widget '%{widget}'."},headingOptions:{headingOne:"Encabezado 1",headingTwo:"Encabezado 2",headingThree:"Encabezado 3",headingFour:"Encabezado 4",headingFive:"Encabezado 5",headingSix:"Encabezado 6"},datetime:{now:"Ahora",clear:"Limpiar"}}},mediaLibrary:{mediaLibraryCard:{draft:"Borrador"},mediaLibrary:{onDelete:"¿Está seguro de que desea eliminar el archivo seleccionado?",fileTooLarge:`Archivo muy pesado.
Configurado para no permitir archivos más pesados que %{size} kB.`},mediaLibraryModal:{loading:"Cargando...",noResults:"Sin resultados.",noAssetsFound:"Archivos no encontrados.",noImagesFound:"Imágenes no encontradas.",private:"Privado ",images:"Imágenes",mediaAssets:"Archivos multimedia",search:"Buscar...",uploading:"Subiendo...",upload:"Subir nuevo",download:"Descargar",deleting:"Eliminando...",deleteSelected:"Eliminar selección",chooseSelected:"Confirmar selección"}},ui:{default:{goBackToSite:"Regresar al sitio"},errorBoundary:{title:"Error",details:"Se ha producido un error - por favor ",reportIt:"infórmenos de ello.",detailsHeading:"Detalles",privacyWarning:`Abrir un reporte lo rellena previamente con el mensaje de error y los datos de depuración.
Por favor verifica que la información es correcta y elimina cualquier dato sensible.`,recoveredEntry:{heading:"Documento recuperado",warning:"¡Por favor, copie/pegue esto en algún lugar antes de ir a otra página!",copyButtonLabel:"Copiar al portapapeles"}},settingsDropdown:{logOut:"Cerrar sesión"},toast:{onFailToLoadEntries:"No se ha podido cargar la entrada: %{details}",onFailToLoadDeployPreview:"No se ha podido cargar la vista previa: %{details}",onFailToPersist:"No se ha podido guardar la entrada: %{details}",onFailToDelete:"No se ha podido borrar la entrada: %{details}",onFailToUpdateStatus:"No se ha podido actualizar el estado: %{details}",missingRequiredField:"Oops, no ha rellenado un campo obligatorio. Por favor, rellénelo antes de guardar.",entrySaved:"Entrada guardada",entryPublished:"Entrada publicada",entryUnpublished:"Entrada retirada",onFailToPublishEntry:"No se ha podido publicar: %{details}",onFailToUnpublishEntry:"No se ha podido retirar la entrada: %{details}",entryUpdated:"Estado de entrada actualizado",onDeleteUnpublishedChanges:"Cambios no publicados eliminados",onFailToAuth:"%{details}"}},workflow:{workflow:{loading:"Cargando Entradas del Flujo Editorial",workflowHeading:"Flujo Editorial",newPost:"Nuevo artículo",description:"%{smart_count} entrada esperando revisión, %{readyCount} lista para publicar |||| %{smart_count} entradas esperando revisión, %{readyCount} listas para publicar. ",dateFormat:"MMMM D"},workflowCard:{lastChange:"%{date} por %{author}",lastChangeNoAuthor:"%{date}",lastChangeNoDate:"por %{author}",deleteChanges:"Eliminar cambios",deleteNewEntry:"Eliminar nueva entrada",publishChanges:"Publicar cambios",publishNewEntry:"Publicar nueva entrada"},workflowList:{onDeleteEntry:"¿Está seguro de que quiere borrar esta entrada?",onPublishingNotReadyEntry:'Sólo se pueden publicar los elementos con el estado "Listo". Por favor, arrastre la tarjeta hasta la columna "Listo" para permitir la publicación.',onPublishEntry:"¿Estás seguro de que quieres publicar esta entrada?",draftHeader:"Borradores",inReviewHeader:"En revisión",readyHeader:"Listo",currentEntries:"%{smart_count} entrada |||| %{smart_count} entradas"}}}},86187:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default={auth:{login:"وارد شدن",loggingIn:"ورود به سیستم در...",loginWithNetlifyIdentity:"با Netlify Identity وارد شوید",loginWithAzure:"با Azure وارد شوید",loginWithBitbucket:"با Bitbucket وارد شوید",loginWithGitHub:"با GitHub وارد شوید",loginWithGitLab:"با GitLab وارد شوید",loginWithGitea:"با Gitea وارد شوید",errors:{email:"ایمیل خود را حتما وارد کنید.",password:"لطفا رمز عبور خود را وارد کنید.",identitySettings:"دسترسی به تنظیمات هویت امکان پذیر نیست. هنگام استفاده از باطن git-gateway، حتماً سرویس Identity و Git Gateway را فعال کنید."}},app:{header:{content:"فهرست",workflow:"جریان کار",media:"رسانه ها",quickAdd:"اضافه کردن سریع"},app:{errorHeader:"خطا در بارگیری پیکربندی CMS",configErrors:"خطاهای پیکربندی",checkConfigYml:"فایل config.yml خود را بررسی کنید.",loadingConfig:"در حال بارگیری پیکربندی...",waitingBackend:"در انتظار باطن..."},notFoundPage:{header:"پیدا نشد"}},collection:{sidebar:{collections:"مجموعه ها",allCollections:"همه مجموعه ها",searchAll:"جستجو در همه",searchIn:"جستجو در"},collectionTop:{sortBy:"مرتب سازی بر اساس",viewAs:"نمایش به صورت",newButton:"%{collectionLabel} جدید",ascending:"صعودی",descending:"نزولی",searchResults:'نتایج جستجو برای "%{searchTerm}"',searchResultsInCollection:'نتایج جستجو برای "%{searchTerm}" در %{collection}',filterBy:"محدود شده توسط",groupBy:"دسته بندی بر اساس"},entries:{loadingEntries:"در حال بارگیری ورودی ها...",cachingEntries:"ذخیره ورودی ها...",longerLoading:"این ممکن است چند دقیقه طول بکشد",noEntries:"بدون ورودی"},groups:{other:"دیگر",negateLabel:"نه %{label}"},defaultFields:{author:{label:"نویسنده"},updatedOn:{label:"به روز شد"}}},editor:{editorControl:{field:{optional:"اختیاری"}},editorControlPane:{widget:{required:"%{fieldLabel} مورد نیاز است.",regexPattern:"%{fieldLabel} با الگوی %{pattern} مطابقت نداشت.",processing:"%{fieldLabel} در حال پردازش است.",range:"%{fieldLabel} باید بین %{minValue} و %{maxValue} باشد.",min:"%{fieldLabel} باید حداقل %{minValue} باشد.",max:"%{fieldLabel} باید %{maxValue} یا کمتر باشد.",rangeCount:"%{fieldLabel} باید بین %{minCount} و %{maxCount} مورد (ها) داشته باشد.",rangeCountExact:"%{fieldLabel} باید دقیقا %{count} مورد(ها) داشته باشد.",rangeMin:"%{fieldLabel} باید حداقل %{minCount} مورد(ها) باشد.",rangeMax:"%{fieldLabel} باید %{maxCount} یا کمتر از موارد باشد.",invalidPath:"'%{path}' یک مسیر معتبر نیست",pathExists:"مسیر '%{path}' از قبل وجود دارد"},i18n:{writingInLocale:"نوشتن به %{locale}",copyFromLocale:"از محلی دیگر پر کنید",copyFromLocaleConfirm:`آیا می خواهید داده ها را از %{locale} محلی پر کنید؟
تمام محتوای موجود رونویسی خواهد شد.`}},editor:{onLeavePage:"آیا مطمئن هستید که می خواهید این صفحه را ترک کنید؟",onUpdatingWithUnsavedChanges:"شما تغییرات ذخیره نشده ای دارید، لطفا قبل از به روز رسانی وضعیت را ذخیره کنید.",onPublishingNotReady:'لطفاً قبل از انتشار وضعیت را به "آماده" به روز کنید.',onPublishingWithUnsavedChanges:"شما تغییرات ذخیره نشده ای دارید، لطفاً قبل از انتشار ذخیره کنید.",onPublishing:"آیا شما مطمئن هستید که می خواهید این مطلب را منتشر کنید؟",onUnpublishing:"آیا مطمئن هستید که می خواهید این ورودی را لغو انتشار کنید؟",onDeleteWithUnsavedChanges:"آیا مطمئن هستید که می خواهید این ورودی منتشر شده و همچنین تغییرات ذخیره نشده خود را از جلسه فعلی حذف کنید؟",onDeletePublishedEntry:"آیا مطمئنید که می خواهید این ورودی منتشر شده را حذف کنید؟",onDeleteUnpublishedChangesWithUnsavedChanges:"با این کار همه تغییرات منتشر نشده در این ورودی و همچنین تغییرات ذخیره نشده شما از جلسه فعلی حذف می شود. آیا هنوز می خواهید حذف کنید؟",onDeleteUnpublishedChanges:"همه تغییرات منتشر نشده در این ورودی حذف خواهند شد. آیا هنوز می خواهید حذف کنید؟",loadingEntry:"در حال بارگیری ورودی...",confirmLoadBackup:"یک نسخه پشتیبان محلی برای این ورودی بازیابی شد، آیا می خواهید از آن استفاده کنید؟"},editorInterface:{toggleI18n:"i18n را تغییر دهید",togglePreview:"پیش نمایش را تغییر دهید",toggleScrollSync:"همگام سازی پیمایش"},editorToolbar:{publishing:"در حال انتشار...",publish:"انتشار",published:"منتشر شده",unpublish:"لغو انتشار",duplicate:"تکراری",unpublishing:"در حال لغو انتشار...",publishAndCreateNew:"انتشار و ایجاد جدید",publishAndDuplicate:"انتشار و تکثیر",deleteUnpublishedChanges:"حذف تغییرات منتشر نشده",deleteUnpublishedEntry:"حذف ورودی منتشر نشده",deletePublishedEntry:"حذف ورودی منتشر شده",deleteEntry:"حذف ورودی",saving:"صرفه جویی در...",save:"صرفه جویی",statusInfoTooltipDraft:"وضعیت ورودی روی پیش نویس تنظیم شده است. برای نهایی کردن و ارسال آن برای بررسی، وضعیت را روی «در حال بررسی» تنظیم کنید",statusInfoTooltipInReview:"ورودی در حال بررسی است، هیچ اقدام دیگری لازم نیست. با این حال، همچنان می‌توانید در حین بررسی، تغییرات بیشتری ایجاد کنید.",deleting:"در حال حذف...",updating:"در حال بروز رسانی...",status:"وضعیت: %{status}",backCollection:"نوشتن در مجموعه %{collectionLabel}",unsavedChanges:"تغییرات ذخیره نشده",changesSaved:"تغییرات ذخیره شد",draft:"پیش نویس",inReview:"در بررسی",ready:"آماده",publishNow:"اکنون منتشر کنید",deployPreviewPendingButtonLabel:"پیش نمایش را بررسی کنید",deployPreviewButtonLabel:"مشاهده پیش نمایش",deployButtonLabel:"مشاهده زنده"},editorWidgets:{markdown:{bold:"پررنگ",italic:"کج",code:"کد",link:"ارتباط دادن",linkPrompt:"آدرس لینک را وارد کنید",headings:"سرفصل ها",quote:"نقل قول",bulletedList:"لیست گلوله شده",numberedList:"لیست شماره گذاری شده",addComponent:"افزودن کامپوننت",richText:"متن غنی",markdown:"مارک داون"},image:{choose:"یک تصویر را انتخاب کنید",chooseMultiple:"تصاویر را انتخاب کنید",chooseUrl:"درج از URL",replaceUrl:"با URL جایگزین کنید",promptUrl:"آدرس تصویر را وارد کنید",chooseDifferent:"تصویر متفاوت را انتخاب کنید",addMore:"تصاویر بیشتری اضافه کنید",remove:"حذف تصویر",removeAll:"حذف همه تصاویر"},file:{choose:"یک فایل را انتخاب کنید",chooseUrl:"درج از URL",chooseMultiple:"فایل ها را انتخاب کنید",replaceUrl:"با URL جایگزین کنید",promptUrl:"آدرس فایل را وارد کنید",chooseDifferent:"فایل های مختلف را انتخاب کنید",addMore:"فایل های بیشتری اضافه کنید",remove:"حذف فایل",removeAll:"تمام فایل ها را حذف کنید"},unknownControl:{noControl:'هیچ کنترلی برای ویجت "%{widget}" وجود ندارد.'},unknownPreview:{noPreview:'هیچ پیش نمایشی برای ویجت "%{widget}" وجود ندارد.'},headingOptions:{headingOne:"سرفصل 1",headingTwo:"سرفصل 2",headingThree:"سرفصل 3",headingFour:"سرفصل 4",headingFive:"سرفصل 5",headingSix:"سرفصل 6"},datetime:{now:"اکنون"},list:{add:"این مورد را اضافه کنید}",addType:"این مورد را اضافه کنید}"}}},mediaLibrary:{mediaLibraryCard:{draft:"پیش نویس",copy:"کپی",copyUrl:"URL را کپی کنید",copyPath:"مسیر را کپی کنید",copyName:"کپی نام",copied:"کپی شده است"},mediaLibrary:{onDelete:"آیا مطمئن هستید که می خواهید رسانه انتخابی را حذف کنید؟",fileTooLarge:`فایل خیلی بزرگ است.
پیکربندی شده است تا فایل های بزرگتر از %{size} کیلوبایت مجاز نباشد.`},mediaLibraryModal:{loading:"بارگذاری...",noResults:"هیچ نتیجه ای.",noAssetsFound:"هیچ دارایی یافت نشد.",noImagesFound:"هیچ تصویری یافت نشد",private:"خصوصی",images:"تصاویر",mediaAssets:"دارایی های رسانه ای",search:"جستجو کردن...",uploading:"در حال آپلود...",upload:"بارگذاری",download:"دانلود",deleting:"در حال حذف...",deleteSelected:"انتخاب شده را پاک کن",chooseSelected:"انتخاب شده را انتخاب کنید"}},ui:{default:{goBackToSite:"به سایت برگردید"},errorBoundary:{title:"خطا",details:"خطایی رخ داده است - لطفا",reportIt:"یک مسئله را در GitHub باز کنید.",detailsHeading:"جزئیات",privacyWarning:`باز کردن یک مشکل، آن را با پیام خطا و داده‌های اشکال‌زدایی از قبل پر می‌کند.
لطفاً صحت اطلاعات را تأیید کنید و در صورت وجود داده های حساس را حذف کنید.`,recoveredEntry:{heading:"سند بازیابی شده",warning:"لطفاً قبل از حرکت، این را در جایی کپی/پیست کنید!",copyButtonLabel:"کپی به کلیپ بورد"}},settingsDropdown:{logOut:"خروج"},toast:{onFailToLoadEntries:"ورودی بارگیری نشد: %{details}",onFailToLoadDeployPreview:"پیش نمایش بارگیری نشد: %{details}",onFailToPersist:"ادامه ورود ناموفق بود: %{details}",onFailToDelete:"ورودی حذف نشد: %{details}",onFailToUpdateStatus:"وضعیت به‌روزرسانی نشد: %{details}",missingRequiredField:"اوه، شما یک قسمت الزامی را از دست داده اید. لطفاً قبل از ذخیره تکمیل کنید.",entrySaved:"ورودی ذخیره شد",entryPublished:"مدخل منتشر شد",entryUnpublished:"ورودی منتشر نشده است",onFailToPublishEntry:"منتشر نشد: %{details}",onFailToUnpublishEntry:"لغو انتشار ورودی انجام نشد: %{details}",entryUpdated:"وضعیت ورودی به روز شد",onDeleteUnpublishedChanges:"تغییرات منتشر نشده حذف شد",onFailToAuth:"%{details}",onLoggedOut:"شما از سیستم خارج شده اید، لطفاً از داده ها نسخه پشتیبان تهیه کنید و دوباره وارد شوید",onBackendDown:"سرویس باطن در حال تجربه قطعی است. جهت اطلاعات بیشتر جزئیات را ببینید"}},workflow:{workflow:{loading:"در حال بارگیری ورودی های گردش کار ویرایشی",workflowHeading:"گردش کار تحریریه",newPost:"مطلب جدید",description:"%{smart_count} ورودی در انتظار بررسی، %{readyCount} آماده انتشار است. |||| %{smart_count} ورودی در انتظار بازبینی، %{readyCount} آماده انتشار است.",dateFormat:"MMMM D"},workflowCard:{lastChange:"%{date} توسط %{author}",lastChangeNoAuthor:"%{date}",lastChangeNoDate:"توسط %{author}",deleteChanges:"حذف تغییرات",deleteNewEntry:"حذف ورودی جدید",publishChanges:"انتشار تغییرات",publishNewEntry:"مطلب جدید را منتشر کنید"},workflowList:{onDeleteEntry:"آیا مطمئن هستید که می خواهید این ورودی را حذف کنید؟",onPublishingNotReadyEntry:'فقط مواردی با وضعیت "آماده" قابل انتشار هستند. لطفاً کارت را به ستون "آماده" بکشید تا انتشار فعال شود.',onPublishEntry:"آیا شما مطمئن هستید که می خواهید این مطلب را منتشر کنید؟",draftHeader:"پیش نویس",inReviewHeader:"در بررسی",readyHeader:"آماده",currentEntries:"%{smart_count} ورودی |||| %{smart_count} ورودی"}}}},97421:($,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default={auth:{login:"Se connecter",loggingIn:"Connexion en cours...",loginWithNetlifyIdentity:"Se connecter avec Netlify Identity",loginWithAzure:"Se connecter avec Azure",loginWithBitbucket:"Se connecter avec Bitbucket",loginWithGitHub:"Se connecter avec GitHub",loginWithGitLab:"Se connecter avec GitLab",loginWithGitea:"Se connecter avec Gitea",errors:{email:"Assurez-vous d'avoir entré votre email.",password:"Merci de saisir votre mot de passe.",identitySettings:"Impsosible d'accéder aux paramètres d'identité. Si vous utilisez le backend git-gateway, merci de vous assurer que vous avez bien activé le service Identity et la passerelle Git."}},app:{header:{content:"Contenus",workflow:"Flux",media:"Media",quickAdd:"Ajout rapide"},app:{errorHeader:"Erreur au chargement de la configuration du CMS",configErrors:"Erreurs de configuration",checkConfigYml:"Vérifiez votre fichier config.yml.",loadingConfig:"Chargement de la configuration...",waitingBackend:"En attente du serveur..."},notFoundPage:{header:"Introuvable"}},collection:{sidebar:{collections:"Collections",allCollections:"Toutes les collections",searchAll:"Tout rechercher",searchIn:"Rechercher dans"},collectionTop:{sortBy:"Trier par",viewAs:"Voir comme",newButton:"Créer une entrée de type %{collectionLabel}",ascending:"Croissant",descending:"Décroissant",searchResults:'Résultats de la recherche pour "%{searchTerm}"',searchResultsInCollection:'Résultats de la recherche pour "%{searchTerm}" dans %{collection}',filterBy:"Filtrer par",groupBy:"Grouper par"},entries:{loadingEntries:"Chargement des entrées",cachingEntries:"Mise en cache des entrées",longerLoading:"Cela peut prendre quelques minutes",noEntries:"Aucune entrée"},groups:{other:"Autre",negateLabel:"Non %{label}"},defaultFields:{author:{label:"Auteur"},updatedOn:{label:"Mis à jour le"}}},editor:{editorControl:{field:{optional:"optionnel"}},editorControlPane:{widget:{required:"Le champ %{fieldLabel} est requis.",regexPattern:"Le champ %{fieldLabel} ne correspond pas au schéma: %{pattern}.",processing:"Le champ %{fieldLabel} est en cours de traitement.",range:"Le champ %{fieldLabel} doit être compris entre %{minValue} et %{maxValue}.",min:"Le champ %{fieldLabel} doit avoir une valeur de %{minValue} ou plus.",max:"Le champ %{fieldLabel} doit avoir une valeur de %{maxValue} ou moins.",rangeCount:"%{fieldLabel} doit avoir entre %{minCount} et %{maxCount} élément(s).",rangeCountExact:"%{fieldLabel} doit avoir exactement %{count} éléments(s).",rangeMin:"%{fieldLabel} doit avoir au moins %{minCount} éléments(s).",rangeMax:"%{fieldLabel} doit avoir %{maxCount} éléments(s) ou moins.",invalidPath:"'%{path}' n'est pas un chemin valide",pathExists:"Le chemin '%{path}' existe déjà"},i18n:{writingInLocale:"Écrire en %{locale}"}},editor:{onLeavePage:"Voulez-vous vraiment quitter cette page ?",onUpdatingWithUnsavedChanges:"Veuillez enregistrer vos modifications avant de mettre à jour le statut.",onPublishingNotReady:'Veuillez mettre à jour le statut à "Prêt" avant de publier.',onPublishingWithUnsavedChanges:"Veuillez enregistrer vos modifications avant de publier.",onPublishing:"Voulez-vous vraiment publier cette entrée ?",onUnpublishing:"Voulez-vous vraiment dépublier cette entrée ?",onDeleteWithUnsavedChanges:"Voulez-vous vraiment supprimer cette entrée publiée ainsi que vos modifications non enregistrées de cette session ?",onDeletePublishedEntr